import{av as w,a as I,cG as M,b7 as g,bs as k,b2 as b,b as $,r as U,f as N,E as t,o as h,h as O,n,y as m,j as P,k as A,m as r,q as s,t as E,F as x,c as R,aL as S}from"./index.976f028d.js";import{D as V}from"./siteSetting.5e38eb01.js";import{c as C,u as B}from"./index.b8c25af6.js";import{b as T}from"./index.448301d3.js";import{h as F}from"./header.d801b988.js";import"./FullscreenOutlined.31e68573.js";import"./index.46ea4d57.js";import"./useWindowSizeFn.43b44744.js";import"./useContentViewHeight.fa21b489.js";import"./uniqBy.c45ce52f.js";import"./_baseIteratee.6f2aea4e.js";import"./get.177428c4.js";import"./index.04a4b2bc.js";import"./index.21e7287e.js";import"./useRefs.78498e36.js";import"./PlusOutlined.b74f1fca.js";import"./RedoOutlined.dd657224.js";import"./index.be0e7c6d.js";import"./lock.7169a58e.js";const j=I({name:"UserDropdown",components:{Dropdown:M,Menu:g,MenuItem:C(()=>k(()=>import("./DropMenuItem.cb22826c.js"),["assets/DropMenuItem.cb22826c.js","assets/index.976f028d.js","assets/index.a4e2e5d9.css"])),MenuDivider:g.Divider,LockAction:C(()=>k(()=>import("./LockModal.9a7e6567.js"),["assets/LockModal.9a7e6567.js","assets/LockModal.0068f88c.css","assets/index.86d55544.css","assets/index.a18cc309.css","assets/index.976f028d.js","assets/index.a4e2e5d9.css","assets/index.448301d3.js","assets/index.4815a7e8.css","assets/useWindowSizeFn.43b44744.js","assets/FullscreenOutlined.31e68573.js","assets/BasicForm.4ff9ea41.js","assets/BasicForm.913136bc.css","assets/index.093def42.js","assets/index.3a3c1369.css","assets/index.1d81a672.js","assets/index.cb0992d5.css","assets/Checkbox.77af456b.js","assets/index.53bde1b9.js","assets/index.695a0c50.css","assets/index.4e9d050c.js","assets/index.49ada229.css","assets/index.5d9f2293.js","assets/index.47f7c782.css","assets/index.b4585842.js","assets/index.579bd49e.css","assets/index.d04c7300.js","assets/index.7b8b5e30.css","assets/get.177428c4.js","assets/index.a30387ae.js","assets/index.560eb672.css","assets/index.354b005f.js","assets/index.aeeee80c.css","assets/_baseIteratee.6f2aea4e.js","assets/DeleteOutlined.b2cc13f1.js","assets/index.04eaadeb.js","assets/index.8f5fe29a.css","assets/useRefs.78498e36.js","assets/Form.50c6b0cf.js","assets/Col.dd538940.js","assets/useFlexGapSupport.4b430c1e.js","assets/useSize.a0f971b4.js","assets/index.8e4fa7db.js","assets/index.cd256673.css","assets/index.e5e60202.js","assets/index.9d09be4d.css","assets/index.185f09b6.js","assets/index.b1363280.css","assets/uuid.2b29000c.js","assets/download.ed803174.js","assets/base64Conver.08b9f4ec.js","assets/index.7944a3bb.js","assets/index.cb030764.css","assets/index.651a19c8.js","assets/uniqBy.c45ce52f.js","assets/useForm.0b456d22.js","assets/lock.7169a58e.js","assets/header.d801b988.js"]))},props:{theme:b.oneOf(["dark","light"])},setup(){const{prefixCls:e}=$("header-user-dropdown"),{t:u}=R(),{getShowDoc:d,getUseLockPage:f}=B(),a=U(),_=N(()=>{const{realName:c="",userProfilePhoto:L,desc:D}=a.getUserInfo||{};return{realName:c,avatar:L||F,desc:D}}),[o,{openModal:i}]=T();function l(){i(!0)}function p(){a.confirmLoginOut()}function v(){S(V)}function y(c){switch(c.key){case"logout":p();break;case"doc":v();break;case"lock":l();break}}return{prefixCls:e,t:u,getUserInfo:_,handleMenuClick:y,getShowDoc:d,register:o,getUseLockPage:f}}}),q=["src"];function z(e,u,d,f,a,_){const o=t("MenuItem"),i=t("Menu"),l=t("Dropdown"),p=t("LockAction");return h(),O(x,null,[n(l,{placement:"bottomLeft",overlayClassName:`${e.prefixCls}-dropdown-overlay`},{overlay:m(()=>[n(i,{onClick:e.handleMenuClick},{default:m(()=>[e.getUseLockPage?(h(),P(o,{key:"lock",text:e.t("layout.header.tooltipLock"),icon:"ion:lock-closed-outline"},null,8,["text"])):A("",!0),n(o,{key:"logout",text:e.t("layout.header.dropdownItemLoginOut"),icon:"ion:power-outline"},null,8,["text"])]),_:1},8,["onClick"])]),default:m(()=>[r("span",{class:s([[e.prefixCls,`${e.prefixCls}--${e.theme}`],"flex"])},[r("img",{class:s(`${e.prefixCls}__header`),src:e.getUserInfo.avatar},null,10,q),r("span",{class:s(`${e.prefixCls}__info hidden md:block`)},[r("span",{class:s([`${e.prefixCls}__name  `,"truncate"])},E(e.getUserInfo.realName),3)],2)],2)]),_:1},8,["overlayClassName"]),n(p,{onRegister:e.register},null,8,["onRegister"])],64)}var ce=w(j,[["render",z]]);export{ce as default};
