var j_=Object.defineProperty,S_=Object.defineProperties;var P_=Object.getOwnPropertyDescriptors;var Xy=Object.getOwnPropertySymbols;var A_=Object.prototype.hasOwnProperty,k_=Object.prototype.propertyIsEnumerable;var Vy=(y,h,c)=>h in y?j_(y,h,{enumerable:!0,configurable:!0,writable:!0,value:c}):y[h]=c,$c=(y,h)=>{for(var c in h||(h={}))A_.call(h,c)&&Vy(y,c,h[c]);if(Xy)for(var c of Xy(h))k_.call(h,c)&&Vy(y,c,h[c]);return y},Yy=(y,h)=>S_(y,P_(h));var Ra=(y,h,c)=>new Promise((f,a)=>{var p=O=>{try{b(c.next(O))}catch(w){a(w)}},l=O=>{try{b(c.throw(O))}catch(w){a(w)}},b=O=>O.done?f(O.value):Promise.resolve(O.value).then(p,l);b((c=c.apply(y,h)).next())});import{K as M_,a3 as T_,a as Ov,b6 as D_,bk as N_,s as Ia,L as C_,i as un,al as Jc,b$ as R_,av as os,E as Cr,o as Dr,h as _i,F as Wy,az as I_,n as Si,y as Fa,z as L_,t as z_,q as La,k as Qc,ax as B_,j as is,f3 as F_,b as H_,bG as G_,f as U_,a6 as Ky,N as X_,m as V_,aD as Y_}from"./index.976f028d.js";import{D as W_}from"./index.093def42.js";import{B as K_,b as Z_}from"./index.448301d3.js";import{J as q_}from"./index.eeda434c.js";import{P as $_}from"./index.9126614a.js";import"./useWindowSizeFn.43b44744.js";import"./FullscreenOutlined.31e68573.js";import"./index.2440c5f5.js";import"./index.b556a78a.js";import"./useSize.a0f971b4.js";import"./eagerComputed.b4caa6b1.js";import"./useContentViewHeight.fa21b489.js";import"./ArrowLeftOutlined.6cbdd482.js";import"./index.d76d5ff0.js";import"./transButton.a71e0ac3.js";const _v=Symbol("flow-chart");function J_(y){T_(_v,y)}function Q_(){return M_(_v)}var Yt=(y=>(y.ZOOM_IN="zoomIn",y.ZOOM_OUT="zoomOut",y.RESET_ZOOM="resetZoom",y.UNDO="undo",y.REDO="redo",y.SNAPSHOT="snapshot",y.VIEW_DATA="viewData",y))(Yt||{});const ew=Ov({name:"FlowChartToolbar",components:{Icon:D_,Divider:W_,Tooltip:N_},props:{prefixCls:String},emits:["view-data"],setup(y,{emit:h}){const c=Ia([{type:Yt.ZOOM_IN,icon:"codicon:zoom-out",tooltip:"\u7F29\u5C0F"},{type:Yt.ZOOM_OUT,icon:"codicon:zoom-in",tooltip:"\u653E\u5927"},{type:Yt.RESET_ZOOM,icon:"codicon:screen-normal",tooltip:"\u91CD\u7F6E\u6BD4\u4F8B"},{separate:!0},{type:Yt.UNDO,icon:"ion:arrow-undo-outline",tooltip:"\u540E\u9000",disabled:!0},{type:Yt.REDO,icon:"ion:arrow-redo-outline",tooltip:"\u524D\u8FDB",disabled:!0},{separate:!0},{type:Yt.SNAPSHOT,icon:"ion:download-outline",tooltip:"\u4E0B\u8F7D"},{type:Yt.VIEW_DATA,icon:"carbon:document-view",tooltip:"\u67E5\u770B\u6570\u636E"}]),{logicFlow:f}=Q_();function a({data:{undoAble:l,redoAble:b}}){const O=un(c),w=O.findIndex(S=>S.type===Yt.UNDO),_=O.findIndex(S=>S.type===Yt.REDO);w!==-1&&(un(c)[w].disabled=!l),_!==-1&&(un(c)[_].disabled=!b)}const p=l=>{const b=un(f);if(!!b)switch(l.type){case Yt.ZOOM_IN:b.zoom();break;case Yt.ZOOM_OUT:b.zoom(!0);break;case Yt.RESET_ZOOM:b.resetZoom();break;case Yt.UNDO:b.undo();break;case Yt.REDO:b.redo();break;case Yt.SNAPSHOT:b.getSnapshot();break;case Yt.VIEW_DATA:h("view-data");break}};return C_(()=>Ra(this,null,function*(){var l;un(f)&&(yield Jc(),(l=un(f))==null||l.on("history:change",a))})),R_(()=>{var l;(l=un(f))==null||l.off("history:change",a)}),{toolbarItemList:c,onControl:p}}}),tw=["onClick"];function nw(y,h,c,f,a,p){const l=Cr("Icon"),b=Cr("Tooltip"),O=Cr("Divider");return Dr(),_i("div",{class:La([`${y.prefixCls}-toolbar`,"flex items-center px-2 py-1"])},[(Dr(!0),_i(Wy,null,I_(y.toolbarItemList,w=>(Dr(),_i(Wy,{key:w.type},[Si(b,B_({placement:"bottom"},w.disabled?{visible:!1}:{}),{title:Fa(()=>[L_(z_(w.tooltip),1)]),default:Fa(()=>[w.icon?(Dr(),_i("span",{key:0,class:La(`${y.prefixCls}-toolbar__icon`),onClick:_=>y.onControl(w)},[Si(l,{icon:w.icon,class:La(w.disabled?"cursor-not-allowed disabeld":"cursor-pointer")},null,8,["icon","class"])],10,tw)):Qc("",!0)]),_:2},1040),w.separate?(Dr(),is(O,{key:0,type:"vertical"})):Qc("",!0)],64))),128))],2)}var rw=os(ew,[["render",nw]]),Fe={exports:{}};(function(y,h){(function(c,f){y.exports=f()})(window,function(){return function(c){var f={};function a(p){if(f[p])return f[p].exports;var l=f[p]={i:p,l:!1,exports:{}};return c[p].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=c,a.c=f,a.d=function(p,l,b){a.o(p,l)||Object.defineProperty(p,l,{enumerable:!0,get:b})},a.r=function(p){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(p,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(p,"__esModule",{value:!0})},a.t=function(p,l){if(1&l&&(p=a(p)),8&l||4&l&&typeof p=="object"&&p&&p.__esModule)return p;var b=Object.create(null);if(a.r(b),Object.defineProperty(b,"default",{enumerable:!0,value:p}),2&l&&typeof p!="string")for(var O in p)a.d(b,O,function(w){return p[w]}.bind(null,O));return b},a.n=function(p){var l=p&&p.__esModule?function(){return p.default}:function(){return p};return a.d(l,"a",l),l},a.o=function(p,l){return Object.prototype.hasOwnProperty.call(p,l)},a.p="",a(a.s=202)}([function(c,f,a){(function(p,l){a.d(f,"a",function(){return M}),a.d(f,"b",function(){return Ho}),a.d(f,"c",function(){return jn}),a.d(f,"d",function(){return lt}),a.d(f,"e",function(){return yt}),a.d(f,"f",function(){return et}),a.d(f,"g",function(){return Je}),a.d(f,"h",function(){return Hr}),a.d(f,"i",function(){return Ft}),a.d(f,"j",function(){return Ge}),a.d(f,"k",function(){return Fn}),a.d(f,"l",function(){return Ro}),a.d(f,"m",function(){return kt}),a.d(f,"n",function(){return wr}),a.d(f,"o",function(){return te}),a.d(f,"p",function(){return Gi}),a.d(f,"q",function(){return Hn}),a.d(f,"r",function(){return Bi}),a.d(f,"s",function(){return _n}),a.d(f,"t",function(){return Rr}),a.d(f,"u",function(){return uo}),a.d(f,"v",function(){return ru}),a.d(f,"w",function(){return Hi}),a.d(f,"x",function(){return Lr}),a.d(f,"y",function(){return sn}),a.d(f,"z",function(){return Qt}),a.d(f,"A",function(){return hn}),a.d(f,"B",function(){return Gn}),a.d(f,"C",function(){return Ve}),a.d(f,"D",function(){return ou}),a.d(f,"E",function(){return _r}),a.d(f,"F",function(){return Or}),a.d(f,"G",function(){return eu}),a.d(f,"H",function(){return Ti}),a.d(f,"I",function(){return Xi}),a.d(f,"J",function(){return bn}),a.d(f,"K",function(){return we}),a.d(f,"L",function(){return Gt}),a.d(f,"M",function(){return mn});var b=[];Object.freeze(b);var O={};function w(){return++Ce.mobxGuid}function _(v){throw S(!1,v),"X"}function S(v,g){if(!v)throw new Error("[mobx] "+(g||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(O);function P(v){var g=!1;return function(){if(!g)return g=!0,v.apply(this,arguments)}}var A=function(){};function N(v){return v!==null&&typeof v=="object"}function R(v){if(v===null||typeof v!="object")return!1;var g=Object.getPrototypeOf(v);return g===Object.prototype||g===null}function F(v,g,E){Object.defineProperty(v,g,{enumerable:!1,writable:!0,configurable:!0,value:E})}function U(v,g){var E="isMobX"+v;return g.prototype[E]=!0,function(T){return N(T)&&T[E]===!0}}function z(v){return v instanceof Map}function Y(v){return v instanceof Set}function q(v){var g=new Set;for(var E in v)g.add(E);return Object.getOwnPropertySymbols(v).forEach(function(T){Object.getOwnPropertyDescriptor(v,T).enumerable&&g.add(T)}),Array.from(g)}function V(v){return v&&v.toString?v.toString():new String(v).toString()}function C(v){return v===null?null:typeof v=="object"?""+v:v}var B=typeof Reflect!="undefined"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(v){return Object.getOwnPropertyNames(v).concat(Object.getOwnPropertySymbols(v))}:Object.getOwnPropertyNames,M=Symbol("mobx administration"),L=function(){function v(g){g===void 0&&(g="Atom@"+w()),this.name=g,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=K.NOT_TRACKING}return v.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(g){return g()})},v.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(g){return g()})},v.prototype.reportObserved=function(){return Bn(this)},v.prototype.reportChanged=function(){pn(),function(g){g.lowestObserverState!==K.STALE&&(g.lowestObserverState=K.STALE,g.observers.forEach(function(E){E.dependenciesState===K.UP_TO_DATE&&(E.isTracing!==Be.NONE&&mr(E,g),E.onBecomeStale()),E.dependenciesState=K.STALE}))}(this),dn()},v.prototype.toString=function(){return this.name},v}(),G=U("Atom",L);function te(v,g,E){g===void 0&&(g=A),E===void 0&&(E=A);var T,D=new L(v);return g!==A&&Ci("onBecomeObserved",D,g,T),E!==A&&_r(D,E),D}var J={identity:function(v,g){return v===g},structural:function(v,g){return Xo(v,g)},default:function(v,g){return Object.is(v,g)},shallow:function(v,g){return Xo(v,g,1)}},ae=function(v,g){return(ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,T){E.__proto__=T}||function(E,T){for(var D in T)T.hasOwnProperty(D)&&(E[D]=T[D])})(v,g)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var ve=function(){return(ve=Object.assign||function(v){for(var g,E=1,T=arguments.length;E<T;E++)for(var D in g=arguments[E])Object.prototype.hasOwnProperty.call(g,D)&&(v[D]=g[D]);return v}).apply(this,arguments)};function ge(v){var g=typeof Symbol=="function"&&v[Symbol.iterator],E=0;return g?g.call(v):{next:function(){return v&&E>=v.length&&(v=void 0),{value:v&&v[E++],done:!v}}}}function he(v,g){var E=typeof Symbol=="function"&&v[Symbol.iterator];if(!E)return v;var T,D,H=E.call(v),ne=[];try{for(;(g===void 0||g-- >0)&&!(T=H.next()).done;)ne.push(T.value)}catch(be){D={error:be}}finally{try{T&&!T.done&&(E=H.return)&&E.call(H)}finally{if(D)throw D.error}}return ne}function Ee(){for(var v=[],g=0;g<arguments.length;g++)v=v.concat(he(arguments[g]));return v}var fe=Symbol("mobx did run lazy initializers"),se=Symbol("mobx pending decorators"),me={},Oe={};function Ae(v,g){var E=g?me:Oe;return E[v]||(E[v]={configurable:!0,enumerable:g,get:function(){return Ne(this),this[v]},set:function(T){Ne(this),this[v]=T}})}function Ne(v){var g,E;if(v[fe]!==!0){var T=v[se];if(T){F(v,fe,!0);var D=Ee(Object.getOwnPropertySymbols(T),Object.keys(T));try{for(var H=ge(D),ne=H.next();!ne.done;ne=H.next()){var be=T[ne.value];be.propertyCreator(v,be.prop,be.descriptor,be.decoratorTarget,be.decoratorArguments)}}catch(ke){g={error:ke}}finally{try{ne&&!ne.done&&(E=H.return)&&E.call(H)}finally{if(g)throw g.error}}}}}function ze(v,g){return function(){var E,T=function(D,H,ne,be){if(be===!0)return g(D,H,ne,D,E),null;if(!Object.prototype.hasOwnProperty.call(D,se)){var ke=D[se];F(D,se,ve({},ke))}return D[se][H]={prop:H,propertyCreator:g,descriptor:ne,decoratorTarget:D,decoratorArguments:E},Ae(H,v)};return Me(arguments)?(E=b,T.apply(null,arguments)):(E=Array.prototype.slice.call(arguments),T)}}function Me(v){return(v.length===2||v.length===3)&&(typeof v[1]=="string"||typeof v[1]=="symbol")||v.length===4&&v[3]===!0}function He(v,g,E){return Lr(v)?v:Array.isArray(v)?Ve.array(v,{name:E}):R(v)?Ve.object(v,void 0,{name:E}):z(v)?Ve.map(v,{name:E}):Y(v)?Ve.set(v,{name:E}):v}function at(v){return v}function Z(v){S(v);var g=ze(!0,function(T,D,H,ne,be){var ke=H?H.initializer?H.initializer.call(T):H.value:void 0;Go(T).addObservableProp(D,ke,v)}),E=(p!==void 0&&p.env,g);return E.enhancer=v,E}var Q={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function ie(v){return v==null?Q:typeof v=="string"?{name:v,deep:!0,proxy:!0}:v}Object.freeze(Q);var ye=Z(He),Se=Z(function(v,g,E){return v==null||hn(v)||sn(v)||Qt(v)||Wt(v)?v:Array.isArray(v)?Ve.array(v,{name:E,deep:!1}):R(v)?Ve.object(v,void 0,{name:E,deep:!1}):z(v)?Ve.map(v,{name:E,deep:!1}):Y(v)?Ve.set(v,{name:E,deep:!1}):_(!1)}),_e=Z(at),Ke=Z(function(v,g,E){return Xo(v,g)?g:v});function Xe(v){return v.defaultDecorator?v.defaultDecorator.enhancer:v.deep===!1?at:He}var $e={box:function(v,g){arguments.length>2&&de("box");var E=ie(g);return new $t(v,Xe(E),E.name,!0,E.equals)},array:function(v,g){arguments.length>2&&de("array");var E=ie(g);return Yi(v,Xe(E),E.name)},map:function(v,g){arguments.length>2&&de("map");var E=ie(g);return new Ho(v,Xe(E),E.name)},set:function(v,g){arguments.length>2&&de("set");var E=ie(g);return new ur(v,Xe(E),E.name)},object:function(v,g,E){typeof arguments[1]=="string"&&de("object");var T=ie(E);if(T.proxy===!1)return Hn({},v,g,T);var D=Ri(T),H=Hn({},void 0,void 0,T),ne=Br(H);return Ii(ne,v,g,D),ne},ref:_e,shallow:Se,deep:ye,struct:Ke},Ve=function(v,g,E){if(typeof arguments[1]=="string"||typeof arguments[1]=="symbol")return ye.apply(null,arguments);if(Lr(v))return v;var T=R(v)?Ve.object(v,g,E):Array.isArray(v)?Ve.array(v,g):z(v)?Ve.map(v,g):Y(v)?Ve.set(v,g):v;if(T!==v)return T;_(!1)};function de(v){_("Expected one or two arguments to observable."+v+". Did you accidentally try to use observable."+v+" as decorator?")}Object.keys($e).forEach(function(v){return Ve[v]=$e[v]});var K,Be,Le=ze(!1,function(v,g,E,T,D){var H=E.get,ne=E.set,be=D[0]||{};Go(v).addComputedProp(v,g,ve({get:H,set:ne,context:v},be))}),Ye=Le({equals:J.structural}),kt=function(v,g,E){if(typeof g=="string"||v!==null&&typeof v=="object"&&arguments.length===1)return Le.apply(null,arguments);var T=typeof g=="object"?g:{};return T.get=v,T.set=typeof g=="function"?g:T.set,T.name=T.name||v.name||"",new zn(T)};kt.struct=Ye,function(v){v[v.NOT_TRACKING=-1]="NOT_TRACKING",v[v.UP_TO_DATE=0]="UP_TO_DATE",v[v.POSSIBLY_STALE=1]="POSSIBLY_STALE",v[v.STALE=2]="STALE"}(K||(K={})),function(v){v[v.NONE=0]="NONE",v[v.LOG=1]="LOG",v[v.BREAK=2]="BREAK"}(Be||(Be={}));var it=function(v){this.cause=v};function st(v){return v instanceof it}function ht(v){switch(v.dependenciesState){case K.UP_TO_DATE:return!1;case K.NOT_TRACKING:case K.STALE:return!0;case K.POSSIBLY_STALE:for(var g=et(!0),E=Ze(),T=v.observing,D=T.length,H=0;H<D;H++){var ne=T[H];if(or(ne)){if(Ce.disableErrorBoundaries)ne.get();else try{ne.get()}catch(be){return Ue(E),yt(g),!0}if(v.dependenciesState===K.STALE)return Ue(E),yt(g),!0}}return At(v),Ue(E),yt(g),!1}}function Ft(){return Ce.trackingDerivation!==null}function X(v){var g=v.observers.size>0;Ce.computationDepth>0&&g&&_(!1),Ce.allowStateChanges||!g&&Ce.enforceActions!=="strict"||_(!1)}function ee(v,g,E){var T=et(!0);At(v),v.newObserving=new Array(v.observing.length+100),v.unboundDepsCount=0,v.runId=++Ce.runId;var D,H=Ce.trackingDerivation;if(Ce.trackingDerivation=v,Ce.disableErrorBoundaries===!0)D=g.call(E);else try{D=g.call(E)}catch(ne){D=new it(ne)}return Ce.trackingDerivation=H,function(ne){for(var be=ne.observing,ke=ne.observing=ne.newObserving,rt=K.UP_TO_DATE,tt=0,_t=ne.unboundDepsCount,vt=0;vt<_t;vt++)(ft=ke[vt]).diffValue===0&&(ft.diffValue=1,tt!==vt&&(ke[tt]=ft),tt++),ft.dependenciesState>rt&&(rt=ft.dependenciesState);for(ke.length=tt,ne.newObserving=null,_t=be.length;_t--;)(ft=be[_t]).diffValue===0&&Ai(ft,ne),ft.diffValue=0;for(;tt--;){var ft;(ft=ke[tt]).diffValue===1&&(ft.diffValue=0,qa(ft,ne))}rt!==K.UP_TO_DATE&&(ne.dependenciesState=rt,ne.onBecomeStale())}(v),yt(T),D}function le(v){var g=v.observing;v.observing=[];for(var E=g.length;E--;)Ai(g[E],v);v.dependenciesState=K.NOT_TRACKING}function we(v){var g=Ze();try{return v()}finally{Ue(g)}}function Ze(){var v=Ce.trackingDerivation;return Ce.trackingDerivation=null,v}function Ue(v){Ce.trackingDerivation=v}function et(v){var g=Ce.allowStateReads;return Ce.allowStateReads=v,g}function yt(v){Ce.allowStateReads=v}function At(v){if(v.dependenciesState!==K.UP_TO_DATE){v.dependenciesState=K.UP_TO_DATE;for(var g=v.observing,E=g.length;E--;)g[E].lowestObserverState=K.UP_TO_DATE}}var zt=0,rr=1,Ln=Object.getOwnPropertyDescriptor(function(){},"name");Ln&&Ln.configurable;function Ot(v,g,E){var T=function(){return Te(v,g,E||this,arguments)};return T.isMobxAction=!0,T}function Te(v,g,E,T){var D=Ge();try{return g.apply(E,T)}catch(H){throw D.error=H,H}finally{Je(D)}}function Ge(v,g,E){var T=0,D=Ze();pn();var H={prevDerivation:D,prevAllowStateChanges:Et(!0),prevAllowStateReads:et(!0),notifySpy:!1,startTime:T,actionId:rr++,parentActionId:zt};return zt=H.actionId,H}function Je(v){zt!==v.actionId&&_("invalid action stack. did you forget to finish an action?"),zt=v.parentActionId,v.error!==void 0&&(Ce.suppressReactionErrors=!0),Mt(v.prevAllowStateChanges),yt(v.prevAllowStateReads),dn(),Ue(v.prevDerivation),v.notifySpy,Ce.suppressReactionErrors=!1}function lt(v,g){var E,T=Et(v);try{E=g()}finally{Mt(T)}return E}function Et(v){var g=Ce.allowStateChanges;return Ce.allowStateChanges=v,g}function Mt(v){Ce.allowStateChanges=v}var $t=function(v){function g(E,T,D,H,ne){D===void 0&&(D="ObservableValue@"+w()),ne===void 0&&(ne=J.default);var be=v.call(this,D)||this;return be.enhancer=T,be.name=D,be.equals=ne,be.hasUnreportedChange=!1,be.value=T(E,void 0,D),be}return function(E,T){function D(){this.constructor=E}ae(E,T),E.prototype=T===null?Object.create(T):(D.prototype=T.prototype,new D)}(g,v),g.prototype.dehanceValue=function(E){return this.dehancer!==void 0?this.dehancer(E):E},g.prototype.set=function(E){this.value,(E=this.prepareNewValue(E))!==Ce.UNCHANGED&&this.setNewValue(E)},g.prototype.prepareNewValue=function(E){if(X(this),On(this)){var T=cn(this,{object:this,type:"update",newValue:E});if(!T)return Ce.UNCHANGED;E=T.newValue}return E=this.enhancer(E,this.value,this.name),this.equals(this.value,E)?Ce.UNCHANGED:E},g.prototype.setNewValue=function(E){var T=this.value;this.value=E,this.reportChanged(),ut(this)&&Jt(this,{type:"update",object:this,newValue:E,oldValue:T})},g.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},g.prototype.intercept=function(E){return Un(this,E)},g.prototype.observe=function(E,T){return T&&E({object:this,type:"update",newValue:this.value,oldValue:void 0}),Fr(this,E)},g.prototype.toJSON=function(){return this.get()},g.prototype.toString=function(){return this.name+"["+this.value+"]"},g.prototype.valueOf=function(){return C(this.get())},g.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},g}(L),Do=U("ObservableValue",$t),zn=function(){function v(g){this.dependenciesState=K.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=K.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+w(),this.value=new it(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Be.NONE,S(g.get,"missing option for computed: get"),this.derivation=g.get,this.name=g.name||"ComputedValue@"+w(),g.set&&(this.setter=Ot(this.name+"-setter",g.set)),this.equals=g.equals||(g.compareStructural||g.struct?J.structural:J.default),this.scope=g.context,this.requiresReaction=!!g.requiresReaction,this.keepAlive=!!g.keepAlive}return v.prototype.onBecomeStale=function(){(function(g){g.lowestObserverState===K.UP_TO_DATE&&(g.lowestObserverState=K.POSSIBLY_STALE,g.observers.forEach(function(E){E.dependenciesState===K.UP_TO_DATE&&(E.dependenciesState=K.POSSIBLY_STALE,E.isTracing!==Be.NONE&&mr(E,g),E.onBecomeStale())}))})(this)},v.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach(function(g){return g()})},v.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach(function(g){return g()})},v.prototype.get=function(){this.isComputing&&_("Cycle detected in computation "+this.name+": "+this.derivation),Ce.inBatch!==0||this.observers.size!==0||this.keepAlive?(Bn(this),ht(this)&&this.trackAndCompute()&&function(E){E.lowestObserverState!==K.STALE&&(E.lowestObserverState=K.STALE,E.observers.forEach(function(T){T.dependenciesState===K.POSSIBLY_STALE?T.dependenciesState=K.STALE:T.dependenciesState===K.UP_TO_DATE&&(E.lowestObserverState=K.UP_TO_DATE)}))}(this)):ht(this)&&(this.warnAboutUntrackedRead(),pn(),this.value=this.computeValue(!1),dn());var g=this.value;if(st(g))throw g.cause;return g},v.prototype.peek=function(){var g=this.computeValue(!1);if(st(g))throw g.cause;return g},v.prototype.set=function(g){if(this.setter){S(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,g)}finally{this.isRunningSetter=!1}}else S(!1,!1)},v.prototype.trackAndCompute=function(){var g=this.value,E=this.dependenciesState===K.NOT_TRACKING,T=this.computeValue(!0),D=E||st(g)||st(T)||!this.equals(g,T);return D&&(this.value=T),D},v.prototype.computeValue=function(g){var E;if(this.isComputing=!0,Ce.computationDepth++,g)E=ee(this,this.derivation,this.scope);else if(Ce.disableErrorBoundaries===!0)E=this.derivation.call(this.scope);else try{E=this.derivation.call(this.scope)}catch(T){E=new it(T)}return Ce.computationDepth--,this.isComputing=!1,E},v.prototype.suspend=function(){this.keepAlive||(le(this),this.value=void 0)},v.prototype.observe=function(g,E){var T=this,D=!0,H=void 0;return Ro(function(){var ne=T.get();if(!D||E){var be=Ze();g({type:"update",object:T,newValue:ne,oldValue:H}),Ue(be)}D=!1,H=ne})},v.prototype.warnAboutUntrackedRead=function(){},v.prototype.toJSON=function(){return this.get()},v.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},v.prototype.valueOf=function(){return C(this.get())},v.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},v}(),or=U("ComputedValue",zn),oo=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Za={};function En(){return typeof window!="undefined"?window:l!==void 0?l:typeof self!="undefined"?self:Za}var io=!0,Pi=!1,Ce=function(){var v=En();return v.__mobxInstanceCount>0&&!v.__mobxGlobals&&(io=!1),v.__mobxGlobals&&v.__mobxGlobals.version!==new oo().version&&(io=!1),io?v.__mobxGlobals?(v.__mobxInstanceCount+=1,v.__mobxGlobals.UNCHANGED||(v.__mobxGlobals.UNCHANGED={}),v.__mobxGlobals):(v.__mobxInstanceCount=1,v.__mobxGlobals=new oo):(setTimeout(function(){Pi||_("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")},1),new oo)}();function qa(v,g){v.observers.add(g),v.lowestObserverState>g.dependenciesState&&(v.lowestObserverState=g.dependenciesState)}function Ai(v,g){v.observers.delete(g),v.observers.size===0&&ki(v)}function ki(v){v.isPendingUnobservation===!1&&(v.isPendingUnobservation=!0,Ce.pendingUnobservations.push(v))}function pn(){Ce.inBatch++}function dn(){if(--Ce.inBatch==0){Mi();for(var v=Ce.pendingUnobservations,g=0;g<v.length;g++){var E=v[g];E.isPendingUnobservation=!1,E.observers.size===0&&(E.isBeingObserved&&(E.isBeingObserved=!1,E.onBecomeUnobserved()),E instanceof zn&&E.suspend())}Ce.pendingUnobservations=[]}}function Bn(v){var g=Ce.trackingDerivation;return g!==null?(g.runId!==v.lastAccessedBy&&(v.lastAccessedBy=g.runId,g.newObserving[g.unboundDepsCount++]=v,v.isBeingObserved||(v.isBeingObserved=!0,v.onBecomeObserved())),!0):(v.observers.size===0&&Ce.inBatch>0&&ki(v),!1)}function mr(v,g){if(""+v.name+g.name,v.isTracing===Be.BREAK){var E=[];(function T(D,H,ne){if(H.length>=1e3)return void H.push("(and many more)");H.push(""+new Array(ne).join("	")+D.name),D.dependencies&&D.dependencies.forEach(function(be){return T(be,H,ne+1)})})(Rr(v),E,1),new Function(`debugger;
/*
Tracing '`+v.name+`'

You are entering this break point because derivation '`+v.name+"' is being traced and '"+g.name+`' is now forcing it to update.
Just follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update
The stackframe you are looking for is at least ~6-8 stack-frames up.

`+(v instanceof zn?v.derivation.toString().replace(/[*]\//g,"/"):"")+`

The dependencies for this derivation are:

`+E.join(`
`)+`
*/
    `)()}}var jn=function(){function v(g,E,T,D){g===void 0&&(g="Reaction@"+w()),D===void 0&&(D=!1),this.name=g,this.onInvalidate=E,this.errorHandler=T,this.requiresObservable=D,this.observing=[],this.newObserving=[],this.dependenciesState=K.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+w(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Be.NONE}return v.prototype.onBecomeStale=function(){this.schedule()},v.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Ce.pendingReactions.push(this),Mi())},v.prototype.isScheduled=function(){return this._isScheduled},v.prototype.runReaction=function(){if(!this.isDisposed){if(pn(),this._isScheduled=!1,ht(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(g){this.reportExceptionInDerivation(g)}}dn()}},v.prototype.track=function(g){if(!this.isDisposed){pn(),this._isRunning=!0;var E=ee(this,g,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&le(this),st(E)&&this.reportExceptionInDerivation(E.cause),dn()}},v.prototype.reportExceptionInDerivation=function(g){var E=this;if(this.errorHandler)this.errorHandler(g,this);else{if(Ce.disableErrorBoundaries)throw g;var T="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Ce.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(T,g),Ce.globalReactionErrorHandlers.forEach(function(D){return D(g,E)})}},v.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(pn(),le(this),dn()))},v.prototype.getDisposer=function(){var g=this.dispose.bind(this);return g[M]=this,g},v.prototype.toString=function(){return"Reaction["+this.name+"]"},v.prototype.trace=function(g){g===void 0&&(g=!1),function(){for(var E=[],T=0;T<arguments.length;T++)E[T]=arguments[T];var D=!1;typeof E[E.length-1]=="boolean"&&(D=E.pop());var H=Lo(E);if(!H)return _(!1);H.isTracing===Be.NONE&&""+H.name,H.isTracing=D?Be.BREAK:Be.LOG}(this,g)},v}(),No=function(v){return v()};function Mi(){Ce.inBatch>0||Ce.isRunningReactions||No($a)}function $a(){Ce.isRunningReactions=!0;for(var v=Ce.pendingReactions,g=0;v.length>0;){++g==100&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+v[0]),v.splice(0));for(var E=v.splice(0),T=0,D=E.length;T<D;T++)E[T].runReaction()}Ce.isRunningReactions=!1}var ao=U("Reaction",jn);function Ja(v){var g=No;No=function(E){return v(function(){return g(E)})}}function Ti(v){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Qa(){_(!1)}function ir(v){return function(g,E,T){if(T){if(T.value)return{value:Ot(v,T.value),enumerable:!1,configurable:!0,writable:!0};var D=T.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return Ot(v,D.call(this))}}}return Di(v).apply(this,arguments)}}function Di(v){return function(g,E,T){Object.defineProperty(g,E,{configurable:!0,enumerable:!1,get:function(){},set:function(D){F(this,E,Fn(v,D))}})}}var Fn=function(v,g,E,T){return arguments.length===1&&typeof v=="function"?Ot(v.name||"<unnamed action>",v):arguments.length===2&&typeof g=="function"?Ot(v,g):arguments.length===1&&typeof v=="string"?ir(v):T!==!0?ir(g).apply(null,arguments):void F(v,g,Ot(v.name||g,E.value,this))};function eu(v,g){return Te(typeof v=="string"?v:v.name||"<unnamed action>",typeof v=="function"?v:g,this,void 0)}function uo(v){return typeof v=="function"&&v.isMobxAction===!0}function Co(v,g,E){F(v,g,Ot(g,E.bind(v)))}function Ro(v,g){g===void 0&&(g=O);var E,T=g&&g.name||v.name||"Autorun@"+w();if(!g.scheduler&&!g.delay)E=new jn(T,function(){this.track(ne)},g.onError,g.requiresObservable);else{var D=Ni(g),H=!1;E=new jn(T,function(){H||(H=!0,D(function(){H=!1,E.isDisposed||E.track(ne)}))},g.onError,g.requiresObservable)}function ne(){v(E)}return E.schedule(),E.getDisposer()}Fn.bound=function(v,g,E,T){return T===!0?(Co(v,g,E.value),null):E?{configurable:!0,enumerable:!1,get:function(){return Co(this,g,E.value||E.initializer.call(this)),this[g]},set:Qa}:{enumerable:!1,configurable:!0,set:function(D){Co(this,g,D)},get:function(){}}};var tu=function(v){return v()};function Ni(v){return v.scheduler?v.scheduler:v.delay?function(g){return setTimeout(g,v.delay)}:tu}function Or(v,g,E){E===void 0&&(E=O);var T,D,H,ne=E.name||"Reaction@"+w(),be=Fn(ne,E.onError?(T=E.onError,D=g,function(){try{return D.apply(this,arguments)}catch(wt){T.call(this,wt)}}):g),ke=!E.scheduler&&!E.delay,rt=Ni(E),tt=!0,_t=!1,vt=E.compareStructural?J.structural:E.equals||J.default,ft=new jn(ne,function(){tt||ke?jt():_t||(_t=!0,rt(jt))},E.onError,E.requiresObservable);function jt(){if(_t=!1,!ft.isDisposed){var wt=!1;ft.track(function(){var gt=v(ft);wt=tt||!vt(H,gt),H=gt}),tt&&E.fireImmediately&&be(H,ft),tt||wt!==!0||be(H,ft),tt&&(tt=!1)}}return ft.schedule(),ft.getDisposer()}function _r(v,g,E){return Ci("onBecomeUnobserved",v,g,E)}function Ci(v,g,E,T){var D=typeof T=="function"?_n(g,E):_n(g),H=typeof T=="function"?T:E,ne=v+"Listeners";return D[ne]?D[ne].add(H):D[ne]=new Set([H]),typeof D[v]!="function"?_(!1):function(){var be=D[ne];be&&(be.delete(H),be.size===0&&delete D[ne])}}function wr(v){var g=v.enforceActions,E=v.computedRequiresReaction,T=v.computedConfigurable,D=v.disableErrorBoundaries,H=v.reactionScheduler,ne=v.reactionRequiresObservable,be=v.observableRequiresReaction;if(v.isolateGlobalState===!0&&((Ce.pendingReactions.length||Ce.inBatch||Ce.isRunningReactions)&&_("isolateGlobalState should be called before MobX is running any reactions"),Pi=!0,io&&(--En().__mobxInstanceCount==0&&(En().__mobxGlobals=void 0),Ce=new oo)),g!==void 0){var ke=void 0;switch(g){case!0:case"observed":ke=!0;break;case!1:case"never":ke=!1;break;case"strict":case"always":ke="strict";break;default:_("Invalid value for 'enforceActions': '"+g+"', expected 'never', 'always' or 'observed'")}Ce.enforceActions=ke,Ce.allowStateChanges=ke!==!0&&ke!=="strict"}E!==void 0&&(Ce.computedRequiresReaction=!!E),ne!==void 0&&(Ce.reactionRequiresObservable=!!ne),be!==void 0&&(Ce.observableRequiresReaction=!!be,Ce.allowStateReads=!Ce.observableRequiresReaction),T!==void 0&&(Ce.computedConfigurable=!!T),D!==void 0&&(D===!0&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Ce.disableErrorBoundaries=!!D),H&&Ja(H)}function Hn(v,g,E,T){var D=Ri(T=ie(T));return Ne(v),Go(v,T.name,D.enhancer),g&&Ii(v,g,E,D),v}function Ri(v){return v.defaultDecorator||(v.deep===!1?_e:ye)}function Ii(v,g,E,T){var D,H;pn();try{var ne=B(g);try{for(var be=ge(ne),ke=be.next();!ke.done;ke=be.next()){var rt=ke.value,tt=Object.getOwnPropertyDescriptor(g,rt),_t=(E&&rt in E?E[rt]:tt.get?Le:T)(v,rt,tt,!0);_t&&Object.defineProperty(v,rt,_t)}}catch(vt){D={error:vt}}finally{try{ke&&!ke.done&&(H=be.return)&&H.call(be)}finally{if(D)throw D.error}}}finally{dn()}}function Rr(v,g){return Li(_n(v,g))}function Li(v){var g,E,T={name:v.name};return v.observing&&v.observing.length>0&&(T.dependencies=(g=v.observing,E=[],g.forEach(function(D){E.indexOf(D)===-1&&E.push(D)}),E).map(Li)),T}var nu=0;function zi(){this.message="FLOW_CANCELLED"}function Bi(v){arguments.length!==1&&_("Flow expects 1 argument and cannot be used as decorator");var g=v.name||"<unnamed flow>";return function(){var E,T=this,D=arguments,H=++nu,ne=Fn(g+" - runid: "+H+" - init",v).apply(T,D),be=void 0,ke=new Promise(function(rt,tt){var _t=0;function vt(wt){var gt;be=void 0;try{gt=Fn(g+" - runid: "+H+" - yield "+_t++,ne.next).call(ne,wt)}catch(Pn){return tt(Pn)}jt(gt)}function ft(wt){var gt;be=void 0;try{gt=Fn(g+" - runid: "+H+" - yield "+_t++,ne.throw).call(ne,wt)}catch(Pn){return tt(Pn)}jt(gt)}function jt(wt){if(!wt||typeof wt.then!="function")return wt.done?rt(wt.value):(be=Promise.resolve(wt.value)).then(vt,ft);wt.then(jt,tt)}E=tt,vt(void 0)});return ke.cancel=Fn(g+" - runid: "+H+" - cancel",function(){try{be&&Ir(be);var rt=ne.return(void 0),tt=Promise.resolve(rt.value);tt.then(A,A),Ir(tt),E(new zi)}catch(_t){E(_t)}}),ke}}function Ir(v){typeof v.cancel=="function"&&v.cancel()}function Fi(v,g){if(v==null)return!1;if(g!==void 0){if(hn(v)===!1||!v[M].values.has(g))return!1;var E=_n(v,g);return or(E)}return or(v)}function ru(v){return arguments.length>1?_(!1):Fi(v)}function Hi(v,g){return typeof g!="string"?_(!1):Fi(v,g)}function Io(v,g){return v!=null&&(g!==void 0?!!hn(v)&&v[M].values.has(g):hn(v)||!!v[M]||G(v)||ao(v)||or(v))}function Lr(v){return arguments.length!==1&&_(!1),Io(v)}function Gn(v){return hn(v)?v[M].getKeys():Qt(v)||Wt(v)?Array.from(v.keys()):sn(v)?v.map(function(g,E){return E}):_(!1)}function Gt(v){return hn(v)?Gn(v).map(function(g){return v[g]}):Qt(v)?Gn(v).map(function(g){return v.get(g)}):Wt(v)?Array.from(v.values()):sn(v)?v.slice():_(!1)}function Gi(v){return hn(v)?Gn(v).map(function(g){return[g,v[g]]}):Qt(v)?Gn(v).map(function(g){return[g,v.get(g)]}):Wt(v)?Array.from(v.entries()):sn(v)?v.map(function(g,E){return[E,g]}):_(!1)}function ou(v,g,E,T){return typeof E=="function"?function(D,H,ne,be){return Hr(D,H).observe(ne,be)}(v,g,E,T):function(D,H,ne){return Hr(D).observe(H,ne)}(v,g,E)}zi.prototype=Object.create(Error.prototype);var Ui={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function xr(v,g,E,T){return T.detectCycles&&v.set(g,E),E}function Xi(v,g){var E;return typeof g=="boolean"&&(g={detectCycles:g}),g||(g=Ui),g.detectCycles=g.detectCycles===void 0?g.recurseEverything===!0:g.detectCycles===!0,g.detectCycles&&(E=new Map),function T(D,H,ne){if(!H.recurseEverything&&!Lr(D)||typeof D!="object")return D;if(D===null)return null;if(D instanceof Date)return D;if(Do(D))return T(D.get(),H,ne);if(Lr(D)&&Gn(D),H.detectCycles===!0&&D!==null&&ne.has(D))return ne.get(D);if(sn(D)||Array.isArray(D)){var be=xr(ne,D,[],H),ke=D.map(function(gt){return T(gt,H,ne)});be.length=ke.length;for(var rt=0,tt=ke.length;rt<tt;rt++)be[rt]=ke[rt];return be}if(Wt(D)||Object.getPrototypeOf(D)===Set.prototype){if(H.exportMapsAsObjects===!1){var _t=xr(ne,D,new Set,H);return D.forEach(function(gt){_t.add(T(gt,H,ne))}),_t}var vt=xr(ne,D,[],H);return D.forEach(function(gt){vt.push(T(gt,H,ne))}),vt}if(Qt(D)||Object.getPrototypeOf(D)===Map.prototype){if(H.exportMapsAsObjects===!1){var ft=xr(ne,D,new Map,H);return D.forEach(function(gt,Pn){ft.set(Pn,T(gt,H,ne))}),ft}var jt=xr(ne,D,{},H);return D.forEach(function(gt,Pn){jt[Pn]=T(gt,H,ne)}),jt}var wt=xr(ne,D,{},H);return q(D).forEach(function(gt){wt[gt]=T(D[gt],H,ne)}),wt}(v,g,E)}function Lo(v){switch(v.length){case 0:return Ce.trackingDerivation;case 1:return _n(v[0]);case 2:return _n(v[0],v[1])}}function bn(v,g){g===void 0&&(g=void 0),pn();try{return v.apply(g)}finally{dn()}}function mn(v,g,E){return arguments.length===1||g&&typeof g=="object"?Vi(v,g):zo(v,g,E||{})}function zo(v,g,E){var T;typeof E.timeout=="number"&&(T=setTimeout(function(){if(!H[M].isDisposed){H();var ne=new Error("WHEN_TIMEOUT");if(!E.onError)throw ne;E.onError(ne)}},E.timeout)),E.name=E.name||"When@"+w();var D=Ot(E.name+"-effect",g),H=Ro(function(ne){v()&&(ne.dispose(),T&&clearTimeout(T),D())},E);return H}function Vi(v,g){var E,T=new Promise(function(D,H){var ne=zo(v,D,ve(ve({},g),{onError:H}));E=function(){ne(),H("WHEN_CANCELLED")}});return T.cancel=E,T}function co(v){return v[M]}function so(v){return typeof v=="string"||typeof v=="number"||typeof v=="symbol"}var zr={has:function(v,g){if(g===M||g==="constructor"||g===fe)return!0;var E=co(v);return so(g)?E.has(g):g in v},get:function(v,g){if(g===M||g==="constructor"||g===fe)return v[g];var E=co(v),T=E.values.get(g);if(T instanceof L){var D=T.get();return D===void 0&&E.has(g),D}return so(g)&&E.has(g),v[g]},set:function(v,g,E){return!!so(g)&&(function T(D,H,ne){if(arguments.length!==2||Wt(D))if(hn(D)){var be=D[M],ke=be.values.get(H);ke?be.write(H,ne):be.addObservableProp(H,ne,be.defaultEnhancer)}else if(Qt(D))D.set(H,ne);else if(Wt(D))D.add(H);else{if(!sn(D))return _(!1);typeof H!="number"&&(H=parseInt(H,10)),S(H>=0,"Not a valid index: '"+H+"'"),pn(),H>=D.length&&(D.length=H+1),D[H]=ne,dn()}else{pn();var rt=H;try{for(var tt in rt)T(D,tt,rt[tt])}finally{dn()}}}(v,g,E),!0)},deleteProperty:function(v,g){return!!so(g)&&(co(v).remove(g),!0)},ownKeys:function(v){return co(v).keysAtom.reportObserved(),Reflect.ownKeys(v)},preventExtensions:function(v){return _("Dynamic observable objects cannot be frozen"),!1}};function Br(v){var g=new Proxy(v,zr);return v[M].proxy=g,g}function On(v){return v.interceptors!==void 0&&v.interceptors.length>0}function Un(v,g){var E=v.interceptors||(v.interceptors=[]);return E.push(g),P(function(){var T=E.indexOf(g);T!==-1&&E.splice(T,1)})}function cn(v,g){var E=Ze();try{for(var T=Ee(v.interceptors||[]),D=0,H=T.length;D<H&&(S(!(g=T[D](g))||g.type,"Intercept handlers should return nothing or a change object"),g);D++);return g}finally{Ue(E)}}function ut(v){return v.changeListeners!==void 0&&v.changeListeners.length>0}function Fr(v,g){var E=v.changeListeners||(v.changeListeners=[]);return E.push(g),P(function(){var T=E.indexOf(g);T!==-1&&E.splice(T,1)})}function Jt(v,g){var E=Ze(),T=v.changeListeners;if(T){for(var D=0,H=(T=T.slice()).length;D<H;D++)T[D](g);Ue(E)}}var Er={get:function(v,g){return g===M?v[M]:g==="length"?v[M].getArrayLength():typeof g=="number"?Sn.get.call(v,g):typeof g!="string"||isNaN(g)?Sn.hasOwnProperty(g)?Sn[g]:v[g]:Sn.get.call(v,parseInt(g))},set:function(v,g,E){return g==="length"&&v[M].setArrayLength(E),typeof g=="number"&&Sn.set.call(v,g,E),typeof g=="symbol"||isNaN(g)?v[g]=E:Sn.set.call(v,parseInt(g),E),!0},preventExtensions:function(v){return _("Observable arrays cannot be frozen"),!1}};function Yi(v,g,E,T){E===void 0&&(E="ObservableArray@"+w()),T===void 0&&(T=!1);var D,H,ne,be=new lo(E,g,T);D=be.values,H=M,ne=be,Object.defineProperty(D,H,{enumerable:!1,writable:!1,configurable:!0,value:ne});var ke=new Proxy(be.values,Er);if(be.proxy=ke,v&&v.length){var rt=Et(!0);be.spliceWithArray(0,0,v),Mt(rt)}return ke}var lo=function(){function v(g,E,T){this.owned=T,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new L(g||"ObservableArray@"+w()),this.enhancer=function(D,H){return E(D,H,g+"[..]")}}return v.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},v.prototype.dehanceValues=function(g){return this.dehancer!==void 0&&g.length>0?g.map(this.dehancer):g},v.prototype.intercept=function(g){return Un(this,g)},v.prototype.observe=function(g,E){return E===void 0&&(E=!1),E&&g({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Fr(this,g)},v.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},v.prototype.setArrayLength=function(g){if(typeof g!="number"||g<0)throw new Error("[mobx.array] Out of range: "+g);var E=this.values.length;if(g!==E)if(g>E){for(var T=new Array(g-E),D=0;D<g-E;D++)T[D]=void 0;this.spliceWithArray(E,0,T)}else this.spliceWithArray(g,E-g)},v.prototype.updateArrayLength=function(g,E){if(g!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=E},v.prototype.spliceWithArray=function(g,E,T){var D=this;X(this.atom);var H=this.values.length;if(g===void 0?g=0:g>H?g=H:g<0&&(g=Math.max(0,H+g)),E=arguments.length===1?H-g:E==null?0:Math.max(0,Math.min(E,H-g)),T===void 0&&(T=b),On(this)){var ne=cn(this,{object:this.proxy,type:"splice",index:g,removedCount:E,added:T});if(!ne)return b;E=ne.removedCount,T=ne.added}T=T.length===0?T:T.map(function(ke){return D.enhancer(ke,void 0)});var be=this.spliceItemsIntoValues(g,E,T);return E===0&&T.length===0||this.notifyArraySplice(g,T,be),this.dehanceValues(be)},v.prototype.spliceItemsIntoValues=function(g,E,T){var D;if(T.length<1e4)return(D=this.values).splice.apply(D,Ee([g,E],T));var H=this.values.slice(g,g+E);return this.values=this.values.slice(0,g).concat(T,this.values.slice(g+E)),H},v.prototype.notifyArrayChildUpdate=function(g,E,T){var D=!this.owned&&!1,H=ut(this),ne=H||D?{object:this.proxy,type:"update",index:g,newValue:E,oldValue:T}:null;this.atom.reportChanged(),H&&Jt(this,ne)},v.prototype.notifyArraySplice=function(g,E,T){var D=!this.owned&&!1,H=ut(this),ne=H||D?{object:this.proxy,type:"splice",index:g,removed:T,added:E,removedCount:T.length,addedCount:E.length}:null;this.atom.reportChanged(),H&&Jt(this,ne)},v}(),Sn={intercept:function(v){return this[M].intercept(v)},observe:function(v,g){return g===void 0&&(g=!1),this[M].observe(v,g)},clear:function(){return this.splice(0)},replace:function(v){var g=this[M];return g.spliceWithArray(0,g.values.length,v)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(v,g){for(var E=[],T=2;T<arguments.length;T++)E[T-2]=arguments[T];var D=this[M];switch(arguments.length){case 0:return[];case 1:return D.spliceWithArray(v);case 2:return D.spliceWithArray(v,g)}return D.spliceWithArray(v,g,E)},spliceWithArray:function(v,g,E){return this[M].spliceWithArray(v,g,E)},push:function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];var E=this[M];return E.spliceWithArray(E.values.length,0,v),E.values.length},pop:function(){return this.splice(Math.max(this[M].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var v=[],g=0;g<arguments.length;g++)v[g]=arguments[g];var E=this[M];return E.spliceWithArray(0,0,v),E.values.length},reverse:function(){var v=this.slice();return v.reverse.apply(v,arguments)},sort:function(v){var g=this.slice();return g.sort.apply(g,arguments)},remove:function(v){var g=this[M],E=g.dehanceValues(g.values).indexOf(v);return E>-1&&(this.splice(E,1),!0)},get:function(v){var g=this[M];if(g){if(v<g.values.length)return g.atom.reportObserved(),g.dehanceValue(g.values[v]);console.warn("[mobx.array] Attempt to read an array index ("+v+") that is out of bounds ("+g.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(v,g){var E=this[M],T=E.values;if(v<T.length){X(E.atom);var D=T[v];if(On(E)){var H=cn(E,{type:"update",object:E.proxy,index:v,newValue:g});if(!H)return;g=H.newValue}(g=E.enhancer(g,D))!==D&&(T[v]=g,E.notifyArrayChildUpdate(v,g,D))}else{if(v!==T.length)throw new Error("[mobx.array] Index out of bounds, "+v+" is larger than "+T.length);E.spliceWithArray(v,0,[g])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach(function(v){typeof Array.prototype[v]=="function"&&(Sn[v]=function(){var g=this[M];g.atom.reportObserved();var E=g.dehanceValues(g.values);return E[v].apply(E,arguments)})}),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach(function(v){typeof Array.prototype[v]=="function"&&(Sn[v]=function(g,E){var T=this,D=this[M];return D.atom.reportObserved(),D.dehanceValues(D.values)[v](function(H,ne){return g.call(E,H,ne,T)},E)})}),["reduce","reduceRight"].forEach(function(v){Sn[v]=function(){var g=this,E=this[M];E.atom.reportObserved();var T=arguments[0];return arguments[0]=function(D,H,ne){return H=E.dehanceValue(H),T(D,H,ne,g)},E.values[v].apply(E.values,arguments)}});var Bo,iu=U("ObservableArrayAdministration",lo);function sn(v){return N(v)&&iu(v[M])}var Fo,au={},Ho=function(){function v(g,E,T){if(E===void 0&&(E=He),T===void 0&&(T="ObservableMap@"+w()),this.enhancer=E,this.name=T,this[Bo]=au,this._keysAtom=te(this.name+".keys()"),this[Symbol.toStringTag]="Map",typeof Map!="function")throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(g)}return v.prototype._has=function(g){return this._data.has(g)},v.prototype.has=function(g){var E=this;if(!Ce.trackingDerivation)return this._has(g);var T=this._hasMap.get(g);if(!T){var D=T=new $t(this._has(g),at,this.name+"."+V(g)+"?",!1);this._hasMap.set(g,D),_r(D,function(){return E._hasMap.delete(g)})}return T.get()},v.prototype.set=function(g,E){var T=this._has(g);if(On(this)){var D=cn(this,{type:T?"update":"add",object:this,newValue:E,name:g});if(!D)return this;E=D.newValue}return T?this._updateValue(g,E):this._addValue(g,E),this},v.prototype.delete=function(g){var E=this;if(X(this._keysAtom),On(this)&&!(D=cn(this,{type:"delete",object:this,name:g})))return!1;if(this._has(g)){var T=ut(this),D=T?{type:"delete",object:this,oldValue:this._data.get(g).value,name:g}:null;return bn(function(){E._keysAtom.reportChanged(),E._updateHasMapEntry(g,!1),E._data.get(g).setNewValue(void 0),E._data.delete(g)}),T&&Jt(this,D),!0}return!1},v.prototype._updateHasMapEntry=function(g,E){var T=this._hasMap.get(g);T&&T.setNewValue(E)},v.prototype._updateValue=function(g,E){var T=this._data.get(g);if((E=T.prepareNewValue(E))!==Ce.UNCHANGED){var D=ut(this),H=D?{type:"update",object:this,oldValue:T.value,name:g,newValue:E}:null;T.setNewValue(E),D&&Jt(this,H)}},v.prototype._addValue=function(g,E){var T=this;X(this._keysAtom),bn(function(){var ne=new $t(E,T.enhancer,T.name+"."+V(g),!1);T._data.set(g,ne),E=ne.value,T._updateHasMapEntry(g,!0),T._keysAtom.reportChanged()});var D=ut(this),H=D?{type:"add",object:this,name:g,newValue:E}:null;D&&Jt(this,H)},v.prototype.get=function(g){return this.has(g)?this.dehanceValue(this._data.get(g).get()):this.dehanceValue(void 0)},v.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},v.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},v.prototype.values=function(){var g=this,E=this.keys();return Ur({next:function(){var T=E.next(),D=T.done,H=T.value;return{done:D,value:D?void 0:g.get(H)}}})},v.prototype.entries=function(){var g=this,E=this.keys();return Ur({next:function(){var T=E.next(),D=T.done,H=T.value;return{done:D,value:D?void 0:[H,g.get(H)]}}})},v.prototype[Bo=M,Symbol.iterator]=function(){return this.entries()},v.prototype.forEach=function(g,E){var T,D;try{for(var H=ge(this),ne=H.next();!ne.done;ne=H.next()){var be=he(ne.value,2),ke=be[0],rt=be[1];g.call(E,rt,ke,this)}}catch(tt){T={error:tt}}finally{try{ne&&!ne.done&&(D=H.return)&&D.call(H)}finally{if(T)throw T.error}}},v.prototype.merge=function(g){var E=this;return Qt(g)&&(g=g.toJS()),bn(function(){var T=Et(!0);try{R(g)?q(g).forEach(function(D){return E.set(D,g[D])}):Array.isArray(g)?g.forEach(function(D){var H=he(D,2),ne=H[0],be=H[1];return E.set(ne,be)}):z(g)?(g.constructor!==Map&&_("Cannot initialize from classes that inherit from Map: "+g.constructor.name),g.forEach(function(D,H){return E.set(H,D)})):g!=null&&_("Cannot initialize map from "+g)}finally{Mt(T)}}),this},v.prototype.clear=function(){var g=this;bn(function(){we(function(){var E,T;try{for(var D=ge(g.keys()),H=D.next();!H.done;H=D.next()){var ne=H.value;g.delete(ne)}}catch(be){E={error:be}}finally{try{H&&!H.done&&(T=D.return)&&T.call(D)}finally{if(E)throw E.error}}})})},v.prototype.replace=function(g){var E=this;return bn(function(){var T,D,H,ne,be=function(en){if(z(en)||Qt(en))return en;if(Array.isArray(en))return new Map(en);if(R(en)){var Zi=new Map;for(var Yo in en)Zi.set(Yo,en[Yo]);return Zi}return _("Cannot convert to map from '"+en+"'")}(g),ke=new Map,rt=!1;try{for(var tt=ge(E._data.keys()),_t=tt.next();!_t.done;_t=tt.next()){var vt=_t.value;if(!be.has(vt))if(E.delete(vt))rt=!0;else{var ft=E._data.get(vt);ke.set(vt,ft)}}}catch(en){T={error:en}}finally{try{_t&&!_t.done&&(D=tt.return)&&D.call(tt)}finally{if(T)throw T.error}}try{for(var jt=ge(be.entries()),wt=jt.next();!wt.done;wt=jt.next()){var gt=he(wt.value,2),Pn=(vt=gt[0],ft=gt[1],E._data.has(vt));if(E.set(vt,ft),E._data.has(vt)){var cu=E._data.get(vt);ke.set(vt,cu),Pn||(rt=!0)}}}catch(en){H={error:en}}finally{try{wt&&!wt.done&&(ne=jt.return)&&ne.call(jt)}finally{if(H)throw H.error}}if(!rt)if(E._data.size!==ke.size)E._keysAtom.reportChanged();else for(var Xr=E._data.keys(),jr=ke.keys(),Vr=Xr.next(),Vo=jr.next();!Vr.done;){if(Vr.value!==Vo.value){E._keysAtom.reportChanged();break}Vr=Xr.next(),Vo=jr.next()}E._data=ke}),this},Object.defineProperty(v.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),v.prototype.toPOJO=function(){var g,E,T={};try{for(var D=ge(this),H=D.next();!H.done;H=D.next()){var ne=he(H.value,2),be=ne[0],ke=ne[1];T[typeof be=="symbol"?be:V(be)]=ke}}catch(rt){g={error:rt}}finally{try{H&&!H.done&&(E=D.return)&&E.call(D)}finally{if(g)throw g.error}}return T},v.prototype.toJS=function(){return new Map(this)},v.prototype.toJSON=function(){return this.toPOJO()},v.prototype.toString=function(){var g=this;return this.name+"[{ "+Array.from(this.keys()).map(function(E){return V(E)+": "+g.get(E)}).join(", ")+" }]"},v.prototype.observe=function(g,E){return Fr(this,g)},v.prototype.intercept=function(g){return Un(this,g)},v}(),Qt=U("ObservableMap",Ho),ar={},ur=function(){function v(g,E,T){if(E===void 0&&(E=He),T===void 0&&(T="ObservableSet@"+w()),this.name=T,this[Fo]=ar,this._data=new Set,this._atom=te(this.name),this[Symbol.toStringTag]="Set",typeof Set!="function")throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(D,H){return E(D,H,T)},g&&this.replace(g)}return v.prototype.dehanceValue=function(g){return this.dehancer!==void 0?this.dehancer(g):g},v.prototype.clear=function(){var g=this;bn(function(){we(function(){var E,T;try{for(var D=ge(g._data.values()),H=D.next();!H.done;H=D.next()){var ne=H.value;g.delete(ne)}}catch(be){E={error:be}}finally{try{H&&!H.done&&(T=D.return)&&T.call(D)}finally{if(E)throw E.error}}})})},v.prototype.forEach=function(g,E){var T,D;try{for(var H=ge(this),ne=H.next();!ne.done;ne=H.next()){var be=ne.value;g.call(E,be,be,this)}}catch(ke){T={error:ke}}finally{try{ne&&!ne.done&&(D=H.return)&&D.call(H)}finally{if(T)throw T.error}}},Object.defineProperty(v.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),v.prototype.add=function(g){var E=this;if(X(this._atom),On(this)&&!(D=cn(this,{type:"add",object:this,newValue:g})))return this;if(!this.has(g)){bn(function(){E._data.add(E.enhancer(g,void 0)),E._atom.reportChanged()});var T=ut(this),D=T?{type:"add",object:this,newValue:g}:null;T&&Jt(this,D)}return this},v.prototype.delete=function(g){var E=this;if(On(this)&&!(D=cn(this,{type:"delete",object:this,oldValue:g})))return!1;if(this.has(g)){var T=ut(this),D=T?{type:"delete",object:this,oldValue:g}:null;return bn(function(){E._atom.reportChanged(),E._data.delete(g)}),T&&Jt(this,D),!0}return!1},v.prototype.has=function(g){return this._atom.reportObserved(),this._data.has(this.dehanceValue(g))},v.prototype.entries=function(){var g=0,E=Array.from(this.keys()),T=Array.from(this.values());return Ur({next:function(){var D=g;return g+=1,D<T.length?{value:[E[D],T[D]],done:!1}:{done:!0}}})},v.prototype.keys=function(){return this.values()},v.prototype.values=function(){this._atom.reportObserved();var g=this,E=0,T=Array.from(this._data.values());return Ur({next:function(){return E<T.length?{value:g.dehanceValue(T[E++]),done:!1}:{done:!0}}})},v.prototype.replace=function(g){var E=this;return Wt(g)&&(g=g.toJS()),bn(function(){var T=Et(!0);try{Array.isArray(g)||Y(g)?(E.clear(),g.forEach(function(D){return E.add(D)})):g!=null&&_("Cannot initialize set from "+g)}finally{Mt(T)}}),this},v.prototype.observe=function(g,E){return Fr(this,g)},v.prototype.intercept=function(g){return Un(this,g)},v.prototype.toJS=function(){return new Set(this)},v.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},v.prototype[Fo=M,Symbol.iterator]=function(){return this.values()},v}(),Wt=U("ObservableSet",ur),Wi=function(){function v(g,E,T,D){E===void 0&&(E=new Map),this.target=g,this.values=E,this.name=T,this.defaultEnhancer=D,this.keysAtom=new L(T+".keys")}return v.prototype.read=function(g){return this.values.get(g).get()},v.prototype.write=function(g,E){var T=this.target,D=this.values.get(g);if(D instanceof zn)D.set(E);else{if(On(this)){if(!(ne=cn(this,{type:"update",object:this.proxy||T,name:g,newValue:E})))return;E=ne.newValue}if((E=D.prepareNewValue(E))!==Ce.UNCHANGED){var H=ut(this),ne=H?{type:"update",object:this.proxy||T,oldValue:D.value,name:g,newValue:E}:null;D.setNewValue(E),H&&Jt(this,ne)}}},v.prototype.has=function(g){var E=this.pendingKeys||(this.pendingKeys=new Map),T=E.get(g);if(T)return T.get();var D=!!this.values.get(g);return T=new $t(D,at,this.name+"."+V(g)+"?",!1),E.set(g,T),T.get()},v.prototype.addObservableProp=function(g,E,T){T===void 0&&(T=this.defaultEnhancer);var D=this.target;if(On(this)){var H=cn(this,{object:this.proxy||D,name:g,type:"add",newValue:E});if(!H)return;E=H.newValue}var ne=new $t(E,T,this.name+"."+V(g),!1);this.values.set(g,ne),E=ne.value,Object.defineProperty(D,g,function(be){return fo[be]||(fo[be]={configurable:!0,enumerable:!0,get:function(){return this[M].read(be)},set:function(ke){this[M].write(be,ke)}})}(g)),this.notifyPropertyAddition(g,E)},v.prototype.addComputedProp=function(g,E,T){var D,H,ne,be=this.target;T.name=T.name||this.name+"."+V(E),this.values.set(E,new zn(T)),(g===be||(D=g,H=E,!(ne=Object.getOwnPropertyDescriptor(D,H))||ne.configurable!==!1&&ne.writable!==!1))&&Object.defineProperty(g,E,function(ke){return po[ke]||(po[ke]={configurable:Ce.computedConfigurable,enumerable:!1,get:function(){return ho(this).read(ke)},set:function(rt){ho(this).write(ke,rt)}})}(E))},v.prototype.remove=function(g){if(this.values.has(g)){var E=this.target;if(On(this)&&!(be=cn(this,{object:this.proxy||E,name:g,type:"remove"})))return;try{pn();var T=ut(this),D=this.values.get(g),H=D&&D.get();if(D&&D.set(void 0),this.keysAtom.reportChanged(),this.values.delete(g),this.pendingKeys){var ne=this.pendingKeys.get(g);ne&&ne.set(!1)}delete this.target[g];var be=T?{type:"remove",object:this.proxy||E,oldValue:H,name:g}:null;T&&Jt(this,be)}finally{dn()}}},v.prototype.illegalAccess=function(g,E){console.warn("Property '"+E+"' of '"+g+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},v.prototype.observe=function(g,E){return Fr(this,g)},v.prototype.intercept=function(g){return Un(this,g)},v.prototype.notifyPropertyAddition=function(g,E){var T=ut(this),D=T?{type:"add",object:this.proxy||this.target,name:g,newValue:E}:null;if(T&&Jt(this,D),this.pendingKeys){var H=this.pendingKeys.get(g);H&&H.set(!0)}this.keysAtom.reportChanged()},v.prototype.getKeys=function(){var g,E;this.keysAtom.reportObserved();var T=[];try{for(var D=ge(this.values),H=D.next();!H.done;H=D.next()){var ne=he(H.value,2),be=ne[0];ne[1]instanceof $t&&T.push(be)}}catch(ke){g={error:ke}}finally{try{H&&!H.done&&(E=D.return)&&E.call(D)}finally{if(g)throw g.error}}return T},v}();function Go(v,g,E){if(g===void 0&&(g=""),E===void 0&&(E=He),Object.prototype.hasOwnProperty.call(v,M))return v[M];R(v)||(g=(v.constructor.name||"ObservableObject")+"@"+w()),g||(g="ObservableObject@"+w());var T=new Wi(v,new Map,V(g),E);return F(v,M,T),T}var fo=Object.create(null),po=Object.create(null);function ho(v){var g=v[M];return g||(Ne(v),v[M])}var Uo=U("ObservableObjectAdministration",Wi);function hn(v){return!!N(v)&&(Ne(v),Uo(v[M]))}function _n(v,g){if(typeof v=="object"&&v!==null){if(sn(v))return g!==void 0&&_(!1),v[M].atom;if(Wt(v))return v[M];if(Qt(v)){var E=v;return g===void 0?E._keysAtom:((T=E._data.get(g)||E._hasMap.get(g))||_(!1),T)}var T;if(Ne(v),g&&!v[M]&&v[g],hn(v))return g?((T=v[M].values.get(g))||_(!1),T):_(!1);if(G(v)||or(v)||ao(v))return v}else if(typeof v=="function"&&ao(v[M]))return v[M];return _(!1)}function Hr(v,g){return v||_("Expecting some object"),g!==void 0?Hr(_n(v,g)):G(v)||or(v)||ao(v)||Qt(v)||Wt(v)?v:(Ne(v),v[M]?v[M]:void _(!1))}var Ki=Object.prototype.toString;function Xo(v,g,E){return E===void 0&&(E=-1),function T(D,H,ne,be,ke){if(D===H)return D!==0||1/D==1/H;if(D==null||H==null)return!1;if(D!=D)return H!=H;var rt=typeof D;if(rt!=="function"&&rt!=="object"&&typeof H!="object")return!1;var tt=Ki.call(D);if(tt!==Ki.call(H))return!1;switch(tt){case"[object RegExp]":case"[object String]":return""+D==""+H;case"[object Number]":return+D!=+D?+H!=+H:+D==0?1/+D==1/H:+D==+H;case"[object Date]":case"[object Boolean]":return+D==+H;case"[object Symbol]":return typeof Symbol!="undefined"&&Symbol.valueOf.call(D)===Symbol.valueOf.call(H);case"[object Map]":case"[object Set]":ne>=0&&ne++}D=Xn(D),H=Xn(H);var _t=tt==="[object Array]";if(!_t){if(typeof D!="object"||typeof H!="object")return!1;var vt=D.constructor,ft=H.constructor;if(vt!==ft&&!(typeof vt=="function"&&vt instanceof vt&&typeof ft=="function"&&ft instanceof ft)&&"constructor"in D&&"constructor"in H)return!1}if(ne===0)return!1;ne<0&&(ne=-1),ke=ke||[];for(var jt=(be=be||[]).length;jt--;)if(be[jt]===D)return ke[jt]===H;if(be.push(D),ke.push(H),_t){if((jt=D.length)!==H.length)return!1;for(;jt--;)if(!T(D[jt],H[jt],ne-1,be,ke))return!1}else{var wt=Object.keys(D),gt=void 0;if(jt=wt.length,Object.keys(H).length!==jt)return!1;for(;jt--;)if(gt=wt[jt],!Gr(H,gt)||!T(D[gt],H[gt],ne-1,be,ke))return!1}return be.pop(),ke.pop(),!0}(v,g,E)}function Xn(v){return sn(v)?v.slice():z(v)||Qt(v)||Y(v)||Wt(v)?Array.from(v.entries()):v}function Gr(v,g){return Object.prototype.hasOwnProperty.call(v,g)}function Ur(v){return v[Symbol.iterator]=uu,v}function uu(){return this}if(typeof Proxy=="undefined"||typeof Symbol=="undefined")throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__=="object"&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:Ti,extras:{getDebugName:function(v,g){return(g!==void 0?_n(v,g):hn(v)||Qt(v)||Wt(v)?Hr(v):_n(v)).name}},$mobx:M})}).call(this,a(151),a(75))},function(c,f,a){a.d(f,"a",function(){return V}),a.d(f,"b",function(){return q}),a.d(f,"c",function(){return He}),a.d(f,"d",function(){return at}),a.d(f,"e",function(){return U}),a.d(f,"f",function(){return Y}),a.d(f,"g",function(){return U}),a.d(f,"h",function(){return Me}),a.d(f,"i",function(){return l}),a.d(f,"j",function(){return ze}),a.d(f,"k",function(){return J});var p,l,b,O,w,_,S,P={},A=[],N=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function R(Z,Q){for(var ie in Q)Z[ie]=Q[ie];return Z}function F(Z){var Q=Z.parentNode;Q&&Q.removeChild(Z)}function U(Z,Q,ie){var ye,Se,_e,Ke={};for(_e in Q)_e=="key"?ye=Q[_e]:_e=="ref"?Se=Q[_e]:Ke[_e]=Q[_e];if(arguments.length>2&&(Ke.children=arguments.length>3?p.call(arguments,2):ie),typeof Z=="function"&&Z.defaultProps!=null)for(_e in Z.defaultProps)Ke[_e]===void 0&&(Ke[_e]=Z.defaultProps[_e]);return z(Z,Ke,ye,Se,null)}function z(Z,Q,ie,ye,Se){var _e={type:Z,props:Q,key:ie,ref:ye,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:Se==null?++b:Se};return Se==null&&l.vnode!=null&&l.vnode(_e),_e}function Y(){return{current:null}}function q(Z){return Z.children}function V(Z,Q){this.props=Z,this.context=Q}function C(Z,Q){if(Q==null)return Z.__?C(Z.__,Z.__.__k.indexOf(Z)+1):null;for(var ie;Q<Z.__k.length;Q++)if((ie=Z.__k[Q])!=null&&ie.__e!=null)return ie.__e;return typeof Z.type=="function"?C(Z):null}function B(Z){var Q,ie;if((Z=Z.__)!=null&&Z.__c!=null){for(Z.__e=Z.__c.base=null,Q=0;Q<Z.__k.length;Q++)if((ie=Z.__k[Q])!=null&&ie.__e!=null){Z.__e=Z.__c.base=ie.__e;break}return B(Z)}}function M(Z){(!Z.__d&&(Z.__d=!0)&&O.push(Z)&&!L.__r++||_!==l.debounceRendering)&&((_=l.debounceRendering)||w)(L)}function L(){for(var Z;L.__r=O.length;)Z=O.sort(function(Q,ie){return Q.__v.__b-ie.__v.__b}),O=[],Z.some(function(Q){var ie,ye,Se,_e,Ke,Xe;Q.__d&&(Ke=(_e=(ie=Q).__v).__e,(Xe=ie.__P)&&(ye=[],(Se=R({},_e)).__v=_e.__v+1,fe(Xe,_e,Se,ie.__n,Xe.ownerSVGElement!==void 0,_e.__h!=null?[Ke]:null,ye,Ke==null?C(_e):Ke,_e.__h),se(ye,_e),_e.__e!=Ke&&B(_e)))})}function G(Z,Q,ie,ye,Se,_e,Ke,Xe,$e,Ve){var de,K,Be,Le,Ye,kt,it,st=ye&&ye.__k||A,ht=st.length;for(ie.__k=[],de=0;de<Q.length;de++)if((Le=ie.__k[de]=(Le=Q[de])==null||typeof Le=="boolean"?null:typeof Le=="string"||typeof Le=="number"||typeof Le=="bigint"?z(null,Le,null,null,Le):Array.isArray(Le)?z(q,{children:Le},null,null,null):Le.__b>0?z(Le.type,Le.props,Le.key,null,Le.__v):Le)!=null){if(Le.__=ie,Le.__b=ie.__b+1,(Be=st[de])===null||Be&&Le.key==Be.key&&Le.type===Be.type)st[de]=void 0;else for(K=0;K<ht;K++){if((Be=st[K])&&Le.key==Be.key&&Le.type===Be.type){st[K]=void 0;break}Be=null}fe(Z,Le,Be=Be||P,Se,_e,Ke,Xe,$e,Ve),Ye=Le.__e,(K=Le.ref)&&Be.ref!=K&&(it||(it=[]),Be.ref&&it.push(Be.ref,null,Le),it.push(K,Le.__c||Ye,Le)),Ye!=null?(kt==null&&(kt=Ye),typeof Le.type=="function"&&Le.__k===Be.__k?Le.__d=$e=te(Le,$e,Z):$e=ae(Z,Le,Be,st,Ye,$e),typeof ie.type=="function"&&(ie.__d=$e)):$e&&Be.__e==$e&&$e.parentNode!=Z&&($e=C(Be))}for(ie.__e=kt,de=ht;de--;)st[de]!=null&&(typeof ie.type=="function"&&st[de].__e!=null&&st[de].__e==ie.__d&&(ie.__d=C(ye,de+1)),Ae(st[de],st[de]));if(it)for(de=0;de<it.length;de++)Oe(it[de],it[++de],it[++de])}function te(Z,Q,ie){for(var ye,Se=Z.__k,_e=0;Se&&_e<Se.length;_e++)(ye=Se[_e])&&(ye.__=Z,Q=typeof ye.type=="function"?te(ye,Q,ie):ae(ie,ye,ye,Se,ye.__e,Q));return Q}function J(Z,Q){return Q=Q||[],Z==null||typeof Z=="boolean"||(Array.isArray(Z)?Z.some(function(ie){J(ie,Q)}):Q.push(Z)),Q}function ae(Z,Q,ie,ye,Se,_e){var Ke,Xe,$e;if(Q.__d!==void 0)Ke=Q.__d,Q.__d=void 0;else if(ie==null||Se!=_e||Se.parentNode==null)e:if(_e==null||_e.parentNode!==Z)Z.appendChild(Se),Ke=null;else{for(Xe=_e,$e=0;(Xe=Xe.nextSibling)&&$e<ye.length;$e+=2)if(Xe==Se)break e;Z.insertBefore(Se,_e),Ke=_e}return Ke!==void 0?Ke:Se.nextSibling}function ve(Z,Q,ie){Q[0]==="-"?Z.setProperty(Q,ie):Z[Q]=ie==null?"":typeof ie!="number"||N.test(Q)?ie:ie+"px"}function ge(Z,Q,ie,ye,Se){var _e;e:if(Q==="style")if(typeof ie=="string")Z.style.cssText=ie;else{if(typeof ye=="string"&&(Z.style.cssText=ye=""),ye)for(Q in ye)ie&&Q in ie||ve(Z.style,Q,"");if(ie)for(Q in ie)ye&&ie[Q]===ye[Q]||ve(Z.style,Q,ie[Q])}else if(Q[0]==="o"&&Q[1]==="n")_e=Q!==(Q=Q.replace(/Capture$/,"")),Q=Q.toLowerCase()in Z?Q.toLowerCase().slice(2):Q.slice(2),Z.l||(Z.l={}),Z.l[Q+_e]=ie,ie?ye||Z.addEventListener(Q,_e?Ee:he,_e):Z.removeEventListener(Q,_e?Ee:he,_e);else if(Q!=="dangerouslySetInnerHTML"){if(Se)Q=Q.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if(Q!=="href"&&Q!=="list"&&Q!=="form"&&Q!=="tabIndex"&&Q!=="download"&&Q in Z)try{Z[Q]=ie==null?"":ie;break e}catch(Ke){}typeof ie=="function"||(ie!=null&&(ie!==!1||Q[0]==="a"&&Q[1]==="r")?Z.setAttribute(Q,ie):Z.removeAttribute(Q))}}function he(Z){this.l[Z.type+!1](l.event?l.event(Z):Z)}function Ee(Z){this.l[Z.type+!0](l.event?l.event(Z):Z)}function fe(Z,Q,ie,ye,Se,_e,Ke,Xe,$e){var Ve,de,K,Be,Le,Ye,kt,it,st,ht,Ft,X=Q.type;if(Q.constructor!==void 0)return null;ie.__h!=null&&($e=ie.__h,Xe=Q.__e=ie.__e,Q.__h=null,_e=[Xe]),(Ve=l.__b)&&Ve(Q);try{e:if(typeof X=="function"){if(it=Q.props,st=(Ve=X.contextType)&&ye[Ve.__c],ht=Ve?st?st.props.value:Ve.__:ye,ie.__c?kt=(de=Q.__c=ie.__c).__=de.__E:("prototype"in X&&X.prototype.render?Q.__c=de=new X(it,ht):(Q.__c=de=new V(it,ht),de.constructor=X,de.render=Ne),st&&st.sub(de),de.props=it,de.state||(de.state={}),de.context=ht,de.__n=ye,K=de.__d=!0,de.__h=[]),de.__s==null&&(de.__s=de.state),X.getDerivedStateFromProps!=null&&(de.__s==de.state&&(de.__s=R({},de.__s)),R(de.__s,X.getDerivedStateFromProps(it,de.__s))),Be=de.props,Le=de.state,K)X.getDerivedStateFromProps==null&&de.componentWillMount!=null&&de.componentWillMount(),de.componentDidMount!=null&&de.__h.push(de.componentDidMount);else{if(X.getDerivedStateFromProps==null&&it!==Be&&de.componentWillReceiveProps!=null&&de.componentWillReceiveProps(it,ht),!de.__e&&de.shouldComponentUpdate!=null&&de.shouldComponentUpdate(it,de.__s,ht)===!1||Q.__v===ie.__v){de.props=it,de.state=de.__s,Q.__v!==ie.__v&&(de.__d=!1),de.__v=Q,Q.__e=ie.__e,Q.__k=ie.__k,Q.__k.forEach(function(ee){ee&&(ee.__=Q)}),de.__h.length&&Ke.push(de);break e}de.componentWillUpdate!=null&&de.componentWillUpdate(it,de.__s,ht),de.componentDidUpdate!=null&&de.__h.push(function(){de.componentDidUpdate(Be,Le,Ye)})}de.context=ht,de.props=it,de.state=de.__s,(Ve=l.__r)&&Ve(Q),de.__d=!1,de.__v=Q,de.__P=Z,Ve=de.render(de.props,de.state,de.context),de.state=de.__s,de.getChildContext!=null&&(ye=R(R({},ye),de.getChildContext())),K||de.getSnapshotBeforeUpdate==null||(Ye=de.getSnapshotBeforeUpdate(Be,Le)),Ft=Ve!=null&&Ve.type===q&&Ve.key==null?Ve.props.children:Ve,G(Z,Array.isArray(Ft)?Ft:[Ft],Q,ie,ye,Se,_e,Ke,Xe,$e),de.base=Q.__e,Q.__h=null,de.__h.length&&Ke.push(de),kt&&(de.__E=de.__=null),de.__e=!1}else _e==null&&Q.__v===ie.__v?(Q.__k=ie.__k,Q.__e=ie.__e):Q.__e=me(ie.__e,Q,ie,ye,Se,_e,Ke,$e);(Ve=l.diffed)&&Ve(Q)}catch(ee){Q.__v=null,($e||_e!=null)&&(Q.__e=Xe,Q.__h=!!$e,_e[_e.indexOf(Xe)]=null),l.__e(ee,Q,ie)}}function se(Z,Q){l.__c&&l.__c(Q,Z),Z.some(function(ie){try{Z=ie.__h,ie.__h=[],Z.some(function(ye){ye.call(ie)})}catch(ye){l.__e(ye,ie.__v)}})}function me(Z,Q,ie,ye,Se,_e,Ke,Xe){var $e,Ve,de,K=ie.props,Be=Q.props,Le=Q.type,Ye=0;if(Le==="svg"&&(Se=!0),_e!=null){for(;Ye<_e.length;Ye++)if(($e=_e[Ye])&&"setAttribute"in $e==!!Le&&(Le?$e.localName===Le:$e.nodeType===3)){Z=$e,_e[Ye]=null;break}}if(Z==null){if(Le===null)return document.createTextNode(Be);Z=Se?document.createElementNS("http://www.w3.org/2000/svg",Le):document.createElement(Le,Be.is&&Be),_e=null,Xe=!1}if(Le===null)K===Be||Xe&&Z.data===Be||(Z.data=Be);else{if(_e=_e&&p.call(Z.childNodes),Ve=(K=ie.props||P).dangerouslySetInnerHTML,de=Be.dangerouslySetInnerHTML,!Xe){if(_e!=null)for(K={},Ye=0;Ye<Z.attributes.length;Ye++)K[Z.attributes[Ye].name]=Z.attributes[Ye].value;(de||Ve)&&(de&&(Ve&&de.__html==Ve.__html||de.__html===Z.innerHTML)||(Z.innerHTML=de&&de.__html||""))}if(function(kt,it,st,ht,Ft){var X;for(X in st)X==="children"||X==="key"||X in it||ge(kt,X,null,st[X],ht);for(X in it)Ft&&typeof it[X]!="function"||X==="children"||X==="key"||X==="value"||X==="checked"||st[X]===it[X]||ge(kt,X,it[X],st[X],ht)}(Z,Be,K,Se,Xe),de)Q.__k=[];else if(Ye=Q.props.children,G(Z,Array.isArray(Ye)?Ye:[Ye],Q,ie,ye,Se&&Le!=="foreignObject",_e,Ke,_e?_e[0]:ie.__k&&C(ie,0),Xe),_e!=null)for(Ye=_e.length;Ye--;)_e[Ye]!=null&&F(_e[Ye]);Xe||("value"in Be&&(Ye=Be.value)!==void 0&&(Ye!==K.value||Ye!==Z.value||Le==="progress"&&!Ye)&&ge(Z,"value",Ye,K.value,!1),"checked"in Be&&(Ye=Be.checked)!==void 0&&Ye!==Z.checked&&ge(Z,"checked",Ye,K.checked,!1))}return Z}function Oe(Z,Q,ie){try{typeof Z=="function"?Z(Q):Z.current=Q}catch(ye){l.__e(ye,ie)}}function Ae(Z,Q,ie){var ye,Se;if(l.unmount&&l.unmount(Z),(ye=Z.ref)&&(ye.current&&ye.current!==Z.__e||Oe(ye,null,Q)),(ye=Z.__c)!=null){if(ye.componentWillUnmount)try{ye.componentWillUnmount()}catch(_e){l.__e(_e,Q)}ye.base=ye.__P=null}if(ye=Z.__k)for(Se=0;Se<ye.length;Se++)ye[Se]&&Ae(ye[Se],Q,typeof Z.type!="function");ie||Z.__e==null||F(Z.__e),Z.__e=Z.__d=void 0}function Ne(Z,Q,ie){return this.constructor(Z,ie)}function ze(Z,Q,ie){var ye,Se,_e;l.__&&l.__(Z,Q),Se=(ye=typeof ie=="function")?null:ie&&ie.__k||Q.__k,_e=[],fe(Q,Z=(!ye&&ie||Q).__k=U(q,null,[Z]),Se||P,P,Q.ownerSVGElement!==void 0,!ye&&ie?[ie]:Se?null:Q.firstChild?p.call(Q.childNodes):null,_e,!ye&&ie?ie:Se?Se.__e:Q.firstChild,ye),se(_e,Z)}function Me(Z,Q){ze(Z,Q,Me)}function He(Z,Q,ie){var ye,Se,_e,Ke=R({},Z.props);for(_e in Q)_e=="key"?ye=Q[_e]:_e=="ref"?Se=Q[_e]:Ke[_e]=Q[_e];return arguments.length>2&&(Ke.children=arguments.length>3?p.call(arguments,2):ie),z(Z.type,Ke,ye||Z.key,Se||Z.ref,null)}function at(Z,Q){var ie={__c:Q="__cC"+S++,__:Z,Consumer:function(ye,Se){return ye.children(Se)},Provider:function(ye){var Se,_e;return this.getChildContext||(Se=[],(_e={})[Q]=this,this.getChildContext=function(){return _e},this.shouldComponentUpdate=function(Ke){this.props.value!==Ke.value&&Se.some(M)},this.sub=function(Ke){Se.push(Ke);var Xe=Ke.componentWillUnmount;Ke.componentWillUnmount=function(){Se.splice(Se.indexOf(Ke),1),Xe&&Xe.call(Ke)}}),ye.children}};return ie.Provider.__=ie.Consumer.contextType=ie}p=A.slice,l={__e:function(Z,Q){for(var ie,ye,Se;Q=Q.__;)if((ie=Q.__c)&&!ie.__)try{if((ye=ie.constructor)&&ye.getDerivedStateFromError!=null&&(ie.setState(ye.getDerivedStateFromError(Z)),Se=ie.__d),ie.componentDidCatch!=null&&(ie.componentDidCatch(Z),Se=ie.__d),Se)return ie.__E=ie}catch(_e){Z=_e}throw Z}},b=0,V.prototype.setState=function(Z,Q){var ie;ie=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=R({},this.state),typeof Z=="function"&&(Z=Z(R({},ie),this.props)),Z&&R(ie,Z),Z!=null&&this.__v&&(Q&&this.__h.push(Q),M(this))},V.prototype.forceUpdate=function(Z){this.__v&&(this.__e=!0,Z&&this.__h.push(Z),M(this))},V.prototype.render=q,O=[],w=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,L.__r=0,S=0},function(c,f,a){var p=a(114),l=a(45),b=a(172);p||l(Object.prototype,"toString",b,{unsafe:!0})},function(c,f,a){var p=a(39),l=a(76),b=a(66),O=a(57),w=a(108),_=O.set,S=O.getterFor("Array Iterator");c.exports=w(Array,"Array",function(P,A){_(this,{type:"Array Iterator",target:p(P),index:0,kind:A})},function(){var P=S(this),A=P.target,N=P.kind,R=P.index++;return!A||R>=A.length?(P.target=void 0,{value:void 0,done:!0}):N=="keys"?{value:R,done:!1}:N=="values"?{value:A[R],done:!1}:{value:[R,A[R]],done:!1}},"values"),b.Arguments=b.Array,l("keys"),l("values"),l("entries")},function(c,f,a){var p=a(9),l=a(143),b=a(144),O=a(3),w=a(53),_=a(27),S=_("iterator"),P=_("toStringTag"),A=O.values,N=function(F,U){if(F){if(F[S]!==A)try{w(F,S,A)}catch(Y){F[S]=A}if(F[P]||w(F,P,U),l[U]){for(var z in O)if(F[z]!==O[z])try{w(F,z,O[z])}catch(Y){F[z]=O[z]}}}};for(var R in l)N(p[R]&&p[R].prototype,R);N(b,"DOMTokenList")},function(c,f,a){var p=a(17),l=a(9),b=a(49),O=a(95),w=a(36),_=a(15),S=a(78),P=a(35),A=a(104),N=a(19),R=a(34),F=a(93),U=a(30),z=a(33),Y=a(55),q=a(83),V=a(32),C=a(38),B=a(39),M=a(82),L=a(40),G=a(67),te=a(52),J=a(62),ae=a(68),ve=a(134),ge=a(109),he=a(54),Ee=a(37),fe=a(87),se=a(117),me=a(45),Oe=a(77),Ae=a(86),Ne=a(65),ze=a(79),Me=a(27),He=a(145),at=a(146),Z=a(90),Q=a(57),ie=a(69).forEach,ye=Ae("hidden"),Se=Me("toPrimitive"),_e=Q.set,Ke=Q.getterFor("Symbol"),Xe=Object.prototype,$e=l.Symbol,Ve=$e&&$e.prototype,de=l.TypeError,K=l.QObject,Be=b("JSON","stringify"),Le=he.f,Ye=Ee.f,kt=ve.f,it=fe.f,st=_([].push),ht=Oe("symbols"),Ft=Oe("op-symbols"),X=Oe("string-to-symbol-registry"),ee=Oe("symbol-to-string-registry"),le=Oe("wks"),we=!K||!K.prototype||!K.prototype.findChild,Ze=P&&N(function(){return te(Ye({},"a",{get:function(){return Ye(this,"a",{value:7}).a}})).a!=7})?function(Te,Ge,Je){var lt=Le(Xe,Ge);lt&&delete Xe[Ge],Ye(Te,Ge,Je),lt&&Te!==Xe&&Ye(Xe,Ge,lt)}:Ye,Ue=function(Te,Ge){var Je=ht[Te]=te(Ve);return _e(Je,{type:"Symbol",tag:Te,description:Ge}),P||(Je.description=Ge),Je},et=function(Te,Ge,Je){Te===Xe&&et(Ft,Ge,Je),V(Te);var lt=M(Ge);return V(Je),R(ht,lt)?(Je.enumerable?(R(Te,ye)&&Te[ye][lt]&&(Te[ye][lt]=!1),Je=te(Je,{enumerable:G(0,!1)})):(R(Te,ye)||Ye(Te,ye,G(1,{})),Te[ye][lt]=!0),Ze(Te,lt,Je)):Ye(Te,lt,Je)},yt=function(Te,Ge){V(Te);var Je=B(Ge),lt=J(Je).concat(Ln(Je));return ie(lt,function(Et){P&&!w(At,Je,Et)||et(Te,Et,Je[Et])}),Te},At=function(Te){var Ge=M(Te),Je=w(it,this,Ge);return!(this===Xe&&R(ht,Ge)&&!R(Ft,Ge))&&(!(Je||!R(this,Ge)||!R(ht,Ge)||R(this,ye)&&this[ye][Ge])||Je)},zt=function(Te,Ge){var Je=B(Te),lt=M(Ge);if(Je!==Xe||!R(ht,lt)||R(Ft,lt)){var Et=Le(Je,lt);return!Et||!R(ht,lt)||R(Je,ye)&&Je[ye][lt]||(Et.enumerable=!0),Et}},rr=function(Te){var Ge=kt(B(Te)),Je=[];return ie(Ge,function(lt){R(ht,lt)||R(Ne,lt)||st(Je,lt)}),Je},Ln=function(Te){var Ge=Te===Xe,Je=kt(Ge?Ft:B(Te)),lt=[];return ie(Je,function(Et){!R(ht,Et)||Ge&&!R(Xe,Et)||st(lt,ht[Et])}),lt};if(A||(me(Ve=($e=function(){if(Y(Ve,this))throw de("Symbol is not a constructor");var Te=arguments.length&&arguments[0]!==void 0?L(arguments[0]):void 0,Ge=ze(Te),Je=function(lt){this===Xe&&w(Je,Ft,lt),R(this,ye)&&R(this[ye],Ge)&&(this[ye][Ge]=!1),Ze(this,Ge,G(1,lt))};return P&&we&&Ze(Xe,Ge,{configurable:!0,set:Je}),Ue(Ge,Te)}).prototype,"toString",function(){return Ke(this).tag}),me($e,"withoutSetter",function(Te){return Ue(ze(Te),Te)}),fe.f=At,Ee.f=et,he.f=zt,ae.f=ve.f=rr,ge.f=Ln,He.f=function(Te){return Ue(Me(Te),Te)},P&&(Ye(Ve,"description",{configurable:!0,get:function(){return Ke(this).description}}),S||me(Xe,"propertyIsEnumerable",At,{unsafe:!0}))),p({global:!0,wrap:!0,forced:!A,sham:!A},{Symbol:$e}),ie(J(le),function(Te){at(Te)}),p({target:"Symbol",stat:!0,forced:!A},{for:function(Te){var Ge=L(Te);if(R(X,Ge))return X[Ge];var Je=$e(Ge);return X[Ge]=Je,ee[Je]=Ge,Je},keyFor:function(Te){if(!q(Te))throw de(Te+" is not a symbol");if(R(ee,Te))return ee[Te]},useSetter:function(){we=!0},useSimple:function(){we=!1}}),p({target:"Object",stat:!0,forced:!A,sham:!P},{create:function(Te,Ge){return Ge===void 0?te(Te):yt(te(Te),Ge)},defineProperty:et,defineProperties:yt,getOwnPropertyDescriptor:zt}),p({target:"Object",stat:!0,forced:!A},{getOwnPropertyNames:rr,getOwnPropertySymbols:Ln}),p({target:"Object",stat:!0,forced:N(function(){ge.f(1)})},{getOwnPropertySymbols:function(Te){return ge.f(C(Te))}}),Be&&p({target:"JSON",stat:!0,forced:!A||N(function(){var Te=$e();return Be([Te])!="[null]"||Be({a:Te})!="{}"||Be(Object(Te))!="{}"})},{stringify:function(Te,Ge,Je){var lt=se(arguments),Et=Ge;if((z(Ge)||Te!==void 0)&&!q(Te))return F(Ge)||(Ge=function(Mt,$t){if(U(Et)&&($t=w(Et,this,Mt,$t)),!q($t))return $t}),lt[1]=Ge,O(Be,null,lt)}}),!Ve[Se]){var Ot=Ve.valueOf;me(Ve,Se,function(Te){return w(Ot,this)})}Z($e,"Symbol"),Ne[ye]=!0},function(c,f,a){var p=a(142).charAt,l=a(40),b=a(57),O=a(108),w=b.set,_=b.getterFor("String Iterator");O(String,"String",function(S){w(this,{type:"String Iterator",string:l(S),index:0})},function(){var S,P=_(this),A=P.string,N=P.index;return N>=A.length?{value:void 0,done:!0}:(S=p(A,N),P.index+=S.length,{value:S,done:!1})})},function(c,f,a){var p=a(17),l=a(35),b=a(9),O=a(15),w=a(34),_=a(30),S=a(55),P=a(40),A=a(37).f,N=a(129),R=b.Symbol,F=R&&R.prototype;if(l&&_(R)&&(!("description"in F)||R().description!==void 0)){var U={},z=function(){var L=arguments.length<1||arguments[0]===void 0?void 0:P(arguments[0]),G=S(F,this)?new R(L):L===void 0?R():R(L);return L===""&&(U[G]=!0),G};N(z,R),z.prototype=F,F.constructor=z;var Y=String(R("test"))=="Symbol(test)",q=O(F.toString),V=O(F.valueOf),C=/^Symbol\((.*)\)[^)]+$/,B=O("".replace),M=O("".slice);A(F,"description",{configurable:!0,get:function(){var L=V(this),G=q(L);if(w(U,L))return"";var te=Y?M(G,7,-1):B(G,C,"$1");return te===""?void 0:te}}),p({global:!0,forced:!0},{Symbol:z})}},function(c,f,a){a(146)("iterator")},function(c,f,a){(function(p){var l=function(b){return b&&b.Math==Math&&b};c.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof p=="object"&&p)||function(){return this}()||Function("return this")()}).call(this,a(75))},function(c,f,a){a.d(f,"a",function(){return O.a}),a.d(f,"c",function(){return O.e}),a.d(f,"h",function(){return C}),a.d(f,"i",function(){return Y}),a.d(f,"j",function(){return U}),a.d(f,"b",function(){return he}),a.d(f,"e",function(){return me}),a.d(f,"f",function(){return Ee}),a.d(f,"g",function(){return st});var p,l,b,O=a(1),w=0,_=[],S=O.i.__b,P=O.i.__r,A=O.i.diffed,N=O.i.__c,R=O.i.unmount;function F(X,ee){O.i.__h&&O.i.__h(l,X,w||ee),w=0;var le=l.__H||(l.__H={__:[],__h:[]});return X>=le.__.length&&le.__.push({}),le.__[X]}function U(X){return w=1,z(ae,X)}function z(X,ee,le){var we=F(p++,2);return we.t=X,we.__c||(we.__=[le?le(ee):ae(void 0,ee),function(Ze){var Ue=we.t(we.__[0],Ze);we.__[0]!==Ue&&(we.__=[Ue,we.__[1]],we.__c.setState({}))}],we.__c=l),we.__}function Y(X,ee){var le=F(p++,3);!O.i.__s&&J(le.__H,ee)&&(le.__=X,le.__H=ee,l.__H.__h.push(le))}function q(X,ee){var le=F(p++,4);!O.i.__s&&J(le.__H,ee)&&(le.__=X,le.__H=ee,l.__h.push(le))}function V(X,ee){var le=F(p++,7);return J(le.__H,ee)&&(le.__=X(),le.__H=ee,le.__h=X),le.__}function C(X,ee){return w=8,V(function(){return X},ee)}function B(){var X;for(_.sort(function(ee,le){return ee.__v.__b-le.__v.__b});X=_.pop();)if(X.__P)try{X.__H.__h.forEach(G),X.__H.__h.forEach(te),X.__H.__h=[]}catch(ee){X.__H.__h=[],O.i.__e(ee,X.__v)}}O.i.__b=function(X){l=null,S&&S(X)},O.i.__r=function(X){P&&P(X),p=0;var ee=(l=X.__c).__H;ee&&(ee.__h.forEach(G),ee.__h.forEach(te),ee.__h=[])},O.i.diffed=function(X){A&&A(X);var ee=X.__c;ee&&ee.__H&&ee.__H.__h.length&&(_.push(ee)!==1&&b===O.i.requestAnimationFrame||((b=O.i.requestAnimationFrame)||L)(B)),l=null},O.i.__c=function(X,ee){ee.some(function(le){try{le.__h.forEach(G),le.__h=le.__h.filter(function(we){return!we.__||te(we)})}catch(we){ee.some(function(Ze){Ze.__h&&(Ze.__h=[])}),ee=[],O.i.__e(we,le.__v)}}),N&&N(X,ee)},O.i.unmount=function(X){R&&R(X);var ee,le=X.__c;le&&le.__H&&(le.__H.__.forEach(function(we){try{G(we)}catch(Ze){ee=Ze}}),ee&&O.i.__e(ee,le.__v))};var M=typeof requestAnimationFrame=="function";function L(X){var ee,le=function(){clearTimeout(we),M&&cancelAnimationFrame(ee),setTimeout(X)},we=setTimeout(le,100);M&&(ee=requestAnimationFrame(le))}function G(X){var ee=l,le=X.__c;typeof le=="function"&&(X.__c=void 0,le()),l=ee}function te(X){var ee=l;X.__c=X.__(),l=ee}function J(X,ee){return!X||X.length!==ee.length||ee.some(function(le,we){return le!==X[we]})}function ae(X,ee){return typeof ee=="function"?ee(X):ee}function ve(X,ee){for(var le in ee)X[le]=ee[le];return X}function ge(X,ee){for(var le in X)if(le!=="__source"&&!(le in ee))return!0;for(var we in ee)if(we!=="__source"&&X[we]!==ee[we])return!0;return!1}function he(X){this.props=X}function Ee(X,ee){function le(Ze){var Ue=this.props.ref,et=Ue==Ze.ref;return!et&&Ue&&(Ue.call?Ue(null):Ue.current=null),ee?!ee(this.props,Ze)||!et:ge(this.props,Ze)}function we(Ze){return this.shouldComponentUpdate=le,Object(O.e)(X,Ze)}return we.displayName="Memo("+(X.displayName||X.name)+")",we.prototype.isReactComponent=!0,we.__f=!0,we}(he.prototype=new O.a).isPureReactComponent=!0,he.prototype.shouldComponentUpdate=function(X,ee){return ge(this.props,X)||ge(this.state,ee)};var fe=O.i.__b;O.i.__b=function(X){X.type&&X.type.__f&&X.ref&&(X.props.ref=X.ref,X.ref=null),fe&&fe(X)};var se=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function me(X){function ee(le,we){var Ze=ve({},le);return delete Ze.ref,X(Ze,!(we=le.ref||we)||typeof we=="object"&&!("current"in we)?null:we)}return ee.$$typeof=se,ee.render=ee,ee.prototype.isReactComponent=ee.__f=!0,ee.displayName="ForwardRef("+(X.displayName||X.name)+")",ee}var Oe=function(X,ee){return X==null?null:Object(O.k)(Object(O.k)(X).map(ee))},Ae={map:Oe,forEach:Oe,count:function(X){return X?Object(O.k)(X).length:0},only:function(X){var ee=Object(O.k)(X);if(ee.length!==1)throw"Children.only";return ee[0]},toArray:O.k},Ne=O.i.__e;O.i.__e=function(X,ee,le){if(X.then){for(var we,Ze=ee;Ze=Ze.__;)if((we=Ze.__c)&&we.__c)return ee.__e==null&&(ee.__e=le.__e,ee.__k=le.__k),we.__c(X,ee)}Ne(X,ee,le)};var ze=O.i.unmount;function Me(){this.__u=0,this.t=null,this.__b=null}function He(X){var ee=X.__.__c;return ee&&ee.__e&&ee.__e(X)}function at(){this.u=null,this.o=null}O.i.unmount=function(X){var ee=X.__c;ee&&ee.__R&&ee.__R(),ee&&X.__h===!0&&(X.type=null),ze&&ze(X)},(Me.prototype=new O.a).__c=function(X,ee){var le=ee.__c,we=this;we.t==null&&(we.t=[]),we.t.push(le);var Ze=He(we.__v),Ue=!1,et=function(){Ue||(Ue=!0,le.__R=null,Ze?Ze(yt):yt())};le.__R=et;var yt=function(){if(!--we.__u){if(we.state.__e){var zt=we.state.__e;we.__v.__k[0]=function Ln(Ot,Te,Ge){return Ot&&(Ot.__v=null,Ot.__k=Ot.__k&&Ot.__k.map(function(Je){return Ln(Je,Te,Ge)}),Ot.__c&&Ot.__c.__P===Te&&(Ot.__e&&Ge.insertBefore(Ot.__e,Ot.__d),Ot.__c.__e=!0,Ot.__c.__P=Ge)),Ot}(zt,zt.__c.__P,zt.__c.__O)}var rr;for(we.setState({__e:we.__b=null});rr=we.t.pop();)rr.forceUpdate()}},At=ee.__h===!0;we.__u++||At||we.setState({__e:we.__b=we.__v.__k[0]}),X.then(et,et)},Me.prototype.componentWillUnmount=function(){this.t=[]},Me.prototype.render=function(X,ee){if(this.__b){if(this.__v.__k){var le=document.createElement("div"),we=this.__v.__k[0].__c;this.__v.__k[0]=function Ue(et,yt,At){return et&&(et.__c&&et.__c.__H&&(et.__c.__H.__.forEach(function(zt){typeof zt.__c=="function"&&zt.__c()}),et.__c.__H=null),(et=ve({},et)).__c!=null&&(et.__c.__P===At&&(et.__c.__P=yt),et.__c=null),et.__k=et.__k&&et.__k.map(function(zt){return Ue(zt,yt,At)})),et}(this.__b,le,we.__O=we.__P)}this.__b=null}var Ze=ee.__e&&Object(O.e)(O.b,null,X.fallback);return Ze&&(Ze.__h=null),[Object(O.e)(O.b,null,ee.__e?null:X.children),Ze]};var Z=function(X,ee,le){if(++le[1]===le[0]&&X.o.delete(ee),X.props.revealOrder&&(X.props.revealOrder[0]!=="t"||!X.o.size))for(le=X.u;le;){for(;le.length>3;)le.pop()();if(le[1]<le[0])break;X.u=le=le[2]}};function Q(X){return this.getChildContext=function(){return X.context},X.children}function ie(X){var ee=this,le=X.i;ee.componentWillUnmount=function(){Object(O.j)(null,ee.l),ee.l=null,ee.i=null},ee.i&&ee.i!==le&&ee.componentWillUnmount(),X.__v?(ee.l||(ee.i=le,ee.l={nodeType:1,parentNode:le,childNodes:[],appendChild:function(we){this.childNodes.push(we),ee.i.appendChild(we)},insertBefore:function(we,Ze){this.childNodes.push(we),ee.i.appendChild(we)},removeChild:function(we){this.childNodes.splice(this.childNodes.indexOf(we)>>>1,1),ee.i.removeChild(we)}}),Object(O.j)(Object(O.e)(Q,{context:ee.context},X.__v),ee.l)):ee.l&&ee.componentWillUnmount()}(at.prototype=new O.a).__e=function(X){var ee=this,le=He(ee.__v),we=ee.o.get(X);return we[0]++,function(Ze){var Ue=function(){ee.props.revealOrder?(we.push(Ze),Z(ee,X,we)):Ze()};le?le(Ue):Ue()}},at.prototype.render=function(X){this.u=null,this.o=new Map;var ee=Object(O.k)(X.children);X.revealOrder&&X.revealOrder[0]==="b"&&ee.reverse();for(var le=ee.length;le--;)this.o.set(ee[le],this.u=[1,0,this.u]);return X.children},at.prototype.componentDidUpdate=at.prototype.componentDidMount=function(){var X=this;this.o.forEach(function(ee,le){Z(X,le,ee)})};var ye=typeof Symbol!="undefined"&&Symbol.for&&Symbol.for("react.element")||60103,Se=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,_e=typeof document!="undefined",Ke=function(X){return(typeof Symbol!="undefined"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(X)};O.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(X){Object.defineProperty(O.a.prototype,X,{configurable:!0,get:function(){return this["UNSAFE_"+X]},set:function(ee){Object.defineProperty(this,X,{configurable:!0,writable:!0,value:ee})}})});var Xe=O.i.event;function $e(){}function Ve(){return this.cancelBubble}function de(){return this.defaultPrevented}O.i.event=function(X){return Xe&&(X=Xe(X)),X.persist=$e,X.isPropagationStopped=Ve,X.isDefaultPrevented=de,X.nativeEvent=X};var K,Be={configurable:!0,get:function(){return this.class}},Le=O.i.vnode;O.i.vnode=function(X){var ee=X.type,le=X.props,we=le;if(typeof ee=="string"){var Ze=ee.indexOf("-")===-1;for(var Ue in we={},le){var et=le[Ue];_e&&Ue==="children"&&ee==="noscript"||Ue==="value"&&"defaultValue"in le&&et==null||(Ue==="defaultValue"&&"value"in le&&le.value==null?Ue="value":Ue==="download"&&et===!0?et="":/ondoubleclick/i.test(Ue)?Ue="ondblclick":/^onchange(textarea|input)/i.test(Ue+ee)&&!Ke(le.type)?Ue="oninput":/^onfocus$/i.test(Ue)?Ue="onfocusin":/^onblur$/i.test(Ue)?Ue="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(Ue)?Ue=Ue.toLowerCase():Ze&&Se.test(Ue)?Ue=Ue.replace(/[A-Z0-9]/,"-$&").toLowerCase():et===null&&(et=void 0),we[Ue]=et)}ee=="select"&&we.multiple&&Array.isArray(we.value)&&(we.value=Object(O.k)(le.children).forEach(function(yt){yt.props.selected=we.value.indexOf(yt.props.value)!=-1})),ee=="select"&&we.defaultValue!=null&&(we.value=Object(O.k)(le.children).forEach(function(yt){yt.props.selected=we.multiple?we.defaultValue.indexOf(yt.props.value)!=-1:we.defaultValue==yt.props.value})),X.props=we,le.class!=le.className&&(Be.enumerable="className"in le,le.className!=null&&(we.class=le.className),Object.defineProperty(we,"className",Be))}X.$$typeof=ye,Le&&Le(X)};var Ye=O.i.__r;O.i.__r=function(X){Ye&&Ye(X),K=X.__c};var kt={ReactCurrentDispatcher:{current:{readContext:function(X){return K.__n[X.__c].props.value}}}};function it(X){return!!X&&X.$$typeof===ye}var st=function(X,ee){return X(ee)},ht=O.b,Ft={useState:U,useReducer:z,useEffect:Y,useLayoutEffect:q,useRef:function(X){return w=5,V(function(){return{current:X}},[])},useImperativeHandle:function(X,ee,le){w=6,q(function(){typeof X=="function"?X(ee()):X&&(X.current=ee())},le==null?le:le.concat(X))},useMemo:V,useCallback:C,useContext:function(X){var ee=l.context[X.__c],le=F(p++,9);return le.c=X,ee?(le.__==null&&(le.__=!0,ee.sub(l)),ee.props.value):X.__},useDebugValue:function(X,ee){O.i.useDebugValue&&O.i.useDebugValue(ee?ee(X):X)},version:"17.0.2",Children:Ae,render:function(X,ee,le){return ee.__k==null&&(ee.textContent=""),Object(O.j)(X,ee),typeof le=="function"&&le(),X?X.__c:null},hydrate:function(X,ee,le){return Object(O.h)(X,ee),typeof le=="function"&&le(),X?X.__c:null},unmountComponentAtNode:function(X){return!!X.__k&&(Object(O.j)(null,X),!0)},createPortal:function(X,ee){return Object(O.e)(ie,{__v:X,i:ee})},createElement:O.e,createContext:O.d,createFactory:function(X){return O.e.bind(null,X)},cloneElement:function(X){return it(X)?O.c.apply(null,arguments):X},createRef:O.f,Fragment:O.b,isValidElement:it,findDOMNode:function(X){return X&&(X.base||X.nodeType===1&&X)||null},Component:O.a,PureComponent:he,memo:Ee,forwardRef:me,flushSync:function(X,ee){return X(ee)},unstable_batchedUpdates:st,StrictMode:ht,Suspense:Me,SuspenseList:at,lazy:function(X){var ee,le,we;function Ze(Ue){if(ee||(ee=X()).then(function(et){le=et.default||et},function(et){we=et}),we)throw we;if(!le)throw ee;return Object(O.e)(le,Ue)}return Ze.displayName="Lazy",Ze.__f=!0,Ze},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:kt};f.d=Ft},function(c,f,a){var p=a(9),l=a(143),b=a(144),O=a(173),w=a(53),_=function(P){if(P&&P.forEach!==O)try{w(P,"forEach",O)}catch(A){P.forEach=O}};for(var S in l)l[S]&&_(p[S]&&p[S].prototype);_(b)},function(c,f,a){a(17)({target:"Object",stat:!0},{setPrototypeOf:a(111)})},function(c,f,a){var p=a(17),l=a(19),b=a(38),O=a(89),w=a(132);p({target:"Object",stat:!0,forced:l(function(){O(1)}),sham:!w},{getPrototypeOf:function(_){return O(b(_))}})},function(c,f,a){var p=a(17),l=a(49),b=a(95),O=a(194),w=a(152),_=a(32),S=a(33),P=a(52),A=a(19),N=l("Reflect","construct"),R=Object.prototype,F=[].push,U=A(function(){function q(){}return!(N(function(){},[],q)instanceof q)}),z=!A(function(){N(function(){})}),Y=U||z;p({target:"Reflect",stat:!0,forced:Y,sham:Y},{construct:function(q,V){w(q),_(V);var C=arguments.length<3?q:w(arguments[2]);if(z&&!U)return N(q,V,C);if(q==C){switch(V.length){case 0:return new q;case 1:return new q(V[0]);case 2:return new q(V[0],V[1]);case 3:return new q(V[0],V[1],V[2]);case 4:return new q(V[0],V[1],V[2],V[3])}var B=[null];return b(F,B,V),new(b(O,q,B))}var M=C.prototype,L=P(S(M)?M:R),G=b(q,L,V);return S(G)?G:L}})},function(c,f){var a=Function.prototype,p=a.bind,l=a.call,b=p&&p.bind(l);c.exports=p?function(O){return O&&b(l,O)}:function(O){return O&&function(){return l.apply(O,arguments)}}},function(c,f,a){var p=a(17),l=a(9),b=a(93),O=a(94),w=a(33),_=a(63),S=a(43),P=a(39),A=a(59),N=a(27),R=a(70),F=a(117),U=R("slice"),z=N("species"),Y=l.Array,q=Math.max;p({target:"Array",proto:!0,forced:!U},{slice:function(V,C){var B,M,L,G=P(this),te=S(G),J=_(V,te),ae=_(C===void 0?te:C,te);if(b(G)&&(B=G.constructor,(O(B)&&(B===Y||b(B.prototype))||w(B)&&(B=B[z])===null)&&(B=void 0),B===Y||B===void 0))return F(G,J,ae);for(M=new(B===void 0?Y:B)(q(ae-J,0)),L=0;J<ae;J++,L++)J in G&&A(M,L,G[J]);return M.length=L,M}})},function(c,f,a){var p=a(9),l=a(54).f,b=a(53),O=a(45),w=a(103),_=a(129),S=a(110);c.exports=function(P,A){var N,R,F,U,z,Y=P.target,q=P.global,V=P.stat;if(N=q?p:V?p[Y]||w(Y,{}):(p[Y]||{}).prototype)for(R in A){if(U=A[R],F=P.noTargetGet?(z=l(N,R))&&z.value:N[R],!S(q?R:Y+(V?".":"#")+R,P.forced)&&F!==void 0){if(typeof U==typeof F)continue;_(U,F)}(P.sham||F&&F.sham)&&b(U,"sham",!0),O(N,R,U,P)}}},function(c,f,a){var p=a(17),l=a(96);p({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},function(c,f){c.exports=function(a){try{return!!a()}catch(p){return!0}}},function(c,f,a){var p=a(17),l=a(38),b=a(62);p({target:"Object",stat:!0,forced:a(19)(function(){b(1)})},{keys:function(O){return b(l(O))}})},function(c,f,a){var p=a(17),l=a(19),b=a(39),O=a(54).f,w=a(35),_=l(function(){O(1)});p({target:"Object",stat:!0,forced:!w||_,sham:!w},{getOwnPropertyDescriptor:function(S,P){return O(b(S),P)}})},function(c,f,a){var p=a(17),l=a(69).filter;p({target:"Array",proto:!0,forced:!a(70)("filter")},{filter:function(b){return l(this,b,arguments.length>1?arguments[1]:void 0)}})},function(c,f,a){var p=a(17),l=a(35),b=a(130),O=a(39),w=a(54),_=a(59);p({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(S){for(var P,A,N=O(S),R=w.f,F=b(N),U={},z=0;F.length>z;)(A=R(N,P=F[z++]))!==void 0&&_(U,P,A);return U}})},function(c,f,a){var p=a(35),l=a(88).EXISTS,b=a(15),O=a(37).f,w=Function.prototype,_=b(w.toString),S=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,P=b(S.exec);p&&!l&&O(w,"name",{configurable:!0,get:function(){try{return P(S,_(this))[1]}catch(A){return""}}})},function(c,f,a){var p=a(17),l=a(176);p({target:"Array",stat:!0,forced:!a(140)(function(b){Array.from(b)})},{from:l})},,function(c,f,a){var p=a(9),l=a(77),b=a(34),O=a(79),w=a(104),_=a(124),S=l("wks"),P=p.Symbol,A=P&&P.for,N=_?P:P&&P.withoutSetter||O;c.exports=function(R){if(!b(S,R)||!w&&typeof S[R]!="string"){var F="Symbol."+R;w&&b(P,R)?S[R]=P[R]:S[R]=_&&A?A(F):N(F)}return S[R]}},function(c,f,a){var p=a(17),l=a(9),b=a(19),O=a(93),w=a(33),_=a(38),S=a(43),P=a(59),A=a(115),N=a(70),R=a(27),F=a(80),U=R("isConcatSpreadable"),z=l.TypeError,Y=F>=51||!b(function(){var C=[];return C[U]=!1,C.concat()[0]!==C}),q=N("concat"),V=function(C){if(!w(C))return!1;var B=C[U];return B!==void 0?!!B:O(C)};p({target:"Array",proto:!0,forced:!Y||!q},{concat:function(C){var B,M,L,G,te,J=_(this),ae=A(J,0),ve=0;for(B=-1,L=arguments.length;B<L;B++)if(V(te=B===-1?J:arguments[B])){if(ve+(G=S(te))>9007199254740991)throw z("Maximum allowed index exceeded");for(M=0;M<G;M++,ve++)M in te&&P(ae,ve,te[M])}else{if(ve>=9007199254740991)throw z("Maximum allowed index exceeded");P(ae,ve++,te)}return ae.length=ve,ae}})},function(c,f,a){var p=a(100),l=typeof self=="object"&&self&&self.Object===Object&&self,b=p.a||l||Function("return this")();f.a=b},function(c,f){c.exports=function(a){return typeof a=="function"}},function(c,f,a){var p=a(17),l=a(196);p({target:"Object",stat:!0,forced:Object.assign!==l},{assign:l})},function(c,f,a){var p=a(9),l=a(33),b=p.String,O=p.TypeError;c.exports=function(w){if(l(w))return w;throw O(b(w)+" is not an object")}},function(c,f,a){var p=a(30);c.exports=function(l){return typeof l=="object"?l!==null:p(l)}},function(c,f,a){var p=a(15),l=a(38),b=p({}.hasOwnProperty);c.exports=Object.hasOwn||function(O,w){return b(l(O),w)}},function(c,f,a){var p=a(19);c.exports=!p(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},function(c,f){var a=Function.prototype.call;c.exports=a.bind?a.bind(a):function(){return a.apply(a,arguments)}},function(c,f,a){var p=a(9),l=a(35),b=a(125),O=a(32),w=a(82),_=p.TypeError,S=Object.defineProperty;f.f=l?S:function(P,A,N){if(O(P),A=w(A),O(N),b)try{return S(P,A,N)}catch(R){}if("get"in N||"set"in N)throw _("Accessors not supported");return"value"in N&&(P[A]=N.value),P}},function(c,f,a){var p=a(9),l=a(44),b=p.Object;c.exports=function(O){return b(l(O))}},function(c,f,a){var p=a(74),l=a(44);c.exports=function(b){return p(l(b))}},function(c,f,a){var p=a(9),l=a(92),b=p.String;c.exports=function(O){if(l(O)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return b(O)}},function(c,f,a){var p=a(17),l=a(69).map;p({target:"Array",proto:!0,forced:!a(70)("map")},{map:function(b){return l(this,b,arguments.length>1?arguments[1]:void 0)}})},function(c,f,a){(function(p){a.d(f,"d",function(){return O}),a.d(f,"c",function(){return w}),a.d(f,"b",function(){return _}),a.d(f,"a",function(){return P});var l=a(10),b=function(A,N){var R=typeof Symbol=="function"&&A[Symbol.iterator];if(!R)return A;var F,U,z=R.call(A),Y=[];try{for(;(N===void 0||N-- >0)&&!(F=z.next()).done;)Y.push(F.value)}catch(q){U={error:q}}finally{try{F&&!F.done&&(R=z.return)&&R.call(z)}finally{if(U)throw U.error}}return Y};function O(){var A=b(Object(l.j)(0),2)[1];return Object(l.h)(function(){A(function(N){return N+1})},[])}function w(A){if(!A||typeof A!="object")return!1;var N=Object.getPrototypeOf(A);return!N||N===Object.prototype}function _(A){return typeof Symbol=="function"?Symbol.for(A):"__$mobx-react "+A+"__"}var S={};function P(){return typeof window!="undefined"?window:p!==void 0?p:typeof self!="undefined"?self:S}}).call(this,a(75))},function(c,f,a){var p=a(85);c.exports=function(l){return p(l.length)}},function(c,f,a){var p=a(9).TypeError;c.exports=function(l){if(l==null)throw p("Can't call method on "+l);return l}},function(c,f,a){var p=a(9),l=a(30),b=a(34),O=a(53),w=a(103),_=a(107),S=a(57),P=a(88).CONFIGURABLE,A=S.get,N=S.enforce,R=String(String).split("String");(c.exports=function(F,U,z,Y){var q,V=!!Y&&!!Y.unsafe,C=!!Y&&!!Y.enumerable,B=!!Y&&!!Y.noTargetGet,M=Y&&Y.name!==void 0?Y.name:U;l(z)&&(String(M).slice(0,7)==="Symbol("&&(M="["+String(M).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!b(z,"name")||P&&z.name!==M)&&O(z,"name",M),(q=N(z)).source||(q.source=R.join(typeof M=="string"?M:""))),F!==p?(V?!B&&F[U]&&(C=!0):delete F[U],C?F[U]=z:O(F,U,z)):C?F[U]=z:w(U,z)})(Function.prototype,"toString",function(){return l(this)&&A(this).source||_(this)})},function(c,f,a){var p=a(17),l=a(36),b=a(33),O=a(32),w=a(195),_=a(54),S=a(89);p({target:"Reflect",stat:!0},{get:function P(A,N){var R,F,U=arguments.length<3?A:arguments[2];return O(A)===U?A[N]:(R=_.f(A,N))?w(R)?R.value:R.get===void 0?void 0:l(R.get,U):b(F=S(A))?P(F,N,U):void 0}})},function(c,f,a){(function(p){var l=a(29),b=a(156),O=h&&!h.nodeType&&h,w=O&&typeof p=="object"&&p&&!p.nodeType&&p,_=w&&w.exports===O?l.a.Buffer:void 0,S=(_?_.isBuffer:void 0)||b.a;f.a=S}).call(this,a(118)(c))},function(c,f,a){(function(p){var l=a(100),b=h&&!h.nodeType&&h,O=b&&typeof p=="object"&&p&&!p.nodeType&&p,w=O&&O.exports===b&&l.a.process,_=function(){try{var S=O&&O.require&&O.require("util").types;return S||w&&w.binding&&w.binding("util")}catch(P){}}();f.a=_}).call(this,a(118)(c))},function(c,f,a){var p=a(9),l=a(30),b=function(O){return l(O)?O:void 0};c.exports=function(O,w){return arguments.length<2?b(p[O]):p[O]&&p[O][w]}},function(c,f,a){var p=a(17),l=a(200).entries;p({target:"Object",stat:!0},{entries:function(b){return l(b)}})},function(c,f,a){var p=a(15),l=p({}.toString),b=p("".slice);c.exports=function(O){return b(l(O),8,-1)}},function(c,f,a){var p,l=a(32),b=a(159),O=a(106),w=a(65),_=a(161),S=a(105),P=a(86),A=P("IE_PROTO"),N=function(){},R=function(z){return"<script>"+z+"<\/script>"},F=function(z){z.write(R("")),z.close();var Y=z.parentWindow.Object;return z=null,Y},U=function(){try{p=new ActiveXObject("htmlfile")}catch(V){}var z,Y;U=typeof document!="undefined"?document.domain&&p?F(p):((Y=S("iframe")).style.display="none",_.appendChild(Y),Y.src=String("javascript:"),(z=Y.contentWindow.document).open(),z.write(R("document.F=Object")),z.close(),z.F):F(p);for(var q=O.length;q--;)delete U.prototype[O[q]];return U()};w[A]=!0,c.exports=Object.create||function(z,Y){var q;return z!==null?(N.prototype=l(z),q=new N,N.prototype=null,q[A]=z):q=U(),Y===void 0?q:b(q,Y)}},function(c,f,a){var p=a(35),l=a(37),b=a(67);c.exports=p?function(O,w,_){return l.f(O,w,b(1,_))}:function(O,w,_){return O[w]=_,O}},function(c,f,a){var p=a(35),l=a(36),b=a(87),O=a(67),w=a(39),_=a(82),S=a(34),P=a(125),A=Object.getOwnPropertyDescriptor;f.f=p?A:function(N,R){if(N=w(N),R=_(R),P)try{return A(N,R)}catch(F){}if(S(N,R))return O(!l(b.f,N,R),N[R])}},function(c,f,a){var p=a(15);c.exports=p({}.isPrototypeOf)},function(c,f,a){var p=a(61);c.exports=function(l,b){var O=l[b];return O==null?void 0:p(O)}},function(c,f,a){var p,l,b,O=a(162),w=a(9),_=a(15),S=a(33),P=a(53),A=a(34),N=a(102),R=a(86),F=a(65),U=w.TypeError,z=w.WeakMap;if(O||N.state){var Y=N.state||(N.state=new z),q=_(Y.get),V=_(Y.has),C=_(Y.set);p=function(M,L){if(V(Y,M))throw new U("Object already initialized");return L.facade=M,C(Y,M,L),L},l=function(M){return q(Y,M)||{}},b=function(M){return V(Y,M)}}else{var B=R("state");F[B]=!0,p=function(M,L){if(A(M,B))throw new U("Object already initialized");return L.facade=M,P(M,B,L),L},l=function(M){return A(M,B)?M[B]:{}},b=function(M){return A(M,B)}}c.exports={set:p,get:l,has:b,enforce:function(M){return b(M)?l(M):p(M,{})},getterFor:function(M){return function(L){var G;if(!S(L)||(G=l(L)).type!==M)throw U("Incompatible receiver, "+M+" required");return G}}}},function(c,f,a){a(165)("Map",function(p){return function(){return p(this,arguments.length?arguments[0]:void 0)}},a(169))},function(c,f,a){var p=a(82),l=a(37),b=a(67);c.exports=function(O,w,_){var S=p(w);S in O?l.f(O,S,b(0,_)):O[S]=_}},function(c,f,a){var p=a(17),l=a(201),b=a(76);p({target:"Array",proto:!0},{fill:l}),b("fill")},function(c,f,a){var p=a(9),l=a(30),b=a(84),O=p.TypeError;c.exports=function(w){if(l(w))return w;throw O(b(w)+" is not a function")}},function(c,f,a){var p=a(127),l=a(106);c.exports=Object.keys||function(b){return p(b,l)}},function(c,f,a){var p=a(64),l=Math.max,b=Math.min;c.exports=function(O,w){var _=p(O);return _<0?l(_+w,0):b(_,w)}},function(c,f){var a=Math.ceil,p=Math.floor;c.exports=function(l){var b=+l;return b!=b||b===0?0:(b>0?p:a)(b)}},function(c,f){c.exports={}},function(c,f){c.exports={}},function(c,f){c.exports=function(a,p){return{enumerable:!(1&a),configurable:!(2&a),writable:!(4&a),value:p}}},function(c,f,a){var p=a(127),l=a(106).concat("length","prototype");f.f=Object.getOwnPropertyNames||function(b){return p(b,l)}},function(c,f,a){var p=a(91),l=a(15),b=a(74),O=a(38),w=a(43),_=a(115),S=l([].push),P=function(A){var N=A==1,R=A==2,F=A==3,U=A==4,z=A==6,Y=A==7,q=A==5||z;return function(V,C,B,M){for(var L,G,te=O(V),J=b(te),ae=p(C,B),ve=w(J),ge=0,he=M||_,Ee=N?he(V,ve):R||Y?he(V,0):void 0;ve>ge;ge++)if((q||ge in J)&&(G=ae(L=J[ge],ge,te),A))if(N)Ee[ge]=G;else if(G)switch(A){case 3:return!0;case 5:return L;case 6:return ge;case 2:S(Ee,L)}else switch(A){case 4:return!1;case 7:S(Ee,L)}return z?-1:F||U?U:Ee}};c.exports={forEach:P(0),map:P(1),filter:P(2),some:P(3),every:P(4),find:P(5),findIndex:P(6),filterReject:P(7)}},function(c,f,a){var p=a(19),l=a(27),b=a(80),O=l("species");c.exports=function(w){return b>=51||!p(function(){var _=[];return(_.constructor={})[O]=function(){return{foo:1}},_[w](Boolean).foo!==1})}},function(c,f,a){var p=a(95),l=a(36),b=a(15),O=a(119),w=a(150),_=a(32),S=a(44),P=a(189),A=a(120),N=a(85),R=a(40),F=a(56),U=a(112),z=a(121),Y=a(96),q=a(147),V=a(19),C=q.UNSUPPORTED_Y,B=Math.min,M=[].push,L=b(/./.exec),G=b(M),te=b("".slice);O("split",function(J,ae,ve){var ge;return ge="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||".".split(/()()/).length>1||"".split(/.?/).length?function(he,Ee){var fe=R(S(this)),se=Ee===void 0?4294967295:Ee>>>0;if(se===0)return[];if(he===void 0)return[fe];if(!w(he))return l(ae,fe,he,se);for(var me,Oe,Ae,Ne=[],ze=(he.ignoreCase?"i":"")+(he.multiline?"m":"")+(he.unicode?"u":"")+(he.sticky?"y":""),Me=0,He=new RegExp(he.source,ze+"g");(me=l(Y,He,fe))&&!((Oe=He.lastIndex)>Me&&(G(Ne,te(fe,Me,me.index)),me.length>1&&me.index<fe.length&&p(M,Ne,U(me,1)),Ae=me[0].length,Me=Oe,Ne.length>=se));)He.lastIndex===me.index&&He.lastIndex++;return Me===fe.length?!Ae&&L(He,"")||G(Ne,""):G(Ne,te(fe,Me)),Ne.length>se?U(Ne,0,se):Ne}:"0".split(void 0,0).length?function(he,Ee){return he===void 0&&Ee===0?[]:l(ae,this,he,Ee)}:ae,[function(he,Ee){var fe=S(this),se=he==null?void 0:F(he,J);return se?l(se,he,fe,Ee):l(ge,R(fe),he,Ee)},function(he,Ee){var fe=_(this),se=R(he),me=ve(ge,fe,se,Ee,ge!==ae);if(me.done)return me.value;var Oe=P(fe,RegExp),Ae=fe.unicode,Ne=(fe.ignoreCase?"i":"")+(fe.multiline?"m":"")+(fe.unicode?"u":"")+(C?"g":"y"),ze=new Oe(C?"^(?:"+fe.source+")":fe,Ne),Me=Ee===void 0?4294967295:Ee>>>0;if(Me===0)return[];if(se.length===0)return z(ze,se)===null?[se]:[];for(var He=0,at=0,Z=[];at<se.length;){ze.lastIndex=C?0:at;var Q,ie=z(ze,C?te(se,at):se);if(ie===null||(Q=B(N(ze.lastIndex+(C?at:0)),se.length))===He)at=A(se,at,Ae);else{if(G(Z,te(se,He,at)),Z.length===Me)return Z;for(var ye=1;ye<=ie.length-1;ye++)if(G(Z,ie[ye]),Z.length===Me)return Z;at=He=Q}}return G(Z,te(se,He)),Z}]},!!V(function(){var J=/(?:)/,ae=J.exec;J.exec=function(){return ae.apply(this,arguments)};var ve="ab".split(J);return ve.length!==2||ve[0]!=="a"||ve[1]!=="b"}),C)},function(c,f,a){var p=a(35),l=a(9),b=a(15),O=a(110),w=a(45),_=a(34),S=a(141),P=a(55),A=a(83),N=a(126),R=a(19),F=a(68).f,U=a(54).f,z=a(37).f,Y=a(192),q=a(153).trim,V=l.Number,C=V.prototype,B=l.TypeError,M=b("".slice),L=b("".charCodeAt),G=function(he){var Ee=N(he,"number");return typeof Ee=="bigint"?Ee:te(Ee)},te=function(he){var Ee,fe,se,me,Oe,Ae,Ne,ze,Me=N(he,"number");if(A(Me))throw B("Cannot convert a Symbol value to a number");if(typeof Me=="string"&&Me.length>2){if(Me=q(Me),(Ee=L(Me,0))===43||Ee===45){if((fe=L(Me,2))===88||fe===120)return NaN}else if(Ee===48){switch(L(Me,1)){case 66:case 98:se=2,me=49;break;case 79:case 111:se=8,me=55;break;default:return+Me}for(Ae=(Oe=M(Me,2)).length,Ne=0;Ne<Ae;Ne++)if((ze=L(Oe,Ne))<48||ze>me)return NaN;return parseInt(Oe,se)}}return+Me};if(O("Number",!V(" 0o1")||!V("0b1")||V("+0x1"))){for(var J,ae=function(he){var Ee=arguments.length<1?0:V(G(he)),fe=this;return P(C,fe)&&R(function(){Y(fe)})?S(Object(Ee),fe,ae):Ee},ve=p?F(V):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),ge=0;ve.length>ge;ge++)_(V,J=ve[ge])&&!_(ae,J)&&z(ae,J,U(V,J));ae.prototype=C,C.constructor=ae,w(l,"Number",ae)}},function(c,f,a){a(17)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(c,f,a){var p=a(9),l=a(15),b=a(19),O=a(51),w=p.Object,_=l("".split);c.exports=b(function(){return!w("z").propertyIsEnumerable(0)})?function(S){return O(S)=="String"?_(S,""):w(S)}:w},function(c,f){var a;a=function(){return this}();try{a=a||new Function("return this")()}catch(p){typeof window=="object"&&(a=window)}c.exports=a},function(c,f,a){var p=a(27),l=a(52),b=a(37),O=p("unscopables"),w=Array.prototype;w[O]==null&&b.f(w,O,{configurable:!0,value:l(null)}),c.exports=function(_){w[O][_]=!0}},function(c,f,a){var p=a(78),l=a(102);(c.exports=function(b,O){return l[b]||(l[b]=O!==void 0?O:{})})("versions",[]).push({version:"3.19.3",mode:p?"pure":"global",copyright:"\xA9 2021 Denis Pushkarev (zloirock.ru)"})},function(c,f){c.exports=!1},function(c,f,a){var p=a(15),l=0,b=Math.random(),O=p(1 .toString);c.exports=function(w){return"Symbol("+(w===void 0?"":w)+")_"+O(++l+b,36)}},function(c,f,a){var p,l,b=a(9),O=a(81),w=b.process,_=b.Deno,S=w&&w.versions||_&&_.version,P=S&&S.v8;P&&(l=(p=P.split("."))[0]>0&&p[0]<4?1:+(p[0]+p[1])),!l&&O&&(!(p=O.match(/Edge\/(\d+)/))||p[1]>=74)&&(p=O.match(/Chrome\/(\d+)/))&&(l=+p[1]),c.exports=l},function(c,f,a){var p=a(49);c.exports=p("navigator","userAgent")||""},function(c,f,a){var p=a(126),l=a(83);c.exports=function(b){var O=p(b,"string");return l(O)?O:O+""}},function(c,f,a){var p=a(9),l=a(49),b=a(30),O=a(55),w=a(124),_=p.Object;c.exports=w?function(S){return typeof S=="symbol"}:function(S){var P=l("Symbol");return b(P)&&O(P.prototype,_(S))}},function(c,f,a){var p=a(9).String;c.exports=function(l){try{return p(l)}catch(b){return"Object"}}},function(c,f,a){var p=a(64),l=Math.min;c.exports=function(b){return b>0?l(p(b),9007199254740991):0}},function(c,f,a){var p=a(77),l=a(79),b=p("keys");c.exports=function(O){return b[O]||(b[O]=l(O))}},function(c,f,a){var p={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,b=l&&!p.call({1:2},1);f.f=b?function(O){var w=l(this,O);return!!w&&w.enumerable}:p},function(c,f,a){var p=a(35),l=a(34),b=Function.prototype,O=p&&Object.getOwnPropertyDescriptor,w=l(b,"name"),_=w&&function(){}.name==="something",S=w&&(!p||p&&O(b,"name").configurable);c.exports={EXISTS:w,PROPER:_,CONFIGURABLE:S}},function(c,f,a){var p=a(9),l=a(34),b=a(30),O=a(38),w=a(86),_=a(132),S=w("IE_PROTO"),P=p.Object,A=P.prototype;c.exports=_?P.getPrototypeOf:function(N){var R=O(N);if(l(R,S))return R[S];var F=R.constructor;return b(F)&&R instanceof F?F.prototype:R instanceof P?A:null}},function(c,f,a){var p=a(37).f,l=a(34),b=a(27)("toStringTag");c.exports=function(O,w,_){O&&!l(O=_?O:O.prototype,b)&&p(O,b,{configurable:!0,value:w})}},function(c,f,a){var p=a(15),l=a(61),b=p(p.bind);c.exports=function(O,w){return l(O),w===void 0?O:b?b(O,w):function(){return O.apply(w,arguments)}}},function(c,f,a){var p=a(9),l=a(114),b=a(30),O=a(51),w=a(27)("toStringTag"),_=p.Object,S=O(function(){return arguments}())=="Arguments";c.exports=l?O:function(P){var A,N,R;return P===void 0?"Undefined":P===null?"Null":typeof(N=function(F,U){try{return F[U]}catch(z){}}(A=_(P),w))=="string"?N:S?O(A):(R=O(A))=="Object"&&b(A.callee)?"Arguments":R}},function(c,f,a){var p=a(51);c.exports=Array.isArray||function(l){return p(l)=="Array"}},function(c,f,a){var p=a(15),l=a(19),b=a(30),O=a(92),w=a(49),_=a(107),S=function(){},P=[],A=w("Reflect","construct"),N=/^\s*(?:class|function)\b/,R=p(N.exec),F=!N.exec(S),U=function(z){if(!b(z))return!1;try{return A(S,P,z),!0}catch(Y){return!1}};c.exports=!A||l(function(){var z;return U(U.call)||!U(Object)||!U(function(){z=!0})||z})?function(z){if(!b(z))return!1;switch(O(z)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return F||!!R(N,_(z))}:U},function(c,f){var a=Function.prototype,p=a.apply,l=a.bind,b=a.call;c.exports=typeof Reflect=="object"&&Reflect.apply||(l?b.bind(p):function(){return b.apply(p,arguments)})},function(c,f,a){var p,l,b=a(36),O=a(15),w=a(40),_=a(178),S=a(147),P=a(77),A=a(52),N=a(57).get,R=a(179),F=a(180),U=P("native-string-replace",String.prototype.replace),z=RegExp.prototype.exec,Y=z,q=O("".charAt),V=O("".indexOf),C=O("".replace),B=O("".slice),M=(l=/b*/g,b(z,p=/a/,"a"),b(z,l,"a"),p.lastIndex!==0||l.lastIndex!==0),L=S.BROKEN_CARET,G=/()??/.exec("")[1]!==void 0;(M||G||L||R||F)&&(Y=function(te){var J,ae,ve,ge,he,Ee,fe,se=this,me=N(se),Oe=w(te),Ae=me.raw;if(Ae)return Ae.lastIndex=se.lastIndex,J=b(Y,Ae,Oe),se.lastIndex=Ae.lastIndex,J;var Ne=me.groups,ze=L&&se.sticky,Me=b(_,se),He=se.source,at=0,Z=Oe;if(ze&&(Me=C(Me,"y",""),V(Me,"g")===-1&&(Me+="g"),Z=B(Oe,se.lastIndex),se.lastIndex>0&&(!se.multiline||se.multiline&&q(Oe,se.lastIndex-1)!==`
`)&&(He="(?: "+He+")",Z=" "+Z,at++),ae=new RegExp("^(?:"+He+")",Me)),G&&(ae=new RegExp("^"+He+"$(?!\\s)",Me)),M&&(ve=se.lastIndex),ge=b(z,ze?ae:se,Z),ze?ge?(ge.input=B(ge.input,at),ge[0]=B(ge[0],at),ge.index=se.lastIndex,se.lastIndex+=ge[0].length):se.lastIndex=0:M&&ge&&(se.lastIndex=se.global?ge.index+ge[0].length:ve),G&&ge&&ge.length>1&&b(U,ge[0],ae,function(){for(he=1;he<arguments.length-2;he++)arguments[he]===void 0&&(ge[he]=void 0)}),ge&&Ne)for(ge.groups=Ee=A(null),he=0;he<Ne.length;he++)Ee[(fe=Ne[he])[0]]=ge[fe[1]];return ge}),c.exports=Y},function(c,f,a){var p=a(17),l=a(9),b=a(63),O=a(64),w=a(43),_=a(38),S=a(115),P=a(59),A=a(70)("splice"),N=l.TypeError,R=Math.max,F=Math.min;p({target:"Array",proto:!0,forced:!A},{splice:function(U,z){var Y,q,V,C,B,M,L=_(this),G=w(L),te=b(U,G),J=arguments.length;if(J===0?Y=q=0:J===1?(Y=0,q=G-te):(Y=J-2,q=F(R(O(z),0),G-te)),G+Y-q>9007199254740991)throw N("Maximum allowed length exceeded");for(V=S(L,q),C=0;C<q;C++)(B=te+C)in L&&P(V,C,L[B]);if(V.length=q,Y<q){for(C=te;C<G-q;C++)M=C+Y,(B=C+q)in L?L[M]=L[B]:delete L[M];for(C=G;C>G-q+Y;C--)delete L[C-1]}else if(Y>q)for(C=G-q;C>te;C--)M=C+Y-1,(B=C+q-1)in L?L[M]=L[B]:delete L[M];for(C=0;C<Y;C++)L[C+te]=arguments[C+2];return L.length=G-q+Y,V}})},function(c,f,a){var p=a(17),l=a(15),b=a(74),O=a(39),w=a(116),_=l([].join),S=b!=Object,P=w("join",",");p({target:"Array",proto:!0,forced:S||!P},{join:function(A){return _(O(this),A===void 0?",":A)}})},function(c,f,a){var p=a(17),l=a(197);p({target:"String",proto:!0,forced:a(198)("anchor")},{anchor:function(b){return l(this,"a","name",b)}})},function(c,f,a){(function(p){var l=typeof p=="object"&&p&&p.Object===Object&&p;f.a=l}).call(this,a(75))},function(c,f,a){(function(p){var l=a(29),b=h&&!h.nodeType&&h,O=b&&typeof p=="object"&&p&&!p.nodeType&&p,w=O&&O.exports===b?l.a.Buffer:void 0,_=w?w.allocUnsafe:void 0;f.a=function(S,P){if(P)return S.slice();var A=S.length,N=_?_(A):new S.constructor(A);return S.copy(N),N}}).call(this,a(118)(c))},function(c,f,a){var p=a(9),l=a(103),b=p["__core-js_shared__"]||l("__core-js_shared__",{});c.exports=b},function(c,f,a){var p=a(9),l=Object.defineProperty;c.exports=function(b,O){try{l(p,b,{value:O,configurable:!0,writable:!0})}catch(w){p[b]=O}return O}},function(c,f,a){var p=a(80),l=a(19);c.exports=!!Object.getOwnPropertySymbols&&!l(function(){var b=Symbol();return!String(b)||!(Object(b)instanceof Symbol)||!Symbol.sham&&p&&p<41})},function(c,f,a){var p=a(9),l=a(33),b=p.document,O=l(b)&&l(b.createElement);c.exports=function(w){return O?b.createElement(w):{}}},function(c,f){c.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(c,f,a){var p=a(15),l=a(30),b=a(102),O=p(Function.toString);l(b.inspectSource)||(b.inspectSource=function(w){return O(w)}),c.exports=b.inspectSource},function(c,f,a){var p=a(17),l=a(36),b=a(78),O=a(88),w=a(30),_=a(163),S=a(89),P=a(111),A=a(90),N=a(53),R=a(45),F=a(27),U=a(66),z=a(131),Y=O.PROPER,q=O.CONFIGURABLE,V=z.IteratorPrototype,C=z.BUGGY_SAFARI_ITERATORS,B=F("iterator"),M=function(){return this};c.exports=function(L,G,te,J,ae,ve,ge){_(te,G,J);var he,Ee,fe,se=function(He){if(He===ae&&ze)return ze;if(!C&&He in Ae)return Ae[He];switch(He){case"keys":case"values":case"entries":return function(){return new te(this,He)}}return function(){return new te(this)}},me=G+" Iterator",Oe=!1,Ae=L.prototype,Ne=Ae[B]||Ae["@@iterator"]||ae&&Ae[ae],ze=!C&&Ne||se(ae),Me=G=="Array"&&Ae.entries||Ne;if(Me&&(he=S(Me.call(new L)))!==Object.prototype&&he.next&&(b||S(he)===V||(P?P(he,V):w(he[B])||R(he,B,M)),A(he,me,!0,!0),b&&(U[me]=M)),Y&&ae=="values"&&Ne&&Ne.name!=="values"&&(!b&&q?N(Ae,"name","values"):(Oe=!0,ze=function(){return l(Ne,this)})),ae)if(Ee={values:se("values"),keys:ve?ze:se("keys"),entries:se("entries")},ge)for(fe in Ee)(C||Oe||!(fe in Ae))&&R(Ae,fe,Ee[fe]);else p({target:G,proto:!0,forced:C||Oe},Ee);return b&&!ge||Ae[B]===ze||R(Ae,B,ze,{name:ae}),U[G]=ze,Ee}},function(c,f){f.f=Object.getOwnPropertySymbols},function(c,f,a){var p=a(19),l=a(30),b=/#|\.prototype\./,O=function(A,N){var R=_[w(A)];return R==P||R!=S&&(l(N)?p(N):!!N)},w=O.normalize=function(A){return String(A).replace(b,".").toLowerCase()},_=O.data={},S=O.NATIVE="N",P=O.POLYFILL="P";c.exports=O},function(c,f,a){var p=a(15),l=a(32),b=a(164);c.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var O,w=!1,_={};try{(O=p(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(_,[]),w=_ instanceof Array}catch(S){}return function(S,P){return l(S),b(P),w?O(S,P):S.__proto__=P,S}}():void 0)},function(c,f,a){var p=a(9),l=a(63),b=a(43),O=a(59),w=p.Array,_=Math.max;c.exports=function(S,P,A){for(var N=b(S),R=l(P,N),F=l(A===void 0?N:A,N),U=w(_(F-R,0)),z=0;R<F;R++,z++)O(U,z,S[R]);return U.length=z,U}},function(c,f,a){var p=a(92),l=a(56),b=a(66),O=a(27)("iterator");c.exports=function(w){if(w!=null)return l(w,O)||l(w,"@@iterator")||b[p(w)]}},function(c,f,a){var p={};p[a(27)("toStringTag")]="z",c.exports=String(p)==="[object z]"},function(c,f,a){var p=a(174);c.exports=function(l,b){return new(p(l))(b===0?0:b)}},function(c,f,a){var p=a(19);c.exports=function(l,b){var O=[][l];return!!O&&p(function(){O.call(null,b||function(){throw 1},1)})}},function(c,f,a){var p=a(15);c.exports=p([].slice)},function(c,f){c.exports=function(a){if(!a.webpackPolyfill){var p=Object.create(a);p.children||(p.children=[]),Object.defineProperty(p,"loaded",{enumerable:!0,get:function(){return p.l}}),Object.defineProperty(p,"id",{enumerable:!0,get:function(){return p.i}}),Object.defineProperty(p,"exports",{enumerable:!0}),p.webpackPolyfill=1}return p}},function(c,f,a){a(18);var p=a(15),l=a(45),b=a(96),O=a(19),w=a(27),_=a(53),S=w("species"),P=RegExp.prototype;c.exports=function(A,N,R,F){var U=w(A),z=!O(function(){var C={};return C[U]=function(){return 7},""[A](C)!=7}),Y=z&&!O(function(){var C=!1,B=/a/;return A==="split"&&((B={}).constructor={},B.constructor[S]=function(){return B},B.flags="",B[U]=/./[U]),B.exec=function(){return C=!0,null},B[U](""),!C});if(!z||!Y||R){var q=p(/./[U]),V=N(U,""[A],function(C,B,M,L,G){var te=p(C),J=B.exec;return J===b||J===P.exec?z&&!G?{done:!0,value:q(B,M,L)}:{done:!0,value:te(M,B,L)}:{done:!1}});l(String.prototype,A,V[0]),l(P,U,V[1])}F&&_(P[U],"sham",!0)}},function(c,f,a){var p=a(142).charAt;c.exports=function(l,b,O){return b+(O?p(l,b).length:1)}},function(c,f,a){var p=a(9),l=a(36),b=a(32),O=a(30),w=a(51),_=a(96),S=p.TypeError;c.exports=function(P,A){var N=P.exec;if(O(N)){var R=l(N,P,A);return R!==null&&b(R),R}if(w(P)==="RegExp")return l(_,P,A);throw S("RegExp#exec called on incompatible receiver")}},function(c,f,a){var p=a(95),l=a(36),b=a(15),O=a(119),w=a(19),_=a(32),S=a(30),P=a(64),A=a(85),N=a(40),R=a(44),F=a(120),U=a(56),z=a(193),Y=a(121),q=a(27)("replace"),V=Math.max,C=Math.min,B=b([].concat),M=b([].push),L=b("".indexOf),G=b("".slice),te="a".replace(/./,"$0")==="$0",J=!!/./[q]&&/./[q]("a","$0")==="";O("replace",function(ae,ve,ge){var he=J?"$":"$0";return[function(Ee,fe){var se=R(this),me=Ee==null?void 0:U(Ee,q);return me?l(me,Ee,se,fe):l(ve,N(se),Ee,fe)},function(Ee,fe){var se=_(this),me=N(Ee);if(typeof fe=="string"&&L(fe,he)===-1&&L(fe,"$<")===-1){var Oe=ge(ve,se,me,fe);if(Oe.done)return Oe.value}var Ae=S(fe);Ae||(fe=N(fe));var Ne=se.global;if(Ne){var ze=se.unicode;se.lastIndex=0}for(var Me=[];;){var He=Y(se,me);if(He===null||(M(Me,He),!Ne))break;N(He[0])===""&&(se.lastIndex=F(me,A(se.lastIndex),ze))}for(var at,Z="",Q=0,ie=0;ie<Me.length;ie++){for(var ye=N((He=Me[ie])[0]),Se=V(C(P(He.index),me.length),0),_e=[],Ke=1;Ke<He.length;Ke++)M(_e,(at=He[Ke])===void 0?at:String(at));var Xe=He.groups;if(Ae){var $e=B([ye],_e,Se,me);Xe!==void 0&&M($e,Xe);var Ve=N(p(fe,void 0,$e))}else Ve=z(ye,me,Se,_e,Xe,fe);Se>=Q&&(Z+=G(me,Q,Se)+Ve,Q=Se+ye.length)}return Z+G(me,Q)}]},!!w(function(){var ae=/./;return ae.exec=function(){var ve=[];return ve.groups={a:"7"},ve},"".replace(ae,"$<a>")!=="7"})||!te||J)},function(c,f,a){a(17)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(c,f,a){var p=a(104);c.exports=p&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},function(c,f,a){var p=a(35),l=a(19),b=a(105);c.exports=!p&&!l(function(){return Object.defineProperty(b("div"),"a",{get:function(){return 7}}).a!=7})},function(c,f,a){var p=a(9),l=a(36),b=a(33),O=a(83),w=a(56),_=a(160),S=a(27),P=p.TypeError,A=S("toPrimitive");c.exports=function(N,R){if(!b(N)||O(N))return N;var F,U=w(N,A);if(U){if(R===void 0&&(R="default"),F=l(U,N,R),!b(F)||O(F))return F;throw P("Can't convert object to primitive value")}return R===void 0&&(R="number"),_(N,R)}},function(c,f,a){var p=a(15),l=a(34),b=a(39),O=a(128).indexOf,w=a(65),_=p([].push);c.exports=function(S,P){var A,N=b(S),R=0,F=[];for(A in N)!l(w,A)&&l(N,A)&&_(F,A);for(;P.length>R;)l(N,A=P[R++])&&(~O(F,A)||_(F,A));return F}},function(c,f,a){var p=a(39),l=a(63),b=a(43),O=function(w){return function(_,S,P){var A,N=p(_),R=b(N),F=l(P,R);if(w&&S!=S){for(;R>F;)if((A=N[F++])!=A)return!0}else for(;R>F;F++)if((w||F in N)&&N[F]===S)return w||F||0;return!w&&-1}};c.exports={includes:O(!0),indexOf:O(!1)}},function(c,f,a){var p=a(34),l=a(130),b=a(54),O=a(37);c.exports=function(w,_){for(var S=l(_),P=O.f,A=b.f,N=0;N<S.length;N++){var R=S[N];p(w,R)||P(w,R,A(_,R))}}},function(c,f,a){var p=a(49),l=a(15),b=a(68),O=a(109),w=a(32),_=l([].concat);c.exports=p("Reflect","ownKeys")||function(S){var P=b.f(w(S)),A=O.f;return A?_(P,A(S)):P}},function(c,f,a){var p,l,b,O=a(19),w=a(30),_=a(52),S=a(89),P=a(45),A=a(27),N=a(78),R=A("iterator"),F=!1;[].keys&&("next"in(b=[].keys())?(l=S(S(b)))!==Object.prototype&&(p=l):F=!0),p==null||O(function(){var U={};return p[R].call(U)!==U})?p={}:N&&(p=_(p)),w(p[R])||P(p,R,function(){return this}),c.exports={IteratorPrototype:p,BUGGY_SAFARI_ITERATORS:F}},function(c,f,a){var p=a(19);c.exports=!p(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},function(c,f,a){var p=a(17),l=a(15),b=a(65),O=a(33),w=a(34),_=a(37).f,S=a(68),P=a(134),A=a(166),N=a(79),R=a(168),F=!1,U=N("meta"),z=0,Y=function(V){_(V,U,{value:{objectID:"O"+z++,weakData:{}}})},q=c.exports={enable:function(){q.enable=function(){},F=!0;var V=S.f,C=l([].splice),B={};B[U]=1,V(B).length&&(S.f=function(M){for(var L=V(M),G=0,te=L.length;G<te;G++)if(L[G]===U){C(L,G,1);break}return L},p({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:P.f}))},fastKey:function(V,C){if(!O(V))return typeof V=="symbol"?V:(typeof V=="string"?"S":"P")+V;if(!w(V,U)){if(!A(V))return"F";if(!C)return"E";Y(V)}return V[U].objectID},getWeakData:function(V,C){if(!w(V,U)){if(!A(V))return!0;if(!C)return!1;Y(V)}return V[U].weakData},onFreeze:function(V){return R&&F&&A(V)&&!w(V,U)&&Y(V),V}};b[U]=!0},function(c,f,a){var p=a(51),l=a(39),b=a(68).f,O=a(112),w=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];c.exports.f=function(_){return w&&p(_)=="Window"?function(S){try{return b(S)}catch(P){return O(w)}}(_):b(l(_))}},function(c,f,a){var p=a(9),l=a(91),b=a(36),O=a(32),w=a(84),_=a(136),S=a(43),P=a(55),A=a(137),N=a(113),R=a(138),F=p.TypeError,U=function(Y,q){this.stopped=Y,this.result=q},z=U.prototype;c.exports=function(Y,q,V){var C,B,M,L,G,te,J,ae=V&&V.that,ve=!(!V||!V.AS_ENTRIES),ge=!(!V||!V.IS_ITERATOR),he=!(!V||!V.INTERRUPTED),Ee=l(q,ae),fe=function(me){return C&&R(C,"normal",me),new U(!0,me)},se=function(me){return ve?(O(me),he?Ee(me[0],me[1],fe):Ee(me[0],me[1])):he?Ee(me,fe):Ee(me)};if(ge)C=Y;else{if(!(B=N(Y)))throw F(w(Y)+" is not iterable");if(_(B)){for(M=0,L=S(Y);L>M;M++)if((G=se(Y[M]))&&P(z,G))return G;return new U(!1)}C=A(Y,B)}for(te=C.next;!(J=b(te,C)).done;){try{G=se(J.value)}catch(me){R(C,"throw",me)}if(typeof G=="object"&&G&&P(z,G))return G}return new U(!1)}},function(c,f,a){var p=a(27),l=a(66),b=p("iterator"),O=Array.prototype;c.exports=function(w){return w!==void 0&&(l.Array===w||O[b]===w)}},function(c,f,a){var p=a(9),l=a(36),b=a(61),O=a(32),w=a(84),_=a(113),S=p.TypeError;c.exports=function(P,A){var N=arguments.length<2?_(P):A;if(b(N))return O(l(N,P));throw S(w(P)+" is not iterable")}},function(c,f,a){var p=a(36),l=a(32),b=a(56);c.exports=function(O,w,_){var S,P;l(O);try{if(!(S=b(O,"return"))){if(w==="throw")throw _;return _}S=p(S,O)}catch(A){P=!0,S=A}if(w==="throw")throw _;if(P)throw S;return l(S),_}},function(c,f,a){var p=a(9),l=a(55),b=p.TypeError;c.exports=function(O,w){if(l(w,O))return O;throw b("Incorrect invocation")}},function(c,f,a){var p=a(27)("iterator"),l=!1;try{var b=0,O={next:function(){return{done:!!b++}},return:function(){l=!0}};O[p]=function(){return this},Array.from(O,function(){throw 2})}catch(w){}c.exports=function(w,_){if(!_&&!l)return!1;var S=!1;try{var P={};P[p]=function(){return{next:function(){return{done:S=!0}}}},w(P)}catch(A){}return S}},function(c,f,a){var p=a(30),l=a(33),b=a(111);c.exports=function(O,w,_){var S,P;return b&&p(S=w.constructor)&&S!==_&&l(P=S.prototype)&&P!==_.prototype&&b(O,P),O}},function(c,f,a){var p=a(15),l=a(64),b=a(40),O=a(44),w=p("".charAt),_=p("".charCodeAt),S=p("".slice),P=function(A){return function(N,R){var F,U,z=b(O(N)),Y=l(R),q=z.length;return Y<0||Y>=q?A?"":void 0:(F=_(z,Y))<55296||F>56319||Y+1===q||(U=_(z,Y+1))<56320||U>57343?A?w(z,Y):F:A?S(z,Y,Y+2):U-56320+(F-55296<<10)+65536}};c.exports={codeAt:P(!1),charAt:P(!0)}},function(c,f){c.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(c,f,a){var p=a(105)("span").classList,l=p&&p.constructor&&p.constructor.prototype;c.exports=l===Object.prototype?void 0:l},function(c,f,a){var p=a(27);f.f=p},function(c,f,a){var p=a(175),l=a(34),b=a(145),O=a(37).f;c.exports=function(w){var _=p.Symbol||(p.Symbol={});l(_,w)||O(_,w,{value:b.f(w)})}},function(c,f,a){var p=a(19),l=a(9).RegExp,b=p(function(){var _=l("a","y");return _.lastIndex=2,_.exec("abcd")!=null}),O=b||p(function(){return!l("a","y").sticky}),w=b||p(function(){var _=l("^r","gy");return _.lastIndex=2,_.exec("str")!=null});c.exports={BROKEN_CARET:w,MISSED_STICKY:O,UNSUPPORTED_Y:b}},function(c,f,a){var p=a(17),l=a(128).includes,b=a(76);p({target:"Array",proto:!0},{includes:function(O){return l(this,O,arguments.length>1?arguments[1]:void 0)}}),b("includes")},function(c,f,a){var p=a(17),l=a(15),b=a(187),O=a(44),w=a(40),_=a(188),S=l("".indexOf);p({target:"String",proto:!0,forced:!_("includes")},{includes:function(P){return!!~S(w(O(this)),w(b(P)),arguments.length>1?arguments[1]:void 0)}})},function(c,f,a){var p=a(33),l=a(51),b=a(27)("match");c.exports=function(O){var w;return p(O)&&((w=O[b])!==void 0?!!w:l(O)=="RegExp")}},function(c,f){var a,p,l=c.exports={};function b(){throw new Error("setTimeout has not been defined")}function O(){throw new Error("clearTimeout has not been defined")}function w(z){if(a===setTimeout)return setTimeout(z,0);if((a===b||!a)&&setTimeout)return a=setTimeout,setTimeout(z,0);try{return a(z,0)}catch(Y){try{return a.call(null,z,0)}catch(q){return a.call(this,z,0)}}}(function(){try{a=typeof setTimeout=="function"?setTimeout:b}catch(z){a=b}try{p=typeof clearTimeout=="function"?clearTimeout:O}catch(z){p=O}})();var _,S=[],P=!1,A=-1;function N(){P&&_&&(P=!1,_.length?S=_.concat(S):A=-1,S.length&&R())}function R(){if(!P){var z=w(N);P=!0;for(var Y=S.length;Y;){for(_=S,S=[];++A<Y;)_&&_[A].run();A=-1,Y=S.length}_=null,P=!1,function(q){if(p===clearTimeout)return clearTimeout(q);if((p===O||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(q);try{p(q)}catch(V){try{return p.call(null,q)}catch(C){return p.call(this,q)}}}(z)}}function F(z,Y){this.fun=z,this.array=Y}function U(){}l.nextTick=function(z){var Y=new Array(arguments.length-1);if(arguments.length>1)for(var q=1;q<arguments.length;q++)Y[q-1]=arguments[q];S.push(new F(z,Y)),S.length!==1||P||w(R)},F.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=U,l.addListener=U,l.once=U,l.off=U,l.removeListener=U,l.removeAllListeners=U,l.emit=U,l.prependListener=U,l.prependOnceListener=U,l.listeners=function(z){return[]},l.binding=function(z){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(z){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(c,f,a){var p=a(9),l=a(94),b=a(84),O=p.TypeError;c.exports=function(w){if(l(w))return w;throw O(b(w)+" is not a constructor")}},function(c,f,a){var p=a(15),l=a(44),b=a(40),O=a(154),w=p("".replace),_="["+O+"]",S=RegExp("^"+_+_+"*"),P=RegExp(_+_+"*$"),A=function(N){return function(R){var F=b(l(R));return 1&N&&(F=w(F,S,"")),2&N&&(F=w(F,P,"")),F}};c.exports={start:A(1),end:A(2),trim:A(3)}},function(c,f){c.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},function(c,f,a){var p=a(36),l=a(119),b=a(32),O=a(85),w=a(40),_=a(44),S=a(56),P=a(120),A=a(121);l("match",function(N,R,F){return[function(U){var z=_(this),Y=U==null?void 0:S(U,N);return Y?p(Y,U,z):new RegExp(U)[N](w(z))},function(U){var z=b(this),Y=w(U),q=F(R,z,Y);if(q.done)return q.value;if(!z.global)return A(z,Y);var V=z.unicode;z.lastIndex=0;for(var C,B=[],M=0;(C=A(z,Y))!==null;){var L=w(C[0]);B[M]=L,L===""&&(z.lastIndex=P(Y,O(z.lastIndex),V)),M++}return M===0?null:B}]})},function(c,f,a){f.a=function(){return!1}},function(c,f,a){(function(p){a.d(f,"a",function(){return Y});var l=a(0);function b(C){throw new Error("[mobx-utils] "+C)}function O(C,B){B===void 0&&(B="Illegal state"),C||b(B)}var w=function(C){return C&&C!==Object.prototype&&Object.getOwnPropertyNames(C).concat(w(Object.getPrototypeOf(C))||[])},_=function(C){return function(B){var M=w(B);return M.filter(function(L,G){return M.indexOf(L)===G})}(C).filter(function(B){return B!=="constructor"&&!~B.indexOf("__")})};function S(C){switch(this.state){case"pending":return C.pending&&C.pending(this.value);case"rejected":return C.rejected&&C.rejected(this.value);case"fulfilled":return C.fulfilled?C.fulfilled(this.value):this.value}}function P(C,B){if(O(arguments.length<=2,"fromPromise expects up to two arguments"),O(typeof C=="function"||typeof C=="object"&&C&&typeof C.then=="function","Please pass a promise or function to fromPromise"),C.isPromiseBasedObservable===!0)return C;typeof C=="function"&&(C=new Promise(C));var M=C;C.then(Object(l.k)("observableFromPromise-resolve",function(G){M.value=G,M.state="fulfilled"}),Object(l.k)("observableFromPromise-reject",function(G){M.value=G,M.state="rejected"})),M.isPromiseBasedObservable=!0,M.case=S;var L=B&&B.state==="fulfilled"?B.value:void 0;return Object(l.q)(M,{value:L,state:"pending"},{},{deep:!1}),M}(function(C){C.reject=Object(l.k)("fromPromise.reject",function(B){var M=C(Promise.reject(B));return M.state="rejected",M.value=B,M}),C.resolve=Object(l.k)("fromPromise.resolve",function(B){B===void 0&&(B=void 0);var M=C(Promise.resolve(B));return M.state="fulfilled",M.value=B,M})})(P||(P={}));var A=function(C,B,M,L){var G,te=arguments.length,J=te<3?B:L===null?L=Object.getOwnPropertyDescriptor(B,M):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(C,B,M,L);else for(var ae=C.length-1;ae>=0;ae--)(G=C[ae])&&(J=(te<3?G(J):te>3?G(B,M,J):G(B,M))||J);return te>3&&J&&Object.defineProperty(B,M,J),J};(function(){function C(B,M){var L=this;Object(l.G)(function(){L.current=M,L.subscription=B.subscribe(L)})}C.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},C.prototype.next=function(B){this.current=B},C.prototype.complete=function(){this.dispose()},C.prototype.error=function(B){this.current=B,this.dispose()},A([l.C.ref],C.prototype,"current",void 0),A([l.k.bound],C.prototype,"next",null),A([l.k.bound],C.prototype,"complete",null),A([l.k.bound],C.prototype,"error",null)})();var N=function(){return(N=Object.assign||function(C){for(var B,M=1,L=arguments.length;M<L;M++)for(var G in B=arguments[M])Object.prototype.hasOwnProperty.call(B,G)&&(C[G]=B[G]);return C}).apply(this,arguments)},R=function(C,B,M,L){var G,te=arguments.length,J=te<3?B:L===null?L=Object.getOwnPropertyDescriptor(B,M):L;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")J=Reflect.decorate(C,B,M,L);else for(var ae=C.length-1;ae>=0;ae--)(G=C[ae])&&(J=(te<3?G(J):te>3?G(B,M,J):G(B,M))||J);return te>3&&J&&Object.defineProperty(B,M,J),J},F=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];(function(){function C(B){var M=this;this.model=B,this.localValues=l.C.map({}),this.localComputedValues=l.C.map({}),this.isPropertyDirty=function(L){return M.localValues.has(L)},O(Object(l.A)(B),"createViewModel expects an observable object"),_(B).forEach(function(L){if(L!==l.a&&L!=="__mobxDidRunLazyInitializers"){if(O(F.indexOf(L)===-1,"The propertyname "+L+" is reserved and cannot be used with viewModels"),Object(l.w)(B,L)){var G=Object(l.h)(B,L).derivation;M.localComputedValues.set(L,Object(l.m)(G.bind(M)))}var te=Object.getOwnPropertyDescriptor(B,L),J=te?{enumerable:te.enumerable}:{};Object.defineProperty(M,L,N(N({},J),{configurable:!0,get:function(){return Object(l.w)(B,L)?M.localComputedValues.get(L).get():M.isPropertyDirty(L)?M.localValues.get(L):M.model[L]},set:Object(l.k)(function(ae){ae!==M.model[L]?M.localValues.set(L,ae):M.localValues.delete(L)})}))}})}Object.defineProperty(C.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(C.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),C.prototype.submit=function(){var B=this;Object(l.B)(this.localValues).forEach(function(M){var L=B.localValues.get(M),G=B.model[M];Object(l.y)(G)?G.replace(L):Object(l.z)(G)?(G.clear(),G.merge(L)):Object(l.v)(L)||(B.model[M]=L)}),this.localValues.clear()},C.prototype.reset=function(){this.localValues.clear()},C.prototype.resetProperty=function(B){this.localValues.delete(B)},R([l.m],C.prototype,"isDirty",null),R([l.m],C.prototype,"changedValues",null),R([l.k.bound],C.prototype,"submit",null),R([l.k.bound],C.prototype,"reset",null),R([l.k.bound],C.prototype,"resetProperty",null)})();function U(C){if(!C)return"ROOT";for(var B=[];C.parent;)B.push(C.path),C=C.parent;return B.reverse().join("/")}function z(C){return Object(l.A)(C)||Object(l.y)(C)||Object(l.z)(C)}function Y(C,B){var M=new WeakMap;function L(J){var ae=M.get(J.object);(function(ve,ge){switch(ve.type){case"add":G(ve.newValue,ge,ve.name);break;case"update":te(ve.oldValue),G(ve.newValue,ge,ve.name||""+ve.index);break;case"remove":case"delete":te(ve.oldValue);break;case"splice":ve.removed.map(te),ve.added.forEach(function(fe,se){return G(fe,ge,""+(ve.index+se))});for(var he=ve.index+ve.addedCount;he<ve.object.length;he++)if(z(ve.object[he])){var Ee=M.get(ve.object[he]);Ee&&(Ee.path=""+he)}}})(J,ae),B(J,U(ae),C)}function G(J,ae,ve){if(z(J)){var ge=M.get(J);if(ge){if(ge.parent!==ae||ge.path!==ve)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+U(ae)+"/"+ve+"', but it already exists at '"+U(ge.parent)+"/"+ge.path+"'")}else{var he={parent:ae,path:ve,dispose:Object(l.D)(J,L)};M.set(J,he),Object(l.p)(J).forEach(function(Ee){var fe=Ee[0];return G(Ee[1],he,fe)})}}}function te(J){if(z(J)){var ae=M.get(J);if(!ae)return;M.delete(J),ae.dispose(),Object(l.L)(J).forEach(te)}}return G(C,void 0,""),function(){te(C)}}var q,V=(q=function(C,B){return(q=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,L){M.__proto__=L}||function(M,L){for(var G in L)L.hasOwnProperty(G)&&(M[G]=L[G])})(C,B)},function(C,B){function M(){this.constructor=C}q(C,B),C.prototype=B===null?Object.create(B):(M.prototype=B.prototype,new M)});(function(C){function B(M,L,G){var te=G===void 0?{}:G,J=te.name,ae=J===void 0?"ogm"+(1e3*Math.random()|0):J,ve=te.keyToName,ge=ve===void 0?function(fe){return""+fe}:ve,he=C.call(this)||this;he._keyToName=ge,he._groupBy=L,he._ogmInfoKey=Symbol("ogmInfo"+ae),he._base=M;for(var Ee=0;Ee<M.length;Ee++)he._addItem(M[Ee]);return he._disposeBaseObserver=Object(l.D)(he._base,function(fe){if(fe.type==="splice")Object(l.J)(function(){for(var se=0,me=fe.removed;se<me.length;se++){var Oe=me[se];he._removeItem(Oe)}for(var Ae=0,Ne=fe.added;Ae<Ne.length;Ae++){var ze=Ne[Ae];he._addItem(ze)}});else{if(fe.type!=="update")throw new Error("illegal state");Object(l.J)(function(){he._removeItem(fe.oldValue),he._addItem(fe.newValue)})}}),he}V(B,C),B.prototype.clear=function(){throw new Error("not supported")},B.prototype.delete=function(M){throw new Error("not supported")},B.prototype.set=function(M,L){throw new Error("not supported")},B.prototype.dispose=function(){this._disposeBaseObserver();for(var M=0;M<this._base.length;M++){var L=this._base[M];L[this._ogmInfoKey].reaction(),delete L[this._ogmInfoKey]}},B.prototype._getGroupArr=function(M){var L=C.prototype.get.call(this,M);return L===void 0&&(L=Object(l.C)([],{name:"GroupArray["+this._keyToName(M)+"]",deep:!1}),C.prototype.set.call(this,M,L)),L},B.prototype._removeFromGroupArr=function(M,L){var G=C.prototype.get.call(this,M);G.length===1?C.prototype.delete.call(this,M):(L===G.length-1||(G[L]=G[G.length-1],G[L][this._ogmInfoKey].groupArrIndex=L),G.length--)},B.prototype._addItem=function(M){var L=this,G=this._groupBy(M),te=this._getGroupArr(G),J={groupByValue:G,groupArrIndex:te.length,reaction:Object(l.F)(function(){return L._groupBy(M)},function(ae,ve){var ge=M[L._ogmInfoKey];L._removeFromGroupArr(ge.groupByValue,ge.groupArrIndex);var he=L._getGroupArr(ae),Ee=he.length;he.push(M),ge.groupByValue=ae,ge.groupArrIndex=Ee})};Object.defineProperty(M,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:J}),te.push(M)},B.prototype._removeItem=function(M){var L=M[this._ogmInfoKey];this._removeFromGroupArr(L.groupByValue,L.groupArrIndex),L.reaction(),delete M[this._ogmInfoKey]}})(l.b),function(){function C(B,M){this.base=B,this.args=M,this.closestIdx=0,this.isDisposed=!1;for(var L=this.closest=this.root=B,G=0;G<this.args.length-1&&(L=L.get(M[G]));G++)this.closest=L;this.closestIdx=G}return C.prototype.exists=function(){this.assertNotDisposed();var B=this.args.length;return this.closestIdx>=B-1&&this.closest.has(this.args[B-1])},C.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},C.prototype.set=function(B){this.assertNotDisposed();for(var M=this.args.length,L=this.closest,G=this.closestIdx;G<M-1;G++){var te=new Map;L.set(this.args[G],te),L=te}this.closestIdx=M-1,this.closest=L,L.set(this.args[M-1],B)},C.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var B=this.args.length;this.closest.delete(this.args[B-1]);for(var M=this.root,L=[M],G=0;G<B-1;G++)M=M.get(this.args[G]),L.push(M);for(G=L.length-1;G>0;G--)L[G].size===0&&L[G-1].delete(this.args[G-1]);this.isDisposed=!0},C.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},C}(),Promise.resolve(),typeof queueMicrotask!="undefined"||p!==void 0&&p.nextTick}).call(this,a(151))},function(c,f,a){var p;(function(l,b,O){if(l){for(var w,_={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},S={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},A={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},N=1;N<20;++N)_[111+N]="f"+N;for(N=0;N<=9;++N)_[N+96]=N.toString();q.prototype.bind=function(V,C,B){return V=V instanceof Array?V:[V],this._bindMultiple.call(this,V,C,B),this},q.prototype.unbind=function(V,C){return this.bind.call(this,V,function(){},C)},q.prototype.trigger=function(V,C){return this._directMap[V+":"+C]&&this._directMap[V+":"+C]({},V),this},q.prototype.reset=function(){return this._callbacks={},this._directMap={},this},q.prototype.stopCallback=function(V,C){if((" "+C.className+" ").indexOf(" mousetrap ")>-1||function M(L,G){return L!==null&&L!==b&&(L===G||M(L.parentNode,G))}(C,this.target))return!1;if("composedPath"in V&&typeof V.composedPath=="function"){var B=V.composedPath()[0];B!==V.target&&(C=B)}return C.tagName=="INPUT"||C.tagName=="SELECT"||C.tagName=="TEXTAREA"||C.isContentEditable},q.prototype.handleKey=function(){var V=this;return V._handleKey.apply(V,arguments)},q.addKeycodes=function(V){for(var C in V)V.hasOwnProperty(C)&&(_[C]=V[C]);w=null},q.init=function(){var V=q(b);for(var C in V)C.charAt(0)!=="_"&&(q[C]=function(B){return function(){return V[B].apply(V,arguments)}}(C))},q.init(),l.Mousetrap=q,c.exports&&(c.exports=q),(p=function(){return q}.call(f,a,f,c))===void 0||(c.exports=p)}function R(V,C,B){V.addEventListener?V.addEventListener(C,B,!1):V.attachEvent("on"+C,B)}function F(V){if(V.type=="keypress"){var C=String.fromCharCode(V.which);return V.shiftKey||(C=C.toLowerCase()),C}return _[V.which]?_[V.which]:S[V.which]?S[V.which]:String.fromCharCode(V.which).toLowerCase()}function U(V){return V=="shift"||V=="ctrl"||V=="alt"||V=="meta"}function z(V,C,B){return B||(B=function(){if(!w)for(var M in w={},_)M>95&&M<112||_.hasOwnProperty(M)&&(w[_[M]]=M);return w}()[V]?"keydown":"keypress"),B=="keypress"&&C.length&&(B="keydown"),B}function Y(V,C){var B,M,L,G=[];for(B=function(te){return te==="+"?["+"]:(te=te.replace(/\+{2}/g,"+plus")).split("+")}(V),L=0;L<B.length;++L)M=B[L],A[M]&&(M=A[M]),C&&C!="keypress"&&P[M]&&(M=P[M],G.push("shift")),U(M)&&G.push(M);return{key:M,modifiers:G,action:C=z(M,G,C)}}function q(V){var C=this;if(V=V||b,!(C instanceof q))return new q(V);C.target=V,C._callbacks={},C._directMap={};var B,M={},L=!1,G=!1,te=!1;function J(fe){fe=fe||{};var se,me=!1;for(se in M)fe[se]?me=!0:M[se]=0;me||(te=!1)}function ae(fe,se,me,Oe,Ae,Ne){var ze,Me,He,at,Z=[],Q=me.type;if(!C._callbacks[fe])return[];for(Q=="keyup"&&U(fe)&&(se=[fe]),ze=0;ze<C._callbacks[fe].length;++ze)if(Me=C._callbacks[fe][ze],(Oe||!Me.seq||M[Me.seq]==Me.level)&&Q==Me.action&&(Q=="keypress"&&!me.metaKey&&!me.ctrlKey||(He=se,at=Me.modifiers,He.sort().join(",")===at.sort().join(",")))){var ie=!Oe&&Me.combo==Ae,ye=Oe&&Me.seq==Oe&&Me.level==Ne;(ie||ye)&&C._callbacks[fe].splice(ze,1),Z.push(Me)}return Z}function ve(fe,se,me,Oe){C.stopCallback(se,se.target||se.srcElement,me,Oe)||fe(se,me)===!1&&(function(Ae){Ae.preventDefault?Ae.preventDefault():Ae.returnValue=!1}(se),function(Ae){Ae.stopPropagation?Ae.stopPropagation():Ae.cancelBubble=!0}(se))}function ge(fe){typeof fe.which!="number"&&(fe.which=fe.keyCode);var se=F(fe);se&&(fe.type!="keyup"||L!==se?C.handleKey(se,function(me){var Oe=[];return me.shiftKey&&Oe.push("shift"),me.altKey&&Oe.push("alt"),me.ctrlKey&&Oe.push("ctrl"),me.metaKey&&Oe.push("meta"),Oe}(fe),fe):L=!1)}function he(fe,se,me,Oe){function Ae(He){return function(){te=He,++M[fe],clearTimeout(B),B=setTimeout(J,1e3)}}function Ne(He){ve(me,He,fe),Oe!=="keyup"&&(L=F(He)),setTimeout(J,10)}M[fe]=0;for(var ze=0;ze<se.length;++ze){var Me=ze+1===se.length?Ne:Ae(Oe||Y(se[ze+1]).action);Ee(se[ze],Me,Oe,fe,ze)}}function Ee(fe,se,me,Oe,Ae){C._directMap[fe+":"+me]=se;var Ne,ze=(fe=fe.replace(/\s+/g," ")).split(" ");ze.length>1?he(fe,ze,se,me):(Ne=Y(fe,me),C._callbacks[Ne.key]=C._callbacks[Ne.key]||[],ae(Ne.key,Ne.modifiers,{type:Ne.action},Oe,fe,Ae),C._callbacks[Ne.key][Oe?"unshift":"push"]({callback:se,modifiers:Ne.modifiers,action:Ne.action,seq:Oe,level:Ae,combo:fe}))}C._handleKey=function(fe,se,me){var Oe,Ae=ae(fe,se,me),Ne={},ze=0,Me=!1;for(Oe=0;Oe<Ae.length;++Oe)Ae[Oe].seq&&(ze=Math.max(ze,Ae[Oe].level));for(Oe=0;Oe<Ae.length;++Oe)if(Ae[Oe].seq){if(Ae[Oe].level!=ze)continue;Me=!0,Ne[Ae[Oe].seq]=1,ve(Ae[Oe].callback,me,Ae[Oe].combo,Ae[Oe].seq)}else Me||ve(Ae[Oe].callback,me,Ae[Oe].combo);var He=me.type=="keypress"&&G;me.type!=te||U(fe)||He||J(Ne),G=Me&&me.type=="keydown"},C._bindMultiple=function(fe,se,me){for(var Oe=0;Oe<fe.length;++Oe)Ee(fe[Oe],se,me)},R(V,"keypress",ge),R(V,"keydown",ge),R(V,"keyup",ge)}})(typeof window!="undefined"?window:null,typeof window!="undefined"?document:null)},function(c,f,a){var p=a(35),l=a(37),b=a(32),O=a(39),w=a(62);c.exports=p?Object.defineProperties:function(_,S){b(_);for(var P,A=O(S),N=w(S),R=N.length,F=0;R>F;)l.f(_,P=N[F++],A[P]);return _}},function(c,f,a){var p=a(9),l=a(36),b=a(30),O=a(33),w=p.TypeError;c.exports=function(_,S){var P,A;if(S==="string"&&b(P=_.toString)&&!O(A=l(P,_))||b(P=_.valueOf)&&!O(A=l(P,_))||S!=="string"&&b(P=_.toString)&&!O(A=l(P,_)))return A;throw w("Can't convert object to primitive value")}},function(c,f,a){var p=a(49);c.exports=p("document","documentElement")},function(c,f,a){var p=a(9),l=a(30),b=a(107),O=p.WeakMap;c.exports=l(O)&&/native code/.test(b(O))},function(c,f,a){var p=a(131).IteratorPrototype,l=a(52),b=a(67),O=a(90),w=a(66),_=function(){return this};c.exports=function(S,P,A,N){var R=P+" Iterator";return S.prototype=l(p,{next:b(+!N,A)}),O(S,R,!1,!0),w[R]=_,S}},function(c,f,a){var p=a(9),l=a(30),b=p.String,O=p.TypeError;c.exports=function(w){if(typeof w=="object"||l(w))return w;throw O("Can't set "+b(w)+" as a prototype")}},function(c,f,a){var p=a(17),l=a(9),b=a(15),O=a(110),w=a(45),_=a(133),S=a(135),P=a(139),A=a(30),N=a(33),R=a(19),F=a(140),U=a(90),z=a(141);c.exports=function(Y,q,V){var C=Y.indexOf("Map")!==-1,B=Y.indexOf("Weak")!==-1,M=C?"set":"add",L=l[Y],G=L&&L.prototype,te=L,J={},ae=function(se){var me=b(G[se]);w(G,se,se=="add"?function(Oe){return me(this,Oe===0?0:Oe),this}:se=="delete"?function(Oe){return!(B&&!N(Oe))&&me(this,Oe===0?0:Oe)}:se=="get"?function(Oe){return B&&!N(Oe)?void 0:me(this,Oe===0?0:Oe)}:se=="has"?function(Oe){return!(B&&!N(Oe))&&me(this,Oe===0?0:Oe)}:function(Oe,Ae){return me(this,Oe===0?0:Oe,Ae),this})};if(O(Y,!A(L)||!(B||G.forEach&&!R(function(){new L().entries().next()}))))te=V.getConstructor(q,Y,C,M),_.enable();else if(O(Y,!0)){var ve=new te,ge=ve[M](B?{}:-0,1)!=ve,he=R(function(){ve.has(1)}),Ee=F(function(se){new L(se)}),fe=!B&&R(function(){for(var se=new L,me=5;me--;)se[M](me,me);return!se.has(-0)});Ee||((te=q(function(se,me){P(se,G);var Oe=z(new L,se,te);return me!=null&&S(me,Oe[M],{that:Oe,AS_ENTRIES:C}),Oe})).prototype=G,G.constructor=te),(he||fe)&&(ae("delete"),ae("has"),C&&ae("get")),(fe||ge)&&ae(M),B&&G.clear&&delete G.clear}return J[Y]=te,p({global:!0,forced:te!=L},J),U(te,Y),B||V.setStrong(te,Y,C),te}},function(c,f,a){var p=a(19),l=a(33),b=a(51),O=a(167),w=Object.isExtensible,_=p(function(){});c.exports=_||O?function(S){return!!l(S)&&(!O||b(S)!="ArrayBuffer")&&(!w||w(S))}:w},function(c,f,a){var p=a(19);c.exports=p(function(){if(typeof ArrayBuffer=="function"){var l=new ArrayBuffer(8);Object.isExtensible(l)&&Object.defineProperty(l,"a",{value:8})}})},function(c,f,a){var p=a(19);c.exports=!p(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(c,f,a){var p=a(37).f,l=a(52),b=a(170),O=a(91),w=a(139),_=a(135),S=a(108),P=a(171),A=a(35),N=a(133).fastKey,R=a(57),F=R.set,U=R.getterFor;c.exports={getConstructor:function(z,Y,q,V){var C=z(function(te,J){w(te,B),F(te,{type:Y,index:l(null),first:void 0,last:void 0,size:0}),A||(te.size=0),J!=null&&_(J,te[V],{that:te,AS_ENTRIES:q})}),B=C.prototype,M=U(Y),L=function(te,J,ae){var ve,ge,he=M(te),Ee=G(te,J);return Ee?Ee.value=ae:(he.last=Ee={index:ge=N(J,!0),key:J,value:ae,previous:ve=he.last,next:void 0,removed:!1},he.first||(he.first=Ee),ve&&(ve.next=Ee),A?he.size++:te.size++,ge!=="F"&&(he.index[ge]=Ee)),te},G=function(te,J){var ae,ve=M(te),ge=N(J);if(ge!=="F")return ve.index[ge];for(ae=ve.first;ae;ae=ae.next)if(ae.key==J)return ae};return b(B,{clear:function(){for(var te=M(this),J=te.index,ae=te.first;ae;)ae.removed=!0,ae.previous&&(ae.previous=ae.previous.next=void 0),delete J[ae.index],ae=ae.next;te.first=te.last=void 0,A?te.size=0:this.size=0},delete:function(te){var J=M(this),ae=G(this,te);if(ae){var ve=ae.next,ge=ae.previous;delete J.index[ae.index],ae.removed=!0,ge&&(ge.next=ve),ve&&(ve.previous=ge),J.first==ae&&(J.first=ve),J.last==ae&&(J.last=ge),A?J.size--:this.size--}return!!ae},forEach:function(te){for(var J,ae=M(this),ve=O(te,arguments.length>1?arguments[1]:void 0);J=J?J.next:ae.first;)for(ve(J.value,J.key,this);J&&J.removed;)J=J.previous},has:function(te){return!!G(this,te)}}),b(B,q?{get:function(te){var J=G(this,te);return J&&J.value},set:function(te,J){return L(this,te===0?0:te,J)}}:{add:function(te){return L(this,te=te===0?0:te,te)}}),A&&p(B,"size",{get:function(){return M(this).size}}),C},setStrong:function(z,Y,q){var V=Y+" Iterator",C=U(Y),B=U(V);S(z,Y,function(M,L){F(this,{type:V,target:M,state:C(M),kind:L,last:void 0})},function(){for(var M=B(this),L=M.kind,G=M.last;G&&G.removed;)G=G.previous;return M.target&&(M.last=G=G?G.next:M.state.first)?L=="keys"?{value:G.key,done:!1}:L=="values"?{value:G.value,done:!1}:{value:[G.key,G.value],done:!1}:(M.target=void 0,{value:void 0,done:!0})},q?"entries":"values",!q,!0),P(Y)}}},function(c,f,a){var p=a(45);c.exports=function(l,b,O){for(var w in b)p(l,w,b[w],O);return l}},function(c,f,a){var p=a(49),l=a(37),b=a(27),O=a(35),w=b("species");c.exports=function(_){var S=p(_),P=l.f;O&&S&&!S[w]&&P(S,w,{configurable:!0,get:function(){return this}})}},function(c,f,a){var p=a(114),l=a(92);c.exports=p?{}.toString:function(){return"[object "+l(this)+"]"}},function(c,f,a){var p=a(69).forEach,l=a(116)("forEach");c.exports=l?[].forEach:function(b){return p(this,b,arguments.length>1?arguments[1]:void 0)}},function(c,f,a){var p=a(9),l=a(93),b=a(94),O=a(33),w=a(27)("species"),_=p.Array;c.exports=function(S){var P;return l(S)&&(P=S.constructor,(b(P)&&(P===_||l(P.prototype))||O(P)&&(P=P[w])===null)&&(P=void 0)),P===void 0?_:P}},function(c,f,a){var p=a(9);c.exports=p},function(c,f,a){var p=a(9),l=a(91),b=a(36),O=a(38),w=a(177),_=a(136),S=a(94),P=a(43),A=a(59),N=a(137),R=a(113),F=p.Array;c.exports=function(U){var z=O(U),Y=S(this),q=arguments.length,V=q>1?arguments[1]:void 0,C=V!==void 0;C&&(V=l(V,q>2?arguments[2]:void 0));var B,M,L,G,te,J,ae=R(z),ve=0;if(!ae||this==F&&_(ae))for(B=P(z),M=Y?new this(B):F(B);B>ve;ve++)J=C?V(z[ve],ve):z[ve],A(M,ve,J);else for(te=(G=N(z,ae)).next,M=Y?new this:[];!(L=b(te,G)).done;ve++)J=C?w(G,V,[L.value,ve],!0):L.value,A(M,ve,J);return M.length=ve,M}},function(c,f,a){var p=a(32),l=a(138);c.exports=function(b,O,w,_){try{return _?O(p(w)[0],w[1]):O(w)}catch(S){l(b,"throw",S)}}},function(c,f,a){var p=a(32);c.exports=function(){var l=p(this),b="";return l.global&&(b+="g"),l.ignoreCase&&(b+="i"),l.multiline&&(b+="m"),l.dotAll&&(b+="s"),l.unicode&&(b+="u"),l.sticky&&(b+="y"),b}},function(c,f,a){var p=a(19),l=a(9).RegExp;c.exports=p(function(){var b=l(".","s");return!(b.dotAll&&b.exec(`
`)&&b.flags==="s")})},function(c,f,a){var p=a(19),l=a(9).RegExp;c.exports=p(function(){var b=l("(?<a>b)","g");return b.exec("b").groups.a!=="b"||"b".replace(b,"$<a>c")!=="bc"})},function(c,f,a){var p=a(17),l=a(15),b=a(61),O=a(38),w=a(43),_=a(40),S=a(19),P=a(182),A=a(116),N=a(183),R=a(184),F=a(80),U=a(185),z=[],Y=l(z.sort),q=l(z.push),V=S(function(){z.sort(void 0)}),C=S(function(){z.sort(null)}),B=A("sort"),M=!S(function(){if(F)return F<70;if(!(N&&N>3)){if(R)return!0;if(U)return U<603;var L,G,te,J,ae="";for(L=65;L<76;L++){switch(G=String.fromCharCode(L),L){case 66:case 69:case 70:case 72:te=3;break;case 68:case 71:te=4;break;default:te=2}for(J=0;J<47;J++)z.push({k:G+J,v:te})}for(z.sort(function(ve,ge){return ge.v-ve.v}),J=0;J<z.length;J++)G=z[J].k.charAt(0),ae.charAt(ae.length-1)!==G&&(ae+=G);return ae!=="DGBEFHACIJK"}});p({target:"Array",proto:!0,forced:V||!C||!B||!M},{sort:function(L){L!==void 0&&b(L);var G=O(this);if(M)return L===void 0?Y(G):Y(G,L);var te,J,ae=[],ve=w(G);for(J=0;J<ve;J++)J in G&&q(ae,G[J]);for(P(ae,function(ge){return function(he,Ee){return Ee===void 0?-1:he===void 0?1:ge!==void 0?+ge(he,Ee)||0:_(he)>_(Ee)?1:-1}}(L)),te=ae.length,J=0;J<te;)G[J]=ae[J++];for(;J<ve;)delete G[J++];return G}})},function(c,f,a){var p=a(112),l=Math.floor,b=function(_,S){var P=_.length,A=l(P/2);return P<8?O(_,S):w(_,b(p(_,0,A),S),b(p(_,A),S),S)},O=function(_,S){for(var P,A,N=_.length,R=1;R<N;){for(A=R,P=_[R];A&&S(_[A-1],P)>0;)_[A]=_[--A];A!==R++&&(_[A]=P)}return _},w=function(_,S,P,A){for(var N=S.length,R=P.length,F=0,U=0;F<N||U<R;)_[F+U]=F<N&&U<R?A(S[F],P[U])<=0?S[F++]:P[U++]:F<N?S[F++]:P[U++];return _};c.exports=b},function(c,f,a){var p=a(81).match(/firefox\/(\d+)/i);c.exports=!!p&&+p[1]},function(c,f,a){var p=a(81);c.exports=/MSIE|Trident/.test(p)},function(c,f,a){var p=a(81).match(/AppleWebKit\/(\d+)\./);c.exports=!!p&&+p[1]},function(c,f,a){var p=a(17),l=a(69).find,b=a(76),O=!0;"find"in[]&&Array(1).find(function(){O=!1}),p({target:"Array",proto:!0,forced:O},{find:function(w){return l(this,w,arguments.length>1?arguments[1]:void 0)}}),b("find")},function(c,f,a){var p=a(9),l=a(150),b=p.TypeError;c.exports=function(O){if(l(O))throw b("The method doesn't accept regular expressions");return O}},function(c,f,a){var p=a(27)("match");c.exports=function(l){var b=/./;try{"/./"[l](b)}catch(O){try{return b[p]=!1,"/./"[l](b)}catch(w){}}return!1}},function(c,f,a){var p=a(32),l=a(152),b=a(27)("species");c.exports=function(O,w){var _,S=p(O).constructor;return S===void 0||(_=p(S)[b])==null?w:l(_)}},function(c,f,a){var p=a(17),l=a(153).trim;p({target:"String",proto:!0,forced:a(191)("trim")},{trim:function(){return l(this)}})},function(c,f,a){var p=a(88).PROPER,l=a(19),b=a(154);c.exports=function(O){return l(function(){return!!b[O]()||"\u200B\x85\u180E"[O]()!=="\u200B\x85\u180E"||p&&b[O].name!==O})}},function(c,f,a){var p=a(15);c.exports=p(1 .valueOf)},function(c,f,a){var p=a(15),l=a(38),b=Math.floor,O=p("".charAt),w=p("".replace),_=p("".slice),S=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,P=/\$([$&'`]|\d{1,2})/g;c.exports=function(A,N,R,F,U,z){var Y=R+A.length,q=F.length,V=P;return U!==void 0&&(U=l(U),V=S),w(z,V,function(C,B){var M;switch(O(B,0)){case"$":return"$";case"&":return A;case"`":return _(N,0,R);case"'":return _(N,Y);case"<":M=U[_(B,1,-1)];break;default:var L=+B;if(L===0)return C;if(L>q){var G=b(L/10);return G===0?C:G<=q?F[G-1]===void 0?O(B,1):F[G-1]+O(B,1):C}M=F[L-1]}return M===void 0?"":M})}},function(c,f,a){var p=a(9),l=a(15),b=a(61),O=a(33),w=a(34),_=a(117),S=p.Function,P=l([].concat),A=l([].join),N={},R=function(F,U,z){if(!w(N,U)){for(var Y=[],q=0;q<U;q++)Y[q]="a["+q+"]";N[U]=S("C,a","return new C("+A(Y,",")+")")}return N[U](F,z)};c.exports=S.bind||function(F){var U=b(this),z=U.prototype,Y=_(arguments,1),q=function(){var V=P(Y,_(arguments));return this instanceof q?R(U,V.length,V):U.apply(F,V)};return O(z)&&(q.prototype=z),q}},function(c,f,a){var p=a(34);c.exports=function(l){return l!==void 0&&(p(l,"value")||p(l,"writable"))}},function(c,f,a){var p=a(35),l=a(15),b=a(36),O=a(19),w=a(62),_=a(109),S=a(87),P=a(38),A=a(74),N=Object.assign,R=Object.defineProperty,F=l([].concat);c.exports=!N||O(function(){if(p&&N({b:1},N(R({},"a",{enumerable:!0,get:function(){R(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var U={},z={},Y=Symbol();return U[Y]=7,"abcdefghijklmnopqrst".split("").forEach(function(q){z[q]=q}),N({},U)[Y]!=7||w(N({},z)).join("")!="abcdefghijklmnopqrst"})?function(U,z){for(var Y=P(U),q=arguments.length,V=1,C=_.f,B=S.f;q>V;)for(var M,L=A(arguments[V++]),G=C?F(w(L),C(L)):w(L),te=G.length,J=0;te>J;)M=G[J++],p&&!b(B,L,M)||(Y[M]=L[M]);return Y}:N},function(c,f,a){var p=a(15),l=a(44),b=a(40),O=/"/g,w=p("".replace);c.exports=function(_,S,P,A){var N=b(l(_)),R="<"+S;return P!==""&&(R+=" "+P+'="'+w(b(A),O,"&quot;")+'"'),R+">"+N+"</"+S+">"}},function(c,f,a){var p=a(19);c.exports=function(l){return p(function(){var b=""[l]('"');return b!==b.toLowerCase()||b.split('"').length>3})}},function(c,f,a){var p=a(17),l=Math.hypot,b=Math.abs,O=Math.sqrt;p({target:"Math",stat:!0,forced:!!l&&l(1/0,NaN)!==1/0},{hypot:function(w,_){for(var S,P,A=0,N=0,R=arguments.length,F=0;N<R;)F<(S=b(arguments[N++]))?(A=A*(P=F/S)*P+1,F=S):A+=S>0?(P=S/F)*P:S;return F===1/0?1/0:F*O(A)}})},function(c,f,a){var p=a(35),l=a(15),b=a(62),O=a(39),w=l(a(87).f),_=l([].push),S=function(P){return function(A){for(var N,R=O(A),F=b(R),U=F.length,z=0,Y=[];U>z;)N=F[z++],p&&!w(R,N)||_(Y,P?[N,R[N]]:R[N]);return Y}};c.exports={entries:S(!0),values:S(!1)}},function(c,f,a){var p=a(38),l=a(63),b=a(43);c.exports=function(O){for(var w=p(this),_=b(w),S=arguments.length,P=l(S>1?arguments[1]:void 0,_),A=S>2?arguments[2]:void 0,N=A===void 0?_:l(A,_);N>P;)w[P++]=O;return w}},function(c,f,a){a.r(f),a.d(f,"observer",function(){return In}),a.d(f,"LogicFlow",function(){return qc}),a.d(f,"h",function(){return K.g}),a.d(f,"LogicFlowUtil",function(){return p}),a.d(f,"BaseNode",function(){return hr}),a.d(f,"RectNode",function(){return dc}),a.d(f,"CircleNode",function(){return yc}),a.d(f,"PolygonNode",function(){return gc}),a.d(f,"DiamondNode",function(){return mc}),a.d(f,"EllipseNode",function(){return _c}),a.d(f,"TextNode",function(){return xc}),a.d(f,"HtmlNode",function(){return jc}),a.d(f,"BaseEdge",function(){return pi}),a.d(f,"LineEdge",function(){return Rc}),a.d(f,"PolylineEdge",function(){return zc}),a.d(f,"BezierEdge",function(){return Hc}),a.d(f,"Arrow",function(){return Wh}),a.d(f,"BaseEdgeModel",function(){return Su}),a.d(f,"BezierEdgeModel",function(){return qu}),a.d(f,"LineEdgeModel",function(){return Au}),a.d(f,"PolylineEdgeModel",function(){return Mu}),a.d(f,"BaseNodeModel",function(){return pr}),a.d(f,"CircleNodeModel",function(){return Ju}),a.d(f,"DiamondNodeModel",function(){return ec}),a.d(f,"EllipseNodeModel",function(){return tc}),a.d(f,"PolygonNodeModel",function(){return rc}),a.d(f,"RectNodeModel",function(){return oc}),a.d(f,"TextNodeModel",function(){return ic}),a.d(f,"HtmlNodeModel",function(){return uc}),a.d(f,"EditConfigModel",function(){return Cs}),a.d(f,"GraphModel",function(){return Ef}),a.d(f,"SnaplineModel",function(){return qd}),a.d(f,"Keyboard",function(){return Ly}),a.d(f,"get",function(){return bp}),a.d(f,"defaults",function(){return Op});var p={};a.r(p),a.d(p,"createUuid",function(){return Wr}),a.d(p,"refreshGraphId",function(){return ob}),a.d(p,"createDrag",function(){return Iu}),a.d(p,"StepDrag",function(){return Zr});var l=a(0),b=a(10);if(!b.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!l.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var O=a(42),w=Object(O.b)("observerBatching");function _(e){e()}var S=!1;function P(){return S}function A(e){return Object(l.t)(e)}var N,R=1e4,F=new Set;function U(){N===void 0&&(N=setTimeout(z,1e4))}function z(){N=void 0;var e=Date.now();F.forEach(function(t){var n=t.current;n&&e>=n.cleanAt&&(n.reaction.dispose(),t.current=null,F.delete(t))}),F.size>0&&U()}var Y=!1,q=[],V={};function C(e){return"observer"+e}function B(e,t,n){t===void 0&&(t="observed"),n===void 0&&(n=V),P();var r,i=function(m){return function(){Y?q.push(m):m()}}((n.useForceUpdate||O.d)()),o=b.d.useRef(null);if(!o.current){var u=new l.c(C(t),function(){s.mounted?i():(u.dispose(),o.current=null)}),s=function(m){return{cleanAt:Date.now()+R,reaction:m}}(u);o.current=s,r=o,F.add(r),U()}var d=o.current.reaction;return b.d.useDebugValue(d,A),b.d.useEffect(function(){var m;return m=o,F.delete(m),o.current?o.current.mounted=!0:(o.current={reaction:new l.c(C(t),function(){i()}),cleanAt:1/0},i()),function(){o.current.reaction.dispose(),o.current=null}},[]),function(m){Y=!0,q=[];try{var x=m();Y=!1;var j=q.length>0?q:void 0;return b.d.useLayoutEffect(function(){j&&j.forEach(function(k){return k()})},[j]),x}finally{Y=!1}}(function(){var m,x;if(d.track(function(){try{m=e()}catch(j){x=j}}),x)throw x;return m})}var M=function(){return(M=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function L(e,t){var n,r,i,o=M({forwardRef:!1},t),u=e.displayName||e.name,s=function(d,m){return B(function(){return e(d,m)},u)};return s.displayName=u,n=o.forwardRef?Object(b.f)(Object(b.e)(s)):Object(b.f)(s),r=e,i=n,Object.keys(r).forEach(function(d){G[d]||Object.defineProperty(i,d,Object.getOwnPropertyDescriptor(r,d))}),n.displayName=u,n}var G={$$typeof:!0,render:!0,compare:!0,type:!0};function te(e){var t=e.children,n=e.render,r=t||n;return typeof r!="function"?null:B(r)}function J(e,t,n,r,i){var o=t==="children"?"render":"children",u=typeof e[t]=="function",s=typeof e[o]=="function";return u&&s?new Error("MobX Observer: Do not use children and render in the same time in`"+n):u||s?null:new Error("Invalid prop `"+i+"` of type `"+typeof e[t]+"` supplied to `"+n+"`, expected `function`.")}te.propTypes={children:J,render:J},te.displayName="Observer";var ae;(ae=b.g)||(ae=_),Object(l.n)({reactionScheduler:ae}),Object(O.a)()[w]=!0;var ve=0,ge={};function he(e){return ge[e]||(ge[e]=function(t){if(typeof Symbol=="function")return Symbol(t);var n="__$mobx-react "+t+" ("+ve+")";return ve++,n}(e)),ge[e]}function Ee(e,t){if(fe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!Object.hasOwnProperty.call(t,n[i])||!fe(e[n[i]],t[n[i]]))return!1;return!0}function fe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function se(e,t,n){Object.hasOwnProperty.call(e,t)?e[t]=n:Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:n})}var me=he("patchMixins"),Oe=he("patchedDefinition");function Ae(e,t){for(var n=this,r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];t.locks++;try{var u;return e!=null&&(u=e.apply(this,i)),u}finally{t.locks--,t.locks===0&&t.methods.forEach(function(s){s.apply(n,i)})}}function Ne(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];Ae.call.apply(Ae,[this,e,t].concat(r))}}function ze(e,t,n){var r=function(s,d){var m=s[me]=s[me]||{},x=m[d]=m[d]||{};return x.locks=x.locks||0,x.methods=x.methods||[],x}(e,t);r.methods.indexOf(n)<0&&r.methods.push(n);var i=Object.getOwnPropertyDescriptor(e,t);if(!i||!i[Oe]){var o=e[t],u=function s(d,m,x,j,k){var I,W=Ne(k,j);return(I={})[Oe]=!0,I.get=function(){return W},I.set=function($){if(this===d)W=Ne($,j);else{var oe=s(this,m,x,j,$);Object.defineProperty(this,m,oe)}},I.configurable=!0,I.enumerable=x,I}(e,t,i?i.enumerable:void 0,r,o);Object.defineProperty(e,t,u)}}var Me=l.a||"$mobx",He=he("isMobXReactObserver"),at=he("isUnmounted"),Z=he("skipRender"),Q=he("isForcingUpdate");function ie(e){var t=e.prototype;if(e[He]){var n=ye(t);console.warn("The provided component class ("+n+`) 
                has already been declared as an observer component.`)}else e[He]=!0;if(t.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(e.__proto__!==b.b)if(t.shouldComponentUpdate){if(t.shouldComponentUpdate!==_e)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else t.shouldComponentUpdate=_e;Ke(t,"props"),Ke(t,"state");var r=t.render;return t.render=function(){return Se.call(this,r)},ze(t,"componentWillUnmount",function(){var i;if((i=this.render[Me])===null||i===void 0||i.dispose(),this[at]=!0,!this.render[Me]){var o=ye(this);console.warn("The reactive render of an observer class component ("+o+`) 
                was overriden after MobX attached. This may result in a memory leak if the 
                overriden reactive render was not properly disposed.`)}}),e}function ye(e){return e.displayName||e.name||e.constructor&&(e.constructor.displayName||e.constructor.name)||"<component>"}function Se(e){var t=this;se(this,Z,!1),se(this,Q,!1);var n=ye(this),r=e.bind(this),i=!1,o=new l.c(n+".render()",function(){if(!i&&(i=!0,t[at]!==!0)){var s=!0;try{se(t,Q,!0),t[Z]||b.a.prototype.forceUpdate.call(t),s=!1}finally{se(t,Q,!1),s&&o.dispose()}}});function u(){i=!1;var s=void 0,d=void 0;if(o.track(function(){try{d=Object(l.d)(!1,r)}catch(m){s=m}}),s)throw s;return d}return o.reactComponent=this,u[Me]=o,this.render=u,u.call(this)}function _e(e,t){return this.state!==t||!Ee(this.props,e)}function Ke(e,t){var n=he("reactProp_"+t+"_valueHolder"),r=he("reactProp_"+t+"_atomHolder");function i(){return this[r]||se(this,r,Object(l.o)("reactive "+t)),this[r]}Object.defineProperty(e,t,{configurable:!0,enumerable:!0,get:function(){var o=!1;return l.f&&l.e&&(o=Object(l.f)(!0)),i.call(this).reportObserved(),l.f&&l.e&&Object(l.e)(o),this[n]},set:function(o){this[Q]||Ee(this[n],o)?se(this,n,o):(se(this,n,o),se(this,Z,!0),i.call(this).reportChanged(),se(this,Z,!1))}})}var Xe=typeof Symbol=="function"&&Symbol.for,$e=Xe?Symbol.for("react.forward_ref"):typeof b.e=="function"&&Object(b.e)(function(e){return null}).$$typeof,Ve=Xe?Symbol.for("react.memo"):typeof b.f=="function"&&Object(b.f)(function(e){return null}).$$typeof;function de(e){if(e.isMobxInjector===!0&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),Ve&&e.$$typeof===Ve)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if($e&&e.$$typeof===$e){var t=e.render;if(typeof t!="function")throw new Error("render property of ForwardRef was not a function");return Object(b.e)(function(){var n=arguments;return Object(b.c)(te,null,function(){return t.apply(void 0,n)})})}return typeof e!="function"||e.prototype&&e.prototype.render||e.isReactClass||Object.prototype.isPrototypeOf.call(b.a,e)?ie(e):L(e)}if(!b.a)throw new Error("mobx-react requires React to be available");if(!l.C)throw new Error("mobx-react requires mobx to be available");var K=a(1);a(3),a(58),a(2),a(6),a(4),a(11),a(41),a(24),a(20),a(5),a(22),a(21),a(23),a(7),a(8),a(16),a(25),a(18),a(28),a(181),a(186),a(97),a(148),a(149);var Be=function(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i},Le=function(){this.__data__=[],this.size=0},Ye=function(e,t){return e===t||e!=e&&t!=t},kt=function(e,t){for(var n=e.length;n--;)if(Ye(e[n][0],t))return n;return-1},it=Array.prototype.splice,st=function(e){var t=this.__data__,n=kt(t,e);return!(n<0)&&(n==t.length-1?t.pop():it.call(t,n,1),--this.size,!0)},ht=function(e){var t=this.__data__,n=kt(t,e);return n<0?void 0:t[n][1]},Ft=function(e){return kt(this.__data__,e)>-1},X=function(e,t){var n=this.__data__,r=kt(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function ee(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ee.prototype.clear=Le,ee.prototype.delete=st,ee.prototype.get=ht,ee.prototype.has=Ft,ee.prototype.set=X;var le=ee,we=function(){this.__data__=new le,this.size=0},Ze=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Ue=function(e){return this.__data__.get(e)},et=function(e){return this.__data__.has(e)},yt=a(29),At=yt.a.Symbol,zt=Object.prototype,rr=zt.hasOwnProperty,Ln=zt.toString,Ot=At?At.toStringTag:void 0,Te=function(e){var t=rr.call(e,Ot),n=e[Ot];try{e[Ot]=void 0;var r=!0}catch(o){}var i=Ln.call(e);return r&&(t?e[Ot]=n:delete e[Ot]),i},Ge=Object.prototype.toString,Je=function(e){return Ge.call(e)},lt=At?At.toStringTag:void 0,Et=function(e){return e==null?e===void 0?"[object Undefined]":"[object Null]":lt&&lt in Object(e)?Te(e):Je(e)},Mt=function(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")},$t,Do=function(e){if(!Mt(e))return!1;var t=Et(e);return t=="[object Function]"||t=="[object GeneratorFunction]"||t=="[object AsyncFunction]"||t=="[object Proxy]"},zn=yt.a["__core-js_shared__"],or=($t=/[^.]+$/.exec(zn&&zn.keys&&zn.keys.IE_PROTO||""))?"Symbol(src)_1."+$t:"",oo=function(e){return!!or&&or in e},Za=Function.prototype.toString,En=function(e){if(e!=null){try{return Za.call(e)}catch(t){}try{return e+""}catch(t){}}return""},io=/^\[object .+?Constructor\]$/,Pi=Function.prototype,Ce=Object.prototype,qa=Pi.toString,Ai=Ce.hasOwnProperty,ki=RegExp("^"+qa.call(Ai).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pn=function(e){return!(!Mt(e)||oo(e))&&(Do(e)?ki:io).test(En(e))},dn=function(e,t){return e==null?void 0:e[t]},Bn=function(e,t){var n=dn(e,t);return pn(n)?n:void 0},mr=Bn(yt.a,"Map"),jn=Bn(Object,"create"),No=function(){this.__data__=jn?jn(null):{},this.size=0},Mi=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},$a=Object.prototype.hasOwnProperty,ao=function(e){var t=this.__data__;if(jn){var n=t[e];return n==="__lodash_hash_undefined__"?void 0:n}return $a.call(t,e)?t[e]:void 0},Ja=Object.prototype.hasOwnProperty,Ti=function(e){var t=this.__data__;return jn?t[e]!==void 0:Ja.call(t,e)},Qa=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=jn&&t===void 0?"__lodash_hash_undefined__":t,this};function ir(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}ir.prototype.clear=No,ir.prototype.delete=Mi,ir.prototype.get=ao,ir.prototype.has=Ti,ir.prototype.set=Qa;var Di=ir,Fn=function(){this.size=0,this.__data__={hash:new Di,map:new(mr||le),string:new Di}},eu=function(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null},uo=function(e,t){var n=e.__data__;return eu(t)?n[typeof t=="string"?"string":"hash"]:n.map},Co=function(e){var t=uo(this,e).delete(e);return this.size-=t?1:0,t},Ro=function(e){return uo(this,e).get(e)},tu=function(e){return uo(this,e).has(e)},Ni=function(e,t){var n=uo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Or(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Or.prototype.clear=Fn,Or.prototype.delete=Co,Or.prototype.get=Ro,Or.prototype.has=tu,Or.prototype.set=Ni;var _r=Or,Ci=function(e,t){var n=this.__data__;if(n instanceof le){var r=n.__data__;if(!mr||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new _r(r)}return n.set(e,t),this.size=n.size,this};function wr(e){var t=this.__data__=new le(e);this.size=t.size}wr.prototype.clear=we,wr.prototype.delete=Ze,wr.prototype.get=Ue,wr.prototype.has=et,wr.prototype.set=Ci;var Hn=wr,Ri=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ii=function(e){return this.__data__.has(e)};function Rr(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new _r;++t<n;)this.add(e[t])}Rr.prototype.add=Rr.prototype.push=Ri,Rr.prototype.has=Ii;var Li=Rr,nu=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1},zi=function(e,t){return e.has(t)},Bi=function(e,t,n,r,i,o){var u=1&n,s=e.length,d=t.length;if(s!=d&&!(u&&d>s))return!1;var m=o.get(e),x=o.get(t);if(m&&x)return m==t&&x==e;var j=-1,k=!0,I=2&n?new Li:void 0;for(o.set(e,t),o.set(t,e);++j<s;){var W=e[j],$=t[j];if(r)var oe=u?r($,W,j,t,e,o):r(W,$,j,e,t,o);if(oe!==void 0){if(oe)continue;k=!1;break}if(I){if(!nu(t,function(re,ue){if(!zi(I,ue)&&(W===re||i(W,re,n,r,o)))return I.push(ue)})){k=!1;break}}else if(W!==$&&!i(W,$,n,r,o)){k=!1;break}}return o.delete(e),o.delete(t),k},Ir=yt.a.Uint8Array,Fi=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n},ru=function(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n},Hi=At?At.prototype:void 0,Io=Hi?Hi.valueOf:void 0,Lr=function(e,t,n,r,i,o,u){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!o(new Ir(e),new Ir(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return Ye(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var s=Fi;case"[object Set]":var d=1&r;if(s||(s=ru),e.size!=t.size&&!d)return!1;var m=u.get(e);if(m)return m==t;r|=2,u.set(e,t);var x=Bi(s(e),s(t),r,i,o,u);return u.delete(e),x;case"[object Symbol]":if(Io)return Io.call(e)==Io.call(t)}return!1},Gn=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e},Gt=Array.isArray,Gi=function(e,t,n){var r=t(e);return Gt(e)?r:Gn(r,n(e))},ou=function(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var u=e[n];t(u,n,e)&&(o[i++]=u)}return o},Ui=function(){return[]},xr=Object.prototype.propertyIsEnumerable,Xi=Object.getOwnPropertySymbols,Lo=Xi?function(e){return e==null?[]:(e=Object(e),ou(Xi(e),function(t){return xr.call(e,t)}))}:Ui,bn=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r},mn=function(e){return e!=null&&typeof e=="object"},zo=function(e){return mn(e)&&Et(e)=="[object Arguments]"},Vi=Object.prototype,co=Vi.hasOwnProperty,so=Vi.propertyIsEnumerable,zr=zo(function(){return arguments}())?zo:function(e){return mn(e)&&co.call(e,"callee")&&!so.call(e,"callee")},Br=a(47),On=/^(?:0|[1-9]\d*)$/,Un=function(e,t){var n=typeof e;return!!(t=t==null?9007199254740991:t)&&(n=="number"||n!="symbol"&&On.test(e))&&e>-1&&e%1==0&&e<t},cn=function(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=9007199254740991},ut={};ut["[object Float32Array]"]=ut["[object Float64Array]"]=ut["[object Int8Array]"]=ut["[object Int16Array]"]=ut["[object Int32Array]"]=ut["[object Uint8Array]"]=ut["[object Uint8ClampedArray]"]=ut["[object Uint16Array]"]=ut["[object Uint32Array]"]=!0,ut["[object Arguments]"]=ut["[object Array]"]=ut["[object ArrayBuffer]"]=ut["[object Boolean]"]=ut["[object DataView]"]=ut["[object Date]"]=ut["[object Error]"]=ut["[object Function]"]=ut["[object Map]"]=ut["[object Number]"]=ut["[object Object]"]=ut["[object RegExp]"]=ut["[object Set]"]=ut["[object String]"]=ut["[object WeakMap]"]=!1;var Fr=function(e){return mn(e)&&cn(e.length)&&!!ut[Et(e)]},Jt=function(e){return function(t){return e(t)}},Er=a(48),Yi=Er.a&&Er.a.isTypedArray,lo=Yi?Jt(Yi):Fr,Sn=Object.prototype.hasOwnProperty,Bo=function(e,t){var n=Gt(e),r=!n&&zr(e),i=!n&&!r&&Object(Br.a)(e),o=!n&&!r&&!i&&lo(e),u=n||r||i||o,s=u?bn(e.length,String):[],d=s.length;for(var m in e)!t&&!Sn.call(e,m)||u&&(m=="length"||i&&(m=="offset"||m=="parent")||o&&(m=="buffer"||m=="byteLength"||m=="byteOffset")||Un(m,d))||s.push(m);return s},iu=Object.prototype,sn=function(e){var t=e&&e.constructor;return e===(typeof t=="function"&&t.prototype||iu)},Fo=function(e,t){return function(n){return e(t(n))}},au=Fo(Object.keys,Object),Ho=Object.prototype.hasOwnProperty,Qt=function(e){if(!sn(e))return au(e);var t=[];for(var n in Object(e))Ho.call(e,n)&&n!="constructor"&&t.push(n);return t},ar=function(e){return e!=null&&cn(e.length)&&!Do(e)},ur=function(e){return ar(e)?Bo(e):Qt(e)},Wt=function(e){return Gi(e,ur,Lo)},Wi=Object.prototype.hasOwnProperty,Go=function(e,t,n,r,i,o){var u=1&n,s=Wt(e),d=s.length;if(d!=Wt(t).length&&!u)return!1;for(var m=d;m--;){var x=s[m];if(!(u?x in t:Wi.call(t,x)))return!1}var j=o.get(e),k=o.get(t);if(j&&k)return j==t&&k==e;var I=!0;o.set(e,t),o.set(t,e);for(var W=u;++m<d;){var $=e[x=s[m]],oe=t[x];if(r)var re=u?r(oe,$,x,t,e,o):r($,oe,x,e,t,o);if(!(re===void 0?$===oe||i($,oe,n,r,o):re)){I=!1;break}W||(W=x=="constructor")}if(I&&!W){var ue=e.constructor,pe=t.constructor;ue==pe||!("constructor"in e)||!("constructor"in t)||typeof ue=="function"&&ue instanceof ue&&typeof pe=="function"&&pe instanceof pe||(I=!1)}return o.delete(e),o.delete(t),I},fo=Bn(yt.a,"DataView"),po=Bn(yt.a,"Promise"),ho=Bn(yt.a,"Set"),Uo=Bn(yt.a,"WeakMap"),hn=En(fo),_n=En(mr),Hr=En(po),Ki=En(ho),Xo=En(Uo),Xn=Et;(fo&&Xn(new fo(new ArrayBuffer(1)))!="[object DataView]"||mr&&Xn(new mr)!="[object Map]"||po&&Xn(po.resolve())!="[object Promise]"||ho&&Xn(new ho)!="[object Set]"||Uo&&Xn(new Uo)!="[object WeakMap]")&&(Xn=function(e){var t=Et(e),n=t=="[object Object]"?e.constructor:void 0,r=n?En(n):"";if(r)switch(r){case hn:return"[object DataView]";case _n:return"[object Map]";case Hr:return"[object Promise]";case Ki:return"[object Set]";case Xo:return"[object WeakMap]"}return t});var Gr=Xn,Ur=Object.prototype.hasOwnProperty,uu=function(e,t,n,r,i,o){var u=Gt(e),s=Gt(t),d=u?"[object Array]":Gr(e),m=s?"[object Array]":Gr(t),x=(d=d=="[object Arguments]"?"[object Object]":d)=="[object Object]",j=(m=m=="[object Arguments]"?"[object Object]":m)=="[object Object]",k=d==m;if(k&&Object(Br.a)(e)){if(!Object(Br.a)(t))return!1;u=!0,x=!1}if(k&&!x)return o||(o=new Hn),u||lo(e)?Bi(e,t,n,r,i,o):Lr(e,t,d,n,r,i,o);if(!(1&n)){var I=x&&Ur.call(e,"__wrapped__"),W=j&&Ur.call(t,"__wrapped__");if(I||W){var $=I?e.value():e,oe=W?t.value():t;return o||(o=new Hn),i($,oe,n,r,o)}}return!!k&&(o||(o=new Hn),Go(e,t,n,r,i,o))},v=function e(t,n,r,i,o){return t===n||(t==null||n==null||!mn(t)&&!mn(n)?t!=t&&n!=n:uu(t,n,r,i,e,o))},g=function(e,t,n,r){var i=n.length,o=i,u=!r;if(e==null)return!o;for(e=Object(e);i--;){var s=n[i];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++i<o;){var d=(s=n[i])[0],m=e[d],x=s[1];if(u&&s[2]){if(m===void 0&&!(d in e))return!1}else{var j=new Hn;if(r)var k=r(m,x,d,e,t,j);if(!(k===void 0?v(x,m,3,r,j):k))return!1}}return!0},E=function(e){return e==e&&!Mt(e)},T=function(e){for(var t=ur(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,E(i)]}return t},D=function(e,t){return function(n){return n!=null&&n[e]===t&&(t!==void 0||e in Object(n))}},H=function(e){var t=T(e);return t.length==1&&t[0][2]?D(t[0][0],t[0][1]):function(n){return n===e||g(n,e,t)}},ne=function(e){return typeof e=="symbol"||mn(e)&&Et(e)=="[object Symbol]"},be=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ke=/^\w*$/,rt=function(e,t){if(Gt(e))return!1;var n=typeof e;return!(n!="number"&&n!="symbol"&&n!="boolean"&&e!=null&&!ne(e))||ke.test(e)||!be.test(e)||t!=null&&e in Object(t)};function tt(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError("Expected a function");var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var u=e.apply(this,r);return n.cache=o.set(i,u)||o,u};return n.cache=new(tt.Cache||_r),n}tt.Cache=_r;var _t=tt,vt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ft=/\\(\\)?/g,jt=function(e){var t=_t(e,function(r){return n.size===500&&n.clear(),r}),n=t.cache;return t}(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(vt,function(n,r,i,o){t.push(i?o.replace(ft,"$1"):r||n)}),t}),wt=At?At.prototype:void 0,gt=wt?wt.toString:void 0,Pn=function e(t){if(typeof t=="string")return t;if(Gt(t))return Be(t,e)+"";if(ne(t))return gt?gt.call(t):"";var n=t+"";return n=="0"&&1/t==-1/0?"-0":n},cu=function(e){return e==null?"":Pn(e)},Xr=function(e,t){return Gt(e)?e:rt(e,t)?[e]:jt(cu(e))},jr=function(e){if(typeof e=="string"||ne(e))return e;var t=e+"";return t=="0"&&1/e==-1/0?"-0":t},Vr=function(e,t){for(var n=0,r=(t=Xr(t,e)).length;e!=null&&n<r;)e=e[jr(t[n++])];return n&&n==r?e:void 0},Vo=function(e,t,n){var r=e==null?void 0:Vr(e,t);return r===void 0?n:r},en=function(e,t){return e!=null&&t in Object(e)},Zi=function(e,t,n){for(var r=-1,i=(t=Xr(t,e)).length,o=!1;++r<i;){var u=jr(t[r]);if(!(o=e!=null&&n(e,u)))break;e=e[u]}return o||++r!=i?o:!!(i=e==null?0:e.length)&&cn(i)&&Un(u,i)&&(Gt(e)||zr(e))},Yo=function(e,t){return e!=null&&Zi(e,t,en)},Kv=function(e,t){return rt(e)&&E(t)?D(jr(e),t):function(n){var r=Vo(n,e);return r===void 0&&r===t?Yo(n,e):v(t,r,3)}},su=function(e){return e},Zv=function(e){return function(t){return t==null?void 0:t[e]}},qv=function(e){return function(t){return Vr(t,e)}},$v=function(e){return rt(e)?Zv(jr(e)):qv(e)},Jv=function(e){return typeof e=="function"?e:e==null?su:typeof e=="object"?Gt(e)?Kv(e[0],e[1]):H(e):$v(e)},ls=function(e){return function(t,n,r){for(var i=-1,o=Object(t),u=r(t),s=u.length;s--;){var d=u[e?s:++i];if(n(o[d],d,o)===!1)break}return t}}(),Qv=function(e,t){return function(n,r){if(n==null)return n;if(!ar(n))return e(n,r);for(var i=n.length,o=t?i:-1,u=Object(n);(t?o--:++o<i)&&r(u[o],o,u)!==!1;);return n}}(function(e,t){return e&&ls(e,t,ur)}),eg=function(e,t){var n=-1,r=ar(e)?Array(e.length):[];return Qv(e,function(i,o,u){r[++n]=t(i,o,u)}),r},qi=function(e,t){return(Gt(e)?Be:eg)(e,Jv(t))},$i=function(){try{var e=Bn(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),lu=function(e,t,n){t=="__proto__"&&$i?$i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n},tg=Object.prototype.hasOwnProperty,Ji=function(e,t,n){var r=e[t];tg.call(e,t)&&Ye(r,n)&&(n!==void 0||t in e)||lu(e,t,n)},yo=function(e,t,n,r){var i=!n;n||(n={});for(var o=-1,u=t.length;++o<u;){var s=t[o],d=r?r(n[s],e[s],s,n,e):void 0;d===void 0&&(d=e[s]),i?lu(n,s,d):Ji(n,s,d)}return n},ng=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)},fs=Math.max,ps=function(e,t,n){return t=fs(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,o=fs(r.length-t,0),u=Array(o);++i<o;)u[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(u),ng(e,this,s)}},rg=function(e){return function(){return e}},og=$i?function(e,t){return $i(e,"toString",{configurable:!0,enumerable:!1,value:rg(t),writable:!0})}:su,ig=Date.now,ds=function(e){var t=0,n=0;return function(){var r=ig(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(og),ag=function(e,t){return ds(ps(e,t,su),e+"")},ug=function(e,t,n){if(!Mt(n))return!1;var r=typeof t;return!!(r=="number"?ar(n)&&Un(t,n.length):r=="string"&&t in n)&&Ye(n[t],e)},hs=function(e){return ag(function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(o=e.length>3&&typeof o=="function"?(i--,o):void 0,u&&ug(n[0],n[1],u)&&(o=i<3?void 0:o,i=1),t=Object(t);++r<i;){var s=n[r];s&&e(t,s,r,o)}return t})},cg=Object.prototype.hasOwnProperty,tn=hs(function(e,t){if(sn(t)||ar(t))yo(t,ur(t),e);else for(var n in t)cg.call(t,n)&&Ji(e,n,t[n])}),sg=function(e,t,n,r){if(!Mt(e))return e;for(var i=-1,o=(t=Xr(t,e)).length,u=o-1,s=e;s!=null&&++i<o;){var d=jr(t[i]),m=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(i!=u){var x=s[d];(m=r?r(x,d,s):void 0)===void 0&&(m=Mt(x)?x:Un(t[i+1])?[]:{})}Ji(s,d,m),s=s[d]}return e},lg=function(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var u=t[r],s=Vr(e,u);n(s,u)&&sg(o,Xr(u,e),s)}return o},fg=function(e,t){return lg(e,t,function(n,r){return Yo(e,r)})},ys=At?At.isConcatSpreadable:void 0,pg=function(e){return Gt(e)||zr(e)||!!(ys&&e&&e[ys])},dg=function e(t,n,r,i,o){var u=-1,s=t.length;for(r||(r=pg),o||(o=[]);++u<s;){var d=t[u];n>0&&r(d)?n>1?e(d,n-1,r,i,o):Gn(o,d):i||(o[o.length]=d)}return o},hg=function(e){return e!=null&&e.length?dg(e,1):[]},Ct,vs,gs,bs,ms,Os,_s,ws,xs,Es,js,Ss,Ps,As,ks,Ms,Ts,Wo=function(e){return ds(ps(e,void 0,hg),e+"")}(function(e,t){return e==null?{}:fg(e,t)});function Kt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function yg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ds(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ut(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var xt,Ns,ct,Bt,Qe,Pt,vg={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},fu=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey"],Cs=(vs=Ut((Ct=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Kt(this,"isSilentMode",vs,this),Kt(this,"stopZoomGraph",gs,this),Kt(this,"stopScrollGraph",bs,this),Kt(this,"stopMoveGraph",ms,this),Kt(this,"adjustEdge",Os,this),Kt(this,"adjustEdgeMiddle",_s,this),Kt(this,"adjustEdgeStartAndEnd",ws,this),Kt(this,"adjustNodePosition",xs,this),Kt(this,"hideAnchors",Es,this),Kt(this,"hoverOutline",js,this),Kt(this,"nodeSelectedOutline",Ss,this),Kt(this,"edgeSelectedOutline",Ps,this),Kt(this,"nodeTextEdit",As,this),Kt(this,"edgeTextEdit",ks,this),Kt(this,"nodeTextDraggable",Ms,this),Kt(this,"edgeTextDraggable",Ts,this),Ds(this,"multipleSelectKey",""),Ds(this,"defaultConfig",{}),tn(this,this.getConfigDetail(r))}var t,n;return t=e,(n=[{key:"updateEditConfig",value:function(r){var i=this.getConfigDetail(r);tn(this,i)}},{key:"getConfigDetail",value:function(r){var i=r.isSilentMode,o=r.textEdit,u={};if(i===!1&&tn(u,this.defaultConfig),i===!0){var s=Wo(vg,fu);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable},tn(u,s)}o===!1&&tn(u,{nodeTextEdit:!1,edgeTextEdit:!1});var d=Wo(r,fu);return tn(u,d)}},{key:"getConfig",value:function(){return Wo(this,fu)}}])&&yg(t.prototype,n),e}()).prototype,"isSilentMode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),gs=Ut(Ct.prototype,"stopZoomGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bs=Ut(Ct.prototype,"stopScrollGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ms=Ut(Ct.prototype,"stopMoveGraph",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Os=Ut(Ct.prototype,"adjustEdge",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_s=Ut(Ct.prototype,"adjustEdgeMiddle",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ws=Ut(Ct.prototype,"adjustEdgeStartAndEnd",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),xs=Ut(Ct.prototype,"adjustNodePosition",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Es=Ut(Ct.prototype,"hideAnchors",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),js=Ut(Ct.prototype,"hoverOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ss=Ut(Ct.prototype,"nodeSelectedOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ps=Ut(Ct.prototype,"edgeSelectedOutline",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),As=Ut(Ct.prototype,"nodeTextEdit",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ks=Ut(Ct.prototype,"edgeTextEdit",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ms=Ut(Ct.prototype,"nodeTextDraggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ts=Ut(Ct.prototype,"edgeTextDraggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ut(Ct.prototype,"updateEditConfig",[l.k],Object.getOwnPropertyDescriptor(Ct.prototype,"updateEditConfig"),Ct.prototype),Ct);a(98),function(e){e[e.DEFAULT=1]="DEFAULT",e[e.TEXT_EDIT=2]="TEXT_EDIT",e[e.SHOW_MENU=3]="SHOW_MENU",e[e.ALLOW_CONNECT=4]="ALLOW_CONNECT",e[e.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(xt||(xt={})),function(e){e.KEY="logic-flow",e.NODE_NAME="lf-node",e.EDGE_NAME="lf-edge"}(Ns||(Ns={})),function(e){e.NODE="node",e.CIRCLE_NODE="circle-node",e.POLYGON_NODE="polygon-node",e.RECT_NODE="rect-node",e.TEXT_NODE="text-node",e.ELLIPSE_NODE="ellipse-node",e.DIAMOND_NODE="diamond-node",e.HTML_NODE="html-node",e.EDGE="edge",e.LINE_EDGE="line-edge",e.POLYLINE_EDGE="polyline-edge",e.BEZIER_EDGE="bezier-edge",e.GRAPH="graph"}(ct||(ct={})),function(e){e.NODE="node",e.EDGE="edge",e.GRAPH="graph"}(Bt||(Bt={})),function(e){e.ELEMENT_CLICK="element:click",e.NODE_CLICK="node:click",e.NODE_DBCLICK="node:dbclick",e.NODE_DELETE="node:delete",e.NODE_ADD="node:add",e.NODE_DND_ADD="node:dnd-add",e.NODE_DND_DRAG="node:dnd-drag",e.NODE_MOUSEDOWN="node:mousedown",e.NODE_DRAGSTART="node:dragstart",e.NODE_DRAG="node:drag",e.NODE_DROP="node:drop",e.NODE_MOUSEUP="node:mouseup",e.NODE_MOUSEMOVE="node:mousemove",e.NODE_MOUSEENTER="node:mouseenter",e.NODE_MOUSELEAVE="node:mouseleave",e.NODE_CONTEXTMENU="node:contextmenu",e.EDGE_DELETE="edge:delete",e.EDGE_ADD="edge:add",e.EDGE_CLICK="edge:click",e.EDGE_DBCLICK="edge:dbclick",e.EDGE_MOUSEENTER="edge:mouseenter",e.EDGE_MOUSELEAVE="edge:mouseleave",e.EDGE_CONTEXTMENU="edge:contextmenu",e.EDGE_ADJUST="edge:adjust",e.EDGE_EXCHANGE_NODE="edge:exchange-node",e.ANCHOR_DRAGSTART="anchor:dragstart",e.ANCHOR_DRAG="anchor:drag",e.ANCHOR_DROP="anchor:drop",e.BLANK_MOUSEDOWN="blank:mousedown",e.BLANK_DRAGSTART="blank:dragstart",e.BLANK_DRAG="blank:drag",e.BLANK_DROP="blank:drop",e.BLANK_MOUSEMOVE="blank:mousemove",e.BLANK_MOUSEUP="blank:mouseup",e.BLANK_CLICK="blank:click",e.BLANK_CONTEXTMENU="blank:contextmenu",e.SELECTION_MOUSEDOWN="selection:mousedown",e.SELECTION_DRAGSTART="selection:dragstart",e.SELECTION_DRAG="selection:drag",e.SELECTION_DROP="selection:drop",e.SELECTION_MOUSEMOVE="selection:mousemove",e.SELECTION_MOUSEUP="selection:mouseup",e.SELECTION_CONTEXTMENU="selection:contextmenu",e.CONNECTION_NOT_ALLOWED="connection:not-allowed",e.HISTORY_CHANGE="history:change",e.TEXT_UPDATE="text:update",e.GRAPH_TRANSFORM="graph:transform",e.GRAPH_RENDERED="graph:rendered"}(Qe||(Qe={})),function(e){e.HORIZONTAL="horizontal",e.VERTICAL="vertical"}(Pt||(Pt={}));var yn,Rt,Rs,Is,Ls,zs,Bs,Fs,Hs;function Qi(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Gs(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Gs(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Gs(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Yr(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function gg(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function An(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}(function(e){e[e.DEFAULT=0]="DEFAULT",e[e.INCREASE=1]="INCREASE"})(yn||(yn={}));var bg=(Rs=An((Rt=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),pu(this,"MINI_SCALE_SIZE",.2),pu(this,"MAX_SCALE_SIZE",16),Yr(this,"SCALE_X",Rs,this),Yr(this,"SKEW_Y",Is,this),Yr(this,"SKEW_X",Ls,this),Yr(this,"SCALE_Y",zs,this),Yr(this,"TRANSLATE_X",Bs,this),Yr(this,"TRANSLATE_Y",Fs,this),Yr(this,"ZOOM_SIZE",Hs,this),pu(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"setZoomMiniSize",value:function(r){this.MINI_SCALE_SIZE=r}},{key:"setZoomMaxSize",value:function(r){this.MAX_SCALE_SIZE=r}},{key:"HtmlPointToCanvasPoint",value:function(r){var i=Qi(r,2),o=i[0],u=i[1];return[(o-this.TRANSLATE_X)/this.SCALE_X,(u-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(r){var i=Qi(r,2),o=i[0],u=i[1];return[o*this.SCALE_X+this.TRANSLATE_X,u*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(r,i,o){var u=Qi(r,2),s=u[0],d=u[1];return[s+i/this.SCALE_X,d+o/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(r,i){return[r/this.SCALE_X,i/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var r=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(r,")")}}},{key:"zoom",value:function(){var r=arguments.length>0&&arguments[0]!==void 0&&arguments[0],i=arguments.length>1?arguments[1]:void 0,o=this.SCALE_X,u=this.SCALE_Y;return r===!0?(o+=this.ZOOM_SIZE,u+=this.ZOOM_SIZE):r===!1?(o-=this.ZOOM_SIZE,u-=this.ZOOM_SIZE):typeof r=="number"&&(o=r,u=r),o<this.MINI_SCALE_SIZE||o>this.MAX_SCALE_SIZE||(i&&(this.TRANSLATE_X-=(o-this.SCALE_X)*i[0],this.TRANSLATE_Y-=(u-this.SCALE_Y)*i[1]),this.SCALE_X=o,this.SCALE_Y=u,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(r){this.eventCenter.emit(Qe.GRAPH_TRANSFORM,{type:r,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(r,i){this.TRANSLATE_X+=r,this.TRANSLATE_Y+=i,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(r,i,o,u){var s=Qi(this.CanvasPointToHtmlPoint([r,i]),2),d=o/2-s[0],m=u/2-s[1];this.TRANSLATE_X+=d,this.TRANSLATE_Y+=m,this.emitGraphTransform("focusOn")}}])&&gg(t.prototype,n),e}()).prototype,"SCALE_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Is=An(Rt.prototype,"SKEW_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ls=An(Rt.prototype,"SKEW_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),zs=An(Rt.prototype,"SCALE_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Bs=An(Rt.prototype,"TRANSLATE_X",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Fs=An(Rt.prototype,"TRANSLATE_Y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Hs=An(Rt.prototype,"ZOOM_SIZE",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return .04}}),An(Rt.prototype,"zoom",[l.k],Object.getOwnPropertyDescriptor(Rt.prototype,"zoom"),Rt.prototype),An(Rt.prototype,"resetZoom",[l.k],Object.getOwnPropertyDescriptor(Rt.prototype,"resetZoom"),Rt.prototype),An(Rt.prototype,"translate",[l.k],Object.getOwnPropertyDescriptor(Rt.prototype,"translate"),Rt.prototype),An(Rt.prototype,"focusOn",[l.k],Object.getOwnPropertyDescriptor(Rt.prototype,"focusOn"),Rt.prototype),Rt),mg=function(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e},Og=function(e,t){return e&&yo(t,ur(t),e)},_g=function(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t},wg=Object.prototype.hasOwnProperty,xg=function(e){if(!Mt(e))return _g(e);var t=sn(e),n=[];for(var r in e)(r!="constructor"||!t&&wg.call(e,r))&&n.push(r);return n},Ko=function(e){return ar(e)?Bo(e,!0):xg(e)},Eg=function(e,t){return e&&yo(t,Ko(t),e)},Us=a(101),Xs=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t},jg=function(e,t){return yo(e,Lo(e),t)},du=Fo(Object.getPrototypeOf,Object),Vs=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Gn(t,Lo(e)),e=du(e);return t}:Ui,Sg=function(e,t){return yo(e,Vs(e),t)},Pg=function(e){return Gi(e,Ko,Vs)},Ag=Object.prototype.hasOwnProperty,kg=function(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&Ag.call(e,"index")&&(n.index=e.index,n.input=e.input),n},hu=function(e){var t=new e.constructor(e.byteLength);return new Ir(t).set(new Ir(e)),t},Mg=function(e,t){var n=t?hu(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)},Tg=/\w*$/,Dg=function(e){var t=new e.constructor(e.source,Tg.exec(e));return t.lastIndex=e.lastIndex,t},Ys=At?At.prototype:void 0,Ws=Ys?Ys.valueOf:void 0,Ng=function(e){return Ws?Object(Ws.call(e)):{}},Ks=function(e,t){var n=t?hu(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)},Cg=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return hu(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return Mg(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Ks(e,n);case"[object Map]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return Dg(e);case"[object Set]":return new r;case"[object Symbol]":return Ng(e)}},Zs=Object.create,Rg=function(){function e(){}return function(t){if(!Mt(t))return{};if(Zs)return Zs(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}(),qs=function(e){return typeof e.constructor!="function"||sn(e)?{}:Rg(du(e))},Ig=function(e){return mn(e)&&Gr(e)=="[object Map]"},$s=Er.a&&Er.a.isMap,Lg=$s?Jt($s):Ig,zg=function(e){return mn(e)&&Gr(e)=="[object Set]"},Js=Er.a&&Er.a.isSet,Bg=Js?Jt(Js):zg,St={};St["[object Arguments]"]=St["[object Array]"]=St["[object ArrayBuffer]"]=St["[object DataView]"]=St["[object Boolean]"]=St["[object Date]"]=St["[object Float32Array]"]=St["[object Float64Array]"]=St["[object Int8Array]"]=St["[object Int16Array]"]=St["[object Int32Array]"]=St["[object Map]"]=St["[object Number]"]=St["[object Object]"]=St["[object RegExp]"]=St["[object Set]"]=St["[object String]"]=St["[object Symbol]"]=St["[object Uint8Array]"]=St["[object Uint8ClampedArray]"]=St["[object Uint16Array]"]=St["[object Uint32Array]"]=!0,St["[object Error]"]=St["[object Function]"]=St["[object WeakMap]"]=!1;var Fg=function e(t,n,r,i,o,u){var s,d=1&n,m=2&n,x=4&n;if(r&&(s=o?r(t,i,o,u):r(t)),s!==void 0)return s;if(!Mt(t))return t;var j=Gt(t);if(j){if(s=kg(t),!d)return Xs(t,s)}else{var k=Gr(t),I=k=="[object Function]"||k=="[object GeneratorFunction]";if(Object(Br.a)(t))return Object(Us.a)(t,d);if(k=="[object Object]"||k=="[object Arguments]"||I&&!o){if(s=m||I?{}:qs(t),!d)return m?Sg(t,Eg(s,t)):jg(t,Og(s,t))}else{if(!St[k])return o?t:{};s=Cg(t,k,d)}}u||(u=new Hn);var W=u.get(t);if(W)return W;u.set(t,s),Bg(t)?t.forEach(function(oe){s.add(e(oe,n,r,oe,t,u))}):Lg(t)&&t.forEach(function(oe,re){s.set(re,e(oe,n,r,re,t,u))});var $=j?void 0:(x?m?Pg:Wt:m?Ko:ur)(t);return mg($||t,function(oe,re){$&&(oe=t[re=oe]),Ji(s,re,e(oe,n,r,re,t,u))}),s},Tt=function(e){return Fg(e,5)},yu=function(e,t,n){(n!==void 0&&!Ye(e[t],n)||n===void 0&&!(t in e))&&lu(e,t,n)},Hg=function(e){return mn(e)&&ar(e)},Gg=Function.prototype,Ug=Object.prototype,Qs=Gg.toString,Xg=Ug.hasOwnProperty,Vg=Qs.call(Object),Yg=function(e){if(!mn(e)||Et(e)!="[object Object]")return!1;var t=du(e);if(t===null)return!0;var n=Xg.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Qs.call(n)==Vg},vu=function(e,t){if((t!=="constructor"||typeof e[t]!="function")&&t!="__proto__")return e[t]},Wg=function(e){return yo(e,Ko(e))},Kg=function(e,t,n,r,i,o,u){var s=vu(e,n),d=vu(t,n),m=u.get(d);if(m)yu(e,n,m);else{var x=o?o(s,d,n+"",e,t,u):void 0,j=x===void 0;if(j){var k=Gt(d),I=!k&&Object(Br.a)(d),W=!k&&!I&&lo(d);x=d,k||I||W?Gt(s)?x=s:Hg(s)?x=Xs(s):I?(j=!1,x=Object(Us.a)(d,!0)):W?(j=!1,x=Ks(d,!0)):x=[]:Yg(d)||zr(d)?(x=s,zr(s)?x=Wg(s):Mt(s)&&!Do(s)||(x=qs(d))):j=!1}j&&(u.set(d,x),i(x,d,r,o,u),u.delete(d)),yu(e,n,x)}},Zg=function e(t,n,r,i,o){t!==n&&ls(n,function(u,s){if(o||(o=new Hn),Mt(u))Kg(t,n,s,r,e,i,o);else{var d=i?i(vu(t,s),u,s+"",t,n,o):void 0;d===void 0&&(d=u),yu(t,s,d)}},Ko)},el=hs(function(e,t,n){Zg(e,t,n)}),qg={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}}},tl=function(e){var t=Tt(qg);return e&&(t=el(t,e)),t};a(71),a(190);function $g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Jg=function(){function e(){var r,i,o;(function(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),o={},(i="_events")in(r=this)?Object.defineProperty(r,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):r[i]=o}var t,n;return t=e,(n=[{key:"on",value:function(r,i,o){var u=this;return r==null||r.split(",").forEach(function(s){s=s.trim(),u._events[s]||(u._events[s]=[]),u._events[s].push({callback:i,once:!!o})}),this}},{key:"once",value:function(r,i){var o=this;r==null||r.split(",").forEach(function(u){return u=u.trim(),o.on(u,i,!0)})}},{key:"emit",value:function(r,i){var o=this;r==null||r.split(",").forEach(function(u){var s=o._events[u]||[],d=o._events["*"]||[],m=function(x){for(var j=x.length,k=0;k<j;k++)if(x[k]){var I=x[k],W=I.callback;I.once&&(x.splice(k,1),x.length===0&&delete o._events[u],j--,k--),W.apply(o,[i])}};m(s),m(d)})}},{key:"off",value:function(r,i){var o=this;return r||(this._events={}),r.split(",").forEach(function(u){if(i){for(var s=o._events[u]||[],d=s.length,m=0;m<d;m++)s[m].callback===i&&(s.splice(m,1),d--,m--);s.length===0&&delete o._events[u]}else delete o._events[u]}),this}},{key:"getEvents",value:function(){return this._events}}])&&$g(t.prototype,n),e}();function ea(e,t){return t*Math.round(e/t)||e}function nl(e,t){return e%t}function gu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return rl(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return rl(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function rl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var bu,mu=function(e,t,n){var r=gu(e,2),i=r[0],o=r[1],u=gu(t,2),s=u[0],d=u[1],m=gu(n,2),x=m[0],j=m[1];return i>s&&i<x&&o>d&&o<j},ol=function(e,t){var n=!1;switch(t.multipleSelectKey){case"meta":n=e.metaKey;break;case"alt":n=e.altKey;break;case"shift":n=e.shiftKey;break;default:n=!1}return n},Qg=(a(72),a(155),a(122),a(73),a(12),a(13),a(14),a(46),a(31),new Uint8Array(16));function eb(){if(!bu&&!(bu=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bu(Qg)}for(var tb=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,nb=function(e){return typeof e=="string"&&tb.test(e)},Xt=[],Ou=0;Ou<256;++Ou)Xt.push((Ou+256).toString(16).substr(1));var rb=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Xt[e[t+0]]+Xt[e[t+1]]+Xt[e[t+2]]+Xt[e[t+3]]+"-"+Xt[e[t+4]]+Xt[e[t+5]]+"-"+Xt[e[t+6]]+Xt[e[t+7]]+"-"+Xt[e[t+8]]+Xt[e[t+9]]+"-"+Xt[e[t+10]]+Xt[e[t+11]]+Xt[e[t+12]]+Xt[e[t+13]]+Xt[e[t+14]]+Xt[e[t+15]]).toLowerCase();if(!nb(n))throw TypeError("Stringified UUID is invalid");return n},_u=function(e,t,n){var r=(e=e||{}).random||(e.rng||eb)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return rb(r)},Wr=function(){return _u()},ob=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=e.nodes.reduce(function(r,i){return r[i.id]=t+_u(),i.id=r[i.id],r},{});return e.edges.forEach(function(r){r.id=t+_u(),r.sourceNodeId=n[r.sourceNodeId],r.targetNodeId=n[r.targetNodeId]}),e},Zo=(a(99),a(199),function(e,t,n){var r=e.x,i=e.y;return(r-t.x)*(r-n.x)<=0&&(i-t.y)*(i-n.y)<=0});function il(e){return(il=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function al(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ul(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?al(Object(n),!0).forEach(function(r){ib(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):al(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ib(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var je,cl,sl,ll,fl,pl,dl,hl,yl,vl,gl,bl,ml,Ol,_l,wl,xl,wu=function(e){return e.anchors},ta=function(e,t){for(var n,r=t.nodes,i=r.length-1;i>=0;i--){var o=r[i];if(cb(e,o)){var u=ub(e,o);if(u){var s={node:o,anchorIndex:u.index,anchor:u.anchor};n&&!ab(o,n.node,t)||(n=s)}}}return n},ab=function(e,t,n){return e.zIndex>t.zIndex||n.nodesMap[e.id].index>n.nodesMap[t.id].index},ub=function(e,t){for(var n,r=wu(t),i=Number.MAX_SAFE_INTEGER,o=0;o<r.length;o++){var u=Vn(e.x,e.y,r[o].x,r[o].y);u<i&&(i=u,n={index:o,anchor:ul(ul({},r[o]),{},{x:r[o].x,y:r[o].y,id:r[o].id})})}return n},Vn=function(e,t,n,r){return Math.hypot(e-n,t-r)},Sr=function(e,t){var n=!1,r=vn(t);return e.x>=r.minX-0&&e.x<=r.maxX+0&&e.y>=r.minY-0&&e.y<=r.maxY+0&&(n=!0),n},cb=function(e,t){var n=!1,r=vn(t);return e.x>=r.minX-5&&e.x<=r.maxX+5&&e.y>=r.minY-5&&e.y<=r.maxY+5&&(n=!0),n},vn=function(e){var t=e.x,n=e.y,r=e.width,i=e.height;return{minX:t-r/2,minY:n-i/2,maxX:t+r/2,maxY:n+i/2,x:t,y:n,width:r,height:i,centerX:t,centerY:n}},El=function(e,t,n){var r,i=function(u){var s=u,d=s.x,m=s.y,x=s.width,j=s.height,k=s.radius;return[{x:d-x/2+k,y:m-j/2+k,r:k},{x:d+x/2-k,y:m-j/2+k,r:k},{x:d-x/2+k,y:m+j/2-k,r:k},{x:d+x/2-k,y:m+j/2-k,r:k}]}(n),o=Number.MAX_SAFE_INTEGER;return i.forEach(function(u){var s=Vn(e.x,e.y,u.x,u.y);s<o&&(o=s,r=u)}),xu(e,t,r)},xu=function(e,t,n){var r,i=n,o=i.x,u=i.y,s=i.r;if(t===Pt.HORIZONTAL){var d=o-Math.sqrt(s*s-(e.y-u)*(e.y-u)),m=o+Math.sqrt(s*s-(e.y-u)*(e.y-u));r={x:Math.abs(d-e.x)<Math.abs(m-e.x)?d:m,y:e.y}}else if(t===Pt.VERTICAL){var x=u-Math.sqrt(s*s-(e.x-o)*(e.x-o)),j=u+Math.sqrt(s*s-(e.x-o)*(e.x-o)),k=Math.abs(x-e.y)<Math.abs(j-e.y)?x:j;r={x:e.x,y:k}}return r},jl=function(e,t){var n=t,r=!1,i=n.x-n.width/2+n.radius,o=n.x+n.width/2-n.radius,u=n.y-n.height/2+n.radius,s=n.y+n.height/2-n.radius,d=n.x,m=n.y,x=n.width,j=n.height;return e.y===m+j/2||e.y===m-j/2?r=e.x>i&&e.x<o:e.x!==d+x/2&&e.x!==d-x/2||(r=e.y>u&&e.y<s),r},Sl=function(e,t,n){var r,i=n,o=i.x,u=i.y,s=i.rx,d=i.ry;if(t===Pt.HORIZONTAL){var m=o-Math.sqrt(s*s-(e.y-u)*(e.y-u)*s*s/(d*d)),x=o+Math.sqrt(s*s-(e.y-u)*(e.y-u)*s*s/(d*d));r={x:Math.abs(m-e.x)<Math.abs(x-e.x)?m:x,y:e.y}}else if(t===Pt.VERTICAL){var j=u-Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(s*s)),k=u+Math.sqrt(d*d-(e.x-o)*(e.x-o)*d*d/(s*s)),I=Math.abs(j-e.y)<Math.abs(k-e.y)?j:k;r={x:e.x,y:I}}return r},Pl=function(e,t,n){for(var r,i=n.pointsPosition,o=Number.MAX_SAFE_INTEGER,u=[],s=0;s<i.length;s++)u.push({start:i[s],end:i[(s+1)%i.length]});return u.forEach(function(d){var m=d.start,x=d.end,j=m,k=x;m.x>x.x&&(j=x,k=m);var I={x:e.x,y:e.y};if(j.x===k.x&&t===Pt.HORIZONTAL&&(I={x:j.x,y:e.y}),j.y===k.y&&t===Pt.VERTICAL&&(I={x:e.x,y:j.y}),j.x!==k.x&&j.y!==k.y){var W=(k.y-j.y)/(k.x-j.x),$=(j.x*k.y-k.x*j.y)/(j.x-k.x);t===Pt.HORIZONTAL?I={x:(e.y-$)/W,y:e.y}:t===Pt.VERTICAL&&(I={x:e.x,y:W*e.x+$})}if(Zo(I,m,x)){var oe=Vn(I.x,I.y,e.x,e.y);oe<o&&(o=oe,r=I)}}),r},Al=function(e,t,n,r){var i=e.x,o=e.y;return t.x>e.x?i=e.x+n/2:t.x<e.x&&(i=e.x-n/2),t.y>e.y?o=e.y+r/2:t.y<e.y&&(o=e.y-r/2),{x:i,y:o}},kl=function(e){var t=e.rows,n=e.style,r=e.rowsLength,i=e.className,o=document.createElement("div");o.style.fontSize=n.fontSize,o.style.width=n.width,o.className=i,o.style.lineHeight=n.lineHeight,o.style.padding=n.padding,n.fontFamily&&(o.style.fontFamily=n.fontFamily),r>1?t.forEach(function(s){var d=document.createElement("div");d.textContent=s,o.appendChild(d)}):o.textContent=t,document.body.appendChild(o);var u=o.clientHeight;return document.body.removeChild(o),u},Eu=function(e){var t=e.rows,n=e.rowsLength,r=e.fontSize,i=0;return t&&t.forEach(function(o){var u=rf(o);i=u>i?u:i}),{width:Math.ceil(i/2)*r+r/4,height:n*(r+2)+r/4}},na=function(e){return il(e)!=="object"?{isAllPass:!!e,msg:e?"":"\u4E0D\u5141\u8BB8\u8FDE\u63A5"}:e},Ml={node:!1,edge:!1},sb={node:!0,edge:!0},lb={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},Yn=function(e){try{return JSON.parse(JSON.stringify(e))}catch(t){return e}},fb=1e3,pb=999,ju=function(){return++fb};function Tl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Tl(Object(n),!0).forEach(function(r){kn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Tl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Zt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function db(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ot(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Su=(cl=ot((je=function(){function e(r,i){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),kn(this,"id",Wr()),Zt(this,"type",cl,this),Zt(this,"sourceNodeId",sl,this),Zt(this,"targetNodeId",ll,this),Zt(this,"startPoint",fl,this),Zt(this,"endPoint",pl,this),Zt(this,"text",dl,this),Zt(this,"properties",hl,this),Zt(this,"points",yl,this),Zt(this,"pointsList",vl,this),Zt(this,"isSelected",gl,this),Zt(this,"isHovered",bl,this),Zt(this,"isHitable",ml,this),Zt(this,"draggable",Ol,this),Zt(this,"visible",_l,this),kn(this,"graphModel",void 0),Zt(this,"zIndex",wl,this),kn(this,"BaseType",Bt.EDGE),kn(this,"modelType",ct.EDGE),Zt(this,"state",xl,this),kn(this,"additionStateData",void 0),kn(this,"sourceAnchorId",""),kn(this,"targetAnchorId",""),kn(this,"menu",void 0),kn(this,"customTextPosition",!1),kn(this,"animationData",lb),this.graphModel=i,this.initEdgeData(r),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(r)}var t,n;return t=e,(n=[{key:"initEdgeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}tn(this,Tb(r)),this.graphModel.overlapMode===yn.INCREASE&&(this.zIndex=r.zIndex||ju())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){var r=this.graphModel.theme.baseEdge;return Tt(r)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.edgeText;return Tt(r)}},{key:"getAnimation",value:function(){var r=this.animationData;return Tt(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Tt(r)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.sourceNodeId])===null||i===void 0?void 0:i.model}},{key:"targetNode",get:function(){var r,i;return(r=this.graphModel)===null||r===void 0||(i=r.nodesMap[this.targetNodeId])===null||i===void 0?void 0:i.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(r,i){var o,u;return wu(r).forEach(function(s){var d=uf(s,i);u?d<u&&(u=d,o=s):(u=d,o=s)}),o}},{key:"getEndAnchor",value:function(r){var i,o,u=this;return wu(r).forEach(function(s){var d=uf(s,u.startPoint);o?d<o&&(o=d,i=s):(o=d,i=s)}),i}},{key:"getProperties",value:function(){return Object(l.I)(this.properties)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,u=r.value,s={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(l.I)(this.properties)};return u&&(s.text={x:i,y:o,value:u}),this.graphModel.overlapMode===yn.INCREASE&&(s.zIndex=this.zIndex),s}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(r,i){this.properties[r]=Yn(i),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=ra(ra({},this.properties),Yn(r)),this.setAttributes()}},{key:"formatText",value:function(r){var i=this.textPosition,o=i.x,u=i.y;r.text&&typeof r.text!="string"?Object.prototype.toString.call(r.text)==="[object Object]"&&(this.text={x:r.text.x||o,y:r.text.y||u,value:r.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:r.text||"",x:o,y:u,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var r=this.textPosition,i=r.x,o=r.y;this.text.x=i,this.text.y=o}},{key:"moveText",value:function(r,i){if(this.text){var o=this.text,u=o.x,s=o.y,d=o.value,m=o.draggable,x=o.editable;this.text={value:d,draggable:m,x:u+r,y:s+i,editable:x}}}},{key:"setText",value:function(r){r&&tn(this.text,r)}},{key:"updateText",value:function(r){this.text=ra(ra({},this.text),{},{value:r})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var r=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:r.x,y:r.y}),this.sourceAnchorId||(this.sourceAnchorId=r.id)}if(!this.targetAnchorId||!this.endPoint){var i=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:i.x,y:i.y}),this.targetAnchorId||(this.targetAnchorId=i.id)}}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"updateStartPoint",value:function(r){this.startPoint=r}},{key:"moveStartPoint",value:function(r,i){this.startPoint.x+=r,this.startPoint.y+=i}},{key:"updateEndPoint",value:function(r){this.endPoint=r}},{key:"moveEndPoint",value:function(r,i){this.endPoint.x+=r,this.endPoint.y+=i}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;this.zIndex=r}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(r){tn(this,r)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(r){var i=r.startPoint,o=r.endPoint;this.updateStartPoint({x:i.x,y:i.y}),this.updateEndPoint({x:o.x,y:o.y})}}])&&db(t.prototype,n),e}()).prototype,"type",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),sl=ot(je.prototype,"sourceNodeId",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ll=ot(je.prototype,"targetNodeId",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),fl=ot(je.prototype,"startPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pl=ot(je.prototype,"endPoint",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dl=ot(je.prototype,"text",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),hl=ot(je.prototype,"properties",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),yl=ot(je.prototype,"points",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),vl=ot(je.prototype,"pointsList",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),gl=ot(je.prototype,"isSelected",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bl=ot(je.prototype,"isHovered",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ml=ot(je.prototype,"isHitable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ol=ot(je.prototype,"draggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),_l=ot(je.prototype,"visible",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),wl=ot(je.prototype,"zIndex",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),xl=ot(je.prototype,"state",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ot(je.prototype,"sourceNode",[l.m],Object.getOwnPropertyDescriptor(je.prototype,"sourceNode"),je.prototype),ot(je.prototype,"targetNode",[l.m],Object.getOwnPropertyDescriptor(je.prototype,"targetNode"),je.prototype),ot(je.prototype,"textPosition",[l.m],Object.getOwnPropertyDescriptor(je.prototype,"textPosition"),je.prototype),ot(je.prototype,"setProperty",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"setProperty"),je.prototype),ot(je.prototype,"setProperties",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"setProperties"),je.prototype),ot(je.prototype,"formatText",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"formatText"),je.prototype),ot(je.prototype,"resetTextPosition",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"resetTextPosition"),je.prototype),ot(je.prototype,"moveText",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"moveText"),je.prototype),ot(je.prototype,"setText",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"setText"),je.prototype),ot(je.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"updateText"),je.prototype),ot(je.prototype,"setAnchors",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"setAnchors"),je.prototype),ot(je.prototype,"setSelected",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"setSelected"),je.prototype),ot(je.prototype,"setHovered",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"setHovered"),je.prototype),ot(je.prototype,"setHitable",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"setHitable"),je.prototype),ot(je.prototype,"setElementState",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"setElementState"),je.prototype),ot(je.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"updateStartPoint"),je.prototype),ot(je.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"moveStartPoint"),je.prototype),ot(je.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"updateEndPoint"),je.prototype),ot(je.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"moveEndPoint"),je.prototype),ot(je.prototype,"setZIndex",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"setZIndex"),je.prototype),ot(je.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"initPoints"),je.prototype),ot(je.prototype,"updateAttributes",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"updateAttributes"),je.prototype),ot(je.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"getAdjustStart"),je.prototype),ot(je.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"getAdjustEnd"),je.prototype),ot(je.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(je.prototype,"updateAfterAdjustStartAndEnd"),je.prototype),je),Pu=Su;function Dl(e){return(Dl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Nl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nl(Object(n),!0).forEach(function(r){zl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rl(){return(Rl=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=vb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function vb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=qo(e))!==null;);return e}function Il(e,t){return(Il=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function gb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=qo(e);if(t){var i=qo(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return bb(this,n)}}function bb(e,t){if(t&&(Dl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ll(e)}function Ll(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qo(e){return(qo=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function zl(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var nt,Bl,Au=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Il(o,u)})(i,e);var t,n,r=gb(i);function i(){var o;hb(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return zl(Ll(o=r.call.apply(r,[this].concat(s))),"modelType",ct.LINE_EDGE),o}return t=i,(n=[{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.line;return Cl(Cl({},Rl(qo(i.prototype),"getEdgeStyle",this).call(this)),Tt(o))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&yb(t.prototype,n),i}(Pu);function Fl(e){return(Fl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function mb(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Hl(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Hl(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Hl(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Gl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ul(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Gl(Object(n),!0).forEach(function(r){ku(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Gl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ob(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function _b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function oa(){return(oa=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=xb(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function xb(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=Kr(e))!==null;);return e}function Xl(e,t){return(Xl=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Eb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Kr(e);if(t){var i=Kr(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return jb(this,n)}}function jb(e,t){if(t&&(Fl(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $o(e)}function $o(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Kr(e){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function ku(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nn(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Mu=(Bl=nn((nt=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Xl(o,u)})(i,e);var t,n,r=Eb(i);function i(){var o;_b(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return ku($o(o=r.call.apply(r,[this].concat(s))),"modelType",ct.POLYLINE_EDGE),ku($o(o),"draginngPointList",void 0),Ob($o(o),"dbClickPosition",Bl,$o(o)),o}return t=i,(n=[{key:"initEdgeData",value:function(o){this.offset=30,oa(Kr(i.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.polyline;return Ul(Ul({},oa(Kr(i.prototype),"getEdgeStyle",this).call(this)),Tt(o))}},{key:"getTextPosition",value:function(){var o,u=(o=this.text)===null||o===void 0?void 0:o.value;if(this.dbClickPosition&&!u){var s=this.dbClickPosition;return{x:s.x,y:s.y}}var d=vo(this.points),m=mb(kb(d),2),x=m[0],j=m[1];return{x:(x.x+j.x)/2,y:(x.y+j.y)/2}}},{key:"getAfterAnchor",value:function(o,u,s){var d,m;return s.forEach(function(x){var j;o===Pt.HORIZONTAL?j=Math.abs(u.y-x.y):o===Pt.VERTICAL&&(j=Math.abs(u.x-x.x)),(!m||m>j)&&(m=j,d=x)}),d}},{key:"getCorssPoint",value:function(o,u,s){var d;return o===Pt.HORIZONTAL?d={x:s.x,y:u.y}:o===Pt.VERTICAL&&(d={x:u.x,y:s.y}),d}},{key:"removeCrossPoints",value:function(o,u,s){var d=s.map(function(re){return re});if(o===1){var m=d[o],x=d[u],j=d[o-1];if(Ql(j,m,this.sourceNode)){if(ef(m,x,this.sourceNode)){var k=tf(m,x,this.sourceNode);k&&(d[o]=k,d.splice(o-1,1),o--,u--)}}else this.sourceNode.anchors.forEach(function(re){(re.x===j.x&&re.x===m.x||re.y===j.y&&re.y===m.y)&&Vn(re.x,re.y,m.x,m.y)<Vn(j.x,j.y,m.x,m.y)&&(d[o-1]=re)})}if(u===s.length-2){var I=d[o],W=d[u],$=d[u+1];if(Ql(W,$,this.targetNode)){if(ef(I,W,this.targetNode)){var oe=tf(I,W,this.targetNode);oe&&(d[u]=oe,d.splice(u+1,1))}}else this.targetNode.anchors.forEach(function(re){(re.x===$.x&&re.x===W.x||re.y===$.y&&re.y===W.y)&&Vn(re.x,re.y,W.x,W.y)<Vn($.x,$.y,W.x,W.y)&&(d[u+1]=re)})}return d}},{key:"getDragingPoints",value:function(o,u,s,d,m){var x=m.map(function(I){return I}),j=this.getAfterAnchor(o,s,d),k=this.getCorssPoint(o,s,j);return u==="start"?(x.unshift(k),x.unshift(j)):(x.push(k),x.push(j)),x}},{key:"updateCrossPoints",value:function(o){var u=o.map(function(pe){return pe}),s=o[0],d=o[1],m=o[u.length-2],x=o[u.length-1],j=this.sourceNode,k=this.targetNode,I=j.modelType,W=k.modelType,$=la(s,d),oe=u[0];switch(I){case ct.RECT_NODE:j.radius!==0&&(jl(s,j)||(oe=El(s,$,j)));break;case ct.CIRCLE_NODE:oe=xu(s,$,j);break;case ct.ELLIPSE_NODE:oe=Sl(s,$,j);break;case ct.DIAMOND_NODE:case ct.POLYGON_NODE:oe=Pl(s,$,j)}u[0]=oe;var re=la(m,x),ue=u[u.length-1];switch(W){case ct.RECT_NODE:k.radius!==0&&(jl(x,k)||(ue=El(x,re,k)));break;case ct.CIRCLE_NODE:ue=xu(x,re,k);break;case ct.ELLIPSE_NODE:ue=Sl(x,re,k);break;case ct.DIAMOND_NODE:case ct.POLYGON_NODE:ue=Pl(x,re,k)}return u[u.length-1]=ue,u}},{key:"getData",value:function(){var o=oa(Kr(i.prototype),"getData",this).call(this),u=this.pointsList.map(function(s){return{x:s.x,y:s.y}});return Object.assign({},o,{pointsList:u})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map(function(o){return"".concat(o.x,",").concat(o.y)}).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var o=Jl({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=o,this.points=o.map(function(u){return"".concat(u.x,",").concat(u.y)}).join(" ")}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map(function(o){return o})}},{key:"dragAppendSimple",value:function(o,u){this.isDragging=!0;var s=o.start,d=o.end,m=o.startIndex,x=o.endIndex,j=o.direction,k=this.pointsList,I=k;return j===Pt.HORIZONTAL?(k[m]={x:s.x,y:s.y+u.y},k[x]={x:d.x,y:d.y+u.y},I=this.pointsList.map(function(W){return W})):j===Pt.VERTICAL&&(k[m]={x:s.x+u.x,y:s.y},k[x]={x:d.x+u.x,y:d.y},I=this.pointsList.map(function(W){return W})),this.updatePointsAfterDrage(I),this.draginngPointList=I,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},k[m]),end:Object.assign({},k[x]),startIndex:m,endIndex:x,direction:j}}},{key:"dragAppend",value:function(o,u){this.isDragging=!0;var s=o.start,d=o.end,m=o.startIndex,x=o.endIndex,j=o.direction,k=this.pointsList;if(j===Pt.HORIZONTAL){k[m]={x:s.x,y:s.y+u.y},k[x]={x:d.x,y:d.y+u.y};var I=this.pointsList.map(function(Re){return Re});if(m!==0&&x!==this.pointsList.length-1&&(I=this.removeCrossPoints(m,x,I)),m===0){var W={x:s.x,y:s.y+u.y};if(!Sr(W,this.sourceNode)){var $=this.sourceNode.anchors;I=this.getDragingPoints(j,"start",W,$,I)}}if(x===this.pointsList.length-1){var oe={x:d.x,y:d.y+u.y};if(!Sr(oe,this.targetNode)){var re=this.targetNode.anchors;I=this.getDragingPoints(j,"end",oe,re,I)}}I=Ru(I),this.updatePointsAfterDrage(I),this.draginngPointList=I}else if(j===Pt.VERTICAL){k[m]={x:s.x+u.x,y:s.y},k[x]={x:d.x+u.x,y:d.y};var ue=this.pointsList.map(function(Re){return Re});if(m!==0&&x!==this.pointsList.length-1&&(ue=this.removeCrossPoints(m,x,ue)),m===0){var pe={x:s.x+u.x,y:s.y};if(!Sr(pe,this.sourceNode)){var Pe=this.sourceNode.anchors;ue=this.getDragingPoints(j,"start",pe,Pe,ue)}}if(x===this.pointsList.length-1){var xe={x:d.x+u.x,y:d.y};if(!Sr(xe,this.targetNode)){var De=this.targetNode.anchors;ue=this.getDragingPoints(j,"end",xe,De,ue)}}ue=Ru(ue),this.updatePointsAfterDrage(ue),this.draginngPointList=ue}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},k[m]),end:Object.assign({},k[x]),startIndex:m,endIndex:x,direction:j}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var o=vo(this.points);this.pointsList=o.map(function(d){return d}),this.draginngPointList=[];var u=o[0];this.startPoint=Object.assign({},u);var s=o[o.length-1];this.endPoint=Object.assign({},s)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(o){var u=this.updateCrossPoints(o);this.points=u.map(function(s){return"".concat(s.x,",").concat(s.y)}).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,s=o.endPoint,d=o.sourceNode,m=o.targetNode,x=Jl({x:u.x,y:u.y},{x:s.x,y:s.y},d,m,this.offset||0);this.pointsList=x,this.initPoints()}}])&&wb(t.prototype,n),i}(Pu)).prototype,"dbClickPosition",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),nn(nt.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(nt.prototype,"initPoints"),nt.prototype),nn(nt.prototype,"updatePoints",[l.k],Object.getOwnPropertyDescriptor(nt.prototype,"updatePoints"),nt.prototype),nn(nt.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(nt.prototype,"updateStartPoint"),nt.prototype),nn(nt.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(nt.prototype,"moveStartPoint"),nt.prototype),nn(nt.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(nt.prototype,"updateEndPoint"),nt.prototype),nn(nt.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(nt.prototype,"moveEndPoint"),nt.prototype),nn(nt.prototype,"dragAppendStart",[l.k],Object.getOwnPropertyDescriptor(nt.prototype,"dragAppendStart"),nt.prototype),nn(nt.prototype,"dragAppendSimple",[l.k],Object.getOwnPropertyDescriptor(nt.prototype,"dragAppendSimple"),nt.prototype),nn(nt.prototype,"dragAppend",[l.k],Object.getOwnPropertyDescriptor(nt.prototype,"dragAppend"),nt.prototype),nn(nt.prototype,"dragAppendEnd",[l.k],Object.getOwnPropertyDescriptor(nt.prototype,"dragAppendEnd"),nt.prototype),nn(nt.prototype,"updatePointsAfterDrage",[l.k],Object.getOwnPropertyDescriptor(nt.prototype,"updatePointsAfterDrage"),nt.prototype),nn(nt.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(nt.prototype,"getAdjustStart"),nt.prototype),nn(nt.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(nt.prototype,"getAdjustEnd"),nt.prototype),nn(nt.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(nt.prototype,"updateAfterAdjustStartAndEnd"),nt.prototype),nt),Jo=function(e){var t=e.start,n=e.end,r=e.offset,i=e.verticalLength,o=e.type,u={leftX:0,leftY:0,rightX:0,rightY:0},s=Math.atan((n.y-t.y)/(n.x-t.x)),d=Math.atan(r/i),m=Math.sqrt(i*i+r*r);return o==="start"?n.x>=t.x?(u.leftX=t.x+m*Math.sin(s+d),u.leftY=t.y-m*Math.cos(s+d),u.rightX=t.x-m*Math.sin(s-d),u.rightY=t.y+m*Math.cos(s-d)):(u.leftX=t.x-m*Math.sin(s+d),u.leftY=t.y+m*Math.cos(s+d),u.rightX=t.x+m*Math.sin(s-d),u.rightY=t.y-m*Math.cos(s-d)):o==="end"&&(n.x>=t.x?(u.leftX=n.x+m*Math.sin(s-d),u.leftY=n.y-m*Math.cos(s-d),u.rightX=n.x-m*Math.sin(s+d),u.rightY=n.y+m*Math.cos(s+d)):(u.leftX=n.x-m*Math.sin(s-d),u.leftY=n.y+m*Math.cos(s-d),u.rightX=n.x+m*Math.sin(s+d),u.rightY=n.y-m*Math.cos(s+d))),u};function Vl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ia(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vl(Object(n),!0).forEach(function(r){Sb(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vl(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sb(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pb(e){return function(t){if(Array.isArray(t))return Du(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Wl(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Yl(e){return(Yl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Tu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||Wl(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wl(e,t){if(e){if(typeof e=="string")return Du(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Du(e,t):void 0}}function Du(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Nu=function(e){var t=[],n={};return e.forEach(function(r){var i="".concat(r.x,"-").concat(r.y);r.id=i,n[i]=r}),Object.keys(n).forEach(function(r){t.push(n[r])}),t},aa=function(e,t){return e.width===0&&e.height===0?e:{centerX:e.centerX,centerY:e.centerY,minX:e.minX-t,minY:e.minY-t,maxX:e.maxX+t,maxY:e.maxY+t,height:e.height+2*t,width:e.width+2*t}},ua=function(e,t){return function(n,r){var i=Math.abs(n.x-r.centerX),o=Math.abs(n.y-r.centerY);return i/r.width>o/r.height?Pt.HORIZONTAL:Pt.VERTICAL}(t,e)===Pt.HORIZONTAL?{x:t.x>e.centerX?e.maxX:e.minX,y:t.y}:{x:t.x,y:t.y>e.centerY?e.maxY:e.minY}},Kl=function(e,t){var n=Math.min(e.minX,t.minX),r=Math.min(e.minY,t.minY),i=Math.max(e.maxX,t.maxX),o=Math.max(e.maxY,t.maxY);return{centerX:(n+i)/2,centerY:(r+o)/2,minX:n,minY:r,maxX:i,maxY:o,height:o-r,width:i-n}},Qo=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=[],r=[];e.forEach(function(x){n.push(x.x),r.push(x.y)});var i=Math.min.apply(Math,n),o=Math.max.apply(Math,n),u=Math.min.apply(Math,r),s=Math.max.apply(Math,r),d=o-i,m=s-u;return t&&(d+=t,m+=t),{centerX:(i+o)/2,centerY:(u+s)/2,maxX:o,maxY:s,minX:i,minY:u,x:(i+o)/2,y:(u+s)/2,height:m,width:d}},ca=function(e){var t=e.minX,n=e.minY,r=e.maxX,i=e.maxY;return[{x:t,y:n},{x:r,y:n},{x:r,y:i},{x:t,y:i}]},sa=function(e,t){var n=e.x,r=e.y;return n<t.minX||n>t.maxX||r<t.minY||r>t.maxY},Cu=function(e,t){return Math.abs(e.x-t.x)+Math.abs(e.y-t.y)},Zl=function(e,t,n,r,i){return Cu(e,t)+Cu(e,n)+function(o,u){var s=0;return u.forEach(function(d){d&&(o.x===d.x&&(s+=-2),o.y===d.y&&(s+=-2))}),s}(e,[t,n,r,i])},ei=function(e,t,n,r){var i=t.x-e.x,o=t.y-e.y,u=r.x-n.x,s=r.y-n.y,d=(-o*(e.x-n.x)+i*(e.y-n.y))/(-u*o+i*s),m=(u*(e.y-n.y)-s*(e.x-n.x))/(-u*o+i*s);return d>=0&&d<=1&&m>=0&&m<=1},ql=function(e,t,n){if(n.width===0&&n.height===0)return!1;var r=Tu(ca(n),4),i=r[0],o=r[1],u=r[2],s=r[3];return ei(e,t,i,o)||ei(e,t,i,s)||ei(e,t,o,u)||ei(e,t,u,s)},Ab=function(e,t,n,r,i,o,u){var s=[],d=[t],m={},x={},j={};x[t.id]=0,j[t.id]=Zl(t,n,t);var k={};e.forEach(function($){k[$.id]=$});for(var I=function(){var $,oe,re,ue=void 0,pe=1/0;if(d.forEach(function(xe){j[xe.id]<pe&&(pe=j[xe.id],ue=xe)}),ue===n){var Pe=[];return function xe(De,Re,qe,pt,dt){dt||(dt=0),De.unshift(Re[pt]),qe[pt]&&qe[pt]!==pt&&dt<=100&&xe(De,Re,qe,qe[pt],dt+1)}(Pe,k,m,n.id),{v:Pe}}oe=ue,(re=($=d).indexOf(oe))>-1&&$.splice(re,1),s.push(ue),function(xe,De,Re,qe){var pt=[];return xe.forEach(function(dt){dt!==De&&(dt.x!==De.x&&dt.y!==De.y||ql(dt,De,Re)||ql(dt,De,qe)||pt.push(dt))}),Nu(pt)}(e,ue,r,i).forEach(function(xe){if(s.indexOf(xe)===-1){d.indexOf(xe)===-1&&d.push(xe);var De=j[ue.id]+Cu(ue,xe);x[xe.id]&&De>=x[xe.id]||(m[xe.id]=ue.id,x[xe.id]=De,j[xe.id]=x[xe.id]+Zl(xe,n,t,o,u))}})};d.length;){var W=I();if(Yl(W)==="object")return W.v}return[t,n]},$l=function(e){return vn(e)},Ru=function(e){for(var t=e,n=1;n<t.length-1;){var r=t[n-1],i=t[n],o=t[n+1];r.x===i.x&&i.x===o.x||r.y===i.y&&i.y===o.y?t.splice(n,1):n++}return t},Jl=function(e,t,n,r,i){var o,u,s=$l(n),d=$l(r),m=aa(s,i),x=aa(d,i),j=ua(m,e),k=ua(x,t);if(o=m,u=x,2*Math.abs(o.centerX-u.centerX)<o.width+u.width&&2*Math.abs(o.centerY-u.centerY)<o.height+u.height){var I=Mb(e,t,j,k);return[e,j].concat(Pb(I),[k,t])}var W=Qo([j,k]),$=Kl(m,W),oe=Kl(x,W),re=[];re=(re=re.concat(ca($))).concat(ca(oe));var ue={x:(e.x+t.x)/2,y:(e.y+t.y)/2};[W,$,oe].forEach(function(Pe){re=re.concat(function(xe,De){return function(Re,qe){return qe<Re.minX||qe>Re.maxX?[]:[{x:qe,y:Re.minY},{x:qe,y:Re.maxY}]}(xe,De.x).concat(function(Re,qe){return qe<Re.minY||qe>Re.maxY?[]:[{x:Re.minX,y:qe},{x:Re.maxX,y:qe}]}(xe,De.y))}(Pe,ue).filter(function(xe){return sa(xe,m)&&sa(xe,x)}))}),[{x:j.x,y:k.y},{x:k.x,y:j.y}].forEach(function(Pe){sa(Pe,m)&&sa(Pe,x)&&re.push(Pe)}),re.unshift(j),re.push(k),re=Nu(re);var pe=Ab(re,j,k,s,d,e,t);return pe.unshift(e),pe.push(t),pe.length>2&&(pe=Ru(pe)),Nu(pe)},kb=function(e){var t;if(e.length===1)t=[e[0],e[0]];else if(e.length>=2){for(var n=e[0],r=e[1],i=Vn(n.x,n.y,r.x,r.y),o=1;o<e.length-1;o++){var u=e[o],s=e[o+1],d=Vn(u.x,u.y,s.x,s.y);d>i&&(i=d,n=u,r=s)}t=[n,r]}return t},Ql=function(e,t,n){var r=Sr(e,n),i=Sr(t,n);return r&&i},ef=function(e,t,n){var r=Sr(e,n),i=Sr(t,n);return!(r&&i)&&(r||i)},tf=function(e,t,n){for(var r,i,o=vn(n),u=ca(o),s=0;s<u.length;s++)ei(e,t,u[s],u[(s+1)%u.length])&&(i=[u[s],u[(s+1)%u.length]]);return i&&(r=function(d,m,x,j){var k=(m.y-d.y)*(j.x-x.x)-(d.x-m.x)*(x.y-j.y);if(k===0)return!1;var I=((m.x-d.x)*(j.x-x.x)*(x.y-d.y)+(m.y-d.y)*(j.x-x.x)*d.x-(j.y-x.y)*(m.x-d.x)*x.x)/k,W=-((m.y-d.y)*(j.y-x.y)*(x.x-d.x)+(m.x-d.x)*(j.y-x.y)*d.y-(j.x-x.x)*(m.y-d.y)*x.y)/k;return(I-d.x)*(I-m.x)<=0&&(W-d.y)*(W-m.y)<=0&&(I-x.x)*(I-j.x)<=0&&(W-x.y)*(W-j.y)<=0&&{x:I,y:W}}(e,t,i[0],i[1])),r},la=function(e,t){var n;return e.x===t.x?n=Pt.VERTICAL:e.y===t.y&&(n=Pt.HORIZONTAL),n},vo=function(e){var t=e.split(" "),n=[];return t&&t.forEach(function(r){var i=Tu(r.split(","),2),o=i[0],u=i[1];n.push({x:Number(o),y:Number(u)})}),n},Mb=function(e,t,n,r){var i=[];if(la(e,n)===la(t,r))e.y===n.y?(i.push({x:n.x,y:(n.y+r.y)/2}),i.push({x:r.x,y:(n.y+r.y)/2})):(i.push({x:(n.x+r.x)/2,y:n.y}),i.push({x:(n.x+r.x)/2,y:r.y}));else{var o={x:n.x,y:r.y},u=Zo(o,e,n),s=Zo(o,t,r);if(u||s)o={x:r.x,y:n.y};else{var d=nf(o,e,n),m=nf(o,t,r);d&&m&&(o={x:r.x,y:n.y})}i.push(o)}return i},nf=function(e,t,n){return e.x===t.x&&e.x===n.x||e.y===t.y&&e.y===n.y},rf=function(e){if(!e)return 0;for(var t=0,n=0;n<e.length;n++){var r=e.charCodeAt(n);e.match(/[A-Z]/)?t+=1.5:t+=r>=1&&r<=126||r>=65376&&r<=65439?1:2}return t},of=function(e){var t=e.start,n=e.end,r=e.sourceNode,i=e.targetNode,o=e.offset,u=vn(r),s=vn(i),d=aa(u,o),m=aa(s,o);return{sNext:ua(d,t),ePre:ua(m,n)}},fa=function(e){var t=e.replace(/M/g,"").replace(/C/g,",").split(",");return[pa(t[0]),pa(t[1]),pa(t[2]),pa(t[3])]},pa=function(e){var t=Tu(e.replace(/(^\s*)/g,"").split(" "),2);return{x:+t[0],y:+t[1]}},af=function(e,t){for(var n,r=e.x,i=e.y,o=vo(t),u=Number.MAX_SAFE_INTEGER,s=[],d=0;d<o.length;d++)s.push({start:o[d],end:o[(d+1)%o.length]});if(s.forEach(function(k){var I=k.start,W=k.end;if(I.x===W.x){var $={x:I.x,y:i};if(Zo($,I,W)){var oe=Math.abs(I.x-r);oe<u&&(u=oe,n=$)}}else if(I.y===W.y){var re={x:r,y:I.y};if(Zo(re,I,W)){var ue=Math.abs(I.y-i);ue<u&&(u=ue,n=re)}}}),!n){var m=s[0],x=m.start,j=m.end;n={x:x.x+(j.x-x.x)/2,y:x.y+(j.y-x.y)/2}}return n},Tb=function(e){return Wo(e,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},uf=function(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))},go=function(){};function Db(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wn=window.document;function Iu(e){var t=e.onDragStart,n=t===void 0?go:t,r=e.onDraging,i=r===void 0?go:r,o=e.onDragEnd,u=o===void 0?go:o,s=e.step,d=s===void 0?1:s,m=e.isStopPropagation,x=m===void 0||m,j=!1,k=!1,I=0,W=0,$=0,oe=0;function re(pe){if(x&&pe.stopPropagation(),k&&(j=!0,$+=pe.clientX-I,oe+=pe.clientY-W,I=pe.clientX,W=pe.clientY,Math.abs($)>d||Math.abs(oe)>d)){var Pe=$%d,xe=oe%d,De=$-Pe,Re=oe-xe;$=Pe,oe=xe,i({deltaX:De,deltaY:Re,event:pe})}}function ue(pe){if(x&&pe.stopPropagation(),k=!1,Wn.removeEventListener("mousemove",re,!1),Wn.removeEventListener("mouseup",ue,!1),j)return j=!1,u({event:pe})}return function(pe){if(pe.button===0)return x&&pe.stopPropagation(),k=!0,I=pe.clientX,W=pe.clientY,Wn.addEventListener("mousemove",re,!1),Wn.addEventListener("mouseup",ue,!1),n({event:pe})}}var ce,cf,sf,lf,ff,pf,df,hf,yf,vf,gf,bf,mf,Zr=function(){function e(r){var i=this,o=r.onDragStart,u=o===void 0?go:o,s=r.onDraging,d=s===void 0?go:s,m=r.onDragEnd,x=m===void 0?go:m,j=r.eventType,k=j===void 0?"":j,I=r.eventCenter,W=I===void 0?null:I,$=r.step,oe=$===void 0?1:$,re=r.isStopPropagation,ue=re===void 0||re,pe=r.model,Pe=pe===void 0?null:pe;(function(xe,De){if(!(xe instanceof De))throw new TypeError("Cannot call a class as a function")})(this,e),It(this,"onDragStart",void 0),It(this,"onDraging",void 0),It(this,"onDragEnd",void 0),It(this,"step",void 0),It(this,"isStopPropagation",void 0),It(this,"isDraging",!1),It(this,"isStartDraging",!1),It(this,"startX",0),It(this,"startY",0),It(this,"sumDeltaX",0),It(this,"sumDeltaY",0),It(this,"eventType",void 0),It(this,"eventCenter",void 0),It(this,"model",void 0),It(this,"startTime",void 0),It(this,"isGrag",void 0),It(this,"handleMouseDown",function(xe){var De,Re;if(xe.button===0){i.isStopPropagation&&xe.stopPropagation(),i.isStartDraging=!0,i.startX=xe.clientX,i.startY=xe.clientY,Wn.addEventListener("mousemove",i.handleMouseMove,!1),Wn.addEventListener("mouseup",i.handleMouseUp,!1);var qe=(De=i.model)===null||De===void 0?void 0:De.getData();(Re=i.eventCenter)===null||Re===void 0||Re.emit(Qe["".concat(i.eventType,"_MOUSEDOWN")],{e:xe,data:qe}),i.startTime=new Date().getTime()}}),It(this,"handleMouseMove",function(xe){if(i.isStopPropagation&&xe.stopPropagation(),i.isStartDraging&&(i.sumDeltaX+=xe.clientX-i.startX,i.sumDeltaY+=xe.clientY-i.startY,i.startX=xe.clientX,i.startY=xe.clientY,i.step<=1||Math.abs(i.sumDeltaX)>i.step||Math.abs(i.sumDeltaY)>i.step)){var De,Re=i.sumDeltaX%i.step,qe=i.sumDeltaY%i.step,pt=i.sumDeltaX-Re,dt=i.sumDeltaY-qe;i.sumDeltaX=Re,i.sumDeltaY=qe;var Nt,Ht=(De=i.model)===null||De===void 0?void 0:De.getData();i.isDraging||((Nt=i.eventCenter)===null||Nt===void 0||Nt.emit(Qe["".concat(i.eventType,"_DRAGSTART")],{e:xe,data:Ht}),i.onDragStart({event:xe})),i.isDraging=!0,setTimeout(function(){var an,ln;i.onDraging({deltaX:pt,deltaY:dt,event:xe}),(an=i.eventCenter)===null||an===void 0||an.emit(Qe["".concat(i.eventType,"_MOUSEMOVE")],{e:xe,data:Ht}),(ln=i.eventCenter)===null||ln===void 0||ln.emit(Qe["".concat(i.eventType,"_DRAG")],{e:xe,data:Ht})},0)}}),It(this,"handleMouseUp",function(xe){var De,Re,qe;i.isStartDraging=!1,i.isStopPropagation&&xe.stopPropagation(),Wn.removeEventListener("mousemove",i.handleMouseMove,!1),Wn.removeEventListener("mouseup",i.handleMouseUp,!1);var pt=(De=i.model)===null||De===void 0?void 0:De.getData();(Re=i.eventCenter)===null||Re===void 0||Re.emit(Qe["".concat(i.eventType,"_MOUSEUP")],{e:xe,data:pt}),i.isDraging&&(i.isDraging=!1,i.onDragEnd({event:xe}),(qe=i.eventCenter)===null||qe===void 0||qe.emit(Qe["".concat(i.eventType,"_DROP")],{e:xe,data:pt}))}),It(this,"cancelDrag",function(){Wn.removeEventListener("mousemove",i.handleMouseMove,!1),Wn.removeEventListener("mouseup",i.handleMouseUp,!1),i.isDraging=!1}),this.onDragStart=u,this.onDraging=d,this.onDragEnd=x,this.step=oe,this.isStopPropagation=ue,this.eventType=k,this.eventCenter=W,this.model=Pe}var t,n;return t=e,(n=[{key:"setStep",value:function(r){this.step=r}}])&&Db(t.prototype,n),e}();function Of(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function da(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Of(Object(n),!0).forEach(function(r){cr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Of(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _f(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||wf(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function bo(e){return function(t){if(Array.isArray(t))return Lu(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||wf(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wf(e,t){if(e){if(typeof e=="string")return Lu(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Lu(e,t):void 0}}function Lu(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function zu(e){return(zu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function wn(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Nb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function cr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function We(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var xf,Ef=(cf=We((ce=function(){function e(r){(function(I,W){if(!(I instanceof W))throw new TypeError("Cannot call a class as a function")})(this,e),cr(this,"rootEl",void 0),wn(this,"width",cf,this),wn(this,"height",sf,this),cr(this,"theme",void 0),cr(this,"eventCenter",void 0),cr(this,"modelMap",new Map),cr(this,"topElement",void 0),cr(this,"animation",void 0),cr(this,"idGenerator",void 0),cr(this,"nodeMoveRules",[]),wn(this,"edgeType",lf,this),wn(this,"nodes",ff,this),wn(this,"edges",pf,this),wn(this,"overlapMode",df,this),wn(this,"background",hf,this),wn(this,"transformModel",yf,this),wn(this,"editConfigModel",vf,this),wn(this,"gridSize",gf,this),wn(this,"partial",bf,this),wn(this,"fakerNode",mf,this);var i,o=r.container,u=r.background,s=u===void 0?{}:u,d=r.grid,m=r.width,x=r.height,j=r.idGenerator,k=r.animation;this.background=s,zu(d)==="object"&&(this.gridSize=d.size),this.rootEl=o,this.editConfigModel=new Cs(r),this.eventCenter=new Jg,this.transformModel=new bg(this.eventCenter),this.theme=tl(r.style),this.edgeType=r.edgeType||"polyline",this.width=m!=null?m:o.getBoundingClientRect().width,this.height=x!=null?x:o.getBoundingClientRect().height,this.animation=(i=k)&&typeof i!="boolean"?el(Tt(Ml),i):Tt(i===!0?sb:Ml),this.partial=r.partial,this.overlapMode=r.overlapMode||0,this.idGenerator=j}var t,n;return t=e,(n=[{key:"nodesMap",get:function(){return this.nodes.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"edgesMap",get:function(){return this.edges.reduce(function(r,i,o){return r[i.id]={index:o,model:i},r},{})}},{key:"modelsMap",get:function(){return[].concat(bo(this.nodes),bo(this.edges)).reduce(function(r,i){return r[i.id]=i,r},{})}},{key:"sortElements",get:function(){var r=[];this.nodes.forEach(function(j){return r.push(j)}),this.edges.forEach(function(j){return r.push(j)}),r=r.sort(function(j,k){return j.zIndex-k.zIndex});for(var i=[],o=-1,u=[-200,-200],s=[this.width+200,this.height+200],d=0;d<r.length;d++){var m=r[d];m.visible&&(!this.partial||m.isSelected||this.isElementInArea(m,u,s,!1,!1))&&(m.zIndex===9999&&(o=i.length),i.push(m))}if(o!==-1){var x=i[i.length-1];i[i.length-1]=i[o],i[o]=x}return i}},{key:"textEditElement",get:function(){var r=this.nodes.find(function(o){return o.state===xt.TEXT_EDIT}),i=this.edges.find(function(o){return o.state===xt.TEXT_EDIT});return r||i}},{key:"selectElements",get:function(){var r=new Map;return this.nodes.forEach(function(i){i.isSelected&&r.set(i.id,i)}),this.edges.forEach(function(i){i.isSelected&&r.set(i.id,i)}),r}},{key:"getAreaElement",value:function(r,i){var o=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],s=[],d=[];this.nodes.forEach(function(j){return d.push(j)}),this.edges.forEach(function(j){return d.push(j)});for(var m=0;m<d.length;m++){var x=d[m];this.isElementInArea(x,r,i,o,u)&&s.push(x)}return s}},{key:"getModel",value:function(r){return this.modelMap.get(r)}},{key:"getNodeModelById",value:function(r){var i;return this.fakerNode&&r===this.fakerNode.id?this.fakerNode:(i=this.nodesMap[r])===null||i===void 0?void 0:i.model}},{key:"getPointByClient",value:function(r){var i=r.x,o=r.y,u=this.rootEl.getBoundingClientRect(),s={x:i-u.left,y:o-u.top},d=_f(this.transformModel.HtmlPointToCanvasPoint([s.x,s.y]),2);return{domOverlayPosition:s,canvasOverlayPosition:{x:d[0],y:d[1]}}}},{key:"isElementInArea",value:function(r,i,o){var u=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3],s=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];if(r.BaseType===Bt.NODE){for(var d=vn(r=r),m=d.minX,x=d.minY,j=d.maxX,k=d.maxY,I=[{x:m,y:x},{x:j,y:x},{x:j,y:k},{x:m,y:k}],W=s,$=0;$<I.length;$++){var oe=I[$],re=oe.x,ue=oe.y,pe=this.transformModel.CanvasPointToHtmlPoint([re,ue]),Pe=_f(pe,2);if(re=Pe[0],ue=Pe[1],mu([re,ue],i,o)!==s){W=!s;break}}return W}if(r.BaseType===Bt.EDGE){var xe=r=r,De=xe.startPoint,Re=xe.endPoint,qe=this.transformModel.CanvasPointToHtmlPoint([De.x,De.y]),pt=this.transformModel.CanvasPointToHtmlPoint([Re.x,Re.y]),dt=mu(qe,i,o),Nt=mu(pt,i,o);return u?dt&&Nt:dt||Nt}return!1}},{key:"graphDataToModel",value:function(r){var i=this;this.nodes=qi(r.nodes,function(o){var u=i.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8282\u70B9\u3002"));var s=o.x,d=o.y;return s&&d&&(o.x=ea(s,i.gridSize),o.y=ea(d,i.gridSize),zu(o.text)==="object"&&(o.text.x-=nl(s,i.gridSize),o.text.y-=nl(d,i.gridSize))),new u(o,i)}),this.edges=qi(r.edges,function(o){var u=i.getModel(o.type);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o.type,"\u5BF9\u5E94\u7684\u8FB9\u3002"));return new u(o,i)})}},{key:"modelToGraphData",value:function(){var r=[];this.edges.forEach(function(o){var u=o.getData();u&&r.push(u)});var i=[];return this.nodes.forEach(function(o){var u=o.getData();u&&i.push(u)}),{nodes:i,edges:r}}},{key:"modelToHistoryData",value:function(){for(var r=!1,i=[],o=0;o<this.nodes.length;o++){var u=this.nodes[o];if(u.isDragging){r=!0;break}i.push(u.getHistoryData())}if(r)return!1;for(var s=!1,d=[],m=0;m<this.edges.length;m++){var x=this.edges[m];if(x.isDragging){s=!0;break}d.push(x.getHistoryData())}return!s&&{nodes:i,edges:d}}},{key:"getEdgeModelById",value:function(r){var i;return(i=this.edgesMap[r])===null||i===void 0?void 0:i.model}},{key:"getElement",value:function(r){return this.modelsMap[r]}},{key:"getNodeEdges",value:function(r){for(var i=[],o=0;o<this.edges.length;o++){var u=this.edges[o],s=this.edges[o].sourceNodeId===r,d=this.edges[o].targetNodeId===r;(s||d)&&i.push(u)}return i}},{key:"getSelectElements",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0],i=this.selectElements,o={nodes:[],edges:[]};return i.forEach(function(u){if(u.BaseType===Bt.NODE&&o.nodes.push(u.getData()),u.BaseType===Bt.EDGE){var s=u.getData(),d=i.get(s.sourceNodeId)&&i.get(s.targetNodeId);(r||d)&&o.edges.push(s)}}),o}},{key:"updateAttributes",value:function(r,i){this.getElement(r).updateAttributes(i)}},{key:"changeNodeId",value:function(r,i){return i||(i=Wr()),this.nodesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),""):this.nodesMap[r]?(this.edges.forEach(function(o){o.sourceNodeId===r&&(o.sourceNodeId=i),o.targetNodeId===r&&(o.targetNodeId=i)}),this.nodesMap[r].model.id=i,i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8282\u70B9".concat(i,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"changeEdgeId",value:function(r,i){return i||(i=Wr()),this.edgesMap[i]?(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u5DF2\u5B58\u5728\u8FB9: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),""):this.edgesMap[r]?(this.edges.forEach(function(o){o.id===r&&(o.id=i)}),i):(console.warn("\u5F53\u524D\u6D41\u7A0B\u56FE\u627E\u4E0D\u5230\u8FB9: ".concat(i,", \u4FEE\u6539\u5931\u8D25")),"")}},{key:"setFakerNode",value:function(r){this.fakerNode=r}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(r,i){return this.modelMap.set(r,i)}},{key:"toFront",value:function(r){var i,o,u,s=((i=this.nodesMap[r])===null||i===void 0?void 0:i.model)||((o=this.edgesMap[r])===null||o===void 0?void 0:o.model);s&&(this.overlapMode===yn.DEFAULT&&((u=this.topElement)===null||u===void 0||u.setZIndex(),s.setZIndex(9999),this.topElement=s),this.overlapMode===yn.INCREASE&&this.setElementZIndex(r,"top"))}},{key:"setElementZIndex",value:function(r,i){var o,u,s,d=((o=this.nodesMap[r])===null||o===void 0?void 0:o.model)||((u=this.edgesMap[r])===null||u===void 0?void 0:u.model);d&&(typeof i=="number"&&(s=i),i==="top"&&(s=ju()),i==="bottom"&&(s=--pb),d.setZIndex(s))}},{key:"deleteNode",value:function(r){var i=this.nodesMap[r].model.getData();this.deleteEdgeBySource(r),this.deleteEdgeByTarget(r),this.nodes.splice(this.nodesMap[r].index,1),this.eventCenter.emit(Qe.NODE_DELETE,{data:i})}},{key:"addNode",value:function(r){var i=Yn(r);i.id&&this.nodesMap[r.id]&&delete i.id;var o=this.getModel(i.type);if(!o)throw new Error("\u627E\u4E0D\u5230".concat(i.type,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var u=new o(i,this);this.nodes.push(u);var s=u.getData();return this.eventCenter.emit(Qe.NODE_ADD,{data:s}),u}},{key:"cloneNode",value:function(r){var i=this.getNodeModelById(r),o=i.getData();o.x+=30,o.y+=30,delete o.id,o.text&&(o.text.x+=30,o.text.y+=30);var u=this.addNode(o);return u.setSelected(!0),i.setSelected(!1),u.getData()}},{key:"moveNode",value:function(r,i,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],s=this.nodesMap[r];if(s){var d=s.model,m=d.move(i,o,u);m&&this.moveEdge(r,i,o)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"moveNode2Coordinate",value:function(r,i,o){var u=arguments.length>3&&arguments[3]!==void 0&&arguments[3],s=this.nodesMap[r];if(s){var d=s.model,m=d.x,x=d.y,j=i-m,k=o-x;this.moveNode(r,j,k,u)}else console.warn("\u4E0D\u5B58\u5728id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"editText",value:function(r){this.setElementStateById(r,xt.TEXT_EDIT)}},{key:"addEdge",value:function(r){var i=Yn(r),o=i.type;o||(o=this.edgeType),i.id&&this.edgesMap[i.id]&&delete i.id;var u=this.getModel(o);if(!u)throw new Error("\u627E\u4E0D\u5230".concat(o,"\u5BF9\u5E94\u7684\u8FB9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8FB9\u3002"));var s=new u(da(da({},i),{},{type:o}),this),d=s.getData();return this.edges.push(s),this.eventCenter.emit(Qe.EDGE_ADD,{data:d}),s}},{key:"moveEdge",value:function(r,i,o){for(var u=0;u<this.edges.length;u++){var s,d=this.edges[u],m=d.textPosition,x=m.x,j=m.y,k=this.edges[u].sourceNodeId===r,I=this.edges[u].targetNodeId===r;if(k&&d.moveStartPoint(i,o),I&&d.moveEndPoint(i,o),k||I)if(d.customTextPosition===!0)d.resetTextPosition();else if(d.modelType===ct.POLYLINE_EDGE&&(s=d.text)!==null&&s!==void 0&&s.value){var W=d.text,$=af(W,d.points);d.moveText($.x-W.x,$.y-W.y)}else{var oe=d.textPosition,re=oe.x,ue=oe.y;d.moveText(re-x,ue-j)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(r,i){for(var o=0;o<this.edges.length;o++)if(this.edges[o].sourceNodeId===r&&this.edges[o].targetNodeId===i){var u=this.edges[o].getData();this.edges.splice(o,1),o--,this.eventCenter.emit(Qe.EDGE_DELETE,{data:u})}}},{key:"deleteEdgeById",value:function(r){if(this.edgesMap[r]){var i=this.edgesMap[r].index,o=this.edgesMap[r].model.getData();this.edges.splice(i,1),this.eventCenter.emit(Qe.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeBySource",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].sourceNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(Qe.EDGE_DELETE,{data:o})}}},{key:"deleteEdgeByTarget",value:function(r){for(var i=0;i<this.edges.length;i++)if(this.edges[i].targetNodeId===r){var o=this.edges[i].getData();this.edges.splice(i,1),i--,this.eventCenter.emit(Qe.EDGE_DELETE,{data:o})}}},{key:"setElementStateById",value:function(r,i,o){this.nodes.forEach(function(u){u.id===r?u.setElementState(i,o):u.setElementState(xt.DEFAULT)}),this.edges.forEach(function(u){u.id===r?u.setElementState(i,o):u.setElementState(xt.DEFAULT)})}},{key:"updateText",value:function(r,i){this.nodes.forEach(function(o){o.id===r&&o.updateText(i)}),this.edges.forEach(function(o){o.id===r&&o.updateText(i)})}},{key:"selectNodeById",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(i=this.nodesMap[r])===null||i===void 0?void 0:i.model;u==null||u.setSelected(!0)}},{key:"selectEdgeById",value:function(r){var i,o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];o||this.clearSelectElements();var u=(i=this.edgesMap[r])===null||i===void 0?void 0:i.model;u==null||u.setSelected(!0)}},{key:"selectElementById",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];i||this.clearSelectElements();var o=this.getElement(r);o==null||o.setSelected(!0)}},{key:"clearSelectElements",value:function(){var r;this.selectElements.forEach(function(i){i==null||i.setSelected(!1)}),this.selectElements.clear(),this.overlapMode===yn.DEFAULT&&((r=this.topElement)===null||r===void 0||r.setZIndex())}},{key:"moveNodes",value:function(r,i,o){var u=this,s=arguments.length>3&&arguments[3]!==void 0&&arguments[3];r.forEach(function(d){return u.moveNode(d,i,o,s)})}},{key:"addNodeMoveRules",value:function(r){this.nodeMoveRules.includes(r)||this.nodeMoveRules.push(r)}},{key:"setDefaultEdgeType",value:function(r){this.edgeType=r}},{key:"changeNodeType",value:function(r,i){var o=this.getNodeModelById(r);if(o){var u=o.getData();u.type=i;var s=this.getModel(i);if(!s)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));var d=new s(u,this);this.nodes.splice(this.nodesMap[r].index,1,d),this.getNodeEdges(r).forEach(function(m){if(m.sourceNodeId===r){var x=Al(d,m.startPoint,d.width,d.height);m.updateStartPoint(x)}if(m.targetNodeId===r){var j=Al(d,m.endPoint,d.width,d.height);m.updateEndPoint(j)}})}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8282\u70B9"))}},{key:"changeEdgeType",value:function(r,i){var o=this.getEdgeModelById(r);if(o){if(o.type!==i){var u=o.getData();u.type=i;var s=this.getModel(i);if(!s)throw new Error("\u627E\u4E0D\u5230".concat(i,"\u5BF9\u5E94\u7684\u8282\u70B9\uFF0C\u8BF7\u786E\u8BA4\u662F\u5426\u5DF2\u6CE8\u518C\u6B64\u7C7B\u578B\u8282\u70B9\u3002"));delete u.pointsList;var d=new s(u,this);this.edges.splice(this.edgesMap[r].index,1,d)}}else console.warn("\u627E\u4E0D\u5230id\u4E3A".concat(r,"\u7684\u8FB9"))}},{key:"getNodeIncomingEdge",value:function(r){var i=[];return this.edges.forEach(function(o){o.targetNodeId===r&&i.push(o)}),i}},{key:"getNodeOutgoingEdge",value:function(r){var i=[];return this.edges.forEach(function(o){o.sourceNodeId===r&&i.push(o)}),i}},{key:"getNodeIncomingNode",value:function(r){var i=this,o=[];return this.edges.forEach(function(u){u.targetNodeId===r&&o.push(i.nodesMap[u.sourceNodeId].model)}),o}},{key:"getNodeOutgoingNode",value:function(r){var i=this,o=[];return this.edges.forEach(function(u){u.sourceNodeId===r&&o.push(i.nodesMap[u.targetNodeId].model)}),o}},{key:"setTheme",value:function(r){this.theme=tl(da(da({},this.theme),r))}},{key:"resize",value:function(r,i){this.width=r!=null?r:this.width,this.height=i!=null?i:this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var r=this.nodes,i=[],o=[];r.forEach(function(j){var k=j.x,I=j.y,W=j.width,$=j.height,oe=j.getNodeStyle().strokeWidth,re=oe===void 0?0:oe;i=i.concat([k+W/2+re,k-W/2-re]),o=o.concat([I+$/2+re,I-$/2-re])});var u=Math.min.apply(Math,bo(i)),s=Math.max.apply(Math,bo(i)),d=Math.min.apply(Math,bo(o)),m=s-u||0,x=Math.max.apply(Math,bo(o))-d||0;return{virtualRectWidth:m,virtualRectHeight:x,virtualRectCenterPositionX:u+m/2,virtualRectCenterPositionY:d+x/2}}},{key:"translateCenter",value:function(){var r=this.nodes,i=this.width,o=this.height,u=this.rootEl,s=this.transformModel;if(r.length){var d=i||u.clientWidth,m=o||u.clientHeight,x=this.getVirtualRectSize(),j=x.virtualRectCenterPositionX,k=x.virtualRectCenterPositionY;s.focusOn(j,k,d,m)}}},{key:"fitView",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:20,i=this.nodes,o=this.width,u=this.height,s=this.rootEl,d=this.transformModel;if(i.length){var m=o||s.clientWidth,x=u||s.clientHeight,j=this.getVirtualRectSize(),k=j.virtualRectWidth,I=j.virtualRectHeight,W=j.virtualRectCenterPositionX,$=j.virtualRectCenterPositionY,oe=(k+r)/m,re=(I+r)/x,ue=0;ue=1/Math.max(oe,re);var pe=[m/2,x/2];d.zoom(ue,pe),d.focusOn(W,$,m,x)}}}])&&Nb(t.prototype,n),e}()).prototype,"width",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),sf=We(ce.prototype,"height",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),lf=We(ce.prototype,"edgeType",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ff=We(ce.prototype,"nodes",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pf=We(ce.prototype,"edges",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),df=We(ce.prototype,"overlapMode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return yn.DEFAULT}}),hf=We(ce.prototype,"background",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yf=We(ce.prototype,"transformModel",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),vf=We(ce.prototype,"editConfigModel",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),gf=We(ce.prototype,"gridSize",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),bf=We(ce.prototype,"partial",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),mf=We(ce.prototype,"fakerNode",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),We(ce.prototype,"nodesMap",[l.m],Object.getOwnPropertyDescriptor(ce.prototype,"nodesMap"),ce.prototype),We(ce.prototype,"edgesMap",[l.m],Object.getOwnPropertyDescriptor(ce.prototype,"edgesMap"),ce.prototype),We(ce.prototype,"modelsMap",[l.m],Object.getOwnPropertyDescriptor(ce.prototype,"modelsMap"),ce.prototype),We(ce.prototype,"sortElements",[l.m],Object.getOwnPropertyDescriptor(ce.prototype,"sortElements"),ce.prototype),We(ce.prototype,"textEditElement",[l.m],Object.getOwnPropertyDescriptor(ce.prototype,"textEditElement"),ce.prototype),We(ce.prototype,"selectElements",[l.m],Object.getOwnPropertyDescriptor(ce.prototype,"selectElements"),ce.prototype),We(ce.prototype,"setFakerNode",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"setFakerNode"),ce.prototype),We(ce.prototype,"removeFakerNode",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"removeFakerNode"),ce.prototype),We(ce.prototype,"setModel",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"setModel"),ce.prototype),We(ce.prototype,"toFront",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"toFront"),ce.prototype),We(ce.prototype,"setElementZIndex",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"setElementZIndex"),ce.prototype),We(ce.prototype,"deleteNode",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteNode"),ce.prototype),We(ce.prototype,"addNode",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"addNode"),ce.prototype),We(ce.prototype,"cloneNode",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"cloneNode"),ce.prototype),We(ce.prototype,"moveNode",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNode"),ce.prototype),We(ce.prototype,"moveNode2Coordinate",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNode2Coordinate"),ce.prototype),We(ce.prototype,"editText",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"editText"),ce.prototype),We(ce.prototype,"addEdge",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"addEdge"),ce.prototype),We(ce.prototype,"moveEdge",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveEdge"),ce.prototype),We(ce.prototype,"deleteEdgeBySourceAndTarget",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeBySourceAndTarget"),ce.prototype),We(ce.prototype,"deleteEdgeById",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeById"),ce.prototype),We(ce.prototype,"deleteEdgeBySource",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeBySource"),ce.prototype),We(ce.prototype,"deleteEdgeByTarget",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"deleteEdgeByTarget"),ce.prototype),We(ce.prototype,"setElementStateById",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"setElementStateById"),ce.prototype),We(ce.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"updateText"),ce.prototype),We(ce.prototype,"selectNodeById",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectNodeById"),ce.prototype),We(ce.prototype,"selectEdgeById",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectEdgeById"),ce.prototype),We(ce.prototype,"selectElementById",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"selectElementById"),ce.prototype),We(ce.prototype,"clearSelectElements",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"clearSelectElements"),ce.prototype),We(ce.prototype,"moveNodes",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"moveNodes"),ce.prototype),We(ce.prototype,"setDefaultEdgeType",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"setDefaultEdgeType"),ce.prototype),We(ce.prototype,"changeNodeType",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"changeNodeType"),ce.prototype),We(ce.prototype,"changeEdgeType",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"changeEdgeType"),ce.prototype),We(ce.prototype,"getNodeIncomingEdge",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeIncomingEdge"),ce.prototype),We(ce.prototype,"getNodeOutgoingEdge",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeOutgoingEdge"),ce.prototype),We(ce.prototype,"getNodeIncomingNode",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeIncomingNode"),ce.prototype),We(ce.prototype,"getNodeOutgoingNode",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"getNodeOutgoingNode"),ce.prototype),We(ce.prototype,"setTheme",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"setTheme"),ce.prototype),We(ce.prototype,"resize",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"resize"),ce.prototype),We(ce.prototype,"clearData",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"clearData"),ce.prototype),We(ce.prototype,"translateCenter",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"translateCenter"),ce.prototype),We(ce.prototype,"fitView",[l.k],Object.getOwnPropertyDescriptor(ce.prototype,"fitView"),ce.prototype),ce),Cb=Ef;function jf(e){return(jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sf(){return(Sf=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Rb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pf(e,t){return(Pf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Ib(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Bu(e);if(t){var i=Bu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Lb(this,n)}}function Lb(e,t){if(t&&(jf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Kn(e)}function Kn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Bu(e){return(Bu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function sr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Af,zb=In(xf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Pf(o,u)})(i,e);var t,n,r=Ib(i);function i(o){var u;(function(x,j){if(!(x instanceof j))throw new TypeError("Cannot call a class as a function")})(this,i),sr(Kn(u=r.call(this)),"stepDrag",void 0),sr(Kn(u),"stepScrollX",0),sr(Kn(u),"stepScrollY",0),sr(Kn(u),"onDraging",function(x){var j=x.deltaX,k=x.deltaY;u.setState({isDraging:!0});var I=u.props.graphModel,W=I.transformModel;I.editConfigModel.stopMoveGraph||W.translate(j,k)}),sr(Kn(u),"onDragEnd",function(){u.setState({isDraging:!1})}),sr(Kn(u),"zoomHandler",function(x){var j=u.props,k=j.graphModel,I=k.editConfigModel,W=k.transformModel,$=k.gridSize,oe=j.graphModel,re=x.deltaX,ue=x.deltaY;if(I.stopScrollGraph||x.ctrlKey===!0){if(!I.stopZoomGraph){x.preventDefault();var pe=oe.getPointByClient({x:x.clientX,y:x.clientY}).canvasOverlayPosition,Pe=pe.x,xe=pe.y;W.zoom(x.deltaY<0,[Pe,xe])}}else{if(x.preventDefault(),u.stepScrollX+=re,u.stepScrollY+=ue,Math.abs(u.stepScrollX)>=$){var De=u.stepScrollX%$,Re=u.stepScrollX-De;W.translate(-Re*W.SCALE_X,0),u.stepScrollX=De}if(Math.abs(u.stepScrollY)>=$){var qe=u.stepScrollY%$,pt=u.stepScrollY-qe;W.translate(0,-pt*W.SCALE_Y),u.stepScrollY=qe}}}),sr(Kn(u),"clickHandler",function(x){if(x.target.getAttribute("name")==="canvas-overlay"){var j=u.props.graphModel;j.selectElements.size>0&&j.clearSelectElements(),j.eventCenter.emit(Qe.BLANK_CLICK,{e:x})}}),sr(Kn(u),"handleContextMenu",function(x){if(x.target.getAttribute("name")==="canvas-overlay"){x.preventDefault();var j=u.props.graphModel,k=j.getPointByClient({x:x.clientX,y:x.clientY});j.eventCenter.emit(Qe.BLANK_CONTEXTMENU,{e:x,position:k})}}),sr(Kn(u),"mouseDownHandler",function(x){var j=u.props.graphModel,k=j.eventCenter,I=j.editConfigModel,W=j.transformModel.SCALE_X,$=j.gridSize,oe=x.target,re=!I.adjustEdge&&!I.adjustNodePosition;(oe.getAttribute("name")==="canvas-overlay"||re)&&(I.stopMoveGraph?k.emit(Qe.BLANK_MOUSEDOWN,{e:x}):(u.stepDrag.setStep($*W),u.stepDrag.handleMouseDown(x)),u.clickHandler(x))});var s=o.graphModel,d=s.gridSize,m=s.eventCenter;return u.stepDrag=new Zr({onDraging:u.onDraging,onDragEnd:u.onDragEnd,step:d,eventType:"BLANK",isStopPropagation:!1,eventCenter:m,model:null}),u.state={isDraging:!1},u}return t=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props,s=u.children,d=u.dnd,m=this.state.isDraging;return Object(K.g)("svg",Sf({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:m?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},d.eventMap()),Object(K.g)("g",{transform:o},s))}}])&&Rb(t.prototype,n),i}(K.a))||xf;function kf(e){return(kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Bb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Fb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mf(e,t){return(Mf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Hb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Fu(e);if(t){var i=Fu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Gb(this,n)}}function Gb(e,t){if(t&&(kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tf(e)}function Tf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fu(e){return(Fu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Ub(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Xb=In(Af=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Mf(o,u)})(i,e);var t,n,r=Hb(i);function i(){var o;Bb(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return Ub(Tf(o=r.call.apply(r,[this].concat(s))),"setToolOverlayRef",function(m){var x=o.props.tool.getInstance();x.components.forEach(function(j){return j(x,m)}),x.components=[]}),o}return t=i,(n=[{key:"getTools",value:function(){var o=this.props,u=o.tool,s=o.graphModel,d=u.getTools().map(function(m){return Object(K.g)(m,{graphModel:s,logicFlow:u.instance})});return u.components=d,d}},{key:"render",value:function(){return Object(K.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&Fb(t.prototype,n),i}(K.a))||Af;function Df(e){return(Df=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Vb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Yb(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nf(e,t){return(Nf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Wb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Hu(e);if(t){var i=Hu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Kb(this,n)}}function Kb(e,t){if(t&&(Df(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Hu(e){return(Hu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Cf,Zb=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Nf(o,u)})(i,e);var t,n,r=Wb(i);function i(){return Vb(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var o=this.props.background;return Object(K.g)("div",{className:"lf-background"},Object(K.g)("div",{style:o,className:"lf-background-area"}))}}])&&Yb(t.prototype,n),i}(K.a);function Rf(e){return(Rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function qb(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function If(e,t){return(If=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Jb(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Gu(e);if(t){var i=Gu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Qb(this,n)}}function Qb(e,t){if(t&&(Rf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Lf(e)}function Lf(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gu(e){return(Gu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function em(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zf=In(Cf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&If(o,u)})(i,e);var t,n,r=Jb(i);function i(){var o;qb(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return em(Lf(o=r.call.apply(r,[this].concat(s))),"id",Wr()),o}return t=i,(n=[{key:"renderDot",value:function(){var o=this.props,u=o.config,s=u.color,d=u.thickness,m=d===void 0?2:d,x=o.size,j=o.visible,k=Math.min(Math.max(2,m),x/2),I=1;return j||(I=0),Object(K.g)("rect",{width:k,height:k,rx:k/2,ry:k/2,fill:s,opacity:I})}},{key:"renderMesh",value:function(){var o=this.props,u=o.config,s=u.color,d=u.thickness,m=d===void 0?1:d,x=o.size,j=o.visible,k=Math.min(Math.max(1,m),x/2),I="M ".concat(x," 0 H0 M0 0 V0 ").concat(x),W=1;return j||(W=0),Object(K.g)("path",{d:I,stroke:s,strokeWidth:k,opacity:W})}},{key:"render",value:function(){var o=this.props,u=o.type,s=o.size,d=o.graphModel.transformModel,m=[d.SCALE_X,d.SKEW_Y,d.SKEW_X,d.SCALE_Y,d.TRANSLATE_X,d.TRANSLATE_Y].join(","),x="matrix(".concat(m,")");return Object(K.g)("div",{className:"lf-grid"},Object(K.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(K.g)("defs",null,Object(K.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:x,x:"0",y:"0",width:s,height:s},u==="dot"&&this.renderDot(),u==="mesh"&&this.renderMesh())),Object(K.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&$b(t.prototype,n),i}(K.a))||Cf;zf.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}},a(50);function Bf(e){return(Bf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function tm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Ff(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Ff(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ff(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Hf,qr=function(e){var t={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(e).forEach(function(n){var r=tm(n,2),i=r[0],o=r[1];Bf(o)!=="object"&&(t[i]=o)}),Object(K.g)("line",t)};function Gf(e){return(Gf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Uf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ha(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Uf(Object(n),!0).forEach(function(r){nm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Uf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xf(e,t){return(Xf=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function im(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Uu(e);if(t){var i=Uu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return am(this,n)}}function am(e,t){if(t&&(Gf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Uu(e){return(Uu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Vf,um=In(Hf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Xf(o,u)})(i,e);var t,n,r=im(i);function i(){return rm(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var o=this.props.snaplineModel,u=o.position,s=o.isShowHorizontal,d=o.isShowVertical,m=o.getStyle(),x=u.x,j=x===void 0?0:x,k=u.y,I=k===void 0?0:k,W=ha(ha({x1:-1e5,y1:I,x2:1e5,y2:I},m),{},{stroke:s?m.stroke:"none"}),$=ha(ha({x1:j,y1:-1e5,x2:j,y2:1e5},m),{},{stroke:d?m.stroke:"none"});return Object(K.g)("g",{className:"lf-snapline"},Object(K.g)(qr,W),Object(K.g)(qr,$))}}])&&om(t.prototype,n),i}(K.a))||Hf;function Yf(e){return(Yf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function cm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Wf(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Wf(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Wf(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Pr(e){var t=e.x,n=e.y,r=e.width,i=e.height,o=e.className,u=e.radius,s=t-r/2,d=n-i/2,m={};return Object.entries(e).forEach(function(x){var j=cm(x,2),k=j[0],I=j[1];Yf(I)!=="object"&&(m[k]=I)}),m.className=o?"lf-basic-shape ".concat(o):"lf-basic-shape",u&&(m.rx=u,m.ry=u),m.x=s,m.y=d,Object(K.g)("rect",m)}function Kf(e){return(Kf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ti(){return(ti=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qf(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Zf(Object(n),!0).forEach(function(r){sm(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Zf(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $f(e,t){return($f=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function pm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Xu(e);if(t){var i=Xu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dm(this,n)}}function dm(e,t){if(t&&(Kf(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Xu(e){return(Xu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}Pr.defaultProps={className:"",radius:""};var Jf,hm=In(Vf=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&$f(o,u)})(i,e);var t,n,r=pm(i);function i(){return lm(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getNodesOutline",value:function(){var o=this.props.graphModel,u=o.nodes,s=o.editConfigModel,d=s.hoverOutline,m=s.nodeSelectedOutline,x=[];return u.forEach(function(j){if(j.isHovered||j.isSelected){var k=j.isHovered,I=j.isSelected,W=j.x,$=j.y,oe=j.width,re=j.height;if(m&&I||d&&k){var ue=j.getOutlineStyle(),pe={};if(Object.keys(ue).forEach(function(xe){xe!=="hover"&&(pe[xe]=ue[xe])}),k){var Pe=ue.hover;pe=qf(qf({},pe),Pe)}x.push(Object(K.g)(Pr,ti({className:"lf-outline-node",x:W,y:$,width:oe+10,height:re+10},pe)))}}}),x}},{key:"getEdgeOutline",value:function(){for(var o=this.props.graphModel,u=o.edges,s=o.editConfigModel,d=s.edgeSelectedOutline,m=s.hoverOutline,x=[],j=0;j<u.length;j++){var k=u[j];(d&&k.isSelected||m&&k.isHovered)&&(k.modelType===ct.LINE_EDGE?x.push(this.getLineOutline(k)):k.modelType===ct.POLYLINE_EDGE?x.push(this.getPolylineOutline(k)):k.modelType===ct.BEZIER_EDGE&&x.push(this.getBezierOutline(k)))}return x}},{key:"getLineOutline",value:function(o){var u=o.startPoint,s=o.endPoint,d=(u.x+s.x)/2,m=(u.y+s.y)/2,x=Math.abs(u.x-s.x)+10,j=Math.abs(u.y-s.y)+10,k=o.getOutlineStyle();return Object(K.g)(Pr,ti({className:"lf-outline-edge",x:d,y:m,width:x,height:j},k))}},{key:"getPolylineOutline",value:function(o){var u=o.points,s=vo(u),d=Qo(s,8),m=d.x,x=d.y,j=d.width,k=d.height,I=o.getOutlineStyle();return Object(K.g)(Pr,ti({className:"lf-outline",x:m,y:x,width:j,height:k},I))}},{key:"getBezierOutline",value:function(o){var u=o.path,s=fa(u),d=Qo(s,8),m=d.x,x=d.y,j=d.width,k=d.height,I=o.getOutlineStyle();return Object(K.g)(Pr,ti({className:"lf-outline",x:m,y:x,width:j,height:k},I))}},{key:"render",value:function(){return Object(K.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&fm(t.prototype,n),i}(K.a))||Vf;function Qf(e){return(Qf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function ym(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ep(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ep(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ep(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ni(e){var t=e.x,n=t===void 0?0:t,r=e.y,i=r===void 0?0:r,o=e.r,u=o===void 0?4:o,s=e.className,d={cx:n,cy:i,r:u,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(m){var x=ym(m,2),j=x[0],k=x[1];Qf(k)!=="object"&&(d[j]=k)}),d.className=s?"lf-basic-shape ".concat(s):"lf-basic-shape",Object(K.g)("circle",d)}function tp(e){return(tp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function vm(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return np(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return np(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function np(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ya(){return(ya=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function rp(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function op(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ip(e,t,n){return t&&op(e.prototype,t),n&&op(e,n),e}function ap(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&up(e,t)}function up(e,t){return(up=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function cp(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Vu(e);if(t){var i=Vu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return gm(this,n)}}function gm(e,t){if(t&&(tp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return va(e)}function va(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Vu(e){return(Vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Yu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var sp,lp=function(e){ap(n,e);var t=cp(n);function n(){var r;return rp(this,n),Yu(va(r=t.call(this)),"dragHandler",void 0),Yu(va(r),"onDraging",function(i){var o=i.event,u=r.props,s=u.graphModel,d=u.bezierModel,m=u.type,x=s.getPointByClient({x:o.clientX,y:o.clientY}).canvasOverlayPosition,j=x.x,k=x.y;d.updateAdjustAnchor({x:j,y:k},m)}),Yu(va(r),"onDragEnd",function(){r.props.bezierModel.isDragging=!1}),r.dragHandler=new Zr({onDraging:r.onDraging,onDragEnd:r.onDragEnd}),r}return ip(n,[{key:"render",value:function(){var r=this,i=this.props.position,o=i.x,u=i.y,s=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(K.g)(ni,ya({className:"lf-bezier-adjust-anchor",x:o,y:u},s,{onMouseDown:function(d){r.dragHandler.handleMouseDown(d)}}))}}]),n}(K.a),bm=In(Jf=function(e){ap(n,e);var t=cp(n);function n(){return rp(this,n),t.apply(this,arguments)}return ip(n,[{key:"getBezierAdjust",value:function(r,i){var o=r.path,u=r.id,s=vm(fa(o),4),d=s[0],m=s[1],x=s[2],j=s[3],k=r.getEdgeStyle().adjustLine,I=[];return I.push(Object(K.g)(qr,ya({x1:d.x,y1:d.y,x2:m.x,y2:m.y},k))),I.push(Object(K.g)(lp,{position:m,bezierModel:r,graphModel:i,key:"".concat(u,"_ePre"),type:"sNext"})),I.push(Object(K.g)(qr,ya({x1:j.x,y1:j.y,x2:x.x,y2:x.y},k))),I.push(Object(K.g)(lp,{position:x,bezierModel:r,graphModel:i,key:"".concat(u,"_sNext"),type:"ePre"})),I}},{key:"selectedBezierEdge",value:function(){for(var r=this.props.graphModel,i=r.edges,o=[],u=0;u<i.length;u++){var s=i[u];s.isSelected&&s.modelType===ct.BEZIER_EDGE&&s.draggable&&o.push(this.getBezierAdjust(s,r))}return o}},{key:"render",value:function(){return Object(K.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),n}(K.a))||Jf;function fp(e){return(fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function mm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Om(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pp(e,t){return(pp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function _m(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Wu(e);if(t){var i=Wu(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return wm(this,n)}}function wm(e,t){if(t&&(fp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Wu(e){return(Wu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var dp,xm=In(sp=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&pp(o,u)})(i,e);var t,n,r=_m(i);function i(){return mm(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var o=this.props.graphModel.transformModel.getTransformStyle().transform,u=this.props.children;return Object(K.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(K.g)("g",{transform:o},u))}}])&&Om(t.prototype,n),i}(K.a))||sp;function hp(e){return(hp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function yp(){return(yp=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Em(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function jm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vp(e,t){return(vp=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Sm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ku(e);if(t){var i=Ku(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Pm(this,n)}}function Pm(e,t){if(t&&(hp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Ku(e){return(Ku=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Am=In(dp=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vp(o,u)})(i,e);var t,n,r=Sm(i);function i(){return Em(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getComponent",value:function(o,u){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"canvas-overlay",d=this.props.getView,m=d(o.type);return Object(K.g)(m,{key:o.id,model:o,graphModel:u,overlay:s})}},{key:"render",value:function(){var o=this,u=this.props,s=u.graphModel,d=u.tool,m=u.options,x=u.dnd,j=u.snaplineModel,k={};m.width&&(k.width="".concat(s.width,"px")),m.height&&(k.height="".concat(s.height,"px"));var I=s.fakerNode,W=s.editConfigModel.adjustEdge;return Object(K.g)("div",{className:"lf-graph",style:k},Object(K.g)(zb,{graphModel:s,dnd:x},Object(K.g)("g",{className:"lf-base"},qi(s.sortElements,function($){return o.getComponent($,s)})),I?this.getComponent(I,s):""),Object(K.g)(xm,{graphModel:s},Object(K.g)(hm,{graphModel:s}),W?Object(K.g)(bm,{graphModel:s}):"",m.isSilentMode||m.snapline===!1?"":Object(K.g)(um,{snaplineModel:j})),Object(K.g)(Xb,{graphModel:s,tool:d}),m.background&&Object(K.g)(Zb,{background:m.background}),m.grid&&Object(K.g)(zf,yp({},m.grid,{graphModel:s})))}}])&&jm(t.prototype,n),i}(K.a))||dp;function gp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ga(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gp(Object(n),!0).forEach(function(r){lr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function km(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function lr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Mm=function(){function e(r){var i=this;(function(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")})(this,e),lr(this,"nodeConfig",void 0),lr(this,"lf",void 0),lr(this,"fakerNode",void 0),lr(this,"stopDrag",function(){i.nodeConfig=null,window.document.removeEventListener("mouseup",i.stopDrag)}),lr(this,"dragEnter",function(u){i.nodeConfig&&!i.fakerNode&&(i.fakerNode=i.lf.createFakerNode(ga(ga({},i.nodeConfig),i.clientToLocalPoint({x:u.clientX,y:u.clientY}))))}),lr(this,"onDragOver",function(u){if(u.preventDefault(),i.fakerNode){var s=i.clientToLocalPoint({x:u.clientX,y:u.clientY}),d=s.x,m=s.y;i.fakerNode.moveTo(d,m);var x=i.fakerNode.getData();i.lf.setNodeSnapLine(x),i.lf.graphModel.eventCenter.emit(Qe.NODE_DND_DRAG,{data:x})}return!1}),lr(this,"onDragLeave",function(){i.fakerNode&&(i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null)}),lr(this,"onDrop",function(u){if(i.lf.graphModel&&u&&i.nodeConfig){var s=i.lf.addNode(ga(ga({},i.nodeConfig),i.clientToLocalPoint({x:u.clientX,y:u.clientY})));u.preventDefault(),u.stopPropagation(),i.nodeConfig=null,i.lf.removeNodeSnapLine(),i.lf.graphModel.removeFakerNode(),i.fakerNode=null;var d=s.getData();i.lf.graphModel.eventCenter.emit(Qe.NODE_DND_ADD,{data:d})}});var o=r.lf;this.lf=o}var t,n;return t=e,(n=[{key:"clientToLocalPoint",value:function(r){var i=r.x,o=r.y,u=Vo(this.lf.options,["grid","size"]),s=this.lf.graphModel.getPointByClient({x:i,y:o}).canvasOverlayPosition,d=s.x,m=s.y;return{x:ea(d,u),y:ea(m,u)}}},{key:"startDrag",value:function(r){this.nodeConfig=r,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&km(t.prototype,n),e}();function bp(e){var t=e.container,n=e.grid,r=e.width,i=e.height;if(!t)throw new Error("\u8BF7\u68C0\u67E5 container \u53C2\u6570\u662F\u5426\u6709\u6548");if(typeof r=="string"||typeof i=="string")throw new Error("width\u6216height\u4E0D\u652F\u6301\u4F20\u5165\u5B57\u7B26\u4E32\uFF0C\u8BF7\u4F20\u6570\u5B57");return n&&(e.grid=tn({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},n)),tn({},Op,e)}var bt,mp,Op={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function _p(e){return(_p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Zu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return wp(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return wp(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function wp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ba(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xp(Object(n),!0).forEach(function(r){jp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Tm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Dm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Nm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ma(){return(ma=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Cm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Cm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=$r(e))!==null;);return e}function Ep(e,t){return(Ep=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Rm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=$r(e);if(t){var i=$r(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Im(this,n)}}function Im(e,t){if(t&&(_p(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oa(e)}function Oa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function jp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mn(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var qu=(mp=Mn((bt=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ep(o,u)})(i,e);var t,n,r=Rm(i);function i(){var o;Dm(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return jp(Oa(o=r.call.apply(r,[this].concat(s))),"modelType",ct.BEZIER_EDGE),Tm(Oa(o),"path",mp,Oa(o)),o}return t=i,(n=[{key:"initEdgeData",value:function(o){this.offset=100,ma($r(i.prototype),"initEdgeData",this).call(this,o)}},{key:"getEdgeStyle",value:function(){var o=this.graphModel.theme.bezier;return ba(ba({},ma($r(i.prototype),"getEdgeStyle",this).call(this)),Tt(o))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var o=0,u=0;return this.pointsList.forEach(function(s){var d=s.x,m=s.y;o+=d,u+=m}),{x:o/this.pointsList.length,y:u/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var o=ma($r(i.prototype),"getData",this).call(this),u=this.pointsList.map(function(s){return{x:s.x,y:s.y}});return ba(ba({},o),{},{pointsList:u})}},{key:"getControls",value:function(){var o=this.startPoint,u=this.endPoint;return of({start:o,end:u,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(o){var u=Zu(o,4),s=u[0],d=u[1],m=u[2],x=u[3];return"M ".concat(s.x," ").concat(s.y,`
    C `).concat(d.x," ").concat(d.y,`,
    `).concat(m.x," ").concat(m.y,`,
    `).concat(x.x," ").concat(x.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var o=this.getControls(),u=o.sNext,s=o.ePre;this.updatePath(u,s)}},{key:"updatePath",value:function(o,u){var s={x:this.startPoint.x,y:this.startPoint.y},d={x:this.endPoint.x,y:this.endPoint.y};if(!o||!u){var m=this.getControls();o=m.sNext,u=m.ePre}this.pointsList=[s,o,u,d],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(o){this.startPoint=o,this.updatePoints()}},{key:"updateEndPoint",value:function(o){this.endPoint=o,this.updatePoints()}},{key:"moveStartPoint",value:function(o,u){this.startPoint.x+=o,this.startPoint.y+=u;var s=Zu(this.pointsList,3),d=s[1],m=s[2];d.x+=o,d.y+=u,this.updatePath(d,m)}},{key:"moveEndPoint",value:function(o,u){this.endPoint.x+=o,this.endPoint.y+=u;var s=Zu(this.pointsList,3),d=s[1],m=s[2];m.x+=o,m.y+=u,this.updatePath(d,m)}},{key:"updateAdjustAnchor",value:function(o,u){u==="sNext"?this.pointsList[1]=o:u==="ePre"&&(this.pointsList[2]=o),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var o=this.pointsList;return o[o.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(o){var u=o.startPoint,s=o.endPoint,d=o.sourceNode,m=o.targetNode,x=of({start:u,end:s,sourceNode:d,targetNode:m,offset:this.offset}),j=x.sNext,k=x.ePre;this.pointsList=[u,j,k,s],this.initPoints()}}])&&Nm(t.prototype,n),i}(Pu)).prototype,"path",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Mn(bt.prototype,"initPoints",[l.k],Object.getOwnPropertyDescriptor(bt.prototype,"initPoints"),bt.prototype),Mn(bt.prototype,"updatePoints",[l.k],Object.getOwnPropertyDescriptor(bt.prototype,"updatePoints"),bt.prototype),Mn(bt.prototype,"updateStartPoint",[l.k],Object.getOwnPropertyDescriptor(bt.prototype,"updateStartPoint"),bt.prototype),Mn(bt.prototype,"updateEndPoint",[l.k],Object.getOwnPropertyDescriptor(bt.prototype,"updateEndPoint"),bt.prototype),Mn(bt.prototype,"moveStartPoint",[l.k],Object.getOwnPropertyDescriptor(bt.prototype,"moveStartPoint"),bt.prototype),Mn(bt.prototype,"moveEndPoint",[l.k],Object.getOwnPropertyDescriptor(bt.prototype,"moveEndPoint"),bt.prototype),Mn(bt.prototype,"updateAdjustAnchor",[l.k],Object.getOwnPropertyDescriptor(bt.prototype,"updateAdjustAnchor"),bt.prototype),Mn(bt.prototype,"getAdjustStart",[l.k],Object.getOwnPropertyDescriptor(bt.prototype,"getAdjustStart"),bt.prototype),Mn(bt.prototype,"getAdjustEnd",[l.k],Object.getOwnPropertyDescriptor(bt.prototype,"getAdjustEnd"),bt.prototype),Mn(bt.prototype,"updateAfterAdjustStartAndEnd",[l.k],Object.getOwnPropertyDescriptor(bt.prototype,"updateAfterAdjustStartAndEnd"),bt.prototype),bt),Ie,Sp,Pp,Ap,kp,Mp,Tp,Dp,Np,Cp,Rp,Ip,Lp,zp,Bp,Fp,Hp,Gp,Lm=function(e){return e==null};function Up(e){return(Up=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function zm(e,t){var n=typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(d,m){if(!!d){if(typeof d=="string")return Xp(d,m);var x=Object.prototype.toString.call(d).slice(8,-1);if(x==="Object"&&d.constructor&&(x=d.constructor.name),x==="Map"||x==="Set")return Array.from(d);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return Xp(d,m)}}(e))||t&&e&&typeof e.length=="number"){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(d){throw d},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var d=n.next();return u=d.done,d},e:function(d){s=!0,o=d},f:function(){try{u||n.return==null||n.return()}finally{if(s)throw o}}}}function Xp(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Vp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Vp(Object(n),!0).forEach(function(r){xn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Vp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Vt(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Bm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mt(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Ar,Yp,pr=(Sp=mt((Ie=function(){function e(r,i){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),xn(this,"id",Wr()),Vt(this,"type",Sp,this),Vt(this,"x",Pp,this),Vt(this,"y",Ap,this),Vt(this,"text",kp,this),Vt(this,"properties",Mp,this),Vt(this,"_width",Tp,this),Vt(this,"_height",Dp,this),Vt(this,"anchorsOffset",Np,this),Vt(this,"isSelected",Cp,this),Vt(this,"isHovered",Rp,this),Vt(this,"isDragging",Ip,this),Vt(this,"isHitable",Lp,this),Vt(this,"draggable",zp,this),Vt(this,"visible",Bp,this),xn(this,"graphModel",void 0),Vt(this,"zIndex",Fp,this),Vt(this,"state",Hp,this),Vt(this,"autoToFront",Gp,this),xn(this,"BaseType",Bt.NODE),xn(this,"modelType",ct.NODE),xn(this,"additionStateData",void 0),xn(this,"targetRules",[]),xn(this,"sourceRules",[]),xn(this,"moveRules",[]),xn(this,"hasSetTargetRules",!1),xn(this,"hasSetSourceRules",!1),this.graphModel=i,this.initNodeData(r),this.setAttributes()}var t,n;return t=e,(n=[{key:"width",get:function(){return this._width},set:function(r){this._width=r}},{key:"height",get:function(){return this._height},set:function(r){this._height=r}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(r){if(r.properties||(r.properties={}),!r.id){var i=this.graphModel.idGenerator,o=i&&i(r.type);o&&(r.id=o);var u=this.createId();u&&(r.id=u)}this.formatText(r),tn(this,function(s){return Wo(s,["id","type","x","y","text","properties"])}(r)),this.graphModel.overlapMode===yn.INCREASE&&(this.zIndex=r.zIndex||ju())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(r){r.text||(r.text={value:"",x:r.x,y:r.y,draggable:!1,editable:!0}),r.text&&typeof r.text=="string"?r.text={value:r.text,x:r.x,y:r.y,draggable:!1,editable:!0}:r.text&&r.text.editable===void 0&&(r.text.editable=!0)}},{key:"getData",value:function(){var r=this.text,i=r.x,o=r.y,u=r.value,s=this.properties;Object(l.x)(s)&&(s=Object(l.I)(s));var d={id:this.id,type:this.type,x:this.x,y:this.y,properties:s};return this.graphModel.overlapMode===yn.INCREASE&&(d.zIndex=this.zIndex),u&&(d.text={x:i,y:o,value:u}),d}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(l.I)(this.properties)}},{key:"getNodeStyle",value:function(){return fr({},this.graphModel.theme.baseNode)}},{key:"getTextStyle",value:function(){var r=this.graphModel.theme.nodeText;return Tt(r)}},{key:"getAnchorStyle",value:function(r){var i=this.graphModel.theme.anchor;return Tt(i)}},{key:"getAnchorLineStyle",value:function(){var r=this.graphModel.theme.anchorLine;return Tt(r)}},{key:"getOutlineStyle",value:function(){var r=this.graphModel.theme.outline;return Tt(r)}},{key:"isAllowConnectedAsSource",value:function(r,i,o){var u=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var s,d=!0,m=0;m<u.length;m++){var x=u[m];if(!x.validate.call(this,this,r,i,o)){d=!1,s=x.message;break}}return{isAllPass:d,msg:s}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(r,i,o){var u=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var s,d=!0,m=0;m<u.length;m++){var x=u[m];if(!x.validate.call(this,r,this,i,o)){d=!1,s=x.message;break}}return{isAllPass:d,msg:s}}},{key:"isAllowMoveNode",value:function(r,i){var o,u=!0,s=!0,d=zm(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(d.s();!(o=d.n()).done;){var m=(0,o.value)(this,r,i);if(!m)return!1;if(Up(m)==="object"){var x=m;if(x.x===!1&&x.y===!1)return!1;u=u&&x.x,s=s&&x.y}}}catch(j){d.e(j)}finally{d.f()}return{x:u,y:s}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var r=this.anchorsOffset,i=this.id,o=this.x,u=this.y;return r&&r.length>0?r.map(function(s,d){return s.length?(s=s,{id:"".concat(i,"_").concat(d),x:o+s[0],y:u+s[1]}):fr(fr({},s=s),{},{x:o+s.x,y:u+s.y,id:s.id||"".concat(i,"_").concat(d)})}):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(r){if(!Lm(r))for(var i=0;i<this.anchors.length;i++){var o=this.anchors[i];if(o.id===r)return o}}},{key:"addNodeMoveRules",value:function(r){this.moveRules.includes(r)||this.moveRules.push(r)}},{key:"move",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=!1,s=!1;if(o)u=!0,s=!0;else{var d=this.isAllowMoveNode(r,i);typeof d=="boolean"?(u=d,s=d):(u=d.x,s=d.y)}if(u){var m=this.x+r;this.x=m,this.text&&this.moveText(r,0)}if(s){var x=this.y+i;this.y=x,this.text&&this.moveText(0,i)}return u||s}},{key:"moveTo",value:function(r,i){var o=arguments.length>2&&arguments[2]!==void 0&&arguments[2],u=r-this.x,s=i-this.y;return!(!o&&!this.isAllowMoveNode(u,s)||(this.text&&this.text&&this.moveText(u,s),this.x=r,this.y=i,0))}},{key:"moveText",value:function(r,i){var o=this.text,u=o.x,s=o.y,d=o.value,m=o.draggable,x=o.editable;this.text={value:d,editable:x,draggable:m,x:u+r,y:s+i}}},{key:"updateText",value:function(r){this.text=fr(fr({},this.text),{},{value:r})}},{key:"setSelected",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isSelected=r}},{key:"setHovered",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHovered=r}},{key:"setHitable",value:function(){var r=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.isHitable=r}},{key:"setElementState",value:function(r,i){this.state=r,this.additionStateData=i}},{key:"setProperty",value:function(r,i){this.properties=fr(fr({},this.properties),{},xn({},r,Yn(i))),this.setAttributes()}},{key:"setProperties",value:function(r){this.properties=fr(fr({},this.properties),Yn(r)),this.setAttributes()}},{key:"setZIndex",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.zIndex=r}},{key:"updateAttributes",value:function(r){tn(this,r)}}])&&Bm(t.prototype,n),e}()).prototype,"type",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Pp=mt(Ie.prototype,"x",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ap=mt(Ie.prototype,"y",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),kp=mt(Ie.prototype,"text",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Mp=mt(Ie.prototype,"properties",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Tp=mt(Ie.prototype,"_width",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Dp=mt(Ie.prototype,"_height",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),Np=mt(Ie.prototype,"anchorsOffset",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Cp=mt(Ie.prototype,"isSelected",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Rp=mt(Ie.prototype,"isHovered",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ip=mt(Ie.prototype,"isDragging",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Lp=mt(Ie.prototype,"isHitable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zp=mt(Ie.prototype,"draggable",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Bp=mt(Ie.prototype,"visible",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Fp=mt(Ie.prototype,"zIndex",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Hp=mt(Ie.prototype,"state",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Gp=mt(Ie.prototype,"autoToFront",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),mt(Ie.prototype,"incoming",[l.m],Object.getOwnPropertyDescriptor(Ie.prototype,"incoming"),Ie.prototype),mt(Ie.prototype,"outgoing",[l.m],Object.getOwnPropertyDescriptor(Ie.prototype,"outgoing"),Ie.prototype),mt(Ie.prototype,"addNodeMoveRules",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"addNodeMoveRules"),Ie.prototype),mt(Ie.prototype,"move",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"move"),Ie.prototype),mt(Ie.prototype,"moveTo",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveTo"),Ie.prototype),mt(Ie.prototype,"moveText",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"moveText"),Ie.prototype),mt(Ie.prototype,"updateText",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateText"),Ie.prototype),mt(Ie.prototype,"setSelected",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setSelected"),Ie.prototype),mt(Ie.prototype,"setHovered",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setHovered"),Ie.prototype),mt(Ie.prototype,"setHitable",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setHitable"),Ie.prototype),mt(Ie.prototype,"setElementState",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setElementState"),Ie.prototype),mt(Ie.prototype,"setProperty",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setProperty"),Ie.prototype),mt(Ie.prototype,"setProperties",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setProperties"),Ie.prototype),mt(Ie.prototype,"setZIndex",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"setZIndex"),Ie.prototype),mt(Ie.prototype,"updateAttributes",[l.k],Object.getOwnPropertyDescriptor(Ie.prototype,"updateAttributes"),Ie.prototype),Ie);function Wp(e){return(Wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Kp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kp(Object(n),!0).forEach(function(r){Jp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Fm(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Hm(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Gm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qp(){return(qp=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Um(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Um(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ri(e))!==null;);return e}function $p(e,t){return($p=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Xm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ri(e);if(t){var i=ri(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Vm(this,n)}}function Vm(e,t){if(t&&(Wp(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _a(e)}function _a(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ri(e){return(ri=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Jp(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $u(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var rn,Qp,ed,Ju=(Yp=$u((Ar=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&$p(o,u)})(i,e);var t,n,r=Xm(i);function i(){var o;Hm(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return Jp(_a(o=r.call.apply(r,[this].concat(s))),"modelType",ct.CIRCLE_NODE),Fm(_a(o),"r",Yp,_a(o)),o}return t=i,(n=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var o=qp(ri(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.circle;return Zp(Zp({},o),Tt(u))}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,s=this.r;return[{x:o,y:u-s,id:"".concat(this.id,"_0")},{x:o+s,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+s,id:"".concat(this.id,"_2")},{x:o-s,y:u,id:"".concat(this.id,"_3")}]}}])&&Gm(t.prototype,n),i}(pr)).prototype,"r",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),$u(Ar.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(Ar.prototype,"width"),Ar.prototype),$u(Ar.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(Ar.prototype,"height"),Ar.prototype),Ar);a(123);function td(e){return(td=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Qu(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return nd(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return nd(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function nd(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rd(Object(n),!0).forEach(function(r){cd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function id(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function Ym(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Wm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ad(){return(ad=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Km(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Km(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=oi(e))!==null;);return e}function ud(e,t){return(ud=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Zm(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=oi(e);if(t){var i=oi(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return qm(this,n)}}function qm(e,t){if(t&&(td(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return mo(e)}function mo(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function oi(e){return(oi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function cd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oo(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var dr,sd,ld,ec=(Qp=Oo((rn=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ud(o,u)})(i,e);var t,n,r=Zm(i);function i(){var o;Ym(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return cd(mo(o=r.call.apply(r,[this].concat(s))),"modelType",ct.DIAMOND_NODE),id(mo(o),"rx",Qp,mo(o)),id(mo(o),"ry",ed,mo(o)),o}return t=i,(n=[{key:"getNodeStyle",value:function(){var o=ad(oi(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.diamond;return od(od({},o),Tt(u))}},{key:"points",get:function(){var o=this.x,u=this.y,s=this.rx,d=this.ry;return[[o,u-d],[o+s,u],[o,u+d],[o-s,u]]}},{key:"pointsPosition",get:function(){return this.points.map(function(o){return{x:o[0],y:o[1]}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var d=Qu(s,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var d=Qu(s,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this;return this.points.map(function(u,s){var d=Qu(u,2);return{x:d[0],y:d[1],id:"".concat(o.id,"_").concat(s)}})}}])&&Wm(t.prototype,n),i}(pr)).prototype,"rx",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),ed=Oo(rn.prototype,"ry",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Oo(rn.prototype,"points",[l.m],Object.getOwnPropertyDescriptor(rn.prototype,"points"),rn.prototype),Oo(rn.prototype,"pointsPosition",[l.m],Object.getOwnPropertyDescriptor(rn.prototype,"pointsPosition"),rn.prototype),Oo(rn.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(rn.prototype,"width"),rn.prototype),Oo(rn.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(rn.prototype,"height"),rn.prototype),rn);function fd(e){return(fd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function pd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pd(Object(n),!0).forEach(function(r){gd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hd(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function $m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jm(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yd(){return(yd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=Qm(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function Qm(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ii(e))!==null;);return e}function vd(e,t){return(vd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function e0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ii(e);if(t){var i=ii(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return t0(this,n)}}function t0(e,t){if(t&&(fd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _o(e)}function _o(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ii(e){return(ii=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function gd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wa(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Tn,bd,tc=(sd=wa((dr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vd(o,u)})(i,e);var t,n,r=e0(i);function i(){var o;$m(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return gd(_o(o=r.call.apply(r,[this].concat(s))),"modelType",ct.ELLIPSE_NODE),hd(_o(o),"rx",sd,_o(o)),hd(_o(o),"ry",ld,_o(o)),o}return t=i,(n=[{key:"getNodeStyle",value:function(){var o=yd(ii(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.ellipse;return dd(dd({},o),Tt(u))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,s=this.rx,d=this.ry;return[{x:o,y:u-d,id:"".concat(this.id,"_0")},{x:o+s,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d,id:"".concat(this.id,"_2")},{x:o-s,y:u,id:"".concat(this.id,"_3")}]}}])&&Jm(t.prototype,n),i}(pr)).prototype,"rx",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),ld=wa(dr.prototype,"ry",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),wa(dr.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(dr.prototype,"width"),dr.prototype),wa(dr.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(dr.prototype,"height"),dr.prototype),dr);function md(e){return(md=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function nc(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Od(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Od(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Od(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?_d(Object(n),!0).forEach(function(r){jd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_d(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function n0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function r0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xd(){return(xd=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=i0(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function i0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ai(e))!==null;);return e}function Ed(e,t){return(Ed=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function a0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ai(e);if(t){var i=ai(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return u0(this,n)}}function u0(e,t){if(t&&(md(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xa(e)}function xa(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ai(e){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function jd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ea(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var Sd,Pd,rc=(bd=Ea((Tn=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ed(o,u)})(i,e);var t,n,r=a0(i);function i(){var o;r0(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return jd(xa(o=r.call.apply(r,[this].concat(s))),"modelType",ct.POLYGON_NODE),n0(xa(o),"points",bd,xa(o)),o}return t=i,(n=[{key:"getNodeStyle",value:function(){var o=xd(ai(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.polygon;return wd(wd({},o),Tt(u))}},{key:"pointsPosition",get:function(){var o=this.x,u=this.y,s=this.width,d=this.height;return this.points.map(function(m){return{x:m[0]+o-s/2,y:m[1]+u-d/2}})}},{key:"width",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var d=nc(s,1)[0];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"height",get:function(){var o=Number.MAX_SAFE_INTEGER,u=Number.MIN_SAFE_INTEGER;return this.points.forEach(function(s){var d=nc(s,2)[1];d<o&&(o=d),d>u&&(u=d)}),u-o}},{key:"getDefaultAnchor",value:function(){var o=this,u=this.x,s=this.y,d=this.width,m=this.height;return this.points.map(function(x,j){var k=nc(x,2),I=k[0],W=k[1];return{x:u+I-d/2,y:s+W-m/2,id:"".concat(o.id,"_").concat(j)}})}}])&&o0(t.prototype,n),i}(pr)).prototype,"points",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),Ea(Tn.prototype,"pointsPosition",[l.m],Object.getOwnPropertyDescriptor(Tn.prototype,"pointsPosition"),Tn.prototype),Ea(Tn.prototype,"width",[l.m],Object.getOwnPropertyDescriptor(Tn.prototype,"width"),Tn.prototype),Ea(Tn.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(Tn.prototype,"height"),Tn.prototype),Tn);function Ad(e){return(Ad=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Md(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?kd(Object(n),!0).forEach(function(r){Nd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function c0(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function s0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Td(){return(Td=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=f0(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function f0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ui(e))!==null;);return e}function Dd(e,t){return(Dd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function p0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ui(e);if(t){var i=ui(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d0(this,n)}}function d0(e,t){if(t&&(Ad(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ja(e)}function ja(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ui(e){return(ui=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Nd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jr,oc=(Pd=function(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}((Sd=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Dd(o,u)})(i,e);var t,n,r=p0(i);function i(){var o;s0(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return Nd(ja(o=r.call.apply(r,[this].concat(s))),"modelType",ct.RECT_NODE),c0(ja(o),"radius",Pd,ja(o)),o}return t=i,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,s=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+s/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-s/2,y:u,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var o=Td(ui(i.prototype),"getNodeStyle",this).call(this),u=this.graphModel.theme.rect;return Md(Md({},o),Tt(u))}}])&&l0(t.prototype,n),i}(pr)).prototype,"radius",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Sd);function Cd(e){return(Cd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Rd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Id(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rd(Object(n),!0).forEach(function(r){Fd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function h0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ld(){return(Ld=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(e,t,n){var r=v0(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}}).apply(this,arguments)}function v0(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&(e=ci(e))!==null;);return e}function zd(e,t){return(zd=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function g0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ci(e);if(t){var i=ci(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b0(this,n)}}function b0(e,t){if(t&&(Cd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bd(e)}function Bd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ci(e){return(ci=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Fd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hd(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var ic=(Hd((Jr=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&zd(o,u)})(i,e);var t,n,r=g0(i);function i(){var o;h0(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return Fd(Bd(o=r.call.apply(r,[this].concat(s))),"modelType",ct.TEXT_NODE),o}return t=i,(n=[{key:"getTextStyle",value:function(){var o=Ld(ci(i.prototype),"getTextStyle",this).call(this),u=this.graphModel.theme.text;return Id(Id({},o),Tt(u))}},{key:"width",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return Eu({rows:o,fontSize:u,rowsLength:o.length}).width}},{key:"height",get:function(){var o=String(this.text.value).split(/[\r\n]/g),u=this.getTextStyle().fontSize;return Eu({rows:o,fontSize:u,rowsLength:o.length}).height}}])&&y0(t.prototype,n),i}(pr)).prototype,"width",[l.m],Object.getOwnPropertyDescriptor(Jr.prototype,"width"),Jr.prototype),Hd(Jr.prototype,"height",[l.m],Object.getOwnPropertyDescriptor(Jr.prototype,"height"),Jr.prototype),Jr);function Gd(e){return(Gd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function m0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ud(e,t){return(Ud=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function _0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=ac(e);if(t){var i=ac(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return w0(this,n)}}function w0(e,t){if(t&&(Gd(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Xd(e)}function Xd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ac(e){return(ac=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function x0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Zn,Vd,Yd,Wd,uc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ud(o,u)})(i,e);var t,n,r=_0(i);function i(){var o;m0(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return x0(Xd(o=r.call.apply(r,[this].concat(s))),"modelType",ct.HTML_NODE),o}return t=i,(n=[{key:"getDefaultAnchor",value:function(){var o=this.x,u=this.y,s=this.width,d=this.height;return[{x:o,y:u-d/2,id:"".concat(this.id,"_0")},{x:o+s/2,y:u,id:"".concat(this.id,"_1")},{x:o,y:u+d/2,id:"".concat(this.id,"_2")},{x:o-s/2,y:u,id:"".concat(this.id,"_3")}]}}])&&O0(t.prototype,n),i}(pr);function Kd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cc(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function E0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function si(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(u){o[u]=r[u]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(u,s){return s(e,t,u)||u},o),i&&o.initializer!==void 0&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),o.initializer===void 0&&(Object.defineProperty(e,t,o),o=null),o}var qd=(Vd=si((Zn=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Zd(this,"graphModel",void 0),cc(this,"isShowHorizontal",Vd,this),cc(this,"isShowVertical",Yd,this),cc(this,"position",Wd,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=r}var t,n;return t=e,(n=[{key:"getStyle",value:function(){return function(r){for(var i=1;i<arguments.length;i++){var o=arguments[i]!=null?arguments[i]:{};i%2?Kd(Object(o),!0).forEach(function(u){Zd(r,u,o[u])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(o)):Kd(Object(o)).forEach(function(u){Object.defineProperty(r,u,Object.getOwnPropertyDescriptor(o,u))})}return r}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(r,i){for(var o=r.x,u=r.y,s=!1,d=!1,m=0;m<i.length;m++){var x=i[m];if(x.id!==r.id&&(o===x.x&&(s=!0),u===x.y&&(d=!0),s&&d))break}return{isShowVertical:s,isShowHorizontal:d,position:{x:o,y:u}}}},{key:"getHorizontalSnapline",value:function(r,i){var o,u,s=!1,d=r.id;if(d){var m=this.graphModel.fakerNode;if(m&&m.id===d)u=vn(m);else{var x=this.graphModel.getNodeModelById(d);u=vn(x)}}for(var j=0;j<i.length;j++){var k=i[j];if(k.id!==r.id){var I=vn(k);if(I.minY===u.minY||I.maxY===u.minY){s=!0,o=u.minY;break}if(I.minY===u.maxY||I.maxY===u.maxY){s=!0,o=u.maxY;break}}}return tn({isShowHorizontal:s,position:{y:o}})}},{key:"getVerticalSnapline",value:function(r,i){var o,u,s=!1,d=r.id;if(d){var m=this.graphModel.fakerNode;if(m&&m.id===d)u=vn(m);else{var x=this.graphModel.getNodeModelById(d);u=vn(x)}}for(var j=0;j<i.length;j++){var k=i[j];if(k.id!==r.id){var I=vn(k);if(I.minX===u.minX||I.maxX===u.minX){s=!0,o=u.minX;break}if(I.minX===u.maxX||I.maxX===u.maxX){s=!0,o=u.maxX;break}}}return tn({isShowVertical:s,position:{x:o}})}},{key:"getSnapLinePosition",value:function(r,i){var o=this.getCenterSnapLine(r,i),u=o.isShowHorizontal,s=o.isShowVertical;if(!u){var d=this.getHorizontalSnapline(r,i);d.isShowHorizontal&&(o.isShowHorizontal=d.isShowHorizontal,o.position.y=d.position.y)}if(!s){var m=this.getVerticalSnapline(r,i);m.isShowVertical&&(o.isShowVertical=m.isShowVertical,o.position.x=m.position.x)}return o}},{key:"setSnaplineInfo",value:function(r){var i=r.isShowHorizontal,o=r.isShowVertical,u=r.position;this.position=u,this.isShowHorizontal=i,this.isShowVertical=o}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(r){var i=this.graphModel.nodes,o=this.getSnapLinePosition(r,i);this.setSnaplineInfo(o)}}])&&E0(t.prototype,n),e}()).prototype,"isShowHorizontal",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Yd=si(Zn.prototype,"isShowVertical",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Wd=si(Zn.prototype,"position",[l.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),si(Zn.prototype,"clearSnapline",[l.k],Object.getOwnPropertyDescriptor(Zn.prototype,"clearSnapline"),Zn.prototype),si(Zn.prototype,"setNodeSnapLine",[l.k],Object.getOwnPropertyDescriptor(Zn.prototype,"setNodeSnapLine"),Zn.prototype),Zn);function $d(e){return($d=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sa(){return(Sa=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Jd(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Qd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Jd(Object(n),!0).forEach(function(r){$n(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jd(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function j0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return eh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return eh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function eh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function th(e,t){return(th=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function P0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=sc(e);if(t){var i=sc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return A0(this,n)}}function A0(e,t){if(t&&($d(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qn(e)}function qn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sc(e){return(sc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function $n(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k0=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&th(o,u)})(i,e);var t,n,r=P0(i);function i(){var o;return function(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}(this,i),$n(qn(o=r.call(this)),"preTargetNode",void 0),$n(qn(o),"sourceRuleResults",void 0),$n(qn(o),"targetRuleResults",void 0),$n(qn(o),"dragHandler",void 0),$n(qn(o),"t",void 0),$n(qn(o),"onDragStart",function(u){var s=u.event,d=o.props,m=d.anchorData,x=d.nodeModel,j=d.graphModel,k=j.overlapMode;j.selectNodeById(x.id),k!==yn.INCREASE&&x.autoToFront&&j.toFront(x.id),j.eventCenter.emit(Qe.ANCHOR_DRAGSTART,{data:m,e:s,nodeModel:x}),o.setState({startX:m.x,startY:m.y,endX:m.x,endY:m.y})}),$n(qn(o),"onDraging",function(u){var s=u.event,d=o.props,m=d.graphModel,x=d.nodeModel,j=d.anchorData,k=m.transformModel,I=m.eventCenter,W=m.width,$=m.height,oe=m.editConfigModel,re=s.clientX,ue=s.clientY,pe=m.getPointByClient({x:re,y:ue}),Pe=pe.domOverlayPosition,xe=Pe.x,De=Pe.y,Re=pe.canvasOverlayPosition,qe=Re.x,pt=Re.y;o.t&&clearInterval(o.t);var dt=[];xe<10?dt=[10,0]:xe+10>W?dt=[-10,0]:De<10?dt=[0,10]:De+10>$&&(dt=[0,-10]),o.setState({endX:qe,endY:pt,draging:!0}),o.moveAnchorEnd(qe,pt),dt.length>0&&!oe.stopMoveGraph&&(o.t=setInterval(function(){var Nt=j0(dt,2),Ht=Nt[0],an=Nt[1];k.translate(Ht,an);var ln=o.state,gn=ln.endX,gr=ln.endY;o.setState({endX:gn-Ht,endY:gr-an}),o.moveAnchorEnd(gn-Ht,gr-an)},50)),I.emit(Qe.ANCHOR_DRAG,{data:j,e:s,nodeModel:x})}),$n(qn(o),"onDragEnd",function(u){o.t&&clearInterval(o.t),o.checkEnd(),o.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),o.sourceRuleResults.clear(),o.targetRuleResults.clear();var s=o.props,d=s.graphModel,m=s.nodeModel,x=s.anchorData;d.eventCenter.emit(Qe.ANCHOR_DROP,{data:x,e:u,nodeModel:m})}),$n(qn(o),"checkEnd",function(){var u=o.props,s=u.graphModel,d=u.nodeModel,m=u.anchorData,x=m.x,j=m.y,k=m.id,I=s.edgeType,W=o.state,$=W.endX,oe=W.endY,re=W.draging,ue=ta({x:$,y:oe},s);if(o.preTargetNode&&o.preTargetNode.state!==xt.DEFAULT&&o.preTargetNode.setElementState(xt.DEFAULT),re&&ue&&ue.node){var pe=ue.node,Pe=ue.anchor.id,xe="".concat(d.id,"_").concat(pe.id,"_").concat(Pe,"_").concat(k),De=o.sourceRuleResults.get(xe)||{},Re=De.isAllPass,qe=De.msg,pt=o.targetRuleResults.get(xe)||{},dt=pt.isAllPass,Nt=pt.msg;if(Re&&dt)pe.setElementState(xt.DEFAULT),s.addEdge({type:I,sourceNodeId:d.id,sourceAnchorId:k,startPoint:{x,y:j},targetNodeId:ue.node.id,targetAnchorId:ue.anchor.id,endPoint:{x:ue.anchor.x,y:ue.anchor.y}});else{var Ht=pe.getData();s.eventCenter.emit(Qe.CONNECTION_NOT_ALLOWED,{data:Ht,msg:Nt||qe})}}}),o.sourceRuleResults=new Map,o.targetRuleResults=new Map,o.state={startX:0,startY:0,endX:0,endY:0,draging:!1},o.dragHandler=new Zr({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=i,(n=[{key:"getAnchorShape",value:function(){var o=this.props,u=o.anchorData,s=o.style,d=o.node.getAnchorShape(u);if(d)return d;var m=u.x,x=u.y,j=Qd(Qd({},s),s.hover);return Object(K.g)("g",null,Object(K.g)(ni,Sa({className:"lf-node-anchor-hover"},j,{x:m,y:x})),Object(K.g)(ni,Sa({className:"lf-node-anchor"},s,{x:m,y:x})))}},{key:"moveAnchorEnd",value:function(o,u){var s=this.props,d=s.graphModel,m=s.nodeModel,x=s.anchorData,j=ta({x:o,y:u},d);if(j){var k=j.node,I=j.anchor.id;if(this.preTargetNode&&this.preTargetNode!==j.node&&this.preTargetNode.setElementState(xt.DEFAULT),x.id===I)return;this.preTargetNode=k;var W="".concat(m.id,"_").concat(k.id,"_").concat(I,"_").concat(x.id);if(!this.targetRuleResults.has(W)){var $=j.anchor,oe=m.isAllowConnectedAsSource(k,x,$),re=k.isAllowConnectedAsTarget(m,x,$);this.sourceRuleResults.set(W,na(oe)),this.targetRuleResults.set(W,na(re))}var ue=this.sourceRuleResults.get(W).isAllPass,pe=this.targetRuleResults.get(W).isAllPass;ue&&pe?k.setElementState(xt.ALLOW_CONNECT):k.setElementState(xt.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==xt.DEFAULT&&this.preTargetNode.setElementState(xt.DEFAULT)}},{key:"isShowLine",value:function(){var o=this.state,u=o.startX,s=o.startY,d=o.endX,m=o.endY;return Vn(u,s,d,m)>10}},{key:"render",value:function(){var o=this,u=this.state,s=u.startX,d=u.startY,m=u.endX,x=u.endY,j=this.props,k=j.anchorData.edgeAddable,I=j.edgeStyle;return Object(K.g)("g",{className:"lf-anchor"},Object(K.g)("g",{onMouseDown:function(W){k!==!1&&o.dragHandler.handleMouseDown(W)}},this.getAnchorShape()),this.isShowLine()&&Object(K.g)(qr,Sa({x1:s,y1:d,x2:m,y2:x},I,{"pointer-events":"none"})))}}])&&S0(t.prototype,n),i}(K.a);a(60);function nh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function M0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nh(Object(n),!0).forEach(function(r){T0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function T0(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rh(e){return(rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function D0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return oh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return oh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function oh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ih(e){var t=e.x,n=t===void 0?0:t,r=e.y,i=r===void 0?0:r,o=e.value,u=e.fontSize,s=e.fill,d=s===void 0?"currentColor":s,m=e.overflowMode,x=m===void 0?"default":m,j=e.textWidth,k=j===void 0?"":j,I=e.model,W={textAnchor:"middle","dominant-baseline":"middle",x:n,y:i,fill:d};if(Object.entries(e).forEach(function(Pe){var xe=D0(Pe,2),De=xe[0],Re=xe[1];rh(Re)!=="object"&&(W[De]=Re)}),o){var $=String(o).split(/[\r\n]/g),oe=$.length;if(x!=="default"){var re=I.BaseType,ue=I.modelType;if(re===Bt.NODE&&ue!==ct.TEXT_NODE||re===Bt.EDGE&&k)return function(Pe){var xe=Pe.value,De=Pe.fontSize,Re=Pe.model,qe=Pe.fontFamily,pt=qe===void 0?"":qe,dt=Pe.lineHeight,Nt=Pe.wrapPadding,Ht=Nt===void 0?"0, 0":Nt,an=Pe.overflowMode,ln=Pe.x,gn=Pe.y,gr=Re.width,to=Re.textHeight,br=Pe.textWidth||gr,vi=String(xe).split(/[\r\n]/g),Ta=vi.length,Da=kl({rows:vi,style:{fontSize:"".concat(De,"px"),width:"".concat(br,"px"),fontFamily:pt,lineHeight:dt,padding:Ht},rowsLength:Ta,className:"lf-get-text-height"}),jo=Re.height>Da?Re.height:Da;to&&(jo=to);var So=an==="ellipsis";return Object(K.g)("g",null,Object(K.g)("foreignObject",{width:br,height:jo,x:ln-br/2,y:gn-jo/2},Object(K.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:jo,width:br,padding:Ht}},Object(K.g)("div",{className:So?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:M0({},Pe)},vi.map(function(Tr){return Object(K.g)("div",{className:"lf-node-text--auto-wrap-inner"},Tr)})))))}(e)}if(oe>1){var pe=$.map(function(Pe,xe){var De=(xe-(oe-1)/2)*(u+2);return Object(K.g)("tspan",{className:"lf-text-tspan",x:n,y:i+De},Pe)});return Object(K.g)("text",W,pe)}return Object(K.g)("text",W,o)}}function ah(e){return(ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function uh(){return(uh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function N0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ch(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ch(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ch(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sh(e,t){return(sh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function R0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=lc(e);if(t){var i=lc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return I0(this,n)}}function I0(e,t){if(t&&(ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kr(e)}function kr(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function lc(e){return(lc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Qr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var lh=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&sh(o,u)})(i,e);var t,n,r=R0(i);function i(o){var u;(function(m,x){if(!(m instanceof x))throw new TypeError("Cannot call a class as a function")})(this,i),Qr(kr(u=r.call(this)),"dragHandler",void 0),Qr(kr(u),"sumDeltaX",0),Qr(kr(u),"sumDeltaY",0),Qr(kr(u),"stepDrag",void 0),Qr(kr(u),"onDraging",function(m){var x=m.deltaX,j=m.deltaY,k=u.props,I=k.model,W=N0(k.graphModel.transformModel.fixDeltaXY(x,j),2),$=W[0],oe=W[1];I.moveText($,oe)}),Qr(kr(u),"dblClickHandler",function(){u.props.editable&&u.props.model.setElementState(xt.TEXT_EDIT)}),Qr(kr(u),"mouseDownHandle",function(m){var x=u.props,j=x.draggable,k=x.graphModel.editConfigModel.nodeTextDraggable;(j||k)&&u.stepDrag.handleMouseDown(m)});var s=o.model,d=o.draggable;return u.stepDrag=new Zr({onDraging:u.onDraging,step:1,model:s,isStopPropagation:d}),u}return t=i,(n=[{key:"getShape",value:function(){var o=this.props,u=o.model,s=o.graphModel,d=u.text,m=s.editConfigModel,x=d.value,j=d.x,k=d.y,I=d.editable,W=d.draggable,$={x:j,y:k,className:"",value:x};I?$.className="lf-element-text":W||m.nodeTextDraggable?$.className="lf-text-draggable":$.className="lf-text-disabled";var oe=u.getTextStyle();return Object(K.g)(ih,uh({},$,oe,{model:u}))}},{key:"render",value:function(){if(this.props.model.text)return Object(K.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&C0(t.prototype,n),i}(K.a),L0=window.navigator.userAgent.match(/MSIE|Trident/)!==null,li=new Map,fh=function(e){var t=li.get(e);t&&(window.cancelAnimationFrame(t),li.delete(e))};function ph(e){return(ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Pa(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return dh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return dh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function dh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function hh(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yh(e,t){return(yh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function z0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=fc(e);if(t){var i=fc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return B0(this,n)}}function B0(e,t){if(t&&(ph(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qt(e)}function qt(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fc(e){return(fc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function on(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var hr=function(e){(function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),s&&yh(u,s)})(o,e);var t,n,r,i=z0(o);function o(u){var s;(function(k,I){if(!(k instanceof I))throw new TypeError("Cannot call a class as a function")})(this,o),on(qt(s=i.call(this)),"t",void 0),on(qt(s),"moveOffset",void 0),on(qt(s),"stepDrag",void 0),on(qt(s),"contextMenuTime",void 0),on(qt(s),"startTime",void 0),on(qt(s),"clickTimer",void 0),on(qt(s),"onDragStart",function(k){var I=k.event,W=I.clientX,$=I.clientY,oe=s.props,re=oe.model,ue=oe.graphModel.getPointByClient({x:W,y:$}).canvasOverlayPosition,pe=ue.x,Pe=ue.y;s.moveOffset={x:re.x-pe,y:re.y-Pe}}),on(qt(s),"onDraging",function(k){var I=k.event,W=s.props,$=W.model,oe=W.graphModel,re=oe.editConfigModel,ue=oe.transformModel,pe=oe.width,Pe=oe.height,xe=oe.gridSize;$.isDragging=!0;var De=I.clientX,Re=I.clientY,qe=oe.getPointByClient({x:De,y:Re}).canvasOverlayPosition,pt=qe.x,dt=qe.y,Nt=Pa(ue.CanvasPointToHtmlPoint([pt,dt]),2),Ht=Nt[0],an=Nt[1];if(!(Ht<0||an<0||Ht>pe||an>Pe)){pt+=s.moveOffset.x,dt+=s.moveOffset.y;var ln,gn,gr,to=Pa(ue.CanvasPointToHtmlPoint([pt-$.width/2,dt-$.height/2]),2),br=to[0],vi=to[1],Ta=Pa(ue.CanvasPointToHtmlPoint([pt+$.width/2,dt+$.height/2]),2),Da=Ta[0],jo=Ta[1],So=Math.max(xe,20),Tr=[];br<0?Tr=[So,0]:Da>oe.width?Tr=[-So,0]:vi<0?Tr=[0,So]:jo>oe.height&&(Tr=[0,-So]),s.t&&fh(s.t),Tr.length>0&&!re.stopMoveGraph?s.t=(ln=function(){var Na=Pa(Tr,2),Ca=Na[0],Uy=Na[1];ue.translate(Ca,Uy),oe.moveNode($.id,-Ca/ue.SCALE_X,-Uy/ue.SCALE_X)},gn=Wr(),gr=window.requestAnimationFrame(function Na(){if(ln(),li.get(gn)){var Ca=window.requestAnimationFrame(Na);li.set(gn,Ca)}}),li.set(gn,gr),gn):oe.moveNode2Coordinate($.id,pt,dt)}}),on(qt(s),"onDragEnd",function(){s.t&&fh(s.t),s.props.model.isDragging=!1}),on(qt(s),"handleClick",function(k){if(s.startTime&&!(new Date().getTime()-s.startTime>200)){var I=s.props,W=I.model,$=I.graphModel,oe={data:W.getData(),e:k,position:$.getPointByClient({x:k.clientX,y:k.clientY})},re=k.button===2,ue=k.detail===2;if(!re){var pe=$.editConfigModel;$.selectNodeById(W.id,ol(k,pe)),s.toFront(),ue?(pe.nodeTextEdit&&W.text.editable&&(W.setSelected(!1),$.setElementStateById(W.id,xt.TEXT_EDIT)),$.eventCenter.emit(Qe.NODE_DBCLICK,oe)):($.eventCenter.emit(Qe.ELEMENT_CLICK,oe),$.eventCenter.emit(Qe.NODE_CLICK,oe))}}}),on(qt(s),"handleContextMenu",function(k){k.preventDefault();var I=s.props,W=I.model,$=I.graphModel,oe=W.getData(),re=$.getPointByClient({x:k.clientX,y:k.clientY});$.setElementStateById(W.id,xt.SHOW_MENU,re.domOverlayPosition),$.selectNodeById(W.id),$.eventCenter.emit(Qe.NODE_CONTEXTMENU,{data:oe,e:k,position:re}),s.toFront()}),on(qt(s),"handleMouseDown",function(k){var I=s.props,W=I.model,$=I.graphModel;s.toFront(),s.startTime=new Date().getTime(),$.editConfigModel.adjustNodePosition&&W.draggable&&s.stepDrag&&s.stepDrag.handleMouseDown(k)}),on(qt(s),"setHoverON",function(k){if(!s.state.isHovered){s.setState({isHovered:!0});var I=s.props,W=I.model,$=I.graphModel,oe=W.getData();W.setHovered(!0),$.eventCenter.emit(Qe.NODE_MOUSEENTER,{data:oe,e:k})}}),on(qt(s),"setHoverOFF",function(k){s.setState({isHovered:!1});var I=s.props,W=I.model,$=I.graphModel,oe=W.getData();W.setHovered(!1),$.eventCenter.emit(Qe.NODE_MOUSELEAVE,{data:oe,e:k})}),on(qt(s),"onMouseOut",function(k){L0&&s.setHoverOFF(k)});var d=u.graphModel,m=d.gridSize,x=d.eventCenter,j=u.model;return s.stepDrag=new Zr({onDragStart:s.onDragStart,onDraging:s.onDraging,onDragEnd:s.onDragEnd,step:m,eventType:"NODE",isStopPropagation:!1,eventCenter:x,model:j}),s.state={isHovered:!1},s}return t=o,r=[{key:"getModel",value:function(u){return u}}],(n=[{key:"getAnchorShape",value:function(u){return null}},{key:"getAnchors",value:function(){var u=this,s=this.props,d=s.model,m=s.graphModel,x=d.isSelected,j=d.isHitable,k=d.isDragging,I=this.state.isHovered;if(j&&(x||I)&&!k){var W=d.getAnchorLineStyle();return qi(d.anchors,function($,oe){var re=d.getAnchorStyle($);return Object(K.g)(k0,{anchorData:$,node:u,style:re,edgeStyle:W,anchorIndex:oe,nodeModel:d,graphModel:m,setHoverOFF:u.setHoverOFF})})}return[]}},{key:"getText",value:function(){var u=this.props,s=u.model,d=u.graphModel;if(s.state===xt.TEXT_EDIT)return"";if(s.text){var m=d.editConfigModel,x=!1;return(s.text.draggable||m.nodeTextDraggable)&&(x=!0),Object(K.g)(lh,{editable:m.nodeTextEdit&&s.text.editable,model:s,graphModel:d,draggable:x})}}},{key:"getStateClassName",value:function(){var u=this.props.model,s=u.state,d=u.isDraging,m="lf-node";switch(s){case xt.ALLOW_CONNECT:m+=" lf-node-allow";break;case xt.NOT_ALLOW_CONNECT:m+=" lf-node-not-allow";break;default:m+=" lf-node-default"}return d&&(m+=" lf-isDragging"),m}},{key:"toFront",value:function(){var u=this.props,s=u.model,d=u.graphModel;d.overlapMode!==yn.INCREASE&&s.autoToFront&&d.toFront(s.id)}},{key:"render",value:function(){var u,s=this.props,d=s.model,m=s.graphModel,x=m.editConfigModel,j=x.hideAnchors,k=x.adjustNodePosition,I=m.gridSize,W=m.transformModel.SCALE_X,$=d.isHitable,oe=d.draggable,re=Object(K.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),j?null:this.getAnchors());return $?(k&&oe&&this.stepDrag.setStep(I*W),u=Object(K.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},re)):u=Object(K.g)("g",{className:this.getStateClassName()},re),u}}])&&hh(t.prototype,n),r&&hh(t,r),o}(K.a);function vh(e){return(vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function gh(){return(gh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function H0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function bh(e,t){return(bh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function G0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=pc(e);if(t){var i=pc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return U0(this,n)}}function U0(e,t){if(t&&(vh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function pc(e){return(pc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var dc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&bh(o,u)})(i,e);var t,n,r=G0(i);function i(){return F0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(K.g)(Pr,gh({},u,{x:o.x,y:o.y,width:o.width,height:o.height,radius:o.radius}))}}])&&H0(t.prototype,n),i}(hr);function mh(e){return(mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Oh(){return(Oh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function X0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function V0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _h(e,t){return(_h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function Y0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=hc(e);if(t){var i=hc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return W0(this,n)}}function W0(e,t){if(t&&(mh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function hc(e){return(hc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var yc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&_h(o,u)})(i,e);var t,n,r=Y0(i);function i(){return X0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,s=o.y,d=o.r,m=o.getNodeStyle();return Object(K.g)(ni,Oh({},m,{x:u,y:s,r:d}))}}])&&V0(t.prototype,n),i}(hr);function wh(e){return(wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function K0(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return xh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return xh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function xh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Eh(e){var t=e.points,n=e.className,r={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(e).forEach(function(i){var o=K0(i,2),u=o[0],s=o[1];wh(s)!=="object"&&(r[u]=s)}),r.className=n?"lf-basic-shape ".concat(n):"lf-basic-shape",r.points=t.map(function(i){return i.join(",")}).join(" "),Object(K.g)("polygon",r)}function jh(e){return(jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Sh(){return(Sh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function q0(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ph(e,t){return(Ph=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function $0(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=vc(e);if(t){var i=vc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return J0(this,n)}}function J0(e,t){if(t&&(jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function vc(e){return(vc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var gc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Ph(o,u)})(i,e);var t,n,r=$0(i);function i(){return Z0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.x,s=o.y,d=o.width,m=o.height,x=o.points,j=o.getNodeStyle(),k={transform:"matrix(1 0 0 1 ".concat(u-d/2," ").concat(s-m/2,")")};return Object(K.g)("g",k,Object(K.g)(Eh,Sh({},j,{points:x,x:u,y:s})))}}])&&q0(t.prototype,n),i}(hr);function Ah(e){return(Ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function kh(){return(kh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q0(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function eO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mh(e,t){return(Mh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function tO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=bc(e);if(t){var i=bc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return nO(this,n)}}function nO(e,t){if(t&&(Ah(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function bc(e){return(bc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var mc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Mh(o,u)})(i,e);var t,n,r=tO(i);function i(){return Q0(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(K.g)("g",null,Object(K.g)(Eh,kh({},u,{points:o.points,x:o.x,y:o.y})))}}])&&eO(t.prototype,n),i}(hr);function Th(e){return(Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function rO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Dh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Dh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Dh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oO(e){var t=e.x,n=t===void 0?0:t,r=e.y,i=r===void 0?0:r,o=e.rx,u=o===void 0?4:o,s=e.ry,d=s===void 0?4:s,m=e.className,x={cx:n,cy:i,rx:u,ry:d,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(e).forEach(function(j){var k=rO(j,2),I=k[0],W=k[1];Th(W)!=="object"&&(x[I]=W)}),x.className=m?"lf-basic-shape ".concat(m):"lf-basic-shape",Object(K.g)("ellipse",x)}function Nh(e){return(Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Ch(){return(Ch=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function iO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Rh(e,t){return(Rh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function uO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Oc(e);if(t){var i=Oc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return cO(this,n)}}function cO(e,t){if(t&&(Nh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Oc(e){return(Oc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var _c=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Rh(o,u)})(i,e);var t,n,r=uO(i);function i(){return iO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getShape",value:function(){var o=this.props.model,u=o.getNodeStyle();return Object(K.g)(oO,Ch({},u,{x:o.x,y:o.y,rx:o.rx,ry:o.ry}))}}])&&aO(t.prototype,n),i}(hr);function Ih(e){return(Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Lh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function zh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Lh(Object(n),!0).forEach(function(r){sO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function fO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bh(e,t){return(Bh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function pO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=wc(e);if(t){var i=wc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return dO(this,n)}}function dO(e,t){if(t&&(Ih(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function wc(e){return(wc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var xc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Bh(o,u)})(i,e);var t,n,r=pO(i);function i(){return lO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),s=o.text;if(s&&s.value&&u.background&&u.background.fill!=="transparnet"){var d=s.x,m=s.y,x=o.width,j=o.height,k=zh(zh({},u.background),{},{x:d,y:m-1,width:x,height:j});return Object(K.g)(Pr,k)}}},{key:"getShape",value:function(){return Object(K.g)("g",null,this.getBackgroud())}}])&&fO(t.prototype,n),i}(hr);function Fh(e){return(Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function hO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function yO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Hh(e,t){return(Hh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function vO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ec(e);if(t){var i=Ec(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return gO(this,n)}}function gO(e,t){if(t&&(Fh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fi(e)}function fi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ec(e){return(Ec=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Aa(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var jc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Hh(o,u)})(i,e);var t,n,r=vO(i);function i(){var o;hO(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return Aa(fi(o=r.call.apply(r,[this].concat(s))),"ref",void 0),Aa(fi(o),"currrentProperties",void 0),Aa(fi(o),"preProperties",void 0),Aa(fi(o),"setRef",function(m){o.ref=m}),o}return t=i,(n=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(o){o.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var o=this.props.model,u=o.x,s=o.y,d=o.height,m=o.width;return this.currrentProperties=JSON.stringify(o.properties),Object(K.g)("foreignObject",{x:u-m/2,y:s-d/2,width:m,height:d,ref:this.setRef})}}])&&yO(t.prototype,n),i}(hr);function Gh(e){return(Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function bO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Uh(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Uh(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Uh(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var wo=function(e){var t={d:""};return Object.entries(e).forEach(function(n){var r=bO(n,2),i=r[0],o=r[1];Gh(o)!=="object"&&(t[i]=o)}),Object(K.g)("path",t)};function Xh(e){return(Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Vh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mO(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function OO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Yh(e,t){return(Yh=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function wO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Sc(e);if(t){var i=Sc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xO(this,n)}}function xO(e,t){if(t&&(Xh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Sc(e){return(Sc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Wh=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Yh(o,u)})(i,e);var t,n,r=wO(i);function i(){return OO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getArrowAttributes",value:function(){var o=this.props,u=o.arrowInfo,s=o.style,d=u.start,m=u.end,x={start:d,end:m,offset:s.offset,verticalLength:s.verticalLength,type:"end"},j=Jo(x),k=j.leftX,I=j.leftY,W=j.rightX,$=j.rightY;return function(oe){for(var re=1;re<arguments.length;re++){var ue=arguments[re]!=null?arguments[re]:{};re%2?Vh(Object(ue),!0).forEach(function(pe){mO(oe,pe,ue[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(oe,Object.getOwnPropertyDescriptors(ue)):Vh(Object(ue)).forEach(function(pe){Object.defineProperty(oe,pe,Object.getOwnPropertyDescriptor(ue,pe))})}return oe}({d:"M".concat(k," ").concat(I," L").concat(m.x," ").concat(m.y," L").concat(W," ").concat($," z")},s)}},{key:"getShape",value:function(){var o=this.getArrowAttributes(),u=o.d,s=o.strokeWidth,d=o.stroke,m=o.fill;return Object(K.g)(wo,{d:u,fill:m,strokeWidth:s,stroke:d})}},{key:"render",value:function(){return Object(K.g)("g",{className:"lf-arrow"},this.getShape())}}])&&_O(t.prototype,n),i}(K.a);function Kh(e){return(Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Zh(){return(Zh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function qh(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qh(Object(n),!0).forEach(function(r){kc(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qh(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function EO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $h(e,t){return($h=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function jO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Ac(e);if(t){var i=Ac(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return SO(this,n)}}function SO(e,t){if(t&&(Kh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pc(e)}function Pc(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ac(e){return(Ac=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jn,PO=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&$h(o,u)})(i,e);var t,n,r=jO(i);function i(o){var u;return function(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")}(this,i),kc(Pc(u=r.call(this,o)),"setHoverON",function(){u.setState({isHoverd:!0})}),kc(Pc(u),"setHoverOFF",function(){u.setState({isHoverd:!1})}),u.state={isHoverd:!1},u}return t=i,(n=[{key:"getBackgroud",value:function(){var o=this.props.model,u=o.getTextStyle(),s=o.text,d=u.background||{};if(this.state.isHoverd&&u.hover&&u.hover.background&&(d=eo(eo({},d),u.hover.background)),s&&s.value&&d.fill!=="transparnet"){var m,x=u.fontSize,j=u.overflowMode,k=u.lineHeight,I=u.wrapPadding,W=u.textWidth,$=s.value,oe=s.x,re=s.y,ue=String($).split(/[\r\n]/g),pe=ue.length;if(j==="autoWrap"&&W){var Pe=kl({rows:ue,style:{fontSize:"".concat(x,"px"),width:"".concat(W,"px"),lineHeight:k,padding:I},rowsLength:pe,className:"lf-get-text-height"});m=eo(eo({},d),{},{x:oe-1,y:re-1,width:W,height:Pe})}else{ue&&ue.forEach(function(qe){rf(qe)});var xe=Eu({rows:ue,fontSize:x,rowsLength:pe}),De=xe.width,Re=xe.height;m=eo(eo({},d),{},{x:oe-1,y:re-1,width:De,height:Re})}return Object(K.g)(Pr,m)}}},{key:"getShape",value:function(){var o=this.props.model,u=o.text,s=u.value,d=u.x,m=u.y;if(s){var x=eo({x:d,y:m,className:"lf-element-text",value:s},o.getTextStyle());return Object(K.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(K.g)(ih,Zh({},x,{model:o})))}}}])&&EO(t.prototype,n),i}(lh);function Jh(e){return(Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Qh(){return(Qh=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ey(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ey(Object(n),!0).forEach(function(r){Nn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ey(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function AO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return ty(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return ty(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function ty(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function kO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ny(e,t){return(ny=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function MO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Mc(e);if(t){var i=Mc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return TO(this,n)}}function TO(e,t){if(t&&(Jh(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Dn(e)}function Dn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mc(e){return(Mc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Nn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"})(Jn||(Jn={}));var ry=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&ny(o,u)})(i,e);var t,n,r=MO(i);function i(){var o;return function(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}(this,i),Nn(Dn(o=r.call(this)),"dragHandler",void 0),Nn(Dn(o),"oldEdge",void 0),Nn(Dn(o),"preTargetNode",void 0),Nn(Dn(o),"targetRuleResults",void 0),Nn(Dn(o),"sourceRuleResults",void 0),Nn(Dn(o),"onDragStart",function(){var u=o.props,s=u.x,d=u.y,m=u.edgeModel,x=m.startPoint,j=m.endPoint,k=m.pointsList;o.oldEdge={startPoint:x,endPoint:j,pointsList:k},o.setState({endX:s,endY:d,draging:!0}),m.isHitable=!1}),Nn(Dn(o),"onDraging",function(u){var s=u.deltaX,d=u.deltaY,m=o.state,x=m.endX,j=m.endY,k=o.props,I=k.graphModel,W=k.type,$=AO(I.transformModel.moveCanvasPointByHtml([x,j],s,d),2),oe=$[0],re=$[1];o.setState({endX:oe,endY:re,draging:!0});var ue=o.props.edgeModel,pe=ta({x,y:j},I);if(pe&&pe.node&&o.isAllowAdjust(pe)){var Pe,xe=ue.startPoint,De=ue.endPoint,Re=ue.sourceNode,qe=ue.targetNode;W===Jn.SOURCE?Pe={startPoint:{x:pe.anchor.x,y:pe.anchor.y},endPoint:{x:De.x,y:De.y},sourceNode:pe.node,targetNode:qe}:W===Jn.TARGET&&(Pe={startPoint:{x:xe.x,y:xe.y},endPoint:{x:pe.anchor.x,y:pe.anchor.y},sourceNode:Re,targetNode:pe.node}),ue.updateAfterAdjustStartAndEnd(Pe)}else W===Jn.SOURCE?ue.updateStartPoint({x:oe,y:re}):W===Jn.TARGET&&ue.updateEndPoint({x:oe,y:re})}),Nn(Dn(o),"onDragEnd",function(){var u;o.setState({draging:!1});var s=o.props,d=s.graphModel,m=s.edgeModel,x=s.type;m.isHitable=!0;var j=o.state,k=j.endX,I=j.endY,W=j.draging,$=ta({x:k,y:I},d);if(W){if($&&$.node&&o.isAllowAdjust($)){var oe,re=m.getData(),ue=yr(yr({},re),{},{sourceAnchorId:"",targetAnchorId:"",text:(re==null||(oe=re.text)===null||oe===void 0?void 0:oe.value)||""});x===Jn.SOURCE?ue=yr(yr({},ue),{},{sourceNodeId:$.node.id,sourceAnchorId:$.anchor.id,startPoint:{x:$.anchor.x,y:$.anchor.y},targetNodeId:m.targetNodeId,endPoint:yr({},m.endPoint)}):x===Jn.TARGET&&(ue=yr(yr({},ue),{},{sourceNodeId:m.sourceNodeId,startPoint:yr({},m.startPoint),targetNodeId:$.node.id,targetAnchorId:$.anchor.id,endPoint:{x:$.anchor.x,y:$.anchor.y}})),d.deleteEdgeById(m.id);var pe=d.addEdge(yr({},ue));d.eventCenter.emit(Qe.EDGE_EXCHANGE_NODE,{data:{newEdge:pe.getData(),oldEdge:m.getData()}})}else o.recoveryEdge();(u=o.preTargetNode)===null||u===void 0||u.setElementState(xt.DEFAULT)}}),Nn(Dn(o),"recoveryEdge",function(){var u=o.props.edgeModel,s=o.oldEdge,d=s.startPoint,m=s.endPoint,x=s.pointsList;u.updateStartPoint(d),u.updateEndPoint(m),u.modelType!==ct.LINE_EDGE&&(u.pointsList=x,u.initPoints())}),Nn(Dn(o),"getAdjustPointStyle",function(){return o.props.graphModel.theme.edgeAdjust}),o.state={draging:!1,endX:0,endY:0},o.targetRuleResults=new Map,o.sourceRuleResults=new Map,o.dragHandler=Iu({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd}),o}return t=i,(n=[{key:"isAllowAdjust",value:function(o){var u=this.props,s=u.edgeModel,d=(s.id,s.sourceNode),m=s.targetNode,x=s.sourceAnchorId,j=s.targetAnchorId,k=u.type,I=null,W=null,$=null,oe=null;if(k===Jn.SOURCE?(I=o.node,W=m,$=o.anchor,oe=m.getAnchorInfo(j)):(I=d,W=o.node,oe=o.anchor,$=d.getAnchorInfo(x)),this.preTargetNode&&this.preTargetNode!==o.node&&this.preTargetNode.setElementState(xt.DEFAULT),this.preTargetNode=o.node,oe.id===$.id)return!1;var re="".concat(I.id,"_").concat(W.id,"_").concat($.id,"_").concat(oe.id);if(!this.targetRuleResults.has(re)){var ue=I.isAllowConnectedAsSource(W,$,oe),pe=W.isAllowConnectedAsTarget(I,$,oe);this.sourceRuleResults.set(re,na(ue)),this.targetRuleResults.set(re,na(pe))}var Pe=this.sourceRuleResults.get(re).isAllPass,xe=this.targetRuleResults.get(re).isAllPass,De=Pe&&xe?xt.ALLOW_CONNECT:xt.NOT_ALLOW_CONNECT;return k===Jn.SOURCE?I.setElementState(De):W.setElementState(De),Pe&&xe}},{key:"render",value:function(){var o=this.props,u=o.x,s=o.y,d=this.state.draging,m=this.getAdjustPointStyle();return Object(K.g)("g",null,Object(K.g)(ni,Qh({className:"lf-edge-adjust-point"},m,{x:u,y:s,onMouseDown:this.dragHandler,"pointer-events":d?"none":""})))}}])&&kO(t.prototype,n),i}(K.a);function oy(e){return(oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Tc(){return(Tc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function iy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ay(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iy(Object(n),!0).forEach(function(r){Rn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function NO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function uy(e,t){return(uy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function CO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Dc(e);if(t){var i=Dc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return RO(this,n)}}function RO(e,t){if(t&&(oy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cn(e)}function Cn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dc(e){return(Dc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Rn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var pi=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&uy(o,u)})(i,e);var t,n,r=CO(i);function i(){var o;DO(this,i);for(var u=arguments.length,s=new Array(u),d=0;d<u;d++)s[d]=arguments[d];return Rn(Cn(o=r.call.apply(r,[this].concat(s))),"startTime",void 0),Rn(Cn(o),"contextMenuTime",void 0),Rn(Cn(o),"clickTimer",void 0),Rn(Cn(o),"handleHover",function(m,x){var j=o.props,k=j.model,I=j.graphModel.eventCenter;k.setHovered(m);var W=m?Qe.EDGE_MOUSEENTER:Qe.EDGE_MOUSELEAVE,$=k.getData();I.emit(W,{data:$,e:x})}),Rn(Cn(o),"setHoverON",function(m){o.handleHover(!0,m)}),Rn(Cn(o),"setHoverOFF",function(m){o.handleHover(!1,m)}),Rn(Cn(o),"handleContextMenu",function(m){m.preventDefault(),o.contextMenuTime=new Date().getTime(),o.clickTimer&&clearTimeout(o.clickTimer);var x=o.props,j=x.model,k=x.graphModel,I=k.getPointByClient({x:m.clientX,y:m.clientY});k.setElementStateById(j.id,xt.SHOW_MENU,I.domOverlayPosition),o.toFront(),k.selectEdgeById(j.id);var W=j==null?void 0:j.getData();k.eventCenter.emit(Qe.EDGE_CONTEXTMENU,{data:W,e:m,position:I})}),Rn(Cn(o),"handleMouseDown",function(m){m.stopPropagation(),o.startTime=new Date().getTime()}),Rn(Cn(o),"handleMouseUp",function(m){if(o.startTime&&!(new Date().getTime()-o.startTime>200||m.button===2)){var x=m.detail===2,j=o.props,k=j.model,I=j.graphModel,W=k==null?void 0:k.getData(),$=I.getPointByClient({x:m.clientX,y:m.clientY});if(x){var oe=I.editConfigModel,re=I.textEditElement;if(re&&re.id===k.id&&I.setElementStateById(k.id,xt.DEFAULT),oe.edgeTextEdit&&k.text.editable&&I.setElementStateById(k.id,xt.TEXT_EDIT),k.modelType===ct.POLYLINE_EDGE){var ue=k,pe=I.getPointByClient({x:m.x,y:m.y}).canvasOverlayPosition,Pe=pe.x,xe=pe.y,De=af({x:Pe,y:xe},ue.points);ue.dbClickPosition=De}I.eventCenter.emit(Qe.EDGE_DBCLICK,{data:W,e:m,position:$})}else I.eventCenter.emit(Qe.ELEMENT_CLICK,{data:W,e:m,position:$}),I.eventCenter.emit(Qe.EDGE_CLICK,{data:W,e:m,position:$});var Re=I.editConfigModel;I.selectEdgeById(k.id,ol(m,Re)),o.toFront()}}),Rn(Cn(o),"getIsDraging",function(){return!1}),o}return t=i,(n=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var o=this.props,u=o.model,s=o.graphModel;if(u.state===xt.TEXT_EDIT)return"";var d=!1,m=s.editConfigModel;return(u.text.draggable||m.edgeTextDraggable)&&(d=!0),Object(K.g)(PO,{editable:m.edgeTextEdit&&u.text.editable,model:u,graphModel:s,draggable:d})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.startPoint,s=o.endPoint,d=o.isSelected;return{start:u,end:s,hover:this.state.hover,isSelected:d}}},{key:"getArrowStyle",value:function(){var o=this.props,u=o.model,s=o.graphModel,d=u.getEdgeStyle(),m=s.theme.arrow;return ay(ay({},d),{},{fill:d.stroke},m)}},{key:"getArrow",value:function(){var o=this.getArrowInfo(),u=o.start,s=o.end;if(u&&s&&(u.x!==s.x||u.y!==s.y)){var d=this.getArrowStyle();return Object(K.g)(Wh,{arrowInfo:o,style:d})}}},{key:"getAdjustPoints",value:function(){var o=this.props,u=o.model,s=o.graphModel,d=u.getAdjustStart(),m=u.getAdjustEnd();return Object(K.g)("g",null,Object(K.g)(ry,Tc({type:"SOURCE"},d,{edgeModel:u,graphModel:s})),Object(K.g)(ry,Tc({type:"TARGET"},m,{edgeModel:u,graphModel:s})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(K.g)("g",null)}},{key:"getAppend",value:function(){return Object(K.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var o=this.props,u=o.graphModel,s=o.model;u.overlapMode!==yn.INCREASE&&u.toFront(s.id)}},{key:"render",value:function(){var o=this.props,u=o.model,s=u.isSelected,d=u.isHitable,m=o.graphModel,x=this.getIsDraging(),j=m.editConfigModel.adjustEdgeStartAndEnd,k=m.animation,I=s&&k.edge&&m.getSelectElements().edges.length===1;return Object(K.g)("g",null,Object(K.g)("g",{className:d?"lf-edge":"lf-edge pointer-none",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),I&&this.getAnimation(),this.getText(),this.getArrow()),j&&s&&!x?this.getAdjustPoints():"")}}])&&NO(t.prototype,n),i}(K.a);function cy(e){return(cy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Nc(){return(Nc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function IO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function LO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function sy(e,t){return(sy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function zO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Cc(e);if(t){var i=Cc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return BO(this,n)}}function BO(e,t){if(t&&(cy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Cc(e){return(Cc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Rc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&sy(o,u)})(i,e);var t,n,r=zO(i);function i(){return IO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.startPoint,s=o.endPoint,d=o.getEdgeStyle();return Object(K.g)(qr,Nc({},d,{x1:u.x,y1:u.y,x2:s.x,y2:s.y}))}},{key:"getShape",value:function(){return Object(K.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),s=u.stroke,d=u.className,m=u.strokeDasharray,x=o.startPoint,j=o.endPoint,k=o.getEdgeStyle();return Object(K.g)("g",null,Object(K.g)(qr,Nc({},k,{x1:x.x,y1:x.y,x2:j.x,y2:j.y,className:d,strokeDasharray:m,stroke:s})))}},{key:"getAppendWidth",value:function(){var o=this.props.model,u=function(k){var I,W=k.start,$=k.end;if(W.x===$.x&&W.y===$.y)I="";else{var oe={start:W,end:$,offset:10,verticalLength:5},re=Jo(ia(ia({},oe),{},{type:"start"})),ue=Jo(ia(ia({},oe),{},{type:"end"}));I="M".concat(re.leftX," ").concat(re.leftY,` 
    L`).concat(re.rightX," ").concat(re.rightY,` 
    L`).concat(ue.rightX," ").concat(ue.rightY,`
    L`).concat(ue.leftX," ").concat(ue.leftY," z")}return{d:I,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:o.startPoint,end:o.endPoint}),s=u.d,d=u.strokeWidth,m=u.fill,x=u.strokeDasharray,j=u.stroke;return Object(K.g)(wo,{d:s,fill:m,strokeWidth:d,stroke:j,strokeDasharray:x})}}])&&LO(t.prototype,n),i}(pi);function ly(e){return(ly=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function FO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return fy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return fy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function fy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var py=function(e){var t={points:"",fill:"none"};return Object.entries(e).forEach(function(n){var r=FO(n,2),i=r[0],o=r[1];ly(o)!=="object"&&(t[i]=o)}),Object(K.g)("polyline",t)};function dy(e){return(dy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ka(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hy(Object(n),!0).forEach(function(r){er(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ic(){return(Ic=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function HO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return yy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return yy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function yy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function GO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vy(e,t){return(vy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function UO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Lc(e);if(t){var i=Lc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return XO(this,n)}}function XO(e,t){if(t&&(dy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qn(e)}function Qn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lc(e){return(Lc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function er(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var zc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&vy(o,u)})(i,e);var t,n,r=UO(i);function i(){var o;return function(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}(this,i),er(Qn(o=r.call(this)),"drag",void 0),er(Qn(o),"isDraging",void 0),er(Qn(o),"appendInfo",void 0),er(Qn(o),"dragHandler",void 0),er(Qn(o),"onDragStart",function(){o.props.model.dragAppendStart()}),er(Qn(o),"onDraging",function(u){var s=u.deltaX,d=u.deltaY,m=o.props,x=m.model,j=m.graphModel;o.isDraging=!0;var k=j.transformModel,I=j.editConfigModel,W=HO(k.fixDeltaXY(s,d),2),$=W[0],oe=W[1],re=x,ue=I.adjustEdgeMiddle;o.appendInfo=ue?re.dragAppendSimple(o.appendInfo,{x:$,y:oe}):re.dragAppend(o.appendInfo,{x:$,y:oe})}),er(Qn(o),"onDragEnd",function(){var u=o.props,s=u.model,d=u.graphModel.eventCenter,m=s;m.dragAppendEnd(),o.isDraging=!1,o.appendInfo=void 0,d.emit(Qe.EDGE_ADJUST,{data:m.getData()})}),er(Qn(o),"beforeDragStart",function(u,s){s.dragAble&&o.dragHandler(u),o.appendInfo=s}),er(Qn(o),"getIsDraging",function(){return o.isDraging}),o.drag=Iu({onDragStart:o.onDragStart,onDraging:o.onDraging,onDragEnd:o.onDragEnd,isStopPropagation:!1}),o}return t=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.getEdgeStyle();return Object(K.g)(py,Ic({points:o.points},u))}},{key:"getShape",value:function(){return Object(K.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),s=u.stroke,d=u.className,m=u.strokeDasharray,x=o.getEdgeStyle();return Object(K.g)("g",null,Object(K.g)(py,Ic({points:o.points},x,{className:d,strokeDasharray:m,stroke:s})))}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=o.points,s=o.isSelected,d={start:null,end:null,hover:this.state.hover,isSelected:s},m=vo(u);return m.length>=2&&(d.start=m[m.length-2],d.end=m[m.length-1]),d}},{key:"getAppendAttributes",value:function(o){var u,s=o.start,d=o.end;if(s.x===d.x&&s.y===d.y)u="";else{var m={start:s,end:d,offset:10,verticalLength:5},x=Jo(ka(ka({},m),{},{type:"start"})),j=Jo(ka(ka({},m),{},{type:"end"}));u="M".concat(x.leftX," ").concat(x.leftY,` 
      L`).concat(x.rightX," ").concat(x.rightY,` 
      L`).concat(j.rightX," ").concat(j.rightY,`
      L`).concat(j.leftX," ").concat(j.leftY," z")}return{d:u,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(o){var u=this.getAppendAttributes(o),s=u.d,d=u.strokeWidth,m=u.fill,x=u.strokeDasharray,j=u.stroke;return Object(K.g)(wo,{d:s,fill:m,strokeWidth:d,stroke:j,strokeDasharray:x})}},{key:"getAppendWidth",value:function(){for(var o=this,u=this.props,s=u.model,d=u.graphModel,m=s.pointsList,x=s.draggable,j=[],k=m.length,I=function($){var oe="lf-polyline-append",re={start:{x:m[$].x,y:m[$].y},end:{x:m[$+1].x,y:m[$+1].y},startIndex:$,endIndex:$+1,direction:"",dragAble:!0},ue=Object(K.g)("g",{className:oe},o.getAppendShape(re)),pe=d.editConfigModel,Pe=pe.adjustEdge,xe=pe.adjustEdgeMiddle;if(Pe&&x){o.dragHandler=o.drag;var De=re.startIndex,Re=re.endIndex,qe=xe&&(De===0||Re===k-1);re.dragAble=!qe,re.start.x===re.end.x?(re.dragAble&&(oe+="-ew-resize"),re.direction=Pt.VERTICAL):re.start.y===re.end.y&&(re.dragAble&&(oe+="-ns-resize"),re.direction=Pt.HORIZONTAL),ue=Object(K.g)("g",{className:o.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(pt){return o.beforeDragStart(pt,re)}},Object(K.g)("g",{className:oe},o.getAppendShape(re)))}else o.dragHandler=function(){};j.push(ue)},W=0;W<k-1;W++)I(W);return Object(K.g)("g",null,j)}}])&&GO(t.prototype,n),i}(pi);function gy(e){return(gy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function VO(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return by(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return by(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function by(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Bc(){return(Bc=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function YO(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function WO(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function my(e,t){return(my=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function KO(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Fc(e);if(t){var i=Fc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ZO(this,n)}}function ZO(e,t){if(t&&(gy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(e)}function Fc(e){return(Fc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}var Hc=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&my(o,u)})(i,e);var t,n,r=KO(i);function i(){return YO(this,i),r.apply(this,arguments)}return t=i,(n=[{key:"getEdge",value:function(){var o=this.props.model,u=o.getEdgeStyle();return Object(K.g)(wo,Bc({d:o.path},u))}},{key:"getShape",value:function(){return Object(K.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var o=this.props.model,u=o.getAnimation(),s=u.stroke,d=u.className,m=u.strokeDasharray,x=o.getEdgeStyle();return Object(K.g)("g",null,Object(K.g)(wo,Bc({d:o.path},x,{className:d,strokeDasharray:m,stroke:s})))}},{key:"getAppendWidth",value:function(){var o=this.props.model.path;return Object(K.g)(wo,{d:o,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var o=this.props.model,u=this.state.hover,s=o,d=s.path,m=s.isSelected,x=VO(function(j){var k=fa(j);return[k[2],k[3]]}(d),2);return{start:x[0],end:x[1],hover:u,isSelected:m}}}])&&WO(t.prototype,n),i}(pi),Oy=function(e,t){return v(e,t)},qO=function(e){var t=e==null?0:e.length;return t?e[t-1]:void 0},Gc=function(){return yt.a.Date.now()},$O=/\s/,JO=function(e){for(var t=e.length;t--&&$O.test(e.charAt(t)););return t},QO=/^\s+/,e_=function(e){return e&&e.slice(0,JO(e)+1).replace(QO,"")},t_=/^[-+]0x[0-9a-f]+$/i,n_=/^0b[01]+$/i,r_=/^0o[0-7]+$/i,o_=parseInt,_y=function(e){if(typeof e=="number")return e;if(ne(e))return NaN;if(Mt(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Mt(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=e_(e);var n=n_.test(e);return n||r_.test(e)?o_(e.slice(2),n?2:8):t_.test(e)?NaN:+e},i_=Math.max,a_=Math.min,u_=function(e,t,n){var r,i,o,u,s,d,m=0,x=!1,j=!1,k=!0;if(typeof e!="function")throw new TypeError("Expected a function");function I(pe){var Pe=r,xe=i;return r=i=void 0,m=pe,u=e.apply(xe,Pe)}function W(pe){return m=pe,s=setTimeout(oe,t),x?I(pe):u}function $(pe){var Pe=pe-d;return d===void 0||Pe>=t||Pe<0||j&&pe-m>=o}function oe(){var pe=Gc();if($(pe))return re(pe);s=setTimeout(oe,function(Pe){var xe=t-(Pe-d);return j?a_(xe,o-(Pe-m)):xe}(pe))}function re(pe){return s=void 0,k&&r?I(pe):(r=i=void 0,u)}function ue(){var pe=Gc(),Pe=$(pe);if(r=arguments,i=this,d=pe,Pe){if(s===void 0)return W(d);if(j)return clearTimeout(s),s=setTimeout(oe,t),I(d)}return s===void 0&&(s=setTimeout(oe,t)),u}return t=_y(t)||0,Mt(n)&&(x=!!n.leading,o=(j="maxWait"in n)?i_(_y(n.maxWait)||0,t):o,k="trailing"in n?!!n.trailing:k),ue.cancel=function(){s!==void 0&&clearTimeout(s),m=0,r=d=i=s=void 0},ue.flush=function(){return s===void 0?u:re(Gc())},ue},c_=a(157);function s_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Mr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wy,xy,Ey,l_=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Mr(this,"undos",[]),Mr(this,"redos",[]),Mr(this,"callbacks",[]),Mr(this,"stopWatch",null),Mr(this,"curData",null),Mr(this,"maxSize",50),Mr(this,"waitTime",100),Mr(this,"eventCenter",void 0),this.eventCenter=r}var t,n;return t=e,(n=[{key:"add",value:function(r){Oy(qO(this.undos),r)||(this.undos.push(r),Oy(this.curData,r)||(this.redos=[]),this.eventCenter.emit(Qe.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var r=this.undos.pop();this.redos.push(r);var i=this.undos.pop();return this.curData=Tt(i),i}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var r=this.redos.pop();return this.curData=Tt(r),r}}},{key:"watch",value:function(r){var i=this;this.stopWatch&&this.stopWatch(),this.undos.push(r.modelToGraphData()),this.stopWatch=Object(c_.a)(r,u_(function(){var o=r.modelToHistoryData();o&&i.add(o)},this.waitTime))}}])&&s_(t.prototype,n),e}();function jy(e){return(jy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function f_(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||function(n,r){if(!!n){if(typeof n=="string")return Sy(n,r);var i=Object.prototype.toString.call(n).slice(8,-1);if(i==="Object"&&n.constructor&&(i=n.constructor.name),i==="Map"||i==="Set")return Array.from(n);if(i==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return Sy(n,r)}}(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sy(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Py(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function xo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Py(Object(n),!0).forEach(function(r){Eo(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Py(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ay(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ky(e,t){return(ky=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function p_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Uc(e);if(t){var i=Uc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return d_(this,n)}}function d_(e,t){if(t&&(jy(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return di(e)}function di(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uc(e){return(Uc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function Eo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var My,Ty,Dy,Xc=In((Ey=xy=function(e){(function(u,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),s&&ky(u,s)})(o,e);var t,n,r,i=p_(o);function o(){var u;return function(s,d){if(!(s instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),Eo(di(u=i.call(this)),"ref",Object(K.f)()),Eo(di(u),"__prevText",{type:"",text:"",id:""}),Eo(di(u),"keyupHandler",function(s){var d=u.props.graphModel.textEditElement;s.key==="Enter"&&s.altKey&&d.setElementState(0)}),Eo(di(u),"inputHandler",function(s){var d=s.target.innerText,m=u.props.graphModel.textEditElement;u.__prevText={type:m.type,text:d.replace(/(\r\n)+$|(\n)+$/,""),id:m.id}}),u.state={style:{left:0,top:0}},u}return t=o,r=[{key:"getDerivedStateFromProps",value:function(u){var s,d=u.graphModel,m=d.transformModel,x=d.theme,j=d.textEditElement;if(j){var k;if((k=j.text)===null||k===void 0||!k.value)if(j.BaseType===Bt.EDGE){var I=(j=j).text,W=j.textPosition,$=W.x,oe=W.y;I.x=$,I.y=oe,j.setText(I)}else j=j;var re={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(j.BaseType===Bt.EDGE){var ue=x.edgeText,pe=ue.overflowMode,Pe=ue.lineHeight,xe=ue.wrapPadding,De=ue.textWidth;De&&pe==="autoWrap"&&(s=xo(xo({},re),{},{width:De,minWidth:De,lineHeight:Pe,padding:xe}))}else if(j.BaseType===Bt.NODE){var Re=x.nodeText,qe=Re.overflowMode,pt=Re.lineHeight,dt=Re.wrapPadding,Nt=Re.textWidth,Ht=j,an=Ht.width,ln=Ht.modelType;(ln!==ct.TEXT_NODE&&qe==="autoWrap"||ln===ct.TEXT_NODE&&Nt)&&(s=xo(xo({},re),{},{width:Nt||an,minWidth:Nt||an,lineHeight:pt,padding:dt}))}var gn=j.text,gr=gn.x,to=gn.y,br=f_(m.CanvasPointToHtmlPoint([gr,to]),2);return{style:xo({left:br[0],top:br[1]},s)}}}}],(n=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var u=this.props.graphModel,s=u.eventCenter,d=u.editConfigModel,m=d.edgeTextEdit,x=d.nodeTextEdit;(m||x)&&s.on("".concat(Qe.GRAPH_TRANSFORM,",").concat(Qe.NODE_CLICK,",").concat(Qe.BLANK_CLICK," "),function(){u.textEditElement&&u.textEditElement.setElementState(xt.DEFAULT)})}},{key:"componentDidUpdate",value:function(){var u=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),this.__prevText.id!==""){var s=this.__prevText,d=s.text,m=s.id;u.updateText(m,d),u.eventCenter.emit(Qe.TEXT_UPDATE,xo({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(u){if(window.getSelection!==void 0&&document.createRange!==void 0){var s=document.createRange();s.selectNodeContents(u),s.collapse(!1);var d=window.getSelection();d.removeAllRanges(),d.addRange(s)}}},{key:"render",value:function(){var u,s=this.props.graphModel.textEditElement,d=this.state.style;return s?Object(K.g)("div",{contentEditable:!0,className:"lf-text-input",style:d,ref:this.ref,key:s.id,onKeyUp:this.keyupHandler,onInput:this.inputHandler},(u=s.text)===null||u===void 0?void 0:u.value):null}}])&&Ay(t.prototype,n),r&&Ay(t,r),o}(K.a),Eo(xy,"toolName","textEdit"),wy=Ey))||wy,h_=function(e){return e.modelType===ct.LINE_EDGE?function(t){var n=t.startPoint,r=t.endPoint,i=(n.x+r.x)/2,o=(n.y+r.y)/2,u=Math.abs(n.x-r.x)+10,s=Math.abs(n.y-r.y)+10;return{x:i-u/2,y:o-s/2,x1:i+u/2,y1:o+s/2}}(e):e.modelType===ct.POLYLINE_EDGE?function(t){var n=t.points,r=vo(n),i=Qo(r,8),o=i.x,u=i.y,s=i.width,d=i.height;return{x:o-s/2,y:u-d/2,x1:o+s/2,y1:u+d/2}}(e):e.modelType===ct.BEZIER_EDGE?function(t){var n=t.path,r=fa(n),i=Qo(r,8),o=i.x,u=i.y,s=i.width,d=i.height;return{x:o-s/2,y:u-d/2,x1:o+s/2,y1:u+d/2}}(e):void 0};function Ny(e){return(Ny=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Cy(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol!="undefined"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,u,s=[],d=!0,m=!1;try{for(i=i.call(n);!(d=(o=i.next()).done)&&(s.push(o.value),!r||s.length!==r);d=!0);}catch(x){m=!0,u=x}finally{try{d||i.return==null||i.return()}finally{if(m)throw u}}return s}}(e,t)||Ry(e,t)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function y_(e){return function(t){if(Array.isArray(t))return Vc(t)}(e)||function(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||Ry(e)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Ry(e,t){if(e){if(typeof e=="string")return Vc(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Vc(e,t):void 0}}function Vc(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function v_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Iy(e,t){return(Iy=Object.setPrototypeOf||function(n,r){return n.__proto__=r,n})(e,t)}function g_(e){var t=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Yc(e);if(t){var i=Yc(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return b_(this,n)}}function b_(e,t){if(t&&(Ny(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return hi(e)}function hi(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yc(e){return(Yc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(e)}function yi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Wc=In((Dy=Ty=function(e){(function(o,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),u&&Iy(o,u)})(i,e);var t,n,r=g_(i);function i(o){var u;(function(x,j){if(!(x instanceof j))throw new TypeError("Cannot call a class as a function")})(this,i),yi(hi(u=r.call(this)),"stepDrag",void 0),yi(hi(u),"handleMouseDown",function(x){u.stepDrag.handleMouseDown(x)}),yi(hi(u),"onDraging",function(x){var j=x.deltaX,k=x.deltaY,I=u.props.graphModel,W=I.getSelectElements(!0);I.moveNodes(W.nodes.map(function($){return $.id}),j,k)}),yi(hi(u),"handleContextMenu",function(x){x.preventDefault();var j=u.props,k=j.graphModel,I=j.graphModel,W=I.eventCenter,$=I.selectElements,oe=k.getPointByClient({x:x.clientX,y:x.clientY}),re={nodes:[],edges:[]};y_($.values()).forEach(function(ue){ue.BaseType===Bt.NODE&&re.nodes.push(ue.getData()),ue.BaseType===Bt.EDGE&&re.edges.push(ue.getData())}),W.emit(Qe.SELECTION_CONTEXTMENU,{data:re,e:x,position:oe})});var s=o.graphModel,d=s.gridSize,m=s.eventCenter;return u.stepDrag=new Zr({onDraging:u.onDraging,step:d,eventType:"SELECTION",eventCenter:m}),u}return t=i,(n=[{key:"render",value:function(){var o=this.props.graphModel,u=o.selectElements,s=o.transformModel;if(!(u.size<=1)){var d=Number.MAX_SAFE_INTEGER,m=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER,j=Number.MIN_SAFE_INTEGER;u.forEach(function($){var oe={x:0,y:0,x1:0,y1:0};$.BaseType===Bt.NODE&&(oe=function(re){var ue=re.x,pe=re.y,Pe=re.width,xe=re.height;return{x:ue-Pe/2,y:pe-xe/2,x1:ue+Pe/2,y1:pe+xe/2}}($)),$.BaseType===Bt.EDGE&&(oe=h_($)),d=Math.min(d,oe.x),m=Math.min(m,oe.y),x=Math.max(x,oe.x1),j=Math.max(j,oe.y1)});var k=Cy(s.CanvasPointToHtmlPoint([d,m]),2);d=k[0],m=k[1];var I=Cy(s.CanvasPointToHtmlPoint([x,j]),2);x=I[0],j=I[1];var W={left:"".concat(d-10,"px"),top:"".concat(m-10,"px"),width:"".concat(x-d+20,"px"),height:"".concat(j-m+20,"px")};return Object(K.g)("div",{className:"lf-multiple-select",style:W,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&v_(t.prototype,n),i}(K.a),yi(Ty,"toolName","multipleSelect"),My=Dy))||My;function m_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ma(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var O_=function(){function e(r){(function(i,o){if(!(i instanceof o))throw new TypeError("Cannot call a class as a function")})(this,e),Ma(this,"tools",void 0),Ma(this,"components",void 0),Ma(this,"toolMap",new Map),Ma(this,"instance",void 0),this.instance=r,this.isDisabledTool(Xc.toolName)||this.registerTool(Xc.toolName,Xc),this.isDisabledTool(Wc.toolName)||this.registerTool(Wc.toolName,Wc)}var t,n;return t=e,(n=[{key:"isDisabledTool",value:function(r){return this.instance.options.disabledTools.indexOf(r)!==-1}},{key:"registerTool",value:function(r,i){this.toolMap.set(r,i)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&m_(t.prototype,n),e}(),__=a(158),w_=a.n(__);function x_(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ly=function(){function e(r){(function(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")})(this,e),Kc(this,"mousetrap",void 0),Kc(this,"options",void 0),Kc(this,"target",void 0),r.keyboard||(r.keyboard={enabled:!1}),this.options=r;var i=r.lf;this.target=i.container,this.mousetrap=new w_.a(this.target),r.keyboard.enabled&&this.enable(!0)}var t,n;return t=e,(n=[{key:"initShortcuts",value:function(){var r=this,i=this.options.keyboard.shortcuts;if(i)if(Gt(i))i.forEach(function(d){var m=d.keys,x=d.callback,j=d.action;return r.on(m,x,j)});else{var o=i.keys,u=i.callback,s=i.action;this.on(o,u,s)}}},{key:"on",value:function(r,i,o){this.mousetrap.bind(this.getKeys(r),i,o)}},{key:"disabled",get:function(){return this.options.keyboard.enabled!==!0}},{key:"off",value:function(r,i){this.mousetrap.unbind(this.getKeys(r),i)}},{key:"enable",value:function(r){(this.disabled||r)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(r){var i=this;return(Array.isArray(r)?r:[r]).map(function(o){return i.formatkey(o)})}},{key:"formatkey",value:function(r){return r.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&x_(t.prototype,n),e}(),E_=Ly,vr=null;function zy(e,t){return e.x+=t,e.y+=t,e.text&&(e.text.x+=t,e.text.y+=t),e}function By(e,t){return e.startPoint&&(e.startPoint.x+=t,e.startPoint.y+=t),e.endPoint&&(e.endPoint.x+=t,e.endPoint.y+=t),e.pointsList&&e.pointsList.length>0&&e.pointsList.forEach(function(n){n.x+=t,n.y+=t}),e.text&&(e.text.x+=t,e.text.y+=t),e}function Fy(e){return(Fy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function Hy(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Zc(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Hy(Object(n),!0).forEach(function(r){Dt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Hy(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gy(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Dt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qc=function(){function e(i){var o,u,s=this;(function(d,m){if(!(d instanceof m))throw new TypeError("Cannot call a class as a function")})(this,e),Dt(this,"container",void 0),Dt(this,"width",void 0),Dt(this,"height",void 0),Dt(this,"graphModel",void 0),Dt(this,"history",void 0),Dt(this,"viewMap",new Map),Dt(this,"tool",void 0),Dt(this,"keyboard",void 0),Dt(this,"dnd",void 0),Dt(this,"options",void 0),Dt(this,"snaplineModel",void 0),Dt(this,"components",[]),Dt(this,"plugins",void 0),Dt(this,"extension",{}),Dt(this,"adapterIn",void 0),Dt(this,"adapterOut",void 0),Dt(this,"getView",function(d){return s.viewMap.get(d)}),i=bp(i),this.options=i,this.container=i.container,this.plugins=i.plugins,this.graphModel=new Cb(Zc({},i)),this.tool=new O_(this),this.history=new l_(this.graphModel.eventCenter),this.dnd=new Mm({lf:this}),this.keyboard=new E_({lf:this,keyboard:i.keyboard}),i.isSilentMode||i.snapline===!1||(this.snaplineModel=new qd(this.graphModel),o=this.graphModel.eventCenter,u=this.snaplineModel,o.on("node:mousemove",function(d){var m=d.data;u.setNodeSnapLine(m)}),o.on("node:mouseup",function(){u.clearSnapline()})),function(d,m){var x=d.keyboard,j=x.options.keyboard;x.on(["cmd + c","ctrl + c"],function(){if(j.enabled&&!m.textEditElement){var k=d.options.guards,I=m.getSelectElements(!1);return k&&k.beforeClone&&!k.beforeClone(I)?(vr=null,!1):((vr=I).nodes.forEach(function(W){return zy(W,40)}),vr.edges.forEach(function(W){return By(W,40)}),!1)}}),x.on(["cmd + v","ctrl + v"],function(){if(j.enabled&&!m.textEditElement){if(vr&&(vr.nodes||vr.edges)){d.clearSelectElements();var k=d.addElements(vr);if(!k)return;k.nodes.forEach(function(I){return d.selectElementById(I.id,!0)}),k.edges.forEach(function(I){return d.selectElementById(I.id,!0)}),vr.nodes.forEach(function(I){return zy(I,40)}),vr.edges.forEach(function(I){return By(I,40)})}return!1}}),x.on(["cmd + z","ctrl + z"],function(){if(j.enabled&&!m.textEditElement)return d.undo(),!1}),x.on(["cmd + y","ctrl + y"],function(){if(j.enabled&&!m.textEditElement)return d.redo(),!1}),x.on(["backspace"],function(){if(j.enabled&&!m.textEditElement){var k=m.getSelectElements(!0);return d.clearSelectElements(),k.edges.forEach(function(I){return d.deleteEdge(I.id)}),k.nodes.forEach(function(I){return d.deleteNode(I.id)}),!1}})}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(i.disabledPlugins)}var t,n,r;return t=e,r=[{key:"use",value:function(i){var o=i.pluginName;o||(console.warn("\u8BF7\u7ED9\u63D2\u4EF6".concat(i.name||i.constructor.name,"\u6307\u5B9ApluginName!")),o=i.name);var u=this.extensions.get(o);u&&u.destroy&&u.destroy(),this.extensions.set(o,i)}}],(n=[{key:"register",value:function(i,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];if(typeof i=="string"){var s={BaseEdge:pi,BaseEdgeModel:Su,BaseNode:hr,BaseNodeModel:pr,RectNode:dc,RectNodeModel:oc,CircleNode:yc,CircleNodeModel:Ju,PolygonNode:gc,PolygonNodeModel:rc,TextNode:xc,TextNodeModel:ic,LineEdge:Rc,LineEdgeModel:Au,DiamondNode:mc,DiamondNodeModel:ec,PolylineEdge:zc,PolylineEdgeModel:Mu,BezierEdge:Hc,BezierEdgeModel:qu,EllipseNode:_c,EllipseNodeModel:tc,HtmlNode:jc,HtmlNodeModel:uc,h:K.g,type:i};this.viewMap.forEach(function(k){var I=k.extendKey;I&&(s[I]=k)}),this.graphModel.modelMap.forEach(function(k){var I=k.extendKey;I&&(s[I]=k)});var d=o(s),m=d.view,x=d.model,j=m;u&&!j.isObervered&&(j.isObervered=!0,j=de(j)),this.setView(i,j),this.graphModel.setModel(i,x)}else this.registerElement(i)}},{key:"registerElement",value:function(i){var o=i.view;i.isObserverView===!1||o.isObervered||(o.isObervered=!0,o=de(o)),this.setView(i.type,o),this.graphModel.setModel(i.type,i.model)}},{key:"defaultRegister",value:function(){this.registerElement({view:dc,model:oc,type:"rect"}),this.registerElement({type:"circle",view:yc,model:Ju}),this.registerElement({type:"polygon",view:gc,model:rc}),this.registerElement({type:"line",view:Rc,model:Au}),this.registerElement({type:"polyline",view:zc,model:Mu}),this.registerElement({type:"bezier",view:Hc,model:qu}),this.registerElement({type:"text",view:xc,model:ic}),this.registerElement({type:"ellipse",view:_c,model:tc}),this.registerElement({type:"diamond",view:mc,model:ec}),this.registerElement({type:"html",view:jc,model:uc})}},{key:"selectElementById",value:function(i){var o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.graphModel.selectElementById(i,o),o||this.graphModel.toFront(i)}},{key:"focusOn",value:function(i){var o=this.graphModel.transformModel,u=i.coordinate,s=i.id;if(!u){var d=this.getNodeModelById(s);d&&(u=d.getData());var m=this.getEdgeModelById(s);m&&(u=m.textPosition)}var x=u,j=x.x,k=x.y;o.focusOn(j,k,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(i){this.graphModel.setTheme(i)}},{key:"resize",value:function(i,o){this.options.width=i!=null?i:this.options.width,this.options.height=o!=null?o:this.options.height,this.graphModel.resize(i,o)}},{key:"setDefaultEdgeType",value:function(i){this.graphModel.setDefaultEdgeType(i)}},{key:"updateText",value:function(i,o){this.graphModel.updateText(i,o)}},{key:"deleteElement",value:function(i){var o,u,s,d=this.getModelById(i);return!!d&&(u=(s=(Dt(o={},Bt.NODE,this.deleteNode),Dt(o,Bt.EDGE,this.deleteEdge),o)[d.BaseType])===null||s===void 0?void 0:s.call(this,i))!==null&&u!==void 0&&u}},{key:"getModelById",value:function(i){return this.graphModel.getElement(i)}},{key:"getDataById",value:function(i){return this.graphModel.getElement(i).getData()}},{key:"changeNodeType",value:function(i,o){this.graphModel.changeNodeType(i,o)}},{key:"changeEdgeType",value:function(i,o){this.graphModel.changeEdgeType(i,o)}},{key:"getNodeEdges",value:function(i){return this.graphModel.getNodeEdges(i)}},{key:"addNode",value:function(i){return this.graphModel.addNode(i)}},{key:"deleteNode",value:function(i){var o=this.graphModel.getNodeModelById(i);if(!o)return!1;var u=o.getData(),s=this.options.guards,d=!s||!s.beforeDelete||s.beforeDelete(u);return d&&this.graphModel.deleteNode(i),d}},{key:"cloneNode",value:function(i){var o=this.graphModel.getNodeModelById(i).getData(),u=this.options.guards;if(!u||!u.beforeClone||u.beforeClone(o))return this.graphModel.cloneNode(i)}},{key:"changeNodeId",value:function(i,o){return this.graphModel.changeNodeId(i,o)}},{key:"getNodeModelById",value:function(i){return this.graphModel.getNodeModelById(i)}},{key:"getNodeDataById",value:function(i){return this.graphModel.getNodeModelById(i).getData()}},{key:"addEdge",value:function(i){return this.graphModel.addEdge(i)}},{key:"deleteEdge",value:function(i){var o=this.options.guards,u=this.graphModel.edgesMap[i];if(!u)return!1;var s=u.model.getData(),d=!o||!o.beforeDelete||o.beforeDelete(s);return d&&this.graphModel.deleteEdgeById(i),d}},{key:"deleteEdgeByNodeId",value:function(i){var o=i.sourceNodeId,u=i.targetNodeId;o&&u?this.graphModel.deleteEdgeBySourceAndTarget(o,u):o?this.graphModel.deleteEdgeBySource(o):u&&this.graphModel.deleteEdgeByTarget(u)}},{key:"changeEdgeId",value:function(i,o){return this.graphModel.changeEdgeId(i,o)}},{key:"getEdgeModelById",value:function(i){var o;return(o=this.graphModel.edgesMap[i])===null||o===void 0?void 0:o.model}},{key:"getEdgeModels",value:function(i){var o=this.graphModel.edges,u=i.sourceNodeId,s=i.targetNodeId;if(u&&s){var d=[];return o.forEach(function(j){j.sourceNodeId===u&&j.targetNodeId===s&&d.push(j)}),d}if(u){var m=[];return o.forEach(function(j){j.sourceNodeId===u&&m.push(j)}),m}if(s){var x=[];return o.forEach(function(j){j.targetNodeId===s&&x.push(j)}),x}return[]}},{key:"getEdgeDataById",value:function(i){var o;return(o=this.getEdgeModelById(i))===null||o===void 0?void 0:o.getData()}},{key:"getNodeIncomingEdge",value:function(i){return this.graphModel.getNodeIncomingEdge(i)}},{key:"getNodeOutgoingEdge",value:function(i){return this.graphModel.getNodeOutgoingEdge(i)}},{key:"getNodeIncomingNode",value:function(i){return this.graphModel.getNodeIncomingNode(i)}},{key:"getNodeOutgoingNode",value:function(i){return this.graphModel.getNodeOutgoingNode(i)}},{key:"editText",value:function(i){this.graphModel.editText(i)}},{key:"setProperties",value:function(i,o){var u;(u=this.graphModel.getElement(i))===null||u===void 0||u.setProperties(Yn(o))}},{key:"getProperties",value:function(i){var o;return(o=this.graphModel.getElement(i))===null||o===void 0?void 0:o.getProperties()}},{key:"toFront",value:function(i){this.graphModel.toFront(i)}},{key:"setElementZIndex",value:function(i,o){return this.graphModel.setElementZIndex(i,o)}},{key:"addElements",value:function(i){for(var o=this,u=i.nodes,s=i.edges,d={},m={nodes:[],edges:[]},x=0;x<u.length;x++){var j=u[x],k=j.id,I=this.addNode(j);if(!I)return;k&&(d[k]=I.id),m.nodes.push(I)}return s.forEach(function(W){var $=W.sourceNodeId,oe=W.targetNodeId;d[$]&&(W.sourceNodeId=d[$]),d[oe]&&(W.targetNodeId=d[oe]);var re=o.graphModel.addEdge(W);m.edges.push(re)}),m}},{key:"getAreaElement",value:function(i,o){var u=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],s=!(arguments.length>3&&arguments[3]!==void 0)||arguments[3];return this.graphModel.getAreaElement(i,o,u,s).map(function(d){return d.getData()})}},{key:"getSelectElements",value:function(){var i=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];return this.graphModel.getSelectElements(i)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var i=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(i):i}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(i){this.graphModel.editConfigModel.updateEditConfig(i)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(i,o){return this.graphModel.getPointByClient({x:i,y:o})}},{key:"undo",value:function(){if(this.history.undoAble()){var i=Yn(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"redo",value:function(){if(this.history.redoAble()){var i=Yn(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(i)}}},{key:"zoom",value:function(i,o){return this.graphModel.transformModel.zoom(i,o)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(i){this.graphModel.transformModel.setZoomMiniSize(i)}},{key:"setZoomMaxSize",value:function(i){this.graphModel.transformModel.setZoomMaxSize(i)}},{key:"getTransform",value:function(){var i=this.graphModel.transformModel;return{SCALE_X:i.SCALE_X,SCALE_Y:i.SCALE_Y,TRANSLATE_X:i.TRANSLATE_X,TRANSLATE_Y:i.TRANSLATE_Y}}},{key:"translate",value:function(i,o){this.graphModel.transformModel.translate(i,o)}},{key:"resetTranslate",value:function(){var i=this.graphModel.transformModel,o=i.TRANSLATE_X,u=i.TRANSLATE_Y;this.translate(-o,-u)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(i){this.graphModel.fitView(i)}},{key:"on",value:function(i,o){this.graphModel.eventCenter.on(i,o)}},{key:"off",value:function(i,o){this.graphModel.eventCenter.off(i,o)}},{key:"once",value:function(i,o){this.graphModel.eventCenter.once(i,o)}},{key:"emit",value:function(i,o){this.graphModel.eventCenter.emit(i,o)}},{key:"installPlugins",value:function(){var i,o=this,u=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],s=(i=this.plugins)!==null&&i!==void 0?i:e.extensions;s.forEach(function(d){var m=d.pluginName||d.name;u.indexOf(m)===-1&&o.installPlugin(d)})}},{key:"installPlugin",value:function(i){if(Fy(i)==="object"){var o=i.install,u=i.render;return o&&o.call(i,this,e),u&&this.components.push(u.bind(i)),void(this.extension[i.pluginName]=i)}var s=i,d=new s({lf:this,LogicFlow:e});d.render&&this.components.push(d.render.bind(d)),this.extension[s.pluginName]=d}},{key:"updateAttributes",value:function(i,o){this.graphModel.updateAttributes(i,o)}},{key:"createFakerNode",value:function(i){var o=this.graphModel.modelMap.get(i.type);if(o){var u=new o(Zc(Zc({},i),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(u),u}console.warn("\u4E0D\u5B58\u5728\u4E3A".concat(i.type,"\u7C7B\u578B\u7684\u8282\u70B9"))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(i){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(i)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(i,o){this.viewMap.set(i,o)}},{key:"render",value:function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.adapterIn&&(i=this.adapterIn(i)),this.graphModel.graphDataToModel(Yn(i)),this.options.isSilentMode||this.options.history===!1||this.history.watch(this.graphModel),Object(K.j)(Object(K.g)(Am,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(Qe.GRAPH_RENDERED,this.graphModel.modelToGraphData())}}])&&Gy(t.prototype,n),r&&Gy(t,r),e}();function In(e){return de(e)}Dt(qc,"extensions",new Map),f.default=qc}])})})(Fe,Fe.exports);var Po=F_(Fe.exports);function ow(y,h){return h={exports:{}},y(h,h.exports),h.exports}var iw=ow(function(y){var h=y.exports=function(c,f){if(f||(f=16),c===void 0&&(c=128),c<=0)return"0";for(var a=Math.log(Math.pow(2,c))/Math.log(f),p=2;a===1/0;p*=2)a=Math.log(Math.pow(2,c/p))/Math.log(f)*p;for(var l=a-Math.floor(a),b="",p=0;p<Math.floor(a);p++){var O=Math.floor(Math.random()*f).toString(f);b=O+b}if(l){var w=Math.pow(f,l),O=Math.floor(Math.random()*w).toString(f);b=O+b}var _=parseInt(b,f);return _!==1/0&&_>=Math.pow(2,c)?h(c,f):b};h.rack=function(c,f,a){var p=function(b){var O=0;do{if(O++>10)if(a)c+=a;else throw new Error("too many ID collisions, use more bits");var w=h(c,f)}while(Object.hasOwnProperty.call(l,w));return l[w]=b,w},l=p.hats={};return p.get=function(b){return p.hats[b]},p.set=function(b,O){return p.hats[b]=O,p},p.bits=c||128,p.base=f||16,p}});function tr(y){if(!(this instanceof tr))return new tr(y);y=y||[128,36,1],this._seed=y.length?iw.rack(y[0],y[1],y[2]):y}tr.prototype.next=function(y){return this._seed(y||!0)};tr.prototype.nextPrefixed=function(y,h){var c;do c=y+this.next(!0);while(this.assigned(c));return this.claim(c,h),c};tr.prototype.claim=function(y,h){this._seed.set(y,h||!0)};tr.prototype.assigned=function(y){return this._seed.get(y)||!1};tr.prototype.unclaim=function(y){delete this._seed.hats[y]};tr.prototype.clear=function(){var y=this._seed.hats,h;for(h in y)this.unclaim(h)};var aw=new tr([32,32,1]);function To(){return aw.next()}var wv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),uw=function(y){wv(h,y);function h(c,f){var a=this;return c.id||(c.id="Event_"+To()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=y.call(this,c,f)||this,a}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedTargetRules=function(){var c=y.prototype.getConnectedTargetRules.call(this),f={message:"\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9",validate:function(){return!1}};return c.push(f),c},h.extendKey="StartEventModel",h}(Fe.exports.CircleNodeModel),cw=function(y){wv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.extendKey="StartEventNode",h}(Fe.exports.CircleNode),sw={type:"bpmn:startEvent",view:cw,model:uw},xv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Ha=globalThis&&globalThis.__assign||function(){return Ha=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},Ha.apply(this,arguments)},lw=function(y){xv(h,y);function h(c,f){var a=this;return c.id||(c.id="Event_"+To()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=y.call(this,c,f)||this,a}return h.prototype.setAttributes=function(){this.r=18},h.prototype.getConnectedSourceRules=function(){var c=y.prototype.getConnectedSourceRules.call(this),f={message:"\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9",validate:function(){return!1}};return c.push(f),c},h.extendKey="EndEventModel",h}(Fe.exports.CircleNodeModel),fw=function(y){xv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getAnchorStyle=function(){return{visibility:"hidden"}},h.prototype.getShape=function(){var c=this.props.model,f=c.getNodeStyle(),a=c.x,p=c.y,l=c.r,b=y.prototype.getShape.call(this);return Fe.exports.h("g",{},b,Fe.exports.h("circle",Ha(Ha({},f),{cx:a,cy:p,r:l-5})))},h.extendKey="EndEventView",h}(Fe.exports.CircleNode),pw={type:"bpmn:endEvent",view:fw,model:lw},Ev=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),wi=globalThis&&globalThis.__assign||function(){return wi=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},wi.apply(this,arguments)},dw=function(y){Ev(h,y);function h(c,f){var a=this;return c.id||(c.id="Gateway_"+To()),c.text||(c.text=""),c.text&&typeof c.text=="string"&&(c.text={value:c.text,x:c.x,y:c.y+40}),a=y.call(this,c,f)||this,a.points=[[25,0],[50,25],[25,50],[0,25]],a}return h.extendKey="ExclusiveGatewayModel",h}(Fe.exports.PolygonNodeModel),hw=function(y){Ev(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getShape=function(){var c=this.props.model,f=c.x,a=c.y,p=c.width,l=c.height,b=c.points,O=c.getNodeStyle();return Fe.exports.h("g",{transform:"matrix(1 0 0 1 "+(f-p/2)+" "+(a-l/2)+")"},Fe.exports.h("polygon",wi(wi({},O),{x:f,y:a,points:b})),Fe.exports.h("path",wi({d:"m 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z"},O)))},h.extendKey="ExclusiveGatewayNode",h}(Fe.exports.PolygonNode),yw={type:"bpmn:exclusiveGateway",view:hw,model:dw},jv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Ga=globalThis&&globalThis.__assign||function(){return Ga=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},Ga.apply(this,arguments)},vw=function(y){jv(h,y);function h(c,f){var a=this;return c.id||(c.id="Activity_"+To()),a=y.call(this,c,f)||this,a}return h.extendKey="UserTaskModel",h}(Fe.exports.RectNodeModel),gw=function(y){jv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var c=this.props.model,f=c.x,a=c.y,p=c.width,l=c.height,b=c.getNodeStyle();return Fe.exports.h("svg",{x:f-p/2+5,y:a-l/2+5,width:25,height:25,viewBox:"0 0 1274 1024"},Fe.exports.h("path",{fill:b.stroke,d:"M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z"}))},h.prototype.getShape=function(){var c=this.props.model,f=c.x,a=c.y,p=c.width,l=c.height,b=c.radius,O=c.getNodeStyle();return Fe.exports.h("g",{},[Fe.exports.h("rect",Ga(Ga({},O),{x:f-p/2,y:a-l/2,rx:b,ry:b,width:p,height:l})),this.getLabelShape()])},h.extendKey="UserTaskNode",h}(Fe.exports.RectNode),bw={type:"bpmn:userTask",view:gw,model:vw},Sv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),es=globalThis&&globalThis.__assign||function(){return es=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},es.apply(this,arguments)},mw=function(y){Sv(h,y);function h(c,f){var a=this;return c.id||(c.id="Activity_"+To()),a=y.call(this,c,f)||this,a}return h.extendKey="ServiceTaskModel",h}(Fe.exports.RectNodeModel),Ow=function(y){Sv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getLabelShape=function(){var c=this.props.model,f=c.x,a=c.y,p=c.width,l=c.height,b=c.getNodeStyle();return Fe.exports.h("svg",{x:f-p/2+5,y:a-l/2+5,width:30,height:30,viewBox:"0 0 1274 1024"},Fe.exports.h("path",{fill:b.stroke,d:"M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z"}))},h.prototype.getShape=function(){var c=this.props.model,f=c.x,a=c.y,p=c.width,l=c.height,b=c.radius,O=c.getNodeStyle();return Fe.exports.h("g",{},[Fe.exports.h("rect",es({x:f-p/2,y:a-l/2,rx:b,ry:b,width:p,height:l},O)),this.getLabelShape()])},h.extendKey="ServiceTaskNode",h}(Fe.exports.RectNode),_w={type:"bpmn:serviceTask",view:Ow,model:mw},Pv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),ww=function(y){Pv(h,y);function h(c,f){var a=this;return c.id||(c.id="Flow_"+To()),a=y.call(this,c,f)||this,a}return h.extendKey="SequenceFlowModel",h}(Fe.exports.PolylineEdgeModel),xw=function(y){Pv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.extendKey="SequenceFlowEdge",h}(Fe.exports.PolylineEdge),Ew={type:"bpmn:sequenceFlow",view:xw,model:ww},Zy={width:40,height:40},qy={width:40,height:40},$y={width:40,height:40},Jy={width:100,height:80},Qy={width:100,height:80},jw={rect:{radius:5,stroke:"rgb(24, 125, 255)"},circle:{r:18,stroke:"rgb(24, 125, 255)"},polygon:{stroke:"rgb(24, 125, 255)"},polyline:{stroke:"rgb(24, 125, 255)",hoverStroke:"rgb(24, 125, 255)",selectedStroke:"rgb(24, 125, 255)"},edgeText:{background:{fill:"white",height:14,stroke:"transparent",radius:3}}},Sw=function(){function y(h){var c=h.lf;c.setTheme(jw),c.register(sw),c.register(pw),c.register(yw),c.register(bw),c.register(_w),c.options.customBpmnEdge||(c.register(Ew),c.setDefaultEdgeType("bpmn:sequenceFlow"))}return y.pluginName="bpmnElement",y}(),Pw={pluginName:"snapshot",install:function(y){var h=this;this.lf=y,y.getSnapshot=function(c,f){h.offsetX=Number.MAX_SAFE_INTEGER,h.offsetY=Number.MAX_SAFE_INTEGER,h.fileName=c||"logic-flow."+Date.now()+".png";var a=h.getSvgRootElement(y);h.downloadSvg(a,h.fileName,f)},y.getSnapshotBlob=function(c){h.offsetX=Number.MAX_SAFE_INTEGER,h.offsetY=Number.MAX_SAFE_INTEGER;var f=h.getSvgRootElement(y);return h.getBlob(f,c)},y.getSnapshotBase64=function(c){h.offsetX=Number.MAX_SAFE_INTEGER,h.offsetY=Number.MAX_SAFE_INTEGER;var f=h.getSvgRootElement(y);return h.getBase64(f,c)}},getSvgRootElement:function(y){var h=this;y.graphModel.nodes.forEach(function(f){var a=f.x,p=f.width,l=f.y,b=f.height,O=a-p/2,w=l-b/2;O<h.offsetX&&(h.offsetX=O-5),w<h.offsetY&&(h.offsetY=w-5)}),y.graphModel.edges.forEach(function(f){f.pointsList&&f.pointsList.forEach(function(a){var p=a.x,l=a.y;p<h.offsetX&&(h.offsetX=p-5),l<h.offsetY&&(h.offsetY=l-5)})});var c=y.container.querySelector(".lf-canvas-overlay");return c},triggerDownload:function(y){var h=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),c=document.createElement("a");c.setAttribute("download",this.fileName),c.setAttribute("href",y),c.setAttribute("target","_blank"),c.dispatchEvent(h)},removeAnchor:function(y){for(var h=y.childNodes,c=y.childNodes&&y.childNodes.length,f=0;f<c;f++){var a=h[f],p=a.classList&&Array.from(a.classList)||[];p.indexOf("lf-anchor")>-1&&(y.removeChild(y.childNodes[f]),c--,f--)}},downloadSvg:function(y,h,c){var f=this;this.getCanvasData(y,c).then(function(a){var p=a.toDataURL("image/png").replace("image/png","image/octet-stream");f.triggerDownload(p,h)})},getBase64:function(y,h){var c=this;return new Promise(function(f){c.getCanvasData(y,h).then(function(a){var p=a.toDataURL("image/png");f({data:p,width:a.width,height:a.height})})})},getBlob:function(y,h){var c=this;return new Promise(function(f){c.getCanvasData(y,h).then(function(a){a.toBlob(function(p){f({data:p,width:a.width,height:a.height})},"image/png")})})},getClassRules:function(){for(var y="",h=document.styleSheets,c=0;c<h.length;c++)for(var f=h[c],a=0;a<f.cssRules.length;a++)y+=f.cssRules[a].cssText;return y},getCanvasData:function(y,h){var c=this,f=y.cloneNode(!0),a=f.lastChild,p=a.childNodes&&a.childNodes.length;if(p)for(var l=0;l<p;l++){var b=a.childNodes[l],O=b.classList&&Array.from(b.classList);if(O&&O.indexOf("lf-base")<0)a.removeChild(a.childNodes[l]),p--,l--;else{var w=a.childNodes[l];w&&w.childNodes.forEach(function(M){var L=M;c.removeAnchor(L.firstChild)})}}f.lastChild.style.transform="matrix(1, 0, 0, 1, "+(-this.offsetX+10)+", "+(-this.offsetY+10)+")";var _=window.devicePixelRatio||1,S=document.createElement("canvas"),P=document.getElementsByClassName("lf-base")[0],A=P.getBoundingClientRect(),N=this.lf.graphModel,R=N.transformModel,F=R.SCALE_X,U=R.SCALE_Y,z=Math.ceil(A.width/F),Y=Math.ceil(A.height/U);S.style.width=z+"px",S.style.height=Y+"px",S.width=z*_+80,S.height=Y*_+80;var q=S.getContext("2d");q.clearRect(0,0,S.width,S.height),q.scale(_,_),h?(q.fillStyle=h,q.fillRect(0,0,z*_+80,Y*_+80)):q.clearRect(0,0,z,Y);var V=new Image,C=document.createElement("style");C.innerHTML=this.getClassRules();var B=document.createElement("foreignObject");return B.appendChild(C),f.appendChild(B),new Promise(function(M){V.onload=function(){q.drawImage(V,0,0),M(S)};var L="data:image/svg+xml;charset=utf-8,"+new XMLSerializer().serializeToString(f),G=L.replace(/\n/g,"").replace(/\t/g,"").replace(/#/g,"%23");V.src=G})}},Aw=new tr([32,32,1]);function ev(){return Aw.next()}var fn=function(){};fn.ObjTree=function(){return this};fn.ObjTree.VERSION="0.23";fn.ObjTree.prototype.xmlDecl=`<?xml version="1.0" encoding="UTF-8" ?>
`;fn.ObjTree.prototype.attr_prefix="-";fn.ObjTree.prototype.parseXML=function(y){var h;if(window.DOMParser){var c=new DOMParser,f=c.parseFromString(y,"application/xml");if(!f)return;h=f.documentElement}else window.ActiveXObject&&(c=new ActiveXObject("Microsoft.XMLDOM"),c.async=!1,c.loadXML(y),h=c.documentElement);if(!!h)return this.parseDOM(h)};fn.ObjTree.prototype.parseHTTP=function(y,h,c){var f={};for(var a in h)f[a]=h[a];if(f.method||(typeof f.postBody=="undefined"&&typeof f.postbody=="undefined"&&typeof f.parameters=="undefined"?f.method="get":f.method="post"),c){f.asynchronous=!0;var p=this,l=c,b=f.onComplete;f.onComplete=function(_){var S;_&&_.responseXML&&_.responseXML.documentElement&&(S=p.parseDOM(_.responseXML.documentElement)),l(S,_),b&&b(_)}}else f.asynchronous=!1;var O;if(typeof HTTP!="undefined"&&HTTP.Request){f.uri=y;var w=new HTTP.Request(f);w&&(O=w.transport)}else if(typeof Ajax!="undefined"&&Ajax.Request){var w=new Ajax.Request(y,f);w&&(O=w.transport)}if(c)return O;if(O&&O.responseXML&&O.responseXML.documentElement)return this.parseDOM(O.responseXML.documentElement)};fn.ObjTree.prototype.parseDOM=function(y){if(!!y){if(this.__force_array={},this.force_array)for(var h=0;h<this.force_array.length;h++)this.__force_array[this.force_array[h]]=1;var c=this.parseElement(y);if(this.__force_array[y.nodeName]&&(c=[c]),y.nodeType!=11){var f={};f[y.nodeName]=c,c=f}return c}};fn.ObjTree.prototype.parseElement=function(y){if(y.nodeType!=7){if(y.nodeType==3||y.nodeType==4){var h=y.nodeValue.match(/[^\x00-\x20]/);return h==null?void 0:y.nodeValue}var c,f={};if(y.attributes&&y.attributes.length){c={};for(var a=0;a<y.attributes.length;a++){var p=y.attributes[a].nodeName;if(typeof p=="string"){var l=y.attributes[a].nodeValue;!l||(p=this.attr_prefix+p,typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(c,p,f[p],l))}}}if(y.childNodes&&y.childNodes.length){var b=!0;c&&(b=!1);for(var a=0;a<y.childNodes.length&&b;a++){var O=y.childNodes[a].nodeType;O==3||O==4||(b=!1)}if(b){c||(c="");for(var a=0;a<y.childNodes.length;a++)c+=y.childNodes[a].nodeValue}else{c||(c={});for(var a=0;a<y.childNodes.length;a++){var p=y.childNodes[a].nodeName;if(typeof p=="string"){var l=this.parseElement(y.childNodes[a]);!l||(typeof f[p]=="undefined"&&(f[p]=0),f[p]++,this.addNode(c,p,f[p],l))}}}}return c}};fn.ObjTree.prototype.addNode=function(y,h,c,f){this.__force_array[h]?(c==1&&(y[h]=[]),y[h][y[h].length]=f):c==1?y[h]=f:c==2?y[h]=[y[h],f]:y[h][y[h].length]=f};fn.ObjTree.prototype.writeXML=function(y){var h=this.hash_to_xml(null,y);return this.xmlDecl+h};fn.ObjTree.prototype.hash_to_xml=function(y,h){var c=[],f=[];for(var a in h)if(!!h.hasOwnProperty(a)){var p=h[a];a.charAt(0)!=this.attr_prefix?typeof p=="undefined"||p==null?c[c.length]="<"+a+" />":typeof p=="object"&&p.constructor==Array?c[c.length]=this.array_to_xml(a,p):typeof p=="object"?c[c.length]=this.hash_to_xml(a,p):c[c.length]=this.scalar_to_xml(a,p):f[f.length]=" "+a.substring(1)+'="'+this.xml_escape(p)+'"'}var l=f.join(""),b=c.join("");return typeof y=="undefined"||y==null||(c.length>0?b.match(/\n/)?b="<"+y+l+`>
`+b+"</"+y+`>
`:b="<"+y+l+">"+b+"</"+y+`>
`:b="<"+y+l+` />
`),b};fn.ObjTree.prototype.array_to_xml=function(y,h){for(var c=[],f=0;f<h.length;f++){var a=h[f];typeof a=="undefined"||a==null?c[c.length]="<"+y+" />":typeof a=="object"&&a.constructor==Array?c[c.length]=this.array_to_xml(y,a):typeof a=="object"?c[c.length]=this.hash_to_xml(y,a):c[c.length]=this.scalar_to_xml(y,a)}return c.join("")};fn.ObjTree.prototype.scalar_to_xml=function(y,h){return y=="#text"?this.xml_escape(h):"<"+y+">"+this.xml_escape(h)+"</"+y+`>
`};fn.ObjTree.prototype.xml_escape=function(y){return y.replace(/&/g,"&").replace(/</g,"<").replace(/>/g,">").replace(/"/g,'"')};var Wa=globalThis&&globalThis.__read||function(y,h){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),a,p=[],l;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){l={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}return p},nr;(function(y){y.START="bpmn:startEvent",y.END="bpmn:endEvent",y.GATEWAY="bpmn:exclusiveGateway",y.USER="bpmn:userTask",y.SYSTEM="bpmn:serviceTask",y.FLOW="bpmn:sequenceFlow"})(nr||(nr={}));var Av=["-name","-id","bpmn:incoming","bpmn:outgoing","-sourceRef","-targetRef"];function ts(y){var h={};return Object.entries(y).forEach(function(c){var f=Wa(c,2),a=f[0],p=f[1];typeof p!="object"?a.indexOf("-")===0?h[a]=p:h["-"+a]=p:h[a]=ts(p)}),h}function as(y){var h={};return Object.entries(y).forEach(function(c){var f=Wa(c,2),a=f[0],p=f[1];typeof p=="string"?a.indexOf("-")===0?h[a.substr(1)]=p:h[a]=p:typeof p=="object"?h[a]=as(p):h[a]=p}),h}function kw(y,h){var c=new Map;h.nodes.forEach(function(a){var p,l={"-id":a.id};if(!((p=a.text)===null||p===void 0)&&p.value&&(l["-name"]=a.text.value),a.properties){var b=ts(a.properties);Object.assign(l,b)}c.set(a.id,l),y[a.type]?Array.isArray(y[a.type])?y[a.type].push(l):y[a.type]=[y[a.type],l]:y[a.type]=l});var f=h.edges.map(function(a){var p,l,b=c.get(a.targetNodeId);b["bpmn:incoming"]?Array.isArray(b["bpmn:incoming"])?b["bpmn:incoming"].push(a.id):b["bpmn:incoming"]=[b["bpmn:incoming"],a.id]:b["bpmn:incoming"]=a.id;var O=c.get(a.sourceNodeId);O["bpmn:outgoing"]?Array.isArray(O["bpmn:outgoing"])?O["bpmn:outgoing"].push(a.id):O["bpmn:outgoing"]=[O["bpmn:outgoing"],a.id]:O["bpmn:outgoing"]=a.id;var w={"-id":a.id,"-sourceRef":a.sourceNodeId,"-targetRef":a.targetNodeId};if(!((p=a.text)===null||p===void 0)&&p.value&&(w["-name"]=(l=a.text)===null||l===void 0?void 0:l.value),a.properties){var _=ts(a.properties);Object.assign(w,_)}return w});y[nr.FLOW]=f}function Mw(y,h){y["bpmndi:BPMNEdge"]=h.edges.map(function(c){var f,a=c.id,p=c.pointsList.map(function(b){var O=b.x,w=b.y;return{"-x":O,"-y":w}}),l={"-id":a+"_di","-bpmnElement":a,"di:waypoint":p};return!((f=c.text)===null||f===void 0)&&f.value&&(l["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),l}),y["bpmndi:BPMNShape"]=h.nodes.map(function(c){var f,a=c.id,p=100,l=80,b=c.x,O=c.y,w=ro.shapeConfigMap.get(c.type);w&&(p=w.width,l=w.height),b-=p/2,O-=l/2;var _={"-id":a+"_di","-bpmnElement":a,"dc:Bounds":{"-x":b,"-y":O,"-width":p,"-height":l}};return!((f=c.text)===null||f===void 0)&&f.value&&(_["bpmndi:BPMNLabel"]={"dc:Bounds":{"-x":c.text.x-c.text.value.length*10/2,"-y":c.text.y-7,"-width":c.text.value.length*10,"-height":14}}),_})}function Tw(y){var h=[],c=[],f=y["bpmn:definitions"];if(f){var a=f["bpmn:process"];Object.keys(a).forEach(function(p){if(p.indexOf("bpmn:")===0){var l=a[p];if(p===nr.FLOW){var b=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNEdge"];c=Nw(l,b)}else{var O=f["bpmndi:BPMNDiagram"]["bpmndi:BPMNPlane"]["bpmndi:BPMNShape"];h=h.concat(Dw(l,O,p))}}})}return{nodes:h,edges:c}}function Dw(y,h,c){var f=[];if(Array.isArray(y))y.forEach(function(l){var b;Array.isArray(h)?b=h.find(function(w){return w["-bpmnElement"]===l["-id"]}):b=h;var O=tv(b,c,l);f.push(O)});else{var a=void 0;Array.isArray(h)?a=h.find(function(l){return l["-bpmnElement"]===y["-id"]}):a=h;var p=tv(a,c,y);f.push(p)}return f}function tv(y,h,c){var f=Number(y["dc:Bounds"]["-x"]),a=Number(y["dc:Bounds"]["-y"]),p=c["-name"],l=ro.shapeConfigMap.get(h);l&&(f+=l.width/2,a+=l.height/2);var b;Object.entries(c).forEach(function(S){var P=Wa(S,2),A=P[0],N=P[1];Av.indexOf(A)===-1&&(b||(b={}),b[A]=N)}),b&&(b=as(b));var O;if(p&&(O={x:f,y:a,value:p},y["bpmndi:BPMNLabel"]&&y["bpmndi:BPMNLabel"]["dc:Bounds"])){var w=y["bpmndi:BPMNLabel"]["dc:Bounds"];O.x=Number(w["-x"])+Number(w["-width"])/2,O.y=Number(w["-y"])+Number(w["-height"])/2}var _={id:y["-bpmnElement"],type:h,x:f,y:a,properties:b};return O&&(_.text=O),_}function Nw(y,h){var c=[];if(Array.isArray(y))y.forEach(function(a){var p;Array.isArray(h)?p=h.find(function(l){return l["-bpmnElement"]===a["-id"]}):p=h,c.push(nv(p,a))});else{var f=void 0;Array.isArray(h)?f=h.find(function(a){return a["-bpmnElement"]===y["-id"]}):f=h,c.push(nv(f,y))}return c}function nv(y,h){var c,f=h["-name"];if(f){var a=y["bpmndi:BPMNLabel"]["dc:Bounds"],p=0;f.split(`
`).forEach(function(O){p<O.length&&(p=O.length)}),c={value:f,x:Number(a["-x"])+p*10/2,y:Number(a["-y"])+7}}var l;Object.entries(h).forEach(function(O){var w=Wa(O,2),_=w[0],S=w[1];Av.indexOf(_)===-1&&(l||(l={}),l[_]=S)}),l&&(l=as(l));var b={id:h["-id"],type:nr.FLOW,pointsList:y["di:waypoint"].map(function(O){return{x:Number(O["-x"]),y:Number(O["-y"])}}),sourceNodeId:h["-sourceRef"],targetNodeId:h["-targetRef"],properties:l};return c&&(b.text=c),b}var ro={pluginName:"bpmn-adapter",install:function(y){y.adapterIn=this.adapterIn,y.adapterOut=this.adapterOut},shapeConfigMap:new Map,setCustomShape:function(y,h){this.shapeConfigMap.set(y,h)},adapterOut:function(y){var h={"-id":"Process_"+ev(),"-isExecutable":"false"};kw(h,y);var c={"-id":"BPMNPlane_1","-bpmnElement":h["-id"]};Mw(c,y);var f={"bpmn:definitions":{"-id":"Definitions_"+ev(),"-xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","-xmlns:bpmn":"http://www.omg.org/spec/BPMN/20100524/MODEL","-xmlns:bpmndi":"http://www.omg.org/spec/BPMN/20100524/DI","-xmlns:dc":"http://www.omg.org/spec/DD/20100524/DC","-xmlns:di":"http://www.omg.org/spec/DD/20100524/DI","-targetNamespace":"http://bpmn.io/schema/bpmn","-exporter":"bpmn-js (https://demo.bpmn.io)","-exporterVersion":"7.3.0","bpmn:process":h,"bpmndi:BPMNDiagram":{"-id":"BPMNDiagram_1","bpmndi:BPMNPlane":c}}};return f},adapterIn:function(y){if(y)return Tw(y)}};ro.shapeConfigMap.set(nr.START,{width:Zy.width,height:Zy.height});ro.shapeConfigMap.set(nr.END,{width:qy.width,height:qy.height});ro.shapeConfigMap.set(nr.GATEWAY,{width:$y.width,height:$y.height});ro.shapeConfigMap.set(nr.SYSTEM,{width:Jy.width,height:Jy.height});ro.shapeConfigMap.set(nr.USER,{width:Qy.width,height:Qy.height});var rv=globalThis&&globalThis.__assign||function(){return rv=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},rv.apply(this,arguments)},ov;(function(y){y[y.SEQUENCE_FLOW=1]="SEQUENCE_FLOW",y[y.START_EVENT=2]="START_EVENT",y[y.END_EVENT=3]="END_EVENT",y[y.USER_TASK=4]="USER_TASK",y[y.EXCLUSIVE_GATEWAY=6]="EXCLUSIVE_GATEWAY"})(ov||(ov={}));var iv;(function(y){y.HORIZONTAL="horizontal",y.VERTICAL="vertical"})(iv||(iv={}));var Cw=globalThis&&globalThis.__read||function(y,h){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),a,p=[],l;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){l={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}return p};globalThis&&globalThis.__spread;var Rw=globalThis&&globalThis.__read||function(y,h){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),a,p=[],l;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){l={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}return p};globalThis&&globalThis.__spread;var Iw=globalThis&&globalThis.__read||function(y,h){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),a,p=[],l;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){l={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}return p},Lw=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(Iw(arguments[h]));return y},gi="lf:defaultNodeMenu",bi="lf:defaultEdgeMenu",mi="lf:defaultGraphMenu",av="lf:defaultSelectionMenu",zw=function(){function y(h){var c=this,f=h.lf;this.__menuDOM=document.createElement("ul"),this.lf=f,this.menuTypeMap=new Map,this.init(),this.lf.setMenuConfig=function(a){c.setMenuConfig(a)},this.lf.addMenuConfig=function(a){c.addMenuConfig(a)},this.lf.setMenuByType=function(a){c.setMenuByType(a)}}return y.prototype.init=function(){var h=this,c=[{text:"\u5220\u9664",callback:function(p){h.lf.deleteNode(p.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(p){h.lf.graphModel.editText(p.id)}},{text:"\u590D\u5236",callback:function(p){h.lf.cloneNode(p.id)}}];this.menuTypeMap.set(gi,c);var f=[{text:"\u5220\u9664",callback:function(p){h.lf.deleteEdge(p.id)}},{text:"\u7F16\u8F91\u6587\u672C",callback:function(p){h.lf.graphModel.editText(p.id)}}];this.menuTypeMap.set(bi,f),this.menuTypeMap.set(mi,[]);var a=[{text:"\u5220\u9664",callback:function(p){h.lf.clearSelectElements(),p.edges.forEach(function(l){return h.lf.deleteEdge(l.id)}),p.nodes.forEach(function(l){return h.lf.deleteNode(l.id)})}}];this.menuTypeMap.set(av,a)},y.prototype.render=function(h,c){var f=this;this.__container=c,this.__currentData=null,this.__menuDOM.className="lf-menu",c.appendChild(this.__menuDOM),this.__menuDOM.addEventListener("click",function(a){a.stopPropagation();for(var p=a.target;Array.from(p.classList).indexOf("lf-menu-item")===-1&&Array.from(p.classList).indexOf("lf-menu")===-1;)p=p.parentElement;Array.from(p.classList).indexOf("lf-menu-item")>-1?(p.onclickCallback(f.__currentData),f.__menuDOM.style.display="none",f.__currentData=null):console.warn("\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01")},!0),this.lf.on("node:contextmenu",function(a){var p=a.data,l=a.position,b=l.domOverlayPosition,O=b.x,w=b.y,_=p.id,S=f.lf.graphModel.getNodeModelById(_),P=[],A=f.menuTypeMap.get(S.type);S&&S.menu&&Array.isArray(S.menu)?P=S.menu:A?P=A:P=f.menuTypeMap.get(gi),f.__currentData=p,f.showMenu(O,w,P)}),this.lf.on("edge:contextmenu",function(a){var p=a.data,l=a.position,b=l.domOverlayPosition,O=b.x,w=b.y,_=p.id,S=f.lf.graphModel.getEdgeModelById(_),P=[],A=f.menuTypeMap.get(S.type);S&&S.menu&&Array.isArray(S.menu)?P=S.menu:A?P=A:P=f.menuTypeMap.get(bi),f.__currentData=p,f.showMenu(O,w,P)}),this.lf.on("blank:contextmenu",function(a){var p=a.position,l=f.menuTypeMap.get(mi),b=p.domOverlayPosition,O=b.x,w=b.y;f.showMenu(O,w,l)}),this.lf.on("selection:contextmenu",function(a){var p=a.data,l=a.position,b=f.menuTypeMap.get(av),O=l.domOverlayPosition,w=O.x,_=O.y;f.__currentData=p,f.showMenu(w,_,b)}),this.lf.on("node:mousedown",function(){f.__menuDOM.style.display="none"}),this.lf.on("edge:click",function(){f.__menuDOM.style.display="none"}),this.lf.on("blank:click",function(){f.__menuDOM.style.display="none"})},y.prototype.destroy=function(){var h;(h=this===null||this===void 0?void 0:this.__container)===null||h===void 0||h.removeChild(this.__menuDOM),this.__menuDOM=null},y.prototype.showMenu=function(h,c,f){if(!(!f||!f.length)){var a=this.__menuDOM;a.innerHTML="",a.append.apply(a,Lw(this.__getMenuDom(f))),a.children.length&&(a.style.display="block",a.style.top=c+"px",a.style.left=h+"px")}},y.prototype.setMenuByType=function(h){!h.type||!h.menu||this.menuTypeMap.set(h.type,h.menu)},y.prototype.__getMenuDom=function(h){var c=[];return h&&h.length>0&&h.forEach(function(f){var a=document.createElement("li");if(f.className?a.className="lf-menu-item "+f.className:a.className="lf-menu-item",f.icon===!0){var p=document.createElement("span");p.className="lf-menu-item-icon",a.appendChild(p)}var l=document.createElement("span");l.className="lf-menu-item-text",f.text&&(l.innerText=f.text),a.appendChild(l),a.onclickCallback=f.callback,c.push(a)}),c},y.prototype.setMenuConfig=function(h){!h||(h.nodeMenu!==void 0&&this.menuTypeMap.set(gi,h.nodeMenu?h.nodeMenu:[]),h.edgeMenu!==void 0&&this.menuTypeMap.set(bi,h.edgeMenu?h.edgeMenu:[]),h.graphMenu!==void 0&&this.menuTypeMap.set(mi,h.graphMenu?h.graphMenu:[]))},y.prototype.addMenuConfig=function(h){if(!!h){if(Array.isArray(h.nodeMenu)){var c=this.menuTypeMap.get(gi);this.menuTypeMap.set(gi,c.concat(h.nodeMenu))}if(Array.isArray(h.edgeMenu)){var c=this.menuTypeMap.get(bi);this.menuTypeMap.set(bi,c.concat(h.edgeMenu))}if(Array.isArray(h.graphMenu)){var c=this.menuTypeMap.get(mi);this.menuTypeMap.set(mi,c.concat(h.graphMenu))}}},y.prototype.changeMenuItem=function(h,c){if(h==="add")this.addMenuConfig(c);else if(h==="reset")this.setMenuConfig(c);else throw new Error("The first parameter of changeMenuConfig should be 'add' or 'reset'")},y.pluginName="menu",y}();globalThis&&globalThis.__read;var Bw=function(){function y(h){var c=this,f=h.lf;this.lf=f,this.lf.setPatternItems=function(a){c.setPatternItems(a)}}return y.prototype.render=function(h,c){var f=this;if(this.destroy(),!this.shapeList||this.shapeList.length===0){this.domContainer=c;return}this.panelEl=document.createElement("div"),this.panelEl.className="lf-dndpanel",this.shapeList.forEach(function(a){f.panelEl.appendChild(f.createDndItem(a))}),c.appendChild(this.panelEl),this.domContainer=c},y.prototype.destroy=function(){this.domContainer&&this.panelEl&&this.domContainer.contains(this.panelEl)&&this.domContainer.removeChild(this.panelEl)},y.prototype.setPatternItems=function(h){this.shapeList=h,this.domContainer&&this.render(this.lf,this.domContainer)},y.prototype.createDndItem=function(h){var c=this,f=document.createElement("div");f.className=h.className?"lf-dnd-item "+h.className:"lf-dnd-item";var a=document.createElement("div");if(a.className="lf-dnd-shape",h.icon&&(a.style.backgroundImage="url("+h.icon+")"),f.appendChild(a),h.label){var p=document.createElement("div");p.innerText=h.label,p.className="lf-dnd-text",f.appendChild(p)}return f.onmousedown=function(){h.type&&c.lf.dnd.startDrag({type:h.type,properties:h.properties,text:h.text}),h.callback&&h.callback(c.lf,c.domContainer)},f},y.pluginName="dndPanel",y}(),Fw=function(){function y(h){var c=this,f=h.lf;this.__disabled=!1,this.isDefalutStopMoveGraph=!1,this.isWholeNode=!0,this.isWholeEdge=!0,this.__draw=function(p){var l=c.lf.getPointByClient(p.clientX,p.clientY).domOverlayPosition,b=l.x,O=l.y;c.endPoint={x:b,y:O};var w=c.startPoint,_=w.x,S=w.y,P=c.wrapper.style,A=_,N=S,R=b-_,F=O-S;b<_&&(A=b,R=_-b),O<S&&(N=O,F=S-O),P.left=A+"px",P.top=N+"px",P.width=R+"px",P.height=F+"px"},this.__drawOff=function(){document.removeEventListener("mousemove",c.__draw),document.removeEventListener("mouseup",c.__drawOff),c.__domContainer.removeChild(c.wrapper);var p=c.startPoint,l=p.x,b=p.y,O=c.endPoint,w=O.x,_=O.y;if(!(Math.abs(w-l)<10&&Math.abs(_-b)<10)){var S=[Math.min(l,w),Math.min(b,_)],P=[Math.max(l,w),Math.max(b,_)],A=c.lf.getAreaElement(S,P,c.isWholeEdge,c.isWholeNode);A.forEach(function(N){c.lf.selectElementById(N.id,!0)}),c.lf.emit("selection:selected",A)}},this.lf=f;var a=f.getEditConfig().stopMoveGraph;this.isDefalutStopMoveGraph=a,f.openSelectionSelect=function(){c.openSelectionSelect()},f.closeSelectionSelect=function(){c.closeSelectionSelect()}}return y.prototype.render=function(h,c){var f=this;this.__domContainer=c,h.on("blank:mousedown",function(a){var p=a.e,l=h.getEditConfig();if(!(!l.stopMoveGraph||f.__disabled)){var b=h.getPointByClient(p.clientX,p.clientY).domOverlayPosition,O=b.x,w=b.y;f.startPoint={x:O,y:w},f.endPoint={x:O,y:w};var _=document.createElement("div");_.className="lf-selection-select",_.style.top=f.startPoint.y+"px",_.style.left=f.startPoint.x+"px",c.appendChild(_),f.wrapper=_,document.addEventListener("mousemove",f.__draw),document.addEventListener("mouseup",f.__drawOff)}})},y.prototype.setSelectionSense=function(h,c){h===void 0&&(h=!0),c===void 0&&(c=!0),this.isWholeEdge=h,this.isWholeNode=c},y.prototype.openSelectionSelect=function(){var h=this.lf.getEditConfig().stopMoveGraph;h||(this.isDefalutStopMoveGraph=!1,this.lf.updateEditConfig({stopMoveGraph:!0})),this.open()},y.prototype.closeSelectionSelect=function(){this.isDefalutStopMoveGraph||this.lf.updateEditConfig({stopMoveGraph:!1}),this.close()},y.prototype.open=function(){this.__disabled=!1},y.prototype.close=function(){this.__disabled=!0},y.pluginName="selectionSelect",y}();globalThis&&globalThis.__values;var kv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Oi=globalThis&&globalThis.__read||function(y,h){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),a,p=[],l;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){l={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}return p};(function(y){kv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getEdge=function(){for(var c=this.props.model.getEdgeStyle(),f=c.strokeWidth,a=c.stroke,p=c.strokeDashArray,l=this.props.model.points,b=l.split(" ").map(function(J){return J.split(",").map(function(ae){return Number(ae)})}),O=Oi(b[0],2),w=O[0],_=O[1],S="M"+w+" "+_,P=5,A=1;A<b.length-1;A++){var N=Oi(b[A-1],2),R=N[0],F=N[1],U=Oi(b[A],2),z=U[0],Y=U[1],q=Oi(b[A+1],2),V=q[0],C=q[1];if(z===R&&Y!==F){var B=Y>F?Y-P:Y+P;S=S+" L "+z+" "+B}if(Y===F&&z!==R){var M=z>R?z-P:z+P;S=S+" L "+M+" "+Y}if(S=S+" Q "+z+" "+Y,z===V&&Y!==C){var B=Y>C?Y-P:Y+P;S=S+" "+z+" "+B}if(Y===C&&z!==V){var M=z>V?z-P:z+P;S=S+" "+M+" "+Y}}var L=Oi(b[b.length-1],2),G=L[0],te=L[1];return S=S+" L "+G+" "+te,Fe.exports.h("path",{d:S,strokeWidth:f,stroke:a,fill:"none",strokeDashArray:p})},h.extendKey="curvedEdge",h})(Fe.exports.PolylineEdge);(function(y){kv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h})(Fe.exports.PolylineEdgeModel);var us,Lt,Mv,xi,Tv,uv,Dv={},Nv=[],Hw=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Nr(y,h){for(var c in h)y[c]=h[c];return y}function Cv(y){var h=y.parentNode;h&&h.removeChild(y)}function Ei(y,h,c){var f,a,p,l={};for(p in h)p=="key"?f=h[p]:p=="ref"?a=h[p]:l[p]=h[p];if(arguments.length>2&&(l.children=arguments.length>3?us.call(arguments,2):c),typeof y=="function"&&y.defaultProps!=null)for(p in y.defaultProps)l[p]===void 0&&(l[p]=y.defaultProps[p]);return za(y,l,f,a,null)}function za(y,h,c,f,a){var p={type:y,props:h,key:c,ref:f,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:a==null?++Mv:a};return a==null&&Lt.vnode!=null&&Lt.vnode(p),p}function cs(y){return y.children}function ko(y,h){this.props=y,this.context=h}function Mo(y,h){if(h==null)return y.__?Mo(y.__,y.__.__k.indexOf(y)+1):null;for(var c;h<y.__k.length;h++)if((c=y.__k[h])!=null&&c.__e!=null)return c.__e;return typeof y.type=="function"?Mo(y):null}function Rv(y){var h,c;if((y=y.__)!=null&&y.__c!=null){for(y.__e=y.__c.base=null,h=0;h<y.__k.length;h++)if((c=y.__k[h])!=null&&c.__e!=null){y.__e=y.__c.base=c.__e;break}return Rv(y)}}function cv(y){(!y.__d&&(y.__d=!0)&&xi.push(y)&&!Ua.__r++||uv!==Lt.debounceRendering)&&((uv=Lt.debounceRendering)||Tv)(Ua)}function Ua(){for(var y;Ua.__r=xi.length;)y=xi.sort(function(h,c){return h.__v.__b-c.__v.__b}),xi=[],y.some(function(h){var c,f,a,p,l,b;h.__d&&(l=(p=(c=h).__v).__e,(b=c.__P)&&(f=[],(a=Nr({},p)).__v=p.__v+1,Bv(b,p,a,c.__n,b.ownerSVGElement!==void 0,p.__h!=null?[l]:null,f,l==null?Mo(p):l,p.__h),Uw(f,p),p.__e!=l&&Rv(p)))})}function Iv(y,h,c,f,a,p,l,b,O,w){var _,S,P,A,N,R,F,U=f&&f.__k||Nv,z=U.length;for(c.__k=[],_=0;_<h.length;_++)if((A=c.__k[_]=(A=h[_])==null||typeof A=="boolean"?null:typeof A=="string"||typeof A=="number"||typeof A=="bigint"?za(null,A,null,null,A):Array.isArray(A)?za(cs,{children:A},null,null,null):A.__b>0?za(A.type,A.props,A.key,null,A.__v):A)!=null){if(A.__=c,A.__b=c.__b+1,(P=U[_])===null||P&&A.key==P.key&&A.type===P.type)U[_]=void 0;else for(S=0;S<z;S++){if((P=U[S])&&A.key==P.key&&A.type===P.type){U[S]=void 0;break}P=null}Bv(y,A,P=P||Dv,a,p,l,b,O,w),N=A.__e,(S=A.ref)&&P.ref!=S&&(F||(F=[]),P.ref&&F.push(P.ref,null,A),F.push(S,A.__c||N,A)),N!=null?(R==null&&(R=N),typeof A.type=="function"&&A.__k===P.__k?A.__d=O=Lv(A,O,y):O=zv(y,A,P,U,N,O),typeof c.type=="function"&&(c.__d=O)):O&&P.__e==O&&O.parentNode!=y&&(O=Mo(P))}for(c.__e=R,_=z;_--;)U[_]!=null&&(typeof c.type=="function"&&U[_].__e!=null&&U[_].__e==c.__d&&(c.__d=Mo(f,_+1)),Hv(U[_],U[_]));if(F)for(_=0;_<F.length;_++)Fv(F[_],F[++_],F[++_])}function Lv(y,h,c){for(var f,a=y.__k,p=0;a&&p<a.length;p++)(f=a[p])&&(f.__=y,h=typeof f.type=="function"?Lv(f,h,c):zv(c,f,f,a,f.__e,h));return h}function zv(y,h,c,f,a,p){var l,b,O;if(h.__d!==void 0)l=h.__d,h.__d=void 0;else if(c==null||a!=p||a.parentNode==null)e:if(p==null||p.parentNode!==y)y.appendChild(a),l=null;else{for(b=p,O=0;(b=b.nextSibling)&&O<f.length;O+=2)if(b==a)break e;y.insertBefore(a,p),l=p}return l!==void 0?l:a.nextSibling}function Gw(y,h,c,f,a){var p;for(p in c)p==="children"||p==="key"||p in h||Xa(y,p,null,c[p],f);for(p in h)a&&typeof h[p]!="function"||p==="children"||p==="key"||p==="value"||p==="checked"||c[p]===h[p]||Xa(y,p,h[p],c[p],f)}function sv(y,h,c){h[0]==="-"?y.setProperty(h,c):y[h]=c==null?"":typeof c!="number"||Hw.test(h)?c:c+"px"}function Xa(y,h,c,f,a){var p;e:if(h==="style")if(typeof c=="string")y.style.cssText=c;else{if(typeof f=="string"&&(y.style.cssText=f=""),f)for(h in f)c&&h in c||sv(y.style,h,"");if(c)for(h in c)f&&c[h]===f[h]||sv(y.style,h,c[h])}else if(h[0]==="o"&&h[1]==="n")p=h!==(h=h.replace(/Capture$/,"")),h=h.toLowerCase()in y?h.toLowerCase().slice(2):h.slice(2),y.l||(y.l={}),y.l[h+p]=c,c?f||y.addEventListener(h,p?fv:lv,p):y.removeEventListener(h,p?fv:lv,p);else if(h!=="dangerouslySetInnerHTML"){if(a)h=h.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(h!=="href"&&h!=="list"&&h!=="form"&&h!=="tabIndex"&&h!=="download"&&h in y)try{y[h]=c==null?"":c;break e}catch(l){}typeof c=="function"||(c!=null&&(c!==!1||h[0]==="a"&&h[1]==="r")?y.setAttribute(h,c):y.removeAttribute(h))}}function lv(y){this.l[y.type+!1](Lt.event?Lt.event(y):y)}function fv(y){this.l[y.type+!0](Lt.event?Lt.event(y):y)}function Bv(y,h,c,f,a,p,l,b,O){var w,_,S,P,A,N,R,F,U,z,Y,q=h.type;if(h.constructor!==void 0)return null;c.__h!=null&&(O=c.__h,b=h.__e=c.__e,h.__h=null,p=[b]),(w=Lt.__b)&&w(h);try{e:if(typeof q=="function"){if(F=h.props,U=(w=q.contextType)&&f[w.__c],z=w?U?U.props.value:w.__:f,c.__c?R=(_=h.__c=c.__c).__=_.__E:("prototype"in q&&q.prototype.render?h.__c=_=new q(F,z):(h.__c=_=new ko(F,z),_.constructor=q,_.render=Vw),U&&U.sub(_),_.props=F,_.state||(_.state={}),_.context=z,_.__n=f,S=_.__d=!0,_.__h=[]),_.__s==null&&(_.__s=_.state),q.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=Nr({},_.__s)),Nr(_.__s,q.getDerivedStateFromProps(F,_.__s))),P=_.props,A=_.state,S)q.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(q.getDerivedStateFromProps==null&&F!==P&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(F,z),!_.__e&&_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(F,_.__s,z)===!1||h.__v===c.__v){_.props=F,_.state=_.__s,h.__v!==c.__v&&(_.__d=!1),_.__v=h,h.__e=c.__e,h.__k=c.__k,h.__k.forEach(function(V){V&&(V.__=h)}),_.__h.length&&l.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(F,_.__s,z),_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(P,A,N)})}_.context=z,_.props=F,_.state=_.__s,(w=Lt.__r)&&w(h),_.__d=!1,_.__v=h,_.__P=y,w=_.render(_.props,_.state,_.context),_.state=_.__s,_.getChildContext!=null&&(f=Nr(Nr({},f),_.getChildContext())),S||_.getSnapshotBeforeUpdate==null||(N=_.getSnapshotBeforeUpdate(P,A)),Y=w!=null&&w.type===cs&&w.key==null?w.props.children:w,Iv(y,Array.isArray(Y)?Y:[Y],h,c,f,a,p,l,b,O),_.base=h.__e,h.__h=null,_.__h.length&&l.push(_),R&&(_.__E=_.__=null),_.__e=!1}else p==null&&h.__v===c.__v?(h.__k=c.__k,h.__e=c.__e):h.__e=Xw(c.__e,h,c,f,a,p,l,O);(w=Lt.diffed)&&w(h)}catch(V){h.__v=null,(O||p!=null)&&(h.__e=b,h.__h=!!O,p[p.indexOf(b)]=null),Lt.__e(V,h,c)}}function Uw(y,h){Lt.__c&&Lt.__c(h,y),y.some(function(c){try{y=c.__h,c.__h=[],y.some(function(f){f.call(c)})}catch(f){Lt.__e(f,c.__v)}})}function Xw(y,h,c,f,a,p,l,b){var O,w,_,S=c.props,P=h.props,A=h.type,N=0;if(A==="svg"&&(a=!0),p!=null){for(;N<p.length;N++)if((O=p[N])&&"setAttribute"in O==!!A&&(A?O.localName===A:O.nodeType===3)){y=O,p[N]=null;break}}if(y==null){if(A===null)return document.createTextNode(P);y=a?document.createElementNS("http://www.w3.org/2000/svg",A):document.createElement(A,P.is&&P),p=null,b=!1}if(A===null)S===P||b&&y.data===P||(y.data=P);else{if(p=p&&us.call(y.childNodes),w=(S=c.props||Dv).dangerouslySetInnerHTML,_=P.dangerouslySetInnerHTML,!b){if(p!=null)for(S={},N=0;N<y.attributes.length;N++)S[y.attributes[N].name]=y.attributes[N].value;(_||w)&&(_&&(w&&_.__html==w.__html||_.__html===y.innerHTML)||(y.innerHTML=_&&_.__html||""))}if(Gw(y,P,S,a,b),_)h.__k=[];else if(N=h.props.children,Iv(y,Array.isArray(N)?N:[N],h,c,f,a&&A!=="foreignObject",p,l,p?p[0]:c.__k&&Mo(c,0),b),p!=null)for(N=p.length;N--;)p[N]!=null&&Cv(p[N]);b||("value"in P&&(N=P.value)!==void 0&&(N!==y.value||A==="progress"&&!N||A==="option"&&N!==S.value)&&Xa(y,"value",N,S.value,!1),"checked"in P&&(N=P.checked)!==void 0&&N!==y.checked&&Xa(y,"checked",N,S.checked,!1))}return y}function Fv(y,h,c){try{typeof y=="function"?y(h):y.current=h}catch(f){Lt.__e(f,c)}}function Hv(y,h,c){var f,a;if(Lt.unmount&&Lt.unmount(y),(f=y.ref)&&(f.current&&f.current!==y.__e||Fv(f,null,h)),(f=y.__c)!=null){if(f.componentWillUnmount)try{f.componentWillUnmount()}catch(p){Lt.__e(p,h)}f.base=f.__P=null}if(f=y.__k)for(a=0;a<f.length;a++)f[a]&&Hv(f[a],h,typeof y.type!="function");c||y.__e==null||Cv(y.__e),y.__e=y.__d=void 0}function Vw(y,h,c){return this.constructor(y,c)}us=Nv.slice,Lt={__e:function(y,h,c,f){for(var a,p,l;h=h.__;)if((a=h.__c)&&!a.__)try{if((p=a.constructor)&&p.getDerivedStateFromError!=null&&(a.setState(p.getDerivedStateFromError(y)),l=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(y,f||{}),l=a.__d),l)return a.__E=a}catch(b){y=b}throw y}},Mv=0,ko.prototype.setState=function(y,h){var c;c=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Nr({},this.state),typeof y=="function"&&(y=y(Nr({},c),this.props)),y&&Nr(c,y),y!=null&&this.__v&&(h&&this.__h.push(h),cv(this))},ko.prototype.forceUpdate=function(y){this.__v&&(this.__e=!0,y&&this.__h.push(y),cv(this))},ko.prototype.render=cs,xi=[],Tv=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ua.__r=0;var ji=globalThis&&globalThis.__assign||function(){return ji=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},ji.apply(this,arguments)};function ss(y){var h=y.x,c=y.y,f=y.width,a=y.height,p=y.radius,l=y.className,b=h-f/2,O=c-a/2,w=ji(ji({width:10,height:10,cx:0,cy:0,rx:p||0,ry:p||0,fill:"transparent",fillOpacity:1,strokeWidth:"1px",stroke:"#000",strokeOpacity:1,className:"lf-basic-shape "+l},y),{x:b,y:O});return Fe.exports.h("rect",ji({},w))}ss.defaultProps={radius:0,stroke:"",strokeDasharray:"",className:""};var Ao;(function(y){y.NODE="node",y.CIRCLE_NODE="circle-node",y.POLYGON_NODE="polygon-node",y.RECT_NODE="rect-node",y.HTML_NODE="html-node",y.TEXT_NODE="text-node",y.ELLIPSE_NODE="ellipse-node",y.DIAMOND_NODE="diamond-node",y.EDGE="edge",y.LINE_EDGE="line-edge",y.POLYLINE_EDGE="polyline-edge",y.BEZIER_EDGE="bezier-edge",y.GRAPH="graph"})(Ao||(Ao={}));function Ba(y){var h=y.x,c=y.y,f=y.width,a=y.height;return{minX:h-f/2,minY:c-a/2,maxX:h+f/2,maxY:c+a/2}}function pv(y){var h=Ba(y),c=y.radius,f=h.minX,a=h.minY,p=h.maxX,l=h.maxY;return[{x:f+c,y:a+c},{x:p-c,y:a+c},{x:p-c,y:l-c},{x:f+c,y:l-c}]}function dv(y){var h=y.point,c=y.beforeNode,f=y.afterNode,a=h.x,p=h.y,l={x:a,y:p},b=c.radius,O=Ba(c),w=Ba(f);if(a===O.minX){l.x=w.minX;var _=(p-c.y)/(c.height/2-b);_?l.y=f.y+(f.height/2-b)*_:l.y=f.y}else if(a===O.maxX){l.x=w.maxX;var _=(p-c.y)/(c.height/2-b);_?l.y=f.y+(f.height/2-b)*_:l.y=f.y}else if(p===O.minY){l.y=w.minY;var _=(a-c.x)/(c.width/2-b);_?l.x=f.x+(f.width/2-b)*_:l.x=f.x}else if(p===O.maxY){l.y=w.maxY;var _=(a-c.x)/(c.width/2-b);_?l.x=f.x+(f.width/2-b)*_:l.x=f.x}else{var S=pv(c),P=pv(f),A=Ba(c),N=A.minX,R=A.minY,F=A.maxX,U=A.maxY,z=-1;if(a-N<b&&p-R<b?z=0:F-a<b&&p-R<b?z=1:F-a<b&&U-p<b?z=2:a-N<b&&R-p<b&&(z=3),z>-1){var Y=Math.atan2(p-S[z].y,a-S[z].x);l.x=P[z].x+b*Math.cos(Y),l.y=P[z].y+b*Math.sin(Y)}}return l}function hv(y){var h=y.point,c=y.beforeNode,f=y.afterNode,a=f.rx,p=f.ry,l=h,b=(h.y-c.y)/(h.x-c.x),O=a,w=p,_,S;return b>=1/0?(_=0,S=w):b<=-1/0?(_=0,S=-w):h.x-c.x>0?(_=O*w/Math.sqrt(w*w+O*O*b*b),S=O*w*b/Math.sqrt(w*w+O*O*b*b)):(_=-(O*w)/Math.sqrt(w*w+O*O*b*b),S=-(O*w*b)/Math.sqrt(w*w+O*O*b*b)),l={x:_+f.x,y:S+f.y},l}function yv(y){var h=y.point,c=y.beforeNode,f=y.afterNode,a=h,p,l,b=h.x-c.x,O=h.y-c.y,w=c.rx,_=c.ry,S=Math.sqrt((w-Math.abs(b))*(w-Math.abs(b))+O*O)/Math.sqrt(w*w+_*_),P=f.rx,A=f.ry,N=Math.sqrt((P*P+A*A)*S*S*(P*P/(P*P+A*A))),R=N*(A/P);return b>=0?p=P-N:p=N-P,O>0?l=R:l=-R,a={x:p+f.x,y:l+f.y},a}var Yw=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),no=globalThis&&globalThis.__assign||function(){return no=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},no.apply(this,arguments)},Ww=Fe.exports.LogicFlowUtil.StepDrag,Kw=function(y){Yw(h,y);function h(c){var f=y.call(this)||this;f.updatePosition=function(l){var b=l.deltaX,O=l.deltaY,w=f.nodeModel,_=w.x,S=w.y;f.nodeModel.x=_+b/2,f.nodeModel.y=S+O/2,f.nodeModel.moveText(b/2,O/2)},f.getResize=function(l){var b=l.index,O=l.deltaX,w=l.deltaY,_=l.width,S=l.height,P=l.pct,A=P===void 0?1:P,N={width:_,height:S};switch(b){case 0:N.width=_-O*A,N.height=S-w*A;break;case 1:N.width=_+O*A,N.height=S-w*A;break;case 2:N.width=_+O,N.height=S+w*A;break;case 3:N.width=_-O*A,N.height=S+w*A;break}return N},f.updateRect=function(l){var b=l.deltaX,O=l.deltaY,w=f.nodeModel,_=w.id,S=w.x,P=w.y,A=w.width,N=w.height,R=w.radius,F=f.index,U=f.getResize({index:F,deltaX:b,deltaY:O,width:A,height:N,pct:1}),z=f.nodeModel,Y=z.minWidth,q=z.minHeight,V=z.maxWidth,C=z.maxHeight;if(U.width<Y||U.width>V||U.height<q||U.height>C){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:b,deltaY:O}),f.nodeModel.width=U.width,f.nodeModel.height=U.height,f.nodeModel.setProperties({nodeSize:{width:U.width,height:U.height}});var B=f.getNodeEdges(_),M={x:S,y:P,width:A,height:N,radius:R},L={x:f.nodeModel.x,y:f.nodeModel.y,width:f.nodeModel.width,height:f.nodeModel.height,radius:R},G={point:"",beforeNode:M,afterNode:L},te;B.sourceEdges.forEach(function(J){G.point=J.startPoint,te=dv(G),J.updateStartPoint(te)}),B.targetEdges.forEach(function(J){G.point=J.endPoint,te=dv(G),J.updateEndPoint(te)}),f.eventEmit({beforeNode:M,afterNode:L})},f.updateEllipse=function(l){var b=l.deltaX,O=l.deltaY,w=f.nodeModel,_=w.id,S=w.rx,P=w.ry,A=w.x,N=w.y,R=f.index,F=S,U=P,z=f.getResize({index:R,deltaX:b,deltaY:O,width:F,height:U,pct:1/2}),Y=f.nodeModel,q=Y.minWidth,V=Y.minHeight,C=Y.maxWidth,B=Y.maxHeight;if(z.width<q/2||z.width>C/2||z.height<V/2||z.height>B/2){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:b,deltaY:O}),f.nodeModel.rx=f.nodeModel.rx+b/2,f.nodeModel.ry=f.nodeModel.ry+O/2,f.nodeModel.setProperties({nodeSize:{rx:z.width,ry:z.height}});var M=f.getNodeEdges(_),L={x:A,y:N},G={rx:z.width,ry:z.height,x:f.nodeModel.x,y:f.nodeModel.y},te={point:{},beforeNode:L,afterNode:G},J;M.sourceEdges.forEach(function(ae){te.point=ae.startPoint,J=hv(te),ae.updateStartPoint(J)}),M.targetEdges.forEach(function(ae){te.point=ae.endPoint,J=hv(te),ae.updateEndPoint(J)}),f.eventEmit({beforeNode:no(no({},L),{rx:S,ry:P}),afterNode:G})},f.updateDiamond=function(l){var b=l.deltaX,O=l.deltaY,w=f.nodeModel,_=w.id,S=w.rx,P=w.ry,A=w.x,N=w.y,R=f.index,F=S,U=P,z=f.getResize({index:R,deltaX:b,deltaY:O,width:F,height:U,pct:1/2}),Y=f.nodeModel,q=Y.minWidth,V=Y.minHeight,C=Y.maxWidth,B=Y.maxHeight;if(z.width<q/2||z.width>C/2||z.height<V/2||z.height>B/2){f.dragHandler.cancelDrag();return}f.updatePosition({deltaX:b,deltaY:O}),f.nodeModel.rx=f.nodeModel.rx+b/2,f.nodeModel.ry=f.nodeModel.ry+O/2,f.nodeModel.setProperties({nodeSize:{rx:z.width,ry:z.height}});var M={x:A,y:N,rx:S,ry:P},L={rx:z.width,ry:z.height,x:f.nodeModel.x,y:f.nodeModel.y},G={point:{},beforeNode:M,afterNode:L},te,J=f.getNodeEdges(_);J.sourceEdges.forEach(function(ae){G.point=ae.startPoint,te=yv(G),ae.updateStartPoint(te)}),J.targetEdges.forEach(function(ae){G.point=ae.endPoint,te=yv(G),ae.updateEndPoint(te)}),f.eventEmit({beforeNode:M,afterNode:L})},f.eventEmit=function(l){var b=l.beforeNode,O=l.afterNode,w=f.nodeModel,_=w.id,S=w.modelType,P=w.type,A=no({id:_,modelType:S,type:P},b),N=no({id:_,modelType:S,type:P},O);f.graphModel.eventCenter.emit("node:resize",{oldNodeSize:A,newNodeSize:N})},f.onDraging=function(l){var b=l.deltaX,O=l.deltaY,w=f.nodeModel.modelType;w===Ao.RECT_NODE||w===Ao.HTML_NODE?f.updateRect({deltaX:b,deltaY:O}):w===Ao.ELLIPSE_NODE?f.updateEllipse({deltaX:b,deltaY:O}):w===Ao.DIAMOND_NODE&&f.updateDiamond({deltaX:b,deltaY:O})},f.index=c.index,f.nodeModel=c.model,f.graphModel=c.graphModel;var a=f.graphModel.gridSize,p=2;return a>1&&(p=2*a),f.nodeModel.gridSize&&(p=2*f.nodeModel.gridSize),f.state={},f.dragHandler=new Ww({onDraging:f.onDraging,step:p}),f}return h.prototype.getNodeEdges=function(c){for(var f=this.graphModel,a=f.edges,p=[],l=[],b=0;b<a.length;b++){var O=a[b];O.sourceNodeId===c?p.push(O):a[b].targetNodeId===c&&l.push(O)}return{sourceEdges:p,targetEdges:l}},h.prototype.render=function(){var c=this.props,f=c.x,a=c.y,p=c.index,l=c.model,b=l.getControlPointStyle();return Ei("g",{className:"lf-resize-control-"+p},Ei(ss,no({className:"lf-node-control"},{x:f,y:a},b,{onMouseDown:this.dragHandler.handleMouseDown})))},h}(ko),Zw=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Va=globalThis&&globalThis.__assign||function(){return Va=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},Va.apply(this,arguments)},Ka=function(y){Zw(h,y);function h(){var c=y.call(this)||this;return c.state={},c}return h.prototype.getResizeControl=function(){var c=this.props,f=c.model,a=c.graphModel,p=f.x,l=f.y,b=f.width,O=f.height,w={minX:p-b/2,minY:l-O/2,maxX:p+b/2,maxY:l+O/2},_=w.minX,S=w.minY,P=w.maxX,A=w.maxY,N=[{x:_,y:S},{x:P,y:S},{x:P,y:A},{x:_,y:A}];return N.map(function(R,F){return Ei(Kw,Va({index:F},R,{model:f,graphModel:a}))})},h.prototype.getGroupSolid=function(){var c=this.props.model,f=c.x,a=c.y,p=c.width,l=c.height,b=c.getResizeOutlineStyle();return Ei(ss,Va({fill:"none"},b,{x:f,y:a,width:p,height:l}))},h.prototype.render=function(){return Ei("g",{className:"lf-resize-control"},this.getGroupSolid(),this.getResizeControl())},h}(ko),Gv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),qw=function(y){Gv(h,y);function h(c,f){var a=y.call(this,c,f)||this,p=a.properties.nodeSize;return p&&(a.width=p.width,a.height=p.height),a}return h.prototype.initNodeData=function(c){y.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var c=y.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{fill:"none",stroke:"transparent",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h.prototype.resize=function(c,f){},h}(Fe.exports.RectNodeModel),$w=function(y){Gv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,f=c.model,a=c.graphModel;return Fe.exports.h(Ka,{model:f,graphModel:a})},h.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model.isSelected;return Fe.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h}(Fe.exports.RectNode),Uv={type:"rect",view:$w,model:qw},Xv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();(function(y){Xv(h,y);function h(c,f){var a=y.call(this,c,f)||this,p=a.properties.nodeSize;return p&&(a.rx=p.rx,a.ry=p.ry),a}return h.prototype.initNodeData=function(c){y.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var c=y.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h})(Fe.exports.EllipseNodeModel);(function(y){Xv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,f=c.model,a=c.graphModel;return Fe.exports.h(Ka,{model:f,graphModel:a})},h.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model;return Fe.exports.h("g",null,this.getResizeShape(),c.isSelected?this.getControlGroup():"")},h})(Fe.exports.EllipseNode);var ns=globalThis&&globalThis.__assign||function(){return ns=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},ns.apply(this,arguments)};function Jw(y){var h=y.fillOpacity,c=h===void 0?1:h,f=y.strokeWidth,a=f===void 0?1:f,p=y.strokeOpacity,l=p===void 0?1:p,b=y.fill,O=b===void 0?"transparent":b,w=y.stroke,_=w===void 0?"#000":w,S=y.points,P=y.className,A=P===void 0?"lf-basic-shape":P,N={fill:O,fillOpacity:c,strokeWidth:a,stroke:_,strokeOpacity:l,points:"",className:A};return N.points=S.map(function(R){return R.join(",")}).join(" "),Fe.exports.h("polygon",ns({},N))}var Vv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),rs=globalThis&&globalThis.__assign||function(){return rs=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},rs.apply(this,arguments)};(function(y){Vv(h,y);function h(c,f){var a=y.call(this,c,f)||this,p=a.properties.nodeSize;return p&&(a.rx=p.rx,a.ry=p.ry),a}return h.prototype.initNodeData=function(c){y.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3,this.gridSize=1},h.prototype.getOutlineStyle=function(){var c=y.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h})(Fe.exports.DiamondNodeModel);(function(y){Vv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,f=c.model,a=c.graphModel;return Fe.exports.h(Ka,{model:f,graphModel:a})},h.prototype.getResizeShape=function(){var c=this.props.model,f=c.points,a=c.getNodeStyle();return Fe.exports.h("g",null,Fe.exports.h(Jw,rs({},a,{points:f})))},h.prototype.getShape=function(){var c=this.props.model.isSelected;return Fe.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h})(Fe.exports.DiamondNode);var Yv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();(function(y){Yv(h,y);function h(c,f){var a=y.call(this,c,f)||this,p=a.properties.nodeSize;return p&&(a.width=p.width,a.height=p.height),a}return h.prototype.initNodeData=function(c){y.prototype.initNodeData.call(this,c),this.minWidth=30,this.minHeight=30,this.maxWidth=2e3,this.maxHeight=2e3},h.prototype.getOutlineStyle=function(){var c=y.prototype.getOutlineStyle.call(this);return c.stroke="none",c.hover&&(c.hover.stroke="none"),c},h.prototype.getResizeOutlineStyle=function(){return{stroke:"#000000",strokeWidth:1,strokeDasharray:"3,3"}},h.prototype.getControlPointStyle=function(){return{width:7,height:7,fill:"#FFFFFF",stroke:"#000000"}},h})(Fe.exports.HtmlNodeModel);(function(y){Yv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props,f=c.model,a=c.graphModel;return Fe.exports.h(Ka,{model:f,graphModel:a})},h.prototype.getResizeShape=function(){return y.prototype.getShape.call(this)},h.prototype.getShape=function(){var c=this.props.model.isSelected;return Fe.exports.h("g",null,this.getResizeShape(),c?this.getControlGroup():"")},h})(Fe.exports.HtmlNode);var Wv=globalThis&&globalThis.__extends||function(){var y=function(h,c){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,a){f.__proto__=a}||function(f,a){for(var p in a)a.hasOwnProperty(p)&&(f[p]=a[p])},y(h,c)};return function(h,c){y(h,c);function f(){this.constructor=h}h.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}(),Ya=globalThis&&globalThis.__assign||function(){return Ya=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},Ya.apply(this,arguments)},Qw=globalThis&&globalThis.__read||function(y,h){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),a,p=[],l;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){l={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}return p},vv=globalThis&&globalThis.__spread||function(){for(var y=[],h=0;h<arguments.length;h++)y=y.concat(Qw(arguments[h]));return y},gv=500,bv=300;(function(y){Wv(h,y);function h(){var c=y!==null&&y.apply(this,arguments)||this;return c.isGroup=!0,c.unfoldedWidth=gv,c.unfoldedHight=bv,c}return h.prototype.initNodeData=function(c){var f=this;y.prototype.initNodeData.call(this,c);var a=[];Array.isArray(c.children)&&(a=c.children),this.children=new Set(a),this.width=gv,this.height=bv,this.foldedWidth=80,this.foldedHeight=60,this.zIndex=-1,this.radius=0,this.text.editable=!1,this.text.draggable=!1,this.isRestrict=!1,this.resizable=!1,this.autoToFront=!1,this.foldable=!1,this.properties.isFolded===void 0&&(this.properties.isFolded=!1),this.isFolded=this.properties.isFolded,setTimeout(function(){f.isFolded&&f.foldGroup(f.isFolded)})},h.prototype.getResizeOutlineStyle=function(){var c=y.prototype.getResizeOutlineStyle.call(this);return c.stroke="none",c},h.prototype.foldGroup=function(c){var f=this;this.setProperty("isFolded",c),this.isFolded=c,c?(this.x=this.x-this.width/2+this.foldedWidth/2,this.y=this.y-this.height/2+this.foldedHeight/2,this.unfoldedWidth=this.width,this.unfoldedHight=this.height,this.width=this.foldedWidth,this.height=this.foldedHeight):(this.width=this.unfoldedWidth,this.height=this.unfoldedHight,this.x=this.x+this.width/2-this.foldedWidth/2,this.y=this.y+this.height/2-this.foldedHeight/2);var a=this.incoming.edges.concat(this.outgoing.edges);this.children.forEach(function(p){var l=f.graphModel.getElement(p);l.visible=!c,a=a.concat(l.incoming.edges.concat(l.outgoing.edges))}),this.foldEdge(c,a)},h.prototype.getAnchorStyle=function(c){var f=y.prototype.getAnchorStyle.call(this,c);return f.stroke="transparent",f.fill="transparent",f.hover.fill="transparent",f.hover.stroke="transparent",f},h.prototype.foldEdge=function(c,f){var a=this;f.forEach(function(p,l){var b=p.id,O=p.sourceNodeId,w=p.targetNodeId,_=p.startPoint,S=p.endPoint,P=p.type,A=p.properties,N=p.text,R={id:b+"__"+l,sourceNodeId:O,targetNodeId:w,startPoint:_,endPoint:S,type:P,properties:A,text:N==null?void 0:N.value};p.virtual&&a.graphModel.deleteEdgeById(p.id);var F=a.graphModel.group.getNodeGroup(w);F||(F=a.graphModel.getNodeModelById(w));var U=a.graphModel.group.getNodeGroup(O);U||(U=a.graphModel.getNodeModelById(O)),c&&p.visible!==!1&&(a.children.has(O)||a.id===O?(R.startPoint=void 0,R.sourceNodeId=a.id):(R.endPoint=void 0,R.targetNodeId=a.id),(F.id!==a.id||U.id!==a.id)&&a.createVirtualEdge(R),p.visible=!1),!c&&p.visible===!1&&(F&&F.isGroup&&F.isFolded?(R.targetNodeId=F.id,R.endPoint=void 0,a.createVirtualEdge(R)):U&&U.isGroup&&U.isFolded?(R.sourceNodeId=U.id,R.startPoint=void 0,a.createVirtualEdge(R)):p.visible=!0)})},h.prototype.createVirtualEdge=function(c){c.pointsList=void 0;var f=this.graphModel.addEdge(c);f.virtual=!0,f.getData=function(){return null},f.text.editable=!1,f.isFoldedEdge=!0},h.prototype.isInRange=function(c){var f=c.x1,a=c.y1,p=c.x2,l=c.y2;return f>=this.x-this.width/2&&p<=this.x+this.width/2&&a>=this.y-this.height/2&&l<=this.y+this.height/2},h.prototype.isAllowMoveTo=function(c){var f=c.x1,a=c.y1,p=c.x2,l=c.y2;return{x:f>=this.x-this.width/2&&p<=this.x+this.width/2,y:a>=this.y-this.height/2&&l<=this.y+this.height/2}},h.prototype.setAllowAppendChild=function(c){this.setProperty("groupAddable",c)},h.prototype.addChild=function(c){this.children.add(c)},h.prototype.removeChild=function(c){this.children.delete(c)},h.prototype.getAddableOutlineStyle=function(){return{stroke:"#FEB663",strokeWidth:2,strokeDasharray:"4 4",fill:"transparent"}},h.prototype.getData=function(){var c=y.prototype.getData.call(this);c.children=vv(this.children);var f=c.properties;return delete f.groupAddable,delete f.isFolded,c},h.prototype.getHistoryData=function(){var c=y.prototype.getData.call(this);c.children=vv(this.children);var f=c.properties;return delete f.groupAddable,f.isFolded&&(c.x=c.x+this.unfoldedWidth/2-this.foldedWidth/2,c.y=c.y+this.unfoldedHight/2-this.foldedHeight/2),c},h})(Uv.model);(function(y){Wv(h,y);function h(){return y!==null&&y.apply(this,arguments)||this}return h.prototype.getControlGroup=function(){var c=this.props.model,f=c.resizable,a=c.properties;return f&&!a.isFolded?y.prototype.getControlGroup.call(this):null},h.prototype.getAddedableShape=function(){var c=this.props.model,f=c.width,a=c.height,p=c.x,l=c.y,b=c.radius,O=c.properties;if(!O.groupAddable)return null;var w=this.props.model.getNodeStyle().strokeWidth,_=this.props.model.getAddableOutlineStyle(),S=f+w+8,P=a+w+8;return Fe.exports.h("rect",Ya(Ya({},_),{width:S,height:P,x:p-S/2,y:l-P/2,rx:b,ry:b}))},h.prototype.getFoldIcon=function(){var c=this.props.model,f=c.x-c.width/2+5,a=c.y-c.height/2+5;if(!c.foldable)return null;var p=Fe.exports.h("path",{fill:"none",stroke:"#818281",strokeWidth:2,"pointer-events":"none",d:c.properties.isFolded?"M "+(f+3)+","+(a+6)+" "+(f+11)+","+(a+6)+" M"+(f+7)+","+(a+2)+" "+(f+7)+","+(a+10):"M "+(f+3)+","+(a+6)+" "+(f+11)+","+(a+6)+" "});return Fe.exports.h("g",{},[Fe.exports.h("rect",{height:12,width:14,rx:2,ry:2,strokeWidth:1,fill:"#F4F5F6",stroke:"#CECECE",cursor:"pointer",x:c.x-c.width/2+5,y:c.y-c.height/2+5,onClick:function(){c.foldGroup(!c.properties.isFolded)}}),p])},h.prototype.getResizeShape=function(){return Fe.exports.h("g",{},[this.getAddedableShape(),y.prototype.getResizeShape.call(this),this.getFoldIcon()])},h})(Uv.view);var e1=globalThis&&globalThis.__read||function(y,h){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),a,p=[],l;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){l={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}return p};globalThis&&globalThis.__spread;var t1=globalThis&&globalThis.__read||function(y,h){var c=typeof Symbol=="function"&&y[Symbol.iterator];if(!c)return y;var f=c.call(y),a,p=[],l;try{for(;(h===void 0||h-- >0)&&!(a=f.next()).done;)p.push(a.value)}catch(b){l={error:b}}finally{try{a&&!a.done&&(c=f.return)&&c.call(f)}finally{if(l)throw l.error}}return p};globalThis&&globalThis.__spread;var mv=globalThis&&globalThis.__assign||function(){return mv=Object.assign||function(y){for(var h,c=1,f=arguments.length;c<f;c++){h=arguments[c];for(var a in h)Object.prototype.hasOwnProperty.call(h,a)&&(y[a]=h[a])}return y},mv.apply(this,arguments)};const n1={SEQUENCE_FLOW:1,START_EVENT:2,END_EVENT:3,USER_TASK:4,SERVICE_TASK:5,EXCLUSIVE_GATEWAY:6};function r1(y){const{incoming:h,outgoing:c,properties:f,key:a}=y,{text:p,startPoint:l,endPoint:b,pointsList:O,logicFlowType:w}=f,_={id:a,type:w,sourceNodeId:h[0],targetNodeId:c[0],text:p,startPoint:l,endPoint:b,pointsList:O,properties:{}},S=["startPoint","endPoint","pointsList","text","logicFlowType"];return Object.keys(y.properties).forEach(P=>{S.indexOf(P)===-1&&(_.properties[P]=y.properties[P])}),_}function o1(y){const{properties:h,key:c}=y,{x:f,y:a,text:p,logicFlowType:l}=h,b={id:c,type:l,x:f,y:a,text:p,properties:{}},O=["x","y","text","logicFlowType"];return Object.keys(y.properties).forEach(w=>{O.indexOf(w)===-1&&(b.properties[w]=y.properties[w])}),b}function i1(y){const h={nodes:[],edges:[]},c=y.flowElementList;return c&&c.length>0&&c.forEach(f=>{if(f.type===n1.SEQUENCE_FLOW){const a=r1(f);h.edges.push(a)}else{const a=o1(f);h.nodes.push(a)}}),h}function a1(y){return[{text:"\u9009\u533A",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAOVJREFUOBGtVMENwzAIjKP++2026ETdpv10iy7WFbqFyyW6GBywLCv5gI+Dw2Bluj1znuSjhb99Gkn6QILDY2imo60p8nsnc9bEo3+QJ+AKHfMdZHnl78wyTnyHZD53Zzx73MRSgYvnqgCUHj6gwdck7Zsp1VOrz0Uz8NbKunzAW+Gu4fYW28bUYutYlzSa7B84Fh7d1kjLwhcSdYAYrdkMQVpsBr5XgDGuXwQfQr0y9zwLda+DUYXLaGKdd2ZTtvbolaO87pdo24hP7ov16N0zArH1ur3iwJpXxm+v7oAJNR4JEP8DoAuSFEkYH7cAAAAASUVORK5CYII=",callback:()=>{y.updateEditConfig({stopMoveGraph:!0})}},{type:"circle",text:"\u5F00\u59CB",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAAnBJREFUOBGdVL1rU1EcPfdGBddmaZLiEhdx1MHZQXApraCzQ7GKLgoRBxMfcRELuihWKcXFRcEWF8HBf0DdDCKYRZpnl7p0svLe9Zzbd29eQhTbC8nv+9zf130AT63jvooOGS8Vf9Nt5zxba7sXQwODfkWpkbjTQfCGUd9gIp3uuPP8bZ946g56dYQvnBg+b1HB8VIQmMFrazKcKSvFW2dQTxJnJdQ77urmXWOMBCmXM2Rke4S7UAW+/8ywwFoewmBps2tu7mbTdp8VMOkIRAkKfrVawalJTtIliclFbaOBqa0M2xImHeVIfd/nKAfVq/LGnPss5Kh00VEdSzfwnBXPUpmykNss4lUI9C1ga+8PNrBD5YeqRY2Zz8PhjooIbfJXjowvQJBqkmEkVnktWhwu2SM7SMx7Cj0N9IC0oQXRo8xwAGzQms+xrB/nNSUWVveI48ayrFGyC2+E2C+aWrZHXvOuz+CiV6iycWe1Rd1Q6+QUG07nb5SbPrL4426d+9E1axKjY3AoRrlEeSQo2Eu0T6BWAAr6COhTcWjRaYfKG5csnvytvUr/WY4rrPMB53Uo7jZRjXaG6/CFfNMaXEu75nG47X+oepU7PKJvvzGDY1YLSKHJrK7vFUwXKkaxwhCW3u+sDFMVrIju54RYYbFKpALZAo7sB6wcKyyrd+aBMryMT2gPyD6GsQoRFkGHr14TthZni9ck0z+Pnmee460mHXbRAypKNy3nuMdrWgVKj8YVV8E7PSzp1BZ9SJnJAsXdryw/h5ctboUVi4AFiCd+lQaYMw5z3LGTBKjLQOeUF35k89f58Vv/tGh+l+PE/wG0rgfIUbZK5AAAAABJRU5ErkJggg=="},{type:"rect",text:"\u7528\u6237\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"important-node"},{type:"rect",text:"\u7CFB\u7EDF\u4EFB\u52A1",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAEFVwZaAAAABGdBTUEAALGPC/xhBQAAAqlJREFUOBF9VM9rE0EUfrMJNUKLihGbpLGtaCOIR8VjQMGDePCgCCIiCNqzCAp2MyYUCXhUtF5E0D+g1t48qAd7CCLqQUQKEWkStcEfVGlLdp/fm3aW2QQdyLzf33zz5m2IsAZ9XhDpyaaIZkTS4ASzK41TFao88GuJ3hsr2pAbipHxuSYyKRugagICGANkfFnNh3HeE2N0b3nN2cgnpcictw5veJIzxmDamSlxxQZicq/mflxhbaH8BLRbuRwNtZp0JAhoplVRUdzmCe/vO27wFuuA3S5qXruGdboy5/PRGFsbFGKo/haRtQHIrM83bVeTrOgNhZReWaYGnE4aUQgTJNvijJFF4jQ8BxJE5xfKatZWmZcTQ+BVgh7s8SgPlCkcec4mGTmieTP4xd7PcpIEg1TX6gdeLW8rTVMVLVvb7ctXoH0Cydl2QOPJBG21STE5OsnbweVYzAnD3A7PVILuY0yiiyDwSm2g441r6rMSgp6iK42yqroI2QoXeJVeA+YeZSa47gZdXaZWQKTrG93rukk/l2Al6Kzh5AZEl7dDQy+JjgFahQjRopSxPbrbvK7GRe9ePWBo1wcU7sYrFZtavXALwGw/7Dnc50urrHJuTPSoO2IMV3gUQGNg87IbSOIY9BpiT9HV7FCZ94nPXb3MSnwHn/FFFE1vG6DTby+r31KAkUktB3Qf6ikUPWxW1BkXSPQeMHHiW0+HAd2GelJsZz1OJegCxqzl+CLVHa/IibuHeJ1HAKzhuDR+ymNaRFM+4jU6UWKXorRmbyqkq/D76FffevwdCp+jN3UAN/C9JRVTDuOxC/oh+EdMnqIOrlYteKSfadVRGLJFJPSB/ti/6K8f0CNymg/iH2gO/f0DwE0yjAFO6l8JaR5j0VPwPwfaYHqOqrCI319WzwhwzNW/aQAAAABJRU5ErkJggg==",cls:"import_icon"},{type:"diamond",text:"\u6761\u4EF6\u5224\u65AD",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABUAAAAVCAYAAAHeEJUAAAAABGdBTUEAALGPC/xhBQAAAvVJREFUOBGNVEFrE0EU/mY3bQoiFlOkaUJrQUQoWMGePLX24EH0IIoHKQiCV0G8iE1covgLiqA/QTzVm1JPogc9tIJYFaQtlhQxqYjSpunu+L7JvmUTU3AgmTfvffPNN++9WSA1DO182f6xwILzD5btfAoQmwL5KJEwiQyVbSVZ0IgRyV6PTpIJ81E5ZvqfHQR0HUOBHW4L5Et2kQ6Zf7iAOhTFAA8s0pEP7AXO1uAA52SbqGk6h/6J45LaLhO64ByfcUzM39V7ZiAdS2yCePPEIQYvTUHqM/n7dgQNfBKWPjpF4ISk8q3J4nB11qw6X8l+FsF3EhlkEMfrjIer3wJTLwS2aCNcj4DbGxXTw00JmAuO+Ni6bBxVUCvS5d9aa04+so4pHW5jLTywuXAL7jJ+D06sl82Sgl2JuVBQn498zkc2bGKxULHjCnSMadBKYDYYHAtsby1EQ5lNGrQd4Y3v4Zo0XdGEmDno46yCM9Tk+RiJmUYHS/aXHPNTcjxcbTFna000PFJHIVZ5lFRqRpJWk9/+QtlOUYJj9HG5pVFEU7zqIYDVsw2s+AJaD8wTd2umgSCCyUxgGsS1Y6TBwXQQTFuZaHcd8gAGioE90hlsY+wMcs30RduYtxanjMGal8H5dMW67dmT1JFtYUEe8LiQLRsPZ6IIc7A4J5tqco3T0pnv/4u0kyzrYUq7gASuEyI8VXKvB9Odytv6jS/PNaZBln0nioJG/AVQRZvApOdhjj3Jt8QC8Im09SafwdBdvIpztpxWxpeKCC+EsFdS8DCyuCn2munFpL7ctHKp+Xc5cMybeIyMAN33SPL3ZR9QV1XVwLyzHm6Iv0/yeUuUb7PPlZC4D4HZkeu6dpF4v9j9MreGtMbxMMRLIcjJic9yHi7WQ3yVKzZVWUr5UrViJvn1FfUlwe/KYVfYyWRLSGNu16hR01U9IacajXPei0wx/5BqgInvJN+MMNtNme7ReU9SBbgntovn0kKHpFg7UogZvaZiOue/q1SBo9ktHzQAAAAASUVORK5CYII="},{type:"circle",text:"\u7ED3\u675F",icon:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAAH6ji2bAAAABGdBTUEAALGPC/xhBQAAA1BJREFUOBFtVE1IVUEYPXOf+tq40Y3vPcmFIdSjIorWoRG0ERWUgnb5FwVhYQSl72oUoZAboxKNFtWiwKRN0M+jpfSzqJAQclHo001tKkjl3emc8V69igP3znzfnO/M9zcDcKT67azmjYWTwl9Vn7Vumeqzj1DVb6cleQY4oAVnIOPb+mKAGxQmKI5CWNJ2aLPatxWa3aB9K7/fB+/Z0jUF6TmMlFLQqrkECWQzOZxYGjTlOl8eeKaIY5yHnFn486xBustDjWT6dG7pmjHOJd+33t0iitTPkK6tEvjxq4h2MozQ6WFSX/LkDUGfFwfhEZj1Auz/U4pyAi5Sznd7uKzznXeVHlI/Aywmk6j7fsUsEuCGADrWARXXwjxWQsUbIupDHJI7kF5dRktg0eN81IbiZXiTESic50iwS+t1oJgL83jAiBupLDCQqwziaWSoAFSeIR3P5Xv5az00wyIn35QRYTwdSYbz8pH8fxUUAtxnFvYmEmgI0wYXUXcCCSpeEVpXlsRhBnCEATxWylL9+EKCAYhe1NGstUa6356kS9NVvt3DU2fd+Wtbm/+lSbylJqsqkSm9CRhvoJVlvKPvF1RKY/FcPn5j4UfIMLn8D4UYb54BNsilTDXKnF4CfTobA0FpoW/LSp306wkXM+XaOJhZaFkcNM82ASNAWMrhrUbRfmyeI1FvRBTpN06WKxa9BK0o2E4Pd3zfBBEwPsv9sQBnmLVbLEIZ/Xe9LYwJu/Er17W6HYVBc7vmuk0xUQ+pqxdom5Fnp55SiytXLPYoMXNM4u4SNSCFWnrVIzKG3EGyMXo6n/BQOe+bX3FClY4PwydVhthOZ9NnS+ntiLh0fxtlUJHAuGaFoVmttpVMeum0p3WEXbcll94l1wM/gZ0Ccczop77VvN2I7TlsZCsuXf1WHvWEhjO8DPtyOVg2/mvK9QqboEth+7pD6NUQC1HN/TwvydGBARi9MZSzLE4b8Ru3XhX2PBxf8E1er2A6516o0w4sIA+lwURhAON82Kwe2iDAC1Watq4XHaGQ7skLcFOtI5lDxuM2gZe6WFIotPAhbaeYlU4to5cuarF1QrcZ/lwrLaCJl66JBocYZnrNlvm2+MBCTmUymPrYZVbjdlr/BxlMjmNmNI3SAAAAAElFTkSuQmCC"}]}const u1=Ov({name:"FlowChart",components:{BasicModal:K_,FlowChartToolbar:rw,JsonPreview:q_},props:{flowOptions:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},toolbar:{type:Boolean,default:!0},patternItems:{type:Array}},setup(y){const h=Ia(null),c=Ia({}),f=Ia(null),{prefixCls:a}=H_("flow-chart"),p=G_(),[l,{openModal:b}]=Z_();J_({logicFlow:f});const O=U_(()=>{const{flowOptions:P}=y;return $c({grid:!0,background:{color:p.getDarkMode==="light"?"#f7f9ff":"#151515"},keyboard:{enabled:!0}},P)});Ky(()=>y.data,()=>{_()}),Ky(()=>un(O),P=>{var A;(A=un(f))==null||A.updateEditConfig(P)});function w(){return Ra(this,null,function*(){yield Jc();const P=un(h);if(!P)return;Po.use(Bw),Po.use(Pw),Po.use(Sw),Po.use(zw),Po.use(Fw),f.value=new Po(Yy($c({},un(O)),{container:P}));const A=un(f);A==null||A.setDefaultEdgeType("line"),_(),A==null||A.setPatternItems(y.patternItems||a1(A))})}function _(){return Ra(this,null,function*(){yield Jc();const P=un(f);if(!P)return;const A=i1(y.data);P.render(A)})}function S(){const P=un(f);!P||(c.value=un(P).getGraphData(),b())}return X_(w),{register:l,prefixCls:a,lfElRef:h,handlePreview:S,graphData:c}}}),c1={ref:"lfElRef",class:"h-full"};function s1(y,h,c,f,a,p){const l=Cr("FlowChartToolbar"),b=Cr("JsonPreview"),O=Cr("BasicModal");return Dr(),_i("div",{class:La(["h-full",y.prefixCls])},[y.toolbar?(Dr(),is(l,{key:0,prefixCls:y.prefixCls,onViewData:y.handlePreview},null,8,["prefixCls","onViewData"])):Qc("",!0),V_("div",c1,null,512),Si(O,{onRegister:y.register,title:"\u6D41\u7A0B\u6570\u636E",width:"50%"},{default:Fa(()=>[Si(b,{data:y.graphData},null,8,["data"])]),_:1},8,["onRegister"])],2)}var l1=os(u1,[["render",s1]]);const f1=Y_(l1),p1=[{incoming:[],outgoing:["Flow_33inf2k"],dockers:[],type:2,properties:{a:"efrwe",b:"wewe",name:"\u5F00\u59CB",x:280,y:200,text:{x:280,y:200,value:"\u5F00\u59CB"},logicFlowType:"bpmn:startEvent"},key:"Event_1d42u4p"},{incoming:["Flow_379e0o9"],outgoing:[],dockers:[],type:3,properties:{a:"efrwe",b:"wewe",name:"\u7ED3\u675F",x:920,y:200,text:{x:920,y:200,value:"\u7ED3\u675F"},logicFlowType:"bpmn:endEvent"},key:"Event_08p8i6q"},{incoming:["Flow_0pfouf0"],outgoing:["Flow_3918lhh"],dockers:[],type:6,properties:{a:"efrwe",b:"wewe",name:"\u7F51\u5173",x:580,y:200,text:{x:580,y:200,value:"\u7F51\u5173"},logicFlowType:"bpmn:exclusiveGateway"},key:"Gateway_1fngqgj"},{incoming:["Flow_33inf2k"],outgoing:["Flow_0pfouf0"],dockers:[],type:4,properties:{a:"efrwe",b:"wewe",name:"\u7528\u6237",x:420,y:200,text:{x:420,y:200,value:"\u7528\u6237"},logicFlowType:"bpmn:userTask"},key:"Activity_2mgtaia"},{incoming:["Flow_3918lhh"],outgoing:["Flow_379e0o9"],dockers:[],type:5,properties:{a:"efrwe",b:"wewe",name:"\u670D\u52A1",x:760,y:200,text:{x:760,y:200,value:"\u670D\u52A1"},logicFlowType:"bpmn:serviceTask"},key:"Activity_1sp8qc8"},{incoming:["Event_1d42u4p"],outgoing:["Activity_2mgtaia"],type:1,dockers:[],properties:{name:"\u8FB9",text:{x:331,y:200,value:"\u8FB9"},startPoint:{x:298,y:200},endPoint:{x:370,y:200},pointsList:[{x:298,y:200},{x:370,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_33inf2k"},{incoming:["Activity_2mgtaia"],outgoing:["Gateway_1fngqgj"],type:1,dockers:[],properties:{name:"\u8FB92",text:{x:507,y:200,value:"\u8FB92"},startPoint:{x:470,y:200},endPoint:{x:555,y:200},pointsList:[{x:470,y:200},{x:555,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_0pfouf0"},{incoming:["Gateway_1fngqgj"],outgoing:["Activity_1sp8qc8"],type:1,dockers:[],properties:{name:"\u8FB93",text:{x:664,y:200,value:"\u8FB93"},startPoint:{x:605,y:200},endPoint:{x:710,y:200},pointsList:[{x:605,y:200},{x:710,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_3918lhh"},{incoming:["Activity_1sp8qc8"],outgoing:["Event_08p8i6q"],type:1,dockers:[],properties:{name:"\u8FB94",text:{x:871,y:200,value:"\u8FB94"},startPoint:{x:810,y:200},endPoint:{x:902,y:200},pointsList:[{x:810,y:200},{x:902,y:200}],logicFlowType:"bpmn:sequenceFlow"},key:"Flow_379e0o9"}];var d1={flowElementList:p1};const h1={components:{FlowChart:f1,PageWrapper:$_},setup(){return{demoData:d1}}};function y1(y,h,c,f,a,p){const l=Cr("FlowChart"),b=Cr("PageWrapper");return Dr(),is(b,{title:"\u6D41\u7A0B\u56FE",content:"\u7B80\u5355\u6D41\u7A0B\u56FE\u793A\u4F8B,\u5177\u4F53\u529F\u80FD\u9700\u8981\u81EA\u5DF1\u5B8C\u5584",contentFullHeight:"",fixedHeight:""},{default:Fa(()=>[Si(l,{data:f.demoData},null,8,["data"])]),_:1})}var D1=os(h1,[["render",y1]]);export{D1 as default};
