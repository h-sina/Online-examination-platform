var R=Object.defineProperty,y=Object.defineProperties;var S=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var K=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var C=(t,n,a)=>n in t?R(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,b=(t,n)=>{for(var a in n||(n={}))K.call(n,a)&&C(t,a,n[a]);if(h)for(var a of h(n))T.call(n,a)&&C(t,a,n[a]);return t},P=(t,n)=>y(t,S(n));var _=(t,n,a)=>new Promise((d,c)=>{var g=o=>{try{l(a.next(o))}catch(u){c(u)}},s=o=>{try{l(a.throw(o))}catch(u){c(u)}},l=o=>o.done?d(o.value):Promise.resolve(o.value).then(g,s);l((a=a.apply(t,n)).next())});import{g as A,d as V,a as $}from"./knowledgePoint.3c7317be.js";import{U as j,a as M,cP as O,dc as U,s as x,f as z,v as L,a5 as G,at as H,J as f,o as r,h as w,n as v,y as m,X as J,Y as X,m as p,j as N,E as Y,z as F,t as q,k as Q,a3 as W,H as Z}from"./index.66dc6cca.js";const{notification:B}=Z(),ee=M({components:{CheckOutlined:O,EditOutlined:U},setup(){const t=[{title:"id",dataIndex:"id",width:"10%",slots:{customRender:"id"}},{title:"courseName",dataIndex:"courseName",slots:{customRender:"courseName"}},{title:"name",dataIndex:"name",slots:{customRender:"name"}},{title:"pointDescribe",dataIndex:"pointDescribe",slots:{customRender:"pointDescribe"}},{title:"superPointName",dataIndex:"superPointName",slots:{customRender:"superPointName"}},{title:"\u64CD\u4F5C1",dataIndex:"operation",slots:{customRender:"operation"}},{title:"\u64CD\u4F5C2",dataIndex:"operation1",slots:{customRender:"operation1"}}],n=x([{key:"0",name:"Edward King 0",age:32,address:"London, Park Lane no. 0"},{key:"1",name:"Edward King 1",age:32,address:"London, Park Lane no. 1"}]),a=z(()=>n.value.length+1),d=L({}),c=e=>{d[e]=W(o.knowledgePointList.filter(i=>e===i.id)[0]),d[e]},g=e=>{let i=o.knowledgePointList.filter(k=>e===k.id);Object.assign(o.knowledgePointList.filter(k=>e===k.id)[0],d[e]),delete d[e]},s=e=>{n.value=n.value.filter(i=>i.key!==e),E(e),u(),o.knowledgePointList=o.knowledgePointList.filter(i=>i.key!==e)},l=()=>{const e={name:"string",pointDescribe:"string",superPoint:0};n.value.push(e),o.knowledgePointList.push(e),I(e)},o=L({knowledgePointList:[]});G(()=>{u()});function u(){return _(this,null,function*(){let e=yield A({pageNum:10,pageSize:0});o.knowledgePointList=e.data.list})}function E(e){return _(this,null,function*(){let i=yield V(e);D(i)})}function I(e){return _(this,null,function*(){let i=yield $(e);D(i)})}function D(e){e.code==="ITEST-200"?B.success({message:e.msg,duration:3}):B.error({message:"\u5904\u7406\u5931\u8D25\u8BF7\u8054\u7CFB\u5DE5\u4F5C\u4EBA\u5458",duration:3})}return P(b({},H(o)),{columns:t,onDelete:s,handleAdd:l,dataSource:n,editableData:d,count:a,edit:c,save:g})}}),te=F("\u6DFB\u52A0\u77E5\u8BC6\u70B9"),ne=p("a",null,"\u5220\u9664",-1),oe={class:"editable-row-operations"},ae={key:0},se=["onClick"],ie=p("a",null,"\u53D6\u6D88",-1),le={key:1},de=["onClick"];function ue(t,n){const a=f("a-button"),d=f("a-input"),c=f("a-popconfirm"),g=f("a-table");return r(),w("div",null,[v(a,{shape:"round",class:"editable-add-btn m-5",onClick:t.handleAdd},{default:m(()=>[te]),_:1},8,["onClick"]),v(g,{bordered:"","data-source":t.knowledgePointList,columns:t.columns,class:"m-5"},J({operation:m(({record:s})=>[t.knowledgePointList.length?(r(),N(c,{key:0,title:"Sure to delete?",onConfirm:l=>t.onDelete(s.id)},{default:m(()=>[ne]),_:2},1032,["onConfirm"])):Q("",!0)]),operation1:m(({record:s})=>[p("div",oe,[t.editableData[s.id]?(r(),w("span",ae,[p("a",{onClick:l=>t.save(s.id)},"\u4FDD\u5B58",8,se),v(c,{title:"Sure to cancel?",onConfirm:l=>t.cancel(s.id)},{default:m(()=>[ie]),_:2},1032,["onConfirm"])])):(r(),w("span",le,[p("a",{onClick:l=>t.edit(s.id)},"\u7F16\u8F91",8,de)]))])]),_:2},[X(["id","courseName","name","pointDescribe","superPointName"],s=>({name:s,fn:m(({text:l,record:o})=>[p("div",null,[t.editableData[o.id]?(r(),N(d,{key:0,value:t.editableData[o.id][s],"onUpdate:value":u=>t.editableData[o.id][s]=u,style:{margin:"-5px 0"}},null,8,["value","onUpdate:value"])):(r(),w(Y,{key:1},[F(q(l),1)],64))])])}))]),1032,["data-source","columns"])])}var pe=j(ee,[["render",ue]]);export{pe as default};
