var $=Object.defineProperty,M=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var z=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var J=(o,e,a)=>e in o?$(o,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):o[e]=a,H=(o,e)=>{for(var a in e||(e={}))Q.call(e,a)&&J(o,a,e[a]);if(z)for(var a of z(e))R.call(e,a)&&J(o,a,e[a]);return o},O=(o,e)=>M(o,V(e));var B=(o,e,a)=>new Promise((y,E)=>{var D=n=>{try{d(a.next(n))}catch(r){E(r)}},m=n=>{try{d(a.throw(n))}catch(r){E(r)}},d=n=>n.done?y(n.value):Promise.resolve(n.value).then(D,m);d((a=a.apply(o,e)).next())});import{U as x,a as K,s as Y,v as G,a5 as W,bk as X,at as Z,J as i,o as v,h as T,m as p,n as t,y as s,w as L,x as A,E as q,Y as j,j as U,z as _,t as C,bJ as ee,bK as oe,H as ue}from"./index.5903aaea.js";import{i as P,j as te,a as se}from"./question.a0439744.js";import{_ as ae}from"./null.7f383d35.js";import{C as ne}from"./CheckCircleTwoTone.3aecf193.js";const{notification:N}=ue(),re=K({name:"Exam",components:{CheckCircleTwoTone:ne},setup(){const o=Y(null),e=G({permissionList:["\u4EC5\u81EA\u5DF1\u53EF\u89C1","\u516C\u5F00"],typeList:["\u5224\u65AD\u9898","\u5355\u9009\u9898","\u591A\u9009\u9898","\u586B\u7A7A\u9898","\u8BBA\u8FF0\u9898"],showF:!0,showS:!1,showE:!1,currentStep:0,formF:{description:"",name:"",permission:-1},formFC:{description:"",name:"",permission:-1},quesTempList:[],quesItem:{orderId:1,questionId:0,score:0},formS:{name:"",orderId:1,paperId:0,quesTempList:[],totalScore:0,type:1},formSC:{name:"",orderId:1,paperId:0,quesTempList:[],totalScore:0,type:1},obj:{orderRule:0,pageNum:1,pageSize:20,level:0,type:0},list:[]});function a(){F(),I(),h(!1),f(!0)}function y(){return B(this,null,function*(){e.quesTempList.forEach((c,S)=>{let k=e.quesItem;k.orderId=S+1,k.questionId=c,k.score=10,e.formS.quesTempList.push(k)});const u=yield P(e.formS);m(u);let l=e.formS.orderId;F(),e.formS.orderId=l+1})}function E(){return B(this,null,function*(){e.quesTempList.forEach((l,c)=>{let S=e.quesItem;S.orderId=c+1,S.questionId=l,S.score=10,e.formS.quesTempList.push(S)});const u=yield P(e.formS);F(),g(!1),h(!0),m(u)})}function D(){return B(this,null,function*(){if(e.formF,e.formF.description===""||e.formF.name==="")N.error({message:"\u4E0D\u80FD\u4E3A\u7A7A",duration:3});else{d();let u=yield te(e.formF);e.formS.paperId=u.data,m(u),f(!1),g(!0)}})}function m(u){u.code==="ITEST-200"?N.success({message:u.msg,duration:3}):N.error({message:"\u521B\u5EFA\u5931\u8D25\u8BF7\u8054\u7CFB\u5DE5\u4F5C\u4EBA\u5458",duration:3})}function d(){return B(this,null,function*(){e.obj.type=e.formS.type|0;let u=yield se(e.obj);e.list=u.data.list,e.list.map(l=>{l.level===1?l.level="\u7B80\u5355\u9898":l.level===2?l.level="\u4E2D\u7B49\u9898":l.level="\u56F0\u96BE\u9898"})})}W(()=>{o.value.addEventListener("scroll",r,!0)}),X(()=>{});function n(u,l){let c;return function(){c||(c=setTimeout(()=>{u(),c=null},l))}}function r(){o.value.scrollTop+o.value.clientHeight+1>=o.value.scrollHeight&&b()}function b(){e.obj.pageSize+=10,d()}function w(){e.obj.pageSize=10,d()}function f(u){e.showF=u,u&&(e.currentStep=0)}function g(u){e.showS=u,u&&(e.currentStep=1)}function h(u){e.showE=u,u&&(e.currentStep=2)}function I(){e.formF=JSON.parse(JSON.stringify(e.formFC))}function F(){e.formS=JSON.parse(JSON.stringify(e.formSC)),e.quesTempList=[]}return O(H({},Z(e)),{seeHeight:o,submitF:D,submitS:E,submitSS:y,changeList:w,lazyLoad:b,Srcoll:r,getQuestionList:d,throttle:n,clearFormS:F,clearFormF:I,showformS:g,showformF:f,showformE:h,againPaper:a})}}),le=o=>(ee("data-v-2dbb1bf5"),o=o(),oe(),o),ie={class:"flex justify-center"},de={class:"demo-wrap p-10 m-5"},me={class:"m-10"},pe=_("\u{1F449}\u4E0B\u4E00\u6B65"),fe={class:"m-10"},ce={style:{height:"200px",border:"1px solid black","border-radius":"5px",overflow:"auto"},class:"m-5 p-5",ref:"seeHeight"},ve={src:ae},_e=_("\u7EE7\u7EED\u6DFB\u52A0\u5927\u9898"),Fe=_("\u7ED3\u675F\u7EC4\u5377"),Se={class:"flex justify-center mt-20",style:{"flex-direction":"column"}},Ce=le(()=>p("div",{class:"flex justify-center mt-5",style:{"font-size":"20px"}},"\u5B8C\u6210\u7EC4\u5377",-1)),Ee={class:"flex justify-center mt-10"},be=_("\u518D\u6B21\u7EC4\u5377");function ge(o,e,a,y,E,D){const m=i("a-step"),d=i("a-steps"),n=i("a-input"),r=i("a-form-item"),b=i("a-radio"),w=i("a-radio-group"),f=i("a-button"),g=i("a-card"),h=i("a-checkbox"),I=i("a-checkbox-group"),F=i("CheckCircleTwoTone");return v(),T("div",null,[p("div",ie,[p("div",de,[t(d,{current:o.currentStep},{default:s(()=>[t(m,{title:"\u7B2C\u4E00\u6B65",description:"\u6DFB\u52A0\u63CF\u8FF0"}),t(m,{title:"\u7B2C\u4E8C\u6B65",description:"\u6DFB\u52A0\u5927\u9898"}),t(m,{title:"\u7EC4\u5377",description:"\u5C06\u4F1A\u82B1\u70B9\u65F6\u95F4..."})]),_:1},8,["current"]),L(p("div",me,[t(r,{label:"\u8BD5\u5377\u540D\u79F0"},{default:s(()=>[t(n,{value:o.formF.name,"onUpdate:value":e[0]||(e[0]=u=>o.formF.name=u),label:"name"},null,8,["value"])]),_:1}),t(r,{label:"\u8BD5\u5377\u63CF\u8FF0"},{default:s(()=>[t(n,{type:"text",value:o.formF.description,"onUpdate:value":e[1]||(e[1]=u=>o.formF.description=u)},null,8,["value"])]),_:1}),t(r,{label:"\u8BD5\u5377\u6743\u9650"},{default:s(()=>[t(w,{value:o.formF.permission,"onUpdate:value":e[2]||(e[2]=u=>o.formF.permission=u)},{default:s(()=>[(v(!0),T(q,null,j(o.permissionList,(u,l)=>(v(),U(b,{value:--l,name:"level"},{default:s(()=>[_(C(u),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"])]),_:1}),t(f,{shape:"round",onClick:o.submitF},{default:s(()=>[pe]),_:1},8,["onClick"])],512),[[A,o.showF]]),L(p("div",fe,[t(r,{label:"\u5927\u9898\u5E8F\u53F7"},{default:s(()=>[t(n,{type:"text",value:o.formS.orderId,"onUpdate:value":e[3]||(e[3]=u=>o.formS.orderId=u),disabled:""},null,8,["value"])]),_:1}),t(r,{label:"\u5927\u9898\u540D\u79F0"},{default:s(()=>[t(n,{type:"text",value:o.formS.name,"onUpdate:value":e[4]||(e[4]=u=>o.formS.name=u),label:"name"},null,8,["value"])]),_:1}),t(r,{label:"\u5927\u9898\u603B\u5206"},{default:s(()=>[t(n,{type:"number",value:o.formS.totalScore,"onUpdate:value":e[5]||(e[5]=u=>o.formS.totalScore=u)},null,8,["value"])]),_:1}),t(r,{label:"\u5927\u9898\u7C7B\u578B"},{default:s(()=>[t(w,{value:o.formS.type,"onUpdate:value":e[6]||(e[6]=u=>o.formS.type=u),onChange:o.changeList},{default:s(()=>[(v(!0),T(q,null,j(o.typeList,(u,l)=>(v(),U(b,{value:++l,name:"type"},{default:s(()=>[_(C(u),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value","onChange"])]),_:1}),t(r,{label:"\u5C0F\u9898"},{default:s(()=>[p("div",ce,[t(I,{value:o.quesTempList,"onUpdate:value":e[7]||(e[7]=u=>o.quesTempList=u)},{default:s(()=>[(v(!0),T(q,null,j(o.list,u=>(v(),U(h,{type:"checkbox",value:u.id,style:{margin:"0"}},{default:s(()=>[t(g,{style:{width:"300px","margin-top":"5px"}},{default:s(()=>[_(C(u.title)+"-"+C(u.knowledgeName)+"-"+C(u.level)+"-"+C(u.analysis),1)]),_:2},1024)]),_:2},1032,["value"]))),256))]),_:1},8,["value"]),L(p("img",ve,null,512),[[A,o.list.length===0]])],512)]),_:1}),t(f,{shape:"round",onClick:o.submitSS,class:"mt-5 mr-40"},{default:s(()=>[_e]),_:1},8,["onClick"]),t(f,{shape:"round",onClick:o.submitS,class:"mt-5"},{default:s(()=>[Fe]),_:1},8,["onClick"])],512),[[A,o.showS]]),L(p("div",Se,[t(F,{style:{fontSize:"100px"}}),Ce,p("div",Ee,[t(f,{shape:"round",onClick:o.againPaper},{default:s(()=>[be]),_:1},8,["onClick"])])],512),[[A,o.showE]])])])])}var Ie=x(re,[["render",ge],["__scopeId","data-v-2dbb1bf5"]]);export{Ie as default};
