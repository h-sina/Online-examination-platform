var J=Object.defineProperty,O=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var N=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var P=(u,e,n)=>e in u?J(u,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):u[e]=n,$=(u,e)=>{for(var n in e||(e={}))R.call(e,n)&&P(u,n,e[n]);if(N)for(var n of N(e))x.call(e,n)&&P(u,n,e[n]);return u},M=(u,e)=>O(u,Q(e));var y=(u,e,n)=>new Promise((k,B)=>{var w=l=>{try{p(n.next(l))}catch(r){B(r)}},c=l=>{try{p(n.throw(l))}catch(r){B(r)}},p=l=>l.done?k(l.value):Promise.resolve(l.value).then(w,c);p((n=n.apply(u,e)).next())});import{U as K,a as Y,s as G,v as W,a5 as X,bk as Z,at as ee,J as m,o as _,h as L,m as f,n as s,y as a,w as A,x as q,E as j,Y as U,j as z,z as F,t as E,bJ as ue,bK as oe,H as te}from"./index.572c67d6.js";import{i as V,j as se,a as ae}from"./question.9c03e846.js";import{_ as ne}from"./null.7f383d35.js";import{C as le}from"./CheckCircleTwoTone.d1d8465d.js";const{notification:H}=te(),re=Y({name:"Exam",components:{CheckCircleTwoTone:le},setup(){const u=G(null),e=W({permissionList:["\u4EC5\u81EA\u5DF1\u53EF\u89C1","\u516C\u5F00"],typeList:["\u5224\u65AD\u9898","\u5355\u9009\u9898","\u591A\u9009\u9898","\u586B\u7A7A\u9898","\u8BBA\u8FF0\u9898"],showF:!0,showS:!1,showE:!1,currentStep:0,formF:{description:"",name:"",permission:-1},quesTempList:[],quesItem:{orderId:1,questionId:0,score:0},formS:{name:"",orderId:1,paperId:0,quesTempList:[],totalScore:0,type:1},obj:{orderRule:0,pageNum:1,pageSize:20,level:0,type:0},list:[]});function n(){S(),I(),b(!1),v(!0)}function k(){return y(this,null,function*(){e.quesTempList.forEach((d,h)=>{let T=e.quesItem;T.orderId=h+1,T.questionId=d,T.score=10,e.formS.quesTempList.push(T)});const o=yield V(e.formS);c(o);let i=e.formS.orderId;S(),e.formS.orderId=i+1})}function B(){return y(this,null,function*(){e.quesTempList.forEach((i,d)=>{let h=e.quesItem;h.orderId=d+1,h.questionId=i,h.score=10,e.formS.quesTempList.push(h)});const o=yield V(e.formS);S(),g(!1),b(!0),c(o)})}function w(){return y(this,null,function*(){if(e.formF,e.formF.description===""||e.formF.name==="")H.error({message:"\u4E0D\u80FD\u4E3A\u7A7A",duration:3});else{p();let o=yield se(e.formF);e.formS.paperId=o.data,c(o),v(!1),g(!0)}})}function c(o){o.code==="ITEST-200"?H.success({message:o.msg,duration:3}):H.error({message:"\u521B\u5EFA\u5931\u8D25\u8BF7\u8054\u7CFB\u5DE5\u4F5C\u4EBA\u5458",duration:3})}function p(){return y(this,null,function*(){e.obj.type=e.formS.type|0;let o=yield ae(e.obj);e.list=o.data.list,e.list.map(i=>{i.level===1?i.level="\u7B80\u5355\u9898":i.level===2?i.level="\u4E2D\u7B49\u9898":i.level="\u56F0\u96BE\u9898"})})}X(()=>{u.value.addEventListener("scroll",r,!0)}),Z(()=>{});function l(o,i){let d;return function(){d||(d=setTimeout(()=>{o(),d=null},i))}}function r(){u.value.scrollTop+u.value.clientHeight+1>=u.value.scrollHeight&&C()}function C(){e.obj.pageSize+=10,p()}function D(){e.obj.pageSize=10,p()}function v(o){e.showF=o,o&&(e.currentStep=0)}function g(o){e.showS=o,o&&(e.currentStep=1)}function b(o){e.showE=o,o&&(e.currentStep=2)}function I(){t(e.formF,{permission:-1})}function S(){e.quesTempList=[],t(e.formS,{orderId:1,type:1})}function t(o,i){Object.keys(o).forEach(d=>{switch(typeof o[d]){case"string":o[d]="";break;case"number":o[d]=0;break}}),Object.keys(i).map(d=>{o[d]=i[d]})}return M($({},ee(e)),{seeHeight:u,submitF:w,submitS:B,submitSS:k,changeList:D,lazyLoad:C,Srcoll:r,getQuestionList:p,throttle:l,clearFormS:S,clearFormF:I,showformS:g,showformF:v,showformE:b,againPaper:n})}}),ie=u=>(ue("data-v-ae584c1c"),u=u(),oe(),u),de={class:"flex justify-center"},me={class:"demo-wrap p-10 m-5"},pe={class:"m-10"},ce=F("\u{1F449}\u4E0B\u4E00\u6B65"),fe={class:"m-10"},ve={style:{height:"200px",border:"1px solid black","border-radius":"5px",overflow:"auto"},class:"m-5 p-5",ref:"seeHeight"},_e={src:ne},Fe=F("\u7EE7\u7EED\u6DFB\u52A0\u5927\u9898"),Se=F("\u7ED3\u675F\u7EC4\u5377"),he={class:"flex justify-center mt-20",style:{"flex-direction":"column"}},Ee=ie(()=>f("div",{class:"flex justify-center mt-5",style:{"font-size":"20px"}},"\u5B8C\u6210\u7EC4\u5377",-1)),Be={class:"flex justify-center mt-10"},Ce=F("\u518D\u6B21\u7EC4\u5377");function ge(u,e,n,k,B,w){const c=m("a-step"),p=m("a-steps"),l=m("a-input"),r=m("a-form-item"),C=m("a-radio"),D=m("a-radio-group"),v=m("a-button"),g=m("a-card"),b=m("a-checkbox"),I=m("a-checkbox-group"),S=m("CheckCircleTwoTone");return _(),L("div",null,[f("div",de,[f("div",me,[s(p,{current:u.currentStep},{default:a(()=>[s(c,{title:"\u7B2C\u4E00\u6B65",description:"\u6DFB\u52A0\u63CF\u8FF0"}),s(c,{title:"\u7B2C\u4E8C\u6B65",description:"\u6DFB\u52A0\u5927\u9898"}),s(c,{title:"\u7EC4\u5377",description:"\u5C06\u4F1A\u82B1\u70B9\u65F6\u95F4..."})]),_:1},8,["current"]),A(f("div",pe,[s(r,{label:"\u8BD5\u5377\u540D\u79F0"},{default:a(()=>[s(l,{value:u.formF.name,"onUpdate:value":e[0]||(e[0]=t=>u.formF.name=t),label:"name"},null,8,["value"])]),_:1}),s(r,{label:"\u8BD5\u5377\u63CF\u8FF0"},{default:a(()=>[s(l,{type:"text",value:u.formF.description,"onUpdate:value":e[1]||(e[1]=t=>u.formF.description=t)},null,8,["value"])]),_:1}),s(r,{label:"\u8BD5\u5377\u6743\u9650"},{default:a(()=>[s(D,{value:u.formF.permission,"onUpdate:value":e[2]||(e[2]=t=>u.formF.permission=t)},{default:a(()=>[(_(!0),L(j,null,U(u.permissionList,(t,o)=>(_(),z(C,{value:--o,name:"level"},{default:a(()=>[F(E(t),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"])]),_:1}),s(v,{shape:"round",onClick:u.submitF},{default:a(()=>[ce]),_:1},8,["onClick"])],512),[[q,u.showF]]),A(f("div",fe,[s(r,{label:"\u5927\u9898\u5E8F\u53F7"},{default:a(()=>[s(l,{type:"text",value:u.formS.orderId,"onUpdate:value":e[3]||(e[3]=t=>u.formS.orderId=t),disabled:""},null,8,["value"])]),_:1}),s(r,{label:"\u5927\u9898\u540D\u79F0"},{default:a(()=>[s(l,{type:"text",value:u.formS.name,"onUpdate:value":e[4]||(e[4]=t=>u.formS.name=t),label:"name"},null,8,["value"])]),_:1}),s(r,{label:"\u5927\u9898\u603B\u5206"},{default:a(()=>[s(l,{type:"number",value:u.formS.totalScore,"onUpdate:value":e[5]||(e[5]=t=>u.formS.totalScore=t)},null,8,["value"])]),_:1}),s(r,{label:"\u5927\u9898\u7C7B\u578B"},{default:a(()=>[s(D,{value:u.formS.type,"onUpdate:value":e[6]||(e[6]=t=>u.formS.type=t),onChange:u.changeList},{default:a(()=>[(_(!0),L(j,null,U(u.typeList,(t,o)=>(_(),z(C,{value:++o,name:"type"},{default:a(()=>[F(E(t),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value","onChange"])]),_:1}),s(r,{label:"\u5C0F\u9898"},{default:a(()=>[f("div",ve,[s(I,{value:u.quesTempList,"onUpdate:value":e[7]||(e[7]=t=>u.quesTempList=t)},{default:a(()=>[(_(!0),L(j,null,U(u.list,t=>(_(),z(b,{type:"checkbox",value:t.id,style:{margin:"0"}},{default:a(()=>[s(g,{style:{width:"300px","margin-top":"5px"}},{default:a(()=>[F(E(t.title)+"-"+E(t.knowledgeName)+"-"+E(t.level)+"-"+E(t.analysis),1)]),_:2},1024)]),_:2},1032,["value"]))),256))]),_:1},8,["value"]),A(f("img",_e,null,512),[[q,u.list.length===0]])],512)]),_:1}),s(v,{shape:"round",onClick:u.submitSS,class:"mt-5 mr-40"},{default:a(()=>[Fe]),_:1},8,["onClick"]),s(v,{shape:"round",onClick:u.submitS,class:"mt-5"},{default:a(()=>[Se]),_:1},8,["onClick"])],512),[[q,u.showS]]),A(f("div",he,[s(S,{style:{fontSize:"100px"}}),Ee,f("div",Be,[s(v,{shape:"round",onClick:u.againPaper},{default:a(()=>[Ce]),_:1},8,["onClick"])])],512),[[q,u.showE]])])])])}var Ie=K(re,[["render",ge],["__scopeId","data-v-ae584c1c"]]);export{Ie as default};
