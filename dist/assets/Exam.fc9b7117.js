var J=Object.defineProperty,V=Object.defineProperties;var Q=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var R=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable;var O=(u,e,n)=>e in u?J(u,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):u[e]=n,P=(u,e)=>{for(var n in e||(e={}))R.call(e,n)&&O(u,n,e[n]);if(M)for(var n of M(e))x.call(e,n)&&O(u,n,e[n]);return u},$=(u,e)=>V(u,Q(e));var B=(u,e,n)=>new Promise((h,E)=>{var w=l=>{try{v(n.next(l))}catch(r){E(r)}},c=l=>{try{v(n.throw(l))}catch(r){E(r)}},v=l=>l.done?h(l.value):Promise.resolve(l.value).then(w,c);v((n=n.apply(u,e)).next())});import{U as Y,a as G,s as K,v as W,a5 as X,bk as Z,at as ee,J as d,o as _,h as A,m,n as s,y as a,w as L,x as T,E as U,Y as z,j as N,z as S,t as g,bL as ue,bM as oe,H as te}from"./index.7213dd96.js";import{j as se,a as ae,k as ne}from"./question.f7a7f083.js";import{C as re}from"./CheckCircleTwoTone.32c2c90e.js";var le="/assets/null.2967ee71.jpg";const{notification:j}=te(),ie=G({name:"Exam",components:{CheckCircleTwoTone:re},setup(){const u=K(null),e=W({permissionList:["\u4EC5\u81EA\u5DF1\u53EF\u89C1","\u516C\u5F00"],typeList:["\u5224\u65AD\u9898","\u5355\u9009\u9898","\u591A\u9009\u9898","\u586B\u7A7A\u9898","\u8BBA\u8FF0\u9898"],showF:!0,showS:!1,showE:!1,currentStep:0,paperId:0,formF:{description:"",name:"",permission:-1},quesTempList:[],quesItem:{orderId:1,questionId:0,score:0},formS:{name:"",orderId:1,paperId:0,quesTempList:[],totalScore:0,type:1},obj:{orderRule:0,pageNum:1,pageSize:20,level:0,type:0},list:[]});function n(){f(),t(),D(!1),y(!0)}function h(){return B(this,null,function*(){e.quesTempList.forEach((p,i)=>{let I=JSON.parse(JSON.stringify(e.quesItem));I.orderId=i+1,I.questionId=p,I.score=10,e.formS.quesTempList.push(I)});const o=yield ne(e.formS);l(o)})}const E=()=>{let o=e.formS.name&&e.formS.quesTempList&&e.formS.totalScore;return o||j.error({message:"\u5B57\u6BB5\u4E0D\u80FD\u4E3A\u7A7A",duration:3}),o};function w(){return B(this,null,function*(){if(!E())return;h();let o=e.formS.orderId;f(),e.formS.orderId=o+1})}function c(){return B(this,null,function*(){!E()||(h(),f(),k(!1),D(!0))})}function v(){return B(this,null,function*(){if(e.formF,e.formF.description===""||e.formF.name==="")j.error({message:"\u4E0D\u80FD\u4E3A\u7A7A",duration:3});else{r();let o=yield se(e.formF);e.formS.paperId=o.data,e.paperId=o.data,l(o),y(!1),k(!0)}})}function l(o){o.code==="ITEST-200"?j.success({message:o.msg,duration:3}):j.error({message:"\u521B\u5EFA\u5931\u8D25\u8BF7\u8054\u7CFB\u5DE5\u4F5C\u4EBA\u5458",duration:3})}function r(){return B(this,null,function*(){e.obj.type=e.formS.type|0;let o=yield ae(e.obj);e.list=o.data.list,e.list.map(p=>{p.level===1?p.level="\u7B80\u5355\u9898":p.level===2?p.level="\u4E2D\u7B49\u9898":p.level="\u56F0\u96BE\u9898"})})}X(()=>{u.value.addEventListener("scroll",b(C,4e3),!0)}),Z(()=>{});function b(o,p){let i;return function(){i||(i=setTimeout(()=>{o(),i=null},p))}}function C(){u.value.scrollTop+u.value.clientHeight+1>=u.value.scrollHeight&&F()}function F(){e.obj.pageSize+=10,r()}function q(){e.obj.pageSize=10,e.quesTempList=[],r()}function y(o){e.showF=o,o&&(e.currentStep=0)}function k(o){e.showS=o,o&&(e.currentStep=1)}function D(o){e.showE=o,o&&(e.currentStep=2)}function t(){H(e.formF,{permission:-1})}function f(){e.quesTempList=[],H(e.formS,{orderId:1,type:1,paperId:e.paperId})}function H(o,p){Object.keys(o).forEach(i=>{switch(typeof o[i]){case"string":o[i]="";break;case"number":o[i]=0;break;case"object":o[i]=[];break}}),Object.keys(p).map(i=>{o[i]=p[i]})}return $(P({},ee(e)),{seeHeight:u,submitF:v,submitS:c,submitSS:w,changeList:q,lazyLoad:F,Srcoll:C,getQuestionList:r,throttle:b,clearFormS:f,clearFormF:t,showformS:k,showformF:y,showformE:D,againPaper:n})}}),pe=u=>(ue("data-v-d25e1f60"),u=u(),oe(),u),de={class:"flex justify-center"},me={class:"demo-wrap p-10 m-5"},fe={class:"m-10"},ce=S("\u{1F449}\u4E0B\u4E00\u6B65"),ve={class:"m-10"},Fe={style:{height:"500px",border:"1px solid black","border-radius":"5px",overflow:"auto"},class:"m-5 p-5",ref:"seeHeight"},_e={src:le},Se=S("\u7EE7\u7EED\u6DFB\u52A0\u5927\u9898"),Ee=S("\u7ED3\u675F\u7EC4\u5377"),Be={class:"flex justify-center mt-20",style:{"flex-direction":"column"}},ge=pe(()=>m("div",{class:"flex justify-center mt-5",style:{"font-size":"20px"}},"\u5B8C\u6210\u7EC4\u5377",-1)),he={class:"flex justify-center mt-10"},be=S("\u518D\u6B21\u7EC4\u5377");function Ce(u,e,n,h,E,w){const c=d("a-step"),v=d("a-steps"),l=d("a-input"),r=d("a-form-item"),b=d("a-radio"),C=d("a-radio-group"),F=d("a-button"),q=d("a-card"),y=d("a-checkbox"),k=d("a-checkbox-group"),D=d("CheckCircleTwoTone");return _(),A("div",null,[m("div",de,[m("div",me,[s(v,{current:u.currentStep},{default:a(()=>[s(c,{title:"\u7B2C\u4E00\u6B65",description:"\u6DFB\u52A0\u63CF\u8FF0"}),s(c,{title:"\u7B2C\u4E8C\u6B65",description:"\u6DFB\u52A0\u5927\u9898"}),s(c,{title:"\u7EC4\u5377",description:"\u5C06\u4F1A\u82B1\u70B9\u65F6\u95F4..."})]),_:1},8,["current"]),L(m("div",fe,[s(r,{label:"\u8BD5\u5377\u540D\u79F0"},{default:a(()=>[s(l,{value:u.formF.name,"onUpdate:value":e[0]||(e[0]=t=>u.formF.name=t),label:"name"},null,8,["value"])]),_:1}),s(r,{label:"\u8BD5\u5377\u63CF\u8FF0"},{default:a(()=>[s(l,{type:"text",value:u.formF.description,"onUpdate:value":e[1]||(e[1]=t=>u.formF.description=t)},null,8,["value"])]),_:1}),s(r,{label:"\u8BD5\u5377\u6743\u9650"},{default:a(()=>[s(C,{value:u.formF.permission,"onUpdate:value":e[2]||(e[2]=t=>u.formF.permission=t)},{default:a(()=>[(_(!0),A(U,null,z(u.permissionList,(t,f)=>(_(),N(b,{value:--f,name:"level"},{default:a(()=>[S(g(t),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value"])]),_:1}),s(F,{shape:"round",onClick:u.submitF},{default:a(()=>[ce]),_:1},8,["onClick"])],512),[[T,u.showF]]),L(m("div",ve,[s(r,{label:"\u5927\u9898\u5E8F\u53F7"},{default:a(()=>[s(l,{type:"text",value:u.formS.orderId,"onUpdate:value":e[3]||(e[3]=t=>u.formS.orderId=t),disabled:""},null,8,["value"])]),_:1}),s(r,{label:"\u5927\u9898\u540D\u79F0"},{default:a(()=>[s(l,{type:"text",value:u.formS.name,"onUpdate:value":e[4]||(e[4]=t=>u.formS.name=t),label:"name"},null,8,["value"])]),_:1}),s(r,{label:"\u5927\u9898\u603B\u5206"},{default:a(()=>[s(l,{type:"number",value:u.formS.totalScore,"onUpdate:value":e[5]||(e[5]=t=>u.formS.totalScore=t)},null,8,["value"])]),_:1}),s(r,{label:"\u5927\u9898\u7C7B\u578B"},{default:a(()=>[s(C,{value:u.formS.type,"onUpdate:value":e[6]||(e[6]=t=>u.formS.type=t),onChange:u.changeList},{default:a(()=>[(_(!0),A(U,null,z(u.typeList,(t,f)=>(_(),N(b,{value:++f,name:"type"},{default:a(()=>[S(g(t),1)]),_:2},1032,["value"]))),256))]),_:1},8,["value","onChange"])]),_:1}),s(r,{label:"\u5C0F\u9898"},{default:a(()=>[m("div",Fe,[s(k,{value:u.quesTempList,"onUpdate:value":e[7]||(e[7]=t=>u.quesTempList=t)},{default:a(()=>[(_(!0),A(U,null,z(u.list,t=>(_(),N(y,{type:"checkbox",value:t.id,style:{margin:"0"}},{default:a(()=>[s(q,{style:{width:"300px","margin-top":"5px"}},{default:a(()=>[S(g(t.title)+"-"+g(t.knowledgeName)+"-"+g(t.level)+"-"+g(t.analysis),1)]),_:2},1024)]),_:2},1032,["value"]))),256))]),_:1},8,["value"]),L(m("img",_e,null,512),[[T,u.list.length===0]])],512)]),_:1}),s(F,{shape:"round",onClick:u.submitSS,class:"mt-5 mr-40"},{default:a(()=>[Se]),_:1},8,["onClick"]),s(F,{shape:"round",onClick:u.submitS,class:"mt-5"},{default:a(()=>[Ee]),_:1},8,["onClick"])],512),[[T,u.showS]]),L(m("div",Be,[s(D,{style:{fontSize:"100px"}}),ge,m("div",he,[s(F,{shape:"round",onClick:u.againPaper},{default:a(()=>[be]),_:1},8,["onClick"])])],512),[[T,u.showE]])])])])}var Ie=Y(ie,[["render",Ce],["__scopeId","data-v-d25e1f60"]]);export{Ie as default};
