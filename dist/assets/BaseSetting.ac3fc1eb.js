var f=(o,m,e)=>new Promise((l,i)=>{var d=t=>{try{a(e.next(t))}catch(r){i(r)}},_=t=>{try{a(e.throw(t))}catch(r){i(r)}},a=t=>t.done?l(t.value):Promise.resolve(t.value).then(d,_);a((e=e.apply(o,m)).next())});import{a as v,bC as g,B as F,R as B,G as A,f as C,r as I,a5 as b,U as w,J as p,o as S,j as y,y as c,n as u,m as h,H as U,bJ as P,bK as R,z as V}from"./index.66dc6cca.js";/* empty css               */import{B as k}from"./BasicForm.5910004e.js";import{u as E}from"./useForm.49e0e708.js";import{C as $,u as x}from"./upload.4682cc29.js";import{h as M}from"./header.d801b988.js";import{a as N,u as G}from"./account.48e5d291.js";import{b as J}from"./data.5fa972ea.js";/* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css                *//* empty css                */import"./index.dd449670.js";/* empty css                *//* empty css                */import"./index.b75ea1a3.js";import"./useWindowSizeFn.42dc6d89.js";import"./FullscreenOutlined.72d58049.js";/* empty css                *//* empty css                *//* empty css                */import"./download.5b2676c7.js";import"./uniqBy.e1e9a821.js";/* empty css                */const T=v({components:{BasicForm:k,CollapseContainer:g,Button:F,ARow:B,ACol:A,CropperAvatar:$},setup(){const o=C(()=>e.getUserInfo),{createMessage:m}=U(),e=I(),[l,{setFieldsValue:i,getFieldsValue:d,submit:_}]=E({labelWidth:120,schemas:J,showActionButtonGroup:!1});b(()=>f(this,null,function*(){const s=yield N();i(s.data)}));const a=C(()=>{const{userProfilePhoto:s}=e.getUserInfo;return s||M});function t(s){const n=e.getUserInfo;n.userProfilePhoto=s,e.setUserInfo(n)}function r(s){return f(this,null,function*(){const n=d();yield G(n),m.success("\u66F4\u65B0\u6210\u529F\uFF01")})}return{userinfo:o,avatar:a,register:l,uploadApi:x,updateAvatar:t,handleSubmit:r}}}),j=o=>(P("data-v-683c5082"),o=o(),R(),o),z={class:"change-avatar"},H=j(()=>h("div",{class:"mb-2"},"\u5934\u50CF",-1)),K=V("\u66F4\u65B0\u57FA\u672C\u4FE1\u606F");function W(o,m,e,l,i,d){const _=p("BasicForm"),a=p("a-col"),t=p("CropperAvatar"),r=p("a-row"),s=p("Button"),n=p("CollapseContainer");return S(),y(n,{title:"\u57FA\u672C\u8BBE\u7F6E",canExpan:!1},{default:c(()=>[u(r,{gutter:24},{default:c(()=>[u(a,{span:14},{default:c(()=>[u(_,{onRegister:o.register},null,8,["onRegister"])]),_:1}),u(a,{span:10},{default:c(()=>[h("div",z,[H,u(t,{uploadApi:o.uploadApi,value:o.avatar,btnText:"\u66F4\u6362\u5934\u50CF",btnProps:{preIcon:"ant-design:cloud-upload-outlined"},onChange:o.updateAvatar,width:"150"},null,8,["uploadApi","value","onChange"])])]),_:1})]),_:1}),u(s,{type:"primary",onClick:o.handleSubmit},{default:c(()=>[K]),_:1},8,["onClick"])]),_:1})}var Fo=w(T,[["render",W],["__scopeId","data-v-683c5082"]]);export{Fo as default};
