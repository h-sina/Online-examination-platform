var N=Object.defineProperty,V=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var $=Object.prototype.hasOwnProperty,M=Object.prototype.propertyIsEnumerable;var q=(e,s,t)=>s in e?N(e,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[s]=t,D=(e,s)=>{for(var t in s||(s={}))$.call(s,t)&&q(e,t,s[t]);if(L)for(var t of L(s))M.call(s,t)&&q(e,t,s[t]);return e},k=(e,s)=>V(e,P(s));var C=(e,s,t)=>new Promise((b,g)=>{var y=o=>{try{u(t.next(o))}catch(l){g(l)}},i=o=>{try{u(t.throw(o))}catch(l){g(l)}},u=o=>o.done?b(o.value):Promise.resolve(o.value).then(y,i);u((t=t.apply(e,s)).next())});import{d as U,e as j}from"./exam.81751f0c.js";import{a as x,a5 as z,v as Q,at as H,U as J,J as p,o as m,h,n as r,y as d,z as I,t as c,E as S,Y as A,m as a,H as R,bL as Y,bM as G}from"./index.7213dd96.js";const{notification:w}=R(),K=x({props:{paperId:{type:String,required:!0},stuId:{type:String,required:!0}},emits:["ret"],setup(e,s){z(()=>{e.paperId,e.stuId,b(e.paperId,e.stuId)});const t=Q({list:{},result:[],obj:{score:0,solutionId:0},loading:!0,score:[]});function b(u,o){return C(this,null,function*(){let l=yield U(u,o);l.code==="ITEST-200"&&(t.list=l.data,t.loading=!1);let f=t.list.correctQuesVos;for(let _=0;_<f.length;_++)for(let E=0;E<f[_].quesList.length;E++)f[_].quesList[E],t.result.push({score:0,solutionId:f[_].quesList[E].solutionId}),t.score.push(0);t.result})}const g=()=>{s.emit("ret")},y=()=>{t.score.forEach((u,o)=>{t.result[o].score=u}),t.result,i()};function i(){return C(this,null,function*(){let u=yield j(e.stuId,e.paperId,t.result);u.code==="ITEST-200"?(g(),w.success({message:"\u63D0\u4EA4\u6210\u529F",duration:3})):w.error({message:"\u521B\u5EFA\u5931\u8D25\u8BF7\u8054\u7CFB\u5DE5\u4F5C\u4EBA\u5458",duration:3})})}return k(D({},H(t)),{exit:g,sub:y,submitExam:i})}}),T=e=>(Y("data-v-17c959a9"),e=e(),G(),e),O=I("\u8FD4\u56DE"),W=I("\u63D0\u4EA4"),X={class:"m-3"},Z=T(()=>a("b",null,"\u9898\u76EE\u7B54\u6848\uFF1A",-1)),ee={class:"m-3"},te={class:"m-3"},se=I("\u9898\u76EE\u89E3\u6790\uFF1A "),oe={class:"m-3"},ue=T(()=>a("hr",{class:"m-2"},null,-1)),ae=I("\u63D0\u4EA4");function le(e,s,t,b,g,y){const i=p("a-button"),u=p("a-typography-title"),o=p("a-list-item-meta"),l=p("a-input-number"),f=p("a-card"),_=p("a-list-item"),E=p("a-list");return m(),h("div",null,[r(i,{shape:"round",type:"button",class:"m-5",onClick:e.exit},{default:d(()=>[O]),_:1},8,["onClick"]),r(i,{shape:"round",type:"button",class:"m-5",onClick:e.sub},{default:d(()=>[W]),_:1},8,["onClick"]),r(u,{level:2,class:"m-5"},{default:d(()=>[I(c(e.list.examTitle)+"\u6279\u5377\u4E2D",1)]),_:1}),r(E,{"item-layout":"horizontal","data-source":e.list.correctQuesVos,class:"demo-loadmore-list",loading:e.loading},{renderItem:d(({item:n})=>[r(_,null,{default:d(()=>[r(f,{title:"\u7B2C"+n.orderId+"\u5927\u9898-"+n.name+"\uFF08"+n.quesList.length+"\u9053\uFF09-\u603B\u5206"+n.totalScore+"\u5206"},{default:d(()=>[(m(!0),h(S,null,A(n.quesList,(v,B)=>(m(),h("ul",null,[r(o,null,{title:d(()=>[a("b",null,"\u5C0F\u9898"+c(B+1)+"(\u6EE1\u5206\uFF1A"+c(n.totalScore/n.quesList.length)+"\u5206)",1)]),_:2},1024),a("li",X,c(v.content),1),Z,a("li",ee,[(m(!0),h(S,null,A(v.answerList,F=>(m(),h("ul",null,[a("li",null,c(F),1)]))),256))]),a("b",null,c(e.list.stuName)+"\u7684\u7B54\u6848\uFF1A",1),a("li",te,[(m(!0),h(S,null,A(v.stuAnswerList,F=>(m(),h("ul",null,[a("li",null,c(F),1)]))),256))]),se,a("li",oe,c(v.analysis),1),r(l,{id:"inputNumber",min:0,max:n.totalScore/n.quesList.length,value:e.score[B],"onUpdate:value":F=>e.score[B]=F},null,8,["max","value","onUpdate:value"]),I(" \u5F97\u5206"+c(e.socre)+" ",1),ue]))),256))]),_:2},1032,["title"])]),_:2},1024)]),_:1},8,["data-source","loading"]),r(i,{shape:"round",type:"button",class:"m-5",onClick:e.sub},{default:d(()=>[ae]),_:1},8,["onClick"])])}var ie=J(K,[["render",le],["__scopeId","data-v-17c959a9"]]);export{ie as default};
