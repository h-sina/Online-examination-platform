var qe=Object.defineProperty,Ke=Object.defineProperties;var Qe=Object.getOwnPropertyDescriptors;var ce=Object.getOwnPropertySymbols;var Ye=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable;var pe=(t,l,s)=>l in t?qe(t,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[l]=s,w=(t,l)=>{for(var s in l||(l={}))Ye.call(l,s)&&pe(t,s,l[s]);if(ce)for(var s of ce(l))Je.call(l,s)&&pe(t,s,l[s]);return t},se=(t,l)=>Ke(t,Qe(l));var fe=(t,l,s)=>new Promise((p,c)=>{var m=g=>{try{d(s.next(g))}catch(f){c(f)}},i=g=>{try{d(s.throw(g))}catch(f){c(f)}},d=g=>g.done?p(g.value):Promise.resolve(g.value).then(m,i);d((s=s.apply(t,l)).next())});import{c as ue,a as z,b as de,f as C,U as ne,J as b,o as S,h as $,E as U,Z as v,j as X,y as E,z as re,t as te,W as j,k as W,q as R,aE as Ce,cv as Ze,d6 as xe,aj as ae,m as _e,n,bd as et,aX as tt,s as G,by as nt,a6 as me,cp as ye,i as e,Q as V,bv as ot,O as lt,V as st,b7 as at,X as Se,w as it,Y as rt,$ as ut,a0 as dt,S as Ee,v as be,T as gt,bE as ct,N as pt,co as ft,a1 as _t,aL as A,aV as mt,b4 as yt,ap as St,K as h,l as vt,dr as Tt,ds as ht,dt as Ct,al as Et,b8 as bt,an as Dt}from"./index.7213dd96.js";import{c as I,u as Ot,a as wt}from"./index.7b5e9ea4.js";/* empty css               */import{m as Bt,b as Mt,H as a,a as kt,t as Rt,c as $t,r as At,g as It}from"./handler.f99325c4.js";import"./FullscreenOutlined.10ec0dd9.js";import"./index.4e509c51.js";import"./useWindowSizeFn.6a6377e0.js";import"./useContentViewHeight.3ed0bf88.js";import"./uniqBy.5cba7abe.js";/* empty css               */import"./RedoOutlined.451aef28.js";import"./lock.e85db7f5.js";const{t:ve}=ue(),De={confirmLoading:{type:Boolean},showCancelBtn:{type:Boolean,default:!0},cancelButtonProps:Object,cancelText:{type:String,default:ve("common.cancelText")},showOkBtn:{type:Boolean,default:!0},okButtonProps:Object,okText:{type:String,default:ve("common.okText")},okType:{type:String,default:"primary"},showFooter:{type:Boolean},footerHeight:{type:[String,Number],default:60}},Lt=w({isDetail:{type:Boolean},title:{type:String,default:""},loadingText:{type:String},showDetailBack:{type:Boolean,default:!0},visible:{type:Boolean},loading:{type:Boolean},maskClosable:{type:Boolean,default:!0},getContainer:{type:[Object,String]},closeFunc:{type:[Function,Object],default:null},destroyOnClose:{type:Boolean}},De);const Ht=z({name:"BasicDrawerFooter",props:se(w({},De),{height:{type:String,default:"60px"}}),emits:["ok","close"],setup(t,{emit:l}){const{prefixCls:s}=de("basic-drawer-footer"),p=C(()=>{const i=`${t.height}`;return{height:i,lineHeight:i}});function c(){l("ok")}function m(){l("close")}return{handleOk:c,prefixCls:s,handleClose:m,getStyle:p}}});function Nt(t,l,s,p,c,m){const i=b("a-button");return t.showFooter||t.$slots.footer?(S(),$("div",{key:0,class:R(t.prefixCls),style:Ce(t.getStyle)},[t.$slots.footer?v(t.$slots,"footer",{key:1}):(S(),$(U,{key:0},[v(t.$slots,"insertFooter"),t.showCancelBtn?(S(),X(i,j({key:0},t.cancelButtonProps,{onClick:t.handleClose,class:"mr-2"}),{default:E(()=>[re(te(t.cancelText),1)]),_:1},16,["onClick"])):W("",!0),v(t.$slots,"centerFooter"),t.showOkBtn?(S(),X(i,j({key:1,type:t.okType,onClick:t.handleOk},t.okButtonProps,{class:"mr-2",loading:t.confirmLoading}),{default:E(()=>[re(te(t.okText),1)]),_:1},16,["type","onClick","loading"])):W("",!0),v(t.$slots,"appendFooter")],64))],6)):W("",!0)}var Pt=ne(Ht,[["render",Nt]]);const Ft=z({name:"BasicDrawerHeader",components:{BasicTitle:Ze,ArrowLeftOutlined:xe},props:{isDetail:ae.bool,showDetailBack:ae.bool,title:ae.string},emits:["close"],setup(t,{emit:l}){const{prefixCls:s}=de("basic-drawer-header");function p(){l("close")}return{prefixCls:s,handleClose:p}}}),Ut={key:1};function Vt(t,l,s,p,c,m){const i=b("BasicTitle"),d=b("ArrowLeftOutlined");return t.isDetail?(S(),$("div",{key:1,class:R([t.prefixCls,`${t.prefixCls}--detail`])},[_e("span",{class:R(`${t.prefixCls}__twrap`)},[t.showDetailBack?(S(),$("span",{key:0,onClick:l[0]||(l[0]=(...g)=>t.handleClose&&t.handleClose(...g))},[n(d,{class:R(`${t.prefixCls}__back`)},null,8,["class"])])):W("",!0),t.title?(S(),$("span",Ut,te(t.title),1)):W("",!0)],2),_e("span",{class:R(`${t.prefixCls}__toolbar`)},[v(t.$slots,"titleToolbar")],2)],2)):(S(),X(i,{key:0,class:R(t.prefixCls)},{default:E(()=>[v(t.$slots,"title"),re(" "+te(t.$slots.title?"":t.title),1)]),_:3},8,["class"]))}var Wt=ne(Ft,[["render",Vt]]);const Gt=z({components:{Drawer:et,ScrollContainer:tt,DrawerFooter:Pt,DrawerHeader:Wt},inheritAttrs:!1,props:Lt,emits:["visible-change","ok","close","register"],setup(t,{emit:l}){const s=G(!1),p=nt(),c=G(null),{t:m}=ue(),{prefixVar:i,prefixCls:d}=de("basic-drawer"),g={setDrawerProps:H,emitVisible:void 0},f=Ee();f&&l("register",g,f.uid);const T=C(()=>ye(V(t),e(c))),y=C(()=>{const r=se(w(w({placement:"right"},e(p)),e(T)),{visible:e(s)});r.title=void 0;const{isDetail:_,width:N,wrapClassName:Y,getContainer:J}=r;if(_){N||(r.width="100%");const Z=`${d}__detail`;r.class=Y?`${Y} ${Z}`:Z,J||(r.getContainer=`.${i}-layout-content`)}return r}),L=C(()=>w(w({},p),e(y))),q=C(()=>{const{footerHeight:r,showFooter:_}=e(y);return _&&r?ot(r)?`${r}px`:`${r.replace("px","")}px`:"0px"}),oe=C(()=>{const r=e(q);return{position:"relative",height:`calc(100% - ${r})`}}),K=C(()=>{var r;return!!((r=e(y))!=null&&r.loading)});me(()=>t.visible,(r,_)=>{r!==_&&(s.value=r)},{deep:!0}),me(()=>s.value,r=>{lt(()=>{var _;l("visible-change",r),f&&((_=g.emitVisible)==null||_.call(g,r,f.uid))})});function le(r){return fe(this,null,function*(){const{closeFunc:_}=e(y);if(l("close",r),_&&st(_)){const N=yield _();s.value=!N;return}s.value=!1})}function H(r){c.value=ye(e(c)||{},r),Reflect.has(r,"visible")&&(s.value=!!r.visible)}function Q(){l("ok")}return{onClose:le,t:m,prefixCls:d,getMergeProps:T,getScrollContentStyle:oe,getProps:y,getLoading:K,getBindValues:L,getFooterHeight:q,handleOk:Q}}});function Xt(t,l,s,p,c,m){const i=b("DrawerHeader"),d=b("ScrollContainer"),g=b("DrawerFooter"),f=b("Drawer"),T=at("loading");return S(),X(f,j({class:t.prefixCls,onClose:t.onClose},t.getBindValues),Se({default:E(()=>[it((S(),X(d,{style:Ce(t.getScrollContentStyle),"loading-tip":t.loadingText||t.t("common.loadingText")},{default:E(()=>[v(t.$slots,"default")]),_:3},8,["style","loading-tip"])),[[T,t.getLoading]]),n(g,j(t.getProps,{onClose:t.onClose,onOk:t.handleOk,height:t.getFooterHeight}),Se({_:2},[rt(Object.keys(t.$slots),y=>({name:y,fn:E(L=>[v(t.$slots,y,ut(dt(L||{})))])}))]),1040,["onClose","onOk","height"])]),_:2},[t.$slots.title?{name:"title",fn:E(()=>[v(t.$slots,"title")])}:{name:"title",fn:E(()=>[n(i,{title:t.getMergeProps.title,isDetail:t.isDetail,showDetailBack:t.showDetailBack,onClose:t.onClose},{titleToolbar:E(()=>[v(t.$slots,"titleToolbar")]),_:3},8,["title","isDetail","showDetailBack","onClose"])])}]),1040,["class","onClose"])}var jt=ne(Gt,[["render",Xt]]);const P=be({}),Te=be({});function zt(){if(!Ee())throw new Error("useDrawer() can only be used inside setup() or functional components!");const t=G(null),l=G(!1),s=G("");function p(i,d){gt(()=>{t.value=null,l.value=null,P[e(s)]=null}),!(e(l)&&ct()&&i===e(t))&&(s.value=d,t.value=i,l.value=!0,i.emitVisible=(g,f)=>{Te[f]=g})}const c=()=>{const i=e(t);return i||ft("useDrawer instance is undefined!"),i},m={setDrawerProps:i=>{var d;(d=c())==null||d.setDrawerProps(i)},getVisible:C(()=>Te[~~e(s)]),openDrawer:(i=!0,d,g=!0)=>{var T;if((T=c())==null||T.setDrawerProps({visible:i}),!d)return;if(g){P[e(s)]=null,P[e(s)]=V(d);return}pt(V(P[e(s)]),V(d))||(P[e(s)]=V(d))},closeDrawer:()=>{var i;(i=c())==null||i.setDrawerProps({visible:!1})}};return[p,m]}const qt=_t(jt),Kt=I(()=>A(()=>import("./TypePicker.8366036d.js"),["assets/TypePicker.8366036d.js","assets/TypePicker.8770fc04.css","assets/index.7213dd96.js","assets/index.95024c9d.css"])),ie=I(()=>A(()=>import("./ThemeColorPicker.05812978.js"),["assets/ThemeColorPicker.05812978.js","assets/ThemeColorPicker.8eb61909.css","assets/index.7213dd96.js","assets/index.95024c9d.css","assets/handler.f99325c4.js"])),Qt=I(()=>A(()=>import("./SettingFooter.c314dade.js"),["assets/SettingFooter.c314dade.js","assets/SettingFooter.9c0370f9.css","assets/index.7213dd96.js","assets/index.95024c9d.css","assets/RedoOutlined.451aef28.js"])),u=I(()=>A(()=>import("./SwitchItem.1c7aec5f.js"),["assets/SwitchItem.1c7aec5f.js","assets/SwitchItem.7c9c2e51.css","assets/index.579bd49e.css","assets/index.7213dd96.js","assets/index.95024c9d.css","assets/handler.f99325c4.js"])),F=I(()=>A(()=>import("./SelectItem.05cf410c.js"),["assets/SelectItem.05cf410c.js","assets/SelectItem.5c079f50.css","assets/index.7213dd96.js","assets/index.95024c9d.css","assets/handler.f99325c4.js"])),he=I(()=>A(()=>import("./InputNumberItem.3927c314.js"),["assets/InputNumberItem.3927c314.js","assets/InputNumberItem.228b843e.css","assets/index.47f7c782.css","assets/index.7213dd96.js","assets/index.95024c9d.css","assets/handler.f99325c4.js"])),{t:o}=ue();var Yt=z({name:"SettingDrawer",setup(t,{attrs:l}){const{getContentMode:s,getShowFooter:p,getShowBreadCrumb:c,getShowBreadCrumbIcon:m,getShowLogo:i,getFullContent:d,getColorWeak:g,getGrayMode:f,getLockTime:T,getShowDarkModeToggle:y,getThemeColor:L}=mt(),{getOpenPageLoading:q,getBasicTransition:oe,getEnableTransition:K,getOpenNProgress:le}=yt(),{getIsHorizontal:H,getShowMenu:Q,getMenuType:r,getTrigger:_,getCollapsedShowTitle:N,getMenuFixed:Y,getCollapsed:J,getCanDrag:Z,getTopMenuAlign:Oe,getAccordion:we,getMenuWidth:Be,getMenuBgColor:Me,getIsTopMenu:ke,getSplit:x,getIsMixSidebar:D,getCloseMixSidebarOnChange:Re,getMixSideTrigger:$e,getMixSideFixed:Ae}=St(),{getShowHeader:B,getFixed:Ie,getHeaderBgColor:Le,getShowSearch:He}=Ot(),{getShowMultipleTab:ee,getShowQuick:Ne,getShowRedo:Pe,getShowFold:Fe}=wt(),O=C(()=>e(Q)&&!e(H));function Ue(){return n(U,null,[n(Kt,{menuTypeList:Bt,handler:M=>{Mt(a.CHANGE_LAYOUT,{mode:M.mode,type:M.type,split:e(H)?!1:void 0})},def:e(r)},null)])}function Ve(){return n(ie,{colorList:ht,def:e(Le),event:a.HEADER_THEME},null)}function We(){return n(ie,{colorList:Ct,def:e(Me),event:a.MENU_THEME},null)}function Ge(){return n(ie,{colorList:Tt,def:e(L),event:a.CHANGE_THEME_COLOR},null)}function Xe(){let M=e(_);const ge=It(e(x));return ge.some(k=>k.value===M)||(M=bt.FOOTER),n(U,null,[n(u,{title:o("layout.setting.splitMenu"),event:a.MENU_SPLIT,def:e(x),disabled:!e(O)||e(r)!==Et.MIX},null),n(u,{title:o("layout.setting.mixSidebarFixed"),event:a.MENU_FIXED_MIX_SIDEBAR,def:e(Ae),disabled:!e(D)},null),n(u,{title:o("layout.setting.closeMixSidebarOnChange"),event:a.MENU_CLOSE_MIX_SIDEBAR_ON_CHANGE,def:e(Re),disabled:!e(D)},null),n(u,{title:o("layout.setting.menuCollapse"),event:a.MENU_COLLAPSED,def:e(J),disabled:!e(O)},null),n(u,{title:o("layout.setting.menuDrag"),event:a.MENU_HAS_DRAG,def:e(Z),disabled:!e(O)},null),n(u,{title:o("layout.setting.menuSearch"),event:a.HEADER_SEARCH,def:e(He),disabled:!e(B)},null),n(u,{title:o("layout.setting.menuAccordion"),event:a.MENU_ACCORDION,def:e(we),disabled:!e(O)},null),n(u,{title:o("layout.setting.collapseMenuDisplayName"),event:a.MENU_COLLAPSED_SHOW_TITLE,def:e(N),disabled:!e(O)||!e(J)||e(D)},null),n(u,{title:o("layout.setting.fixedHeader"),event:a.HEADER_FIXED,def:e(Ie),disabled:!e(B)},null),n(u,{title:o("layout.setting.fixedSideBar"),event:a.MENU_FIXED,def:e(Y),disabled:!e(O)||e(D)},null),n(F,{title:o("layout.setting.mixSidebarTrigger"),event:a.MENU_TRIGGER_MIX_SIDEBAR,def:e($e),options:kt,disabled:!e(D)},null),n(F,{title:o("layout.setting.topMenuLayout"),event:a.MENU_TOP_ALIGN,def:e(Oe),options:Rt,disabled:!e(B)||e(x)||!e(ke)&&!e(x)||e(D)},null),n(F,{title:o("layout.setting.menuCollapseButton"),event:a.MENU_TRIGGER,def:M,options:ge,disabled:!e(O)||e(D)},null),n(F,{title:o("layout.setting.contentMode"),event:a.CONTENT_MODE,def:e(s),options:$t},null),n(he,{title:o("layout.setting.autoScreenLock"),min:0,event:a.LOCK_TIME,defaultValue:e(T),formatter:k=>parseInt(k)===0?`0(${o("layout.setting.notAutoScreenLock")})`:`${k}${o("layout.setting.minute")}`},null),n(he,{title:o("layout.setting.expandedMenuWidth"),max:600,min:100,step:10,event:a.MENU_WIDTH,disabled:!e(O),defaultValue:e(Be),formatter:k=>`${parseInt(k)}px`},null)])}function je(){return n(U,null,[n(u,{title:o("layout.setting.breadcrumb"),event:a.SHOW_BREADCRUMB,def:e(c),disabled:!e(B)},null),n(u,{title:o("layout.setting.breadcrumbIcon"),event:a.SHOW_BREADCRUMB_ICON,def:e(m),disabled:!e(B)},null),n(u,{title:o("layout.setting.tabs"),event:a.TABS_SHOW,def:e(ee)},null),n(u,{title:o("layout.setting.tabsRedoBtn"),event:a.TABS_SHOW_REDO,def:e(Pe),disabled:!e(ee)},null),n(u,{title:o("layout.setting.tabsQuickBtn"),event:a.TABS_SHOW_QUICK,def:e(Ne),disabled:!e(ee)},null),n(u,{title:o("layout.setting.tabsFoldBtn"),event:a.TABS_SHOW_FOLD,def:e(Fe),disabled:!e(ee)},null),n(u,{title:o("layout.setting.sidebar"),event:a.MENU_SHOW_SIDEBAR,def:e(Q),disabled:e(H)},null),n(u,{title:o("layout.setting.header"),event:a.HEADER_SHOW,def:e(B)},null),n(u,{title:"Logo",event:a.SHOW_LOGO,def:e(i),disabled:e(D)},null),n(u,{title:o("layout.setting.footer"),event:a.SHOW_FOOTER,def:e(p)},null),n(u,{title:o("layout.setting.fullContent"),event:a.FULL_CONTENT,def:e(d)},null),n(u,{title:o("layout.setting.grayMode"),event:a.GRAY_MODE,def:e(f)},null),n(u,{title:o("layout.setting.colorWeak"),event:a.COLOR_WEAK,def:e(g)},null)])}function ze(){return n(U,null,[n(u,{title:o("layout.setting.progress"),event:a.OPEN_PROGRESS,def:e(le)},null),n(u,{title:o("layout.setting.switchLoading"),event:a.OPEN_PAGE_LOADING,def:e(q)},null),n(u,{title:o("layout.setting.switchAnimation"),event:a.OPEN_ROUTE_TRANSITION,def:e(K)},null),n(F,{title:o("layout.setting.animationType"),event:a.ROUTER_TRANSITION,def:e(oe),options:At,disabled:!e(K)},null)])}return()=>n(qt,j(l,{title:o("layout.setting.drawerTitle"),width:330,class:"setting-drawer"}),{default:()=>[e(y)&&n(h,null,{default:()=>o("layout.setting.darkMode")}),e(y)&&n(vt,{class:"mx-auto"},null),n(h,null,{default:()=>o("layout.setting.navMode")}),Ue(),n(h,null,{default:()=>o("layout.setting.sysTheme")}),Ge(),n(h,null,{default:()=>o("layout.setting.headerTheme")}),Ve(),n(h,null,{default:()=>o("layout.setting.sidebarTheme")}),We(),n(h,null,{default:()=>o("layout.setting.interfaceFunction")}),Xe(),n(h,null,{default:()=>o("layout.setting.interfaceDisplay")}),je(),n(h,null,{default:()=>o("layout.setting.animation")}),ze(),n(h,null,null),n(Qt,null,null)]})}});const Jt=z({name:"SettingButton",components:{SettingDrawer:Yt,Icon:Dt},setup(){const[t,{openDrawer:l}]=zt();return{register:t,openDrawer:l}}});function Zt(t,l,s,p,c,m){const i=b("Icon"),d=b("SettingDrawer");return S(),$("div",{onClick:l[0]||(l[0]=g=>t.openDrawer(!0))},[n(i,{icon:"ion:settings-outline"}),n(d,{onRegister:t.register},null,8,["onRegister"])])}var fn=ne(Jt,[["render",Zt]]);export{fn as default};
