var y=Object.defineProperty,S=Object.defineProperties;var K=Object.getOwnPropertyDescriptors;var h=Object.getOwnPropertySymbols;var T=Object.prototype.hasOwnProperty,A=Object.prototype.propertyIsEnumerable;var C=(t,n,a)=>n in t?y(t,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[n]=a,b=(t,n)=>{for(var a in n||(n={}))T.call(n,a)&&C(t,a,n[a]);if(h)for(var a of h(n))A.call(n,a)&&C(t,a,n[a]);return t},P=(t,n)=>S(t,K(n));var _=(t,n,a)=>new Promise((d,c)=>{var g=o=>{try{l(a.next(o))}catch(u){c(u)}},s=o=>{try{l(a.throw(o))}catch(u){c(u)}},l=o=>o.done?d(o.value):Promise.resolve(o.value).then(g,s);l((a=a.apply(t,n)).next())});import{g as V,d as $,a as j}from"./knowledgePoint.042bcc65.js";import{U as M,a as O,cP as U,d2 as x,s as z,f as G,v as L,a5 as H,at as J,J as f,o as r,h as w,n as v,y as m,X,Y,m as p,j as N,E as B,z as E,t as q,k as Q,a3 as W,H as Z}from"./index.572c67d6.js";const{notification:F}=Z(),ee=O({components:{CheckOutlined:U,EditOutlined:x},setup(){const t=[{title:"id",dataIndex:"id",width:"10%",slots:{customRender:"id"}},{title:"courseName",dataIndex:"courseName",slots:{customRender:"courseName"}},{title:"name",dataIndex:"name",slots:{customRender:"name"}},{title:"pointDescribe",dataIndex:"pointDescribe",slots:{customRender:"pointDescribe"}},{title:"superPointName",dataIndex:"superPointName",slots:{customRender:"superPointName"}},{title:"\u64CD\u4F5C1",dataIndex:"operation",slots:{customRender:"operation"}},{title:"\u64CD\u4F5C2",dataIndex:"operation1",slots:{customRender:"operation1"}}],n=z([{key:"0",name:"Edward King 0",age:32,address:"London, Park Lane no. 0"},{key:"1",name:"Edward King 1",age:32,address:"London, Park Lane no. 1"}]),a=G(()=>n.value.length+1),d=L({}),c=e=>{d[e]=W(o.knowledgePointList.filter(i=>e===i.id)[0]),d[e]},g=e=>{let i=o.knowledgePointList.filter(k=>e===k.id);Object.assign(o.knowledgePointList.filter(k=>e===k.id)[0],d[e]),delete d[e]},s=e=>{n.value=n.value.filter(i=>i.key!==e),I(e),u(),o.knowledgePointList=o.knowledgePointList.filter(i=>i.key!==e)},l=()=>{const e={name:"string",pointDescribe:"string",superPoint:0};n.value.push(e),o.knowledgePointList.push(e),R(e)},o=L({knowledgePointList:[]});H(()=>{u()});function u(){return _(this,null,function*(){let e=yield V({pageNum:10,pageSize:0});o.knowledgePointList=e.data.list})}function I(e){return _(this,null,function*(){let i=yield $(e);D(i)})}function R(e){return _(this,null,function*(){let i=yield j(e);D(i)})}function D(e){e.code==="ITEST-200"?F.success({message:e.msg,duration:3}):F.error({message:"\u5904\u7406\u5931\u8D25\u8BF7\u8054\u7CFB\u5DE5\u4F5C\u4EBA\u5458",duration:3})}return P(b({},J(o)),{columns:t,onDelete:s,handleAdd:l,dataSource:n,editableData:d,count:a,edit:c,save:g})}}),te=E("\u6DFB\u52A0\u77E5\u8BC6\u70B9"),ne=p("a",null,"\u5220\u9664",-1),oe={class:"editable-row-operations"},ae={key:0},se=["onClick"],ie=p("a",null,"\u53D6\u6D88",-1),le={key:1},de=["onClick"];function ue(t,n){const a=f("a-button"),d=f("a-input"),c=f("a-popconfirm"),g=f("a-table");return r(),w(B,null,[v(a,{shape:"round",class:"editable-add-btn m-5",onClick:t.handleAdd},{default:m(()=>[te]),_:1},8,["onClick"]),v(g,{bordered:"","data-source":t.knowledgePointList,columns:t.columns,class:"m-5"},X({operation:m(({record:s})=>[t.knowledgePointList.length?(r(),N(c,{key:0,title:"Sure to delete?",onConfirm:l=>t.onDelete(s.id)},{default:m(()=>[ne]),_:2},1032,["onConfirm"])):Q("",!0)]),operation1:m(({record:s})=>[p("div",oe,[t.editableData[s.id]?(r(),w("span",ae,[p("a",{onClick:l=>t.save(s.id)},"\u4FDD\u5B58",8,se),v(c,{title:"Sure to cancel?",onConfirm:l=>t.cancel(s.id)},{default:m(()=>[ie]),_:2},1032,["onConfirm"])])):(r(),w("span",le,[p("a",{onClick:l=>t.edit(s.id)},"\u7F16\u8F91",8,de)]))])]),_:2},[Y(["id","courseName","name","pointDescribe","superPointName"],s=>({name:s,fn:m(({text:l,record:o})=>[p("div",null,[t.editableData[o.id]?(r(),N(d,{key:0,value:t.editableData[o.id][s],"onUpdate:value":u=>t.editableData[o.id][s]=u,style:{margin:"-5px 0"}},null,8,["value","onUpdate:value"])):(r(),w(B,{key:1},[E(q(l),1)],64))])])}))]),1032,["data-source","columns"])],64)}var pe=M(ee,[["render",ue]]);export{pe as default};
