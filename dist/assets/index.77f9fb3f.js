import{s as y,ae as W,i as c,fl as v,fm as w,M as x,fn as b,at as $,fo as g,av as R,a as B,cD as I,E as C,o as M,j as P,y as m,n as u,z as k}from"./index.976f028d.js";import{P as z}from"./index.9126614a.js";import"./index.2440c5f5.js";import"./index.b556a78a.js";import"./useSize.a0f971b4.js";import"./eagerComputed.b4caa6b1.js";import"./useWindowSizeFn.43b44744.js";import"./useContentViewHeight.fa21b489.js";import"./ArrowLeftOutlined.6cbdd482.js";import"./index.d76d5ff0.js";import"./transButton.a71e0ac3.js";const E=Symbol("watermark-dom");function S(n=y(document.body)){const o=b(function(){const t=c(n);if(!t)return;const{clientHeight:e,clientWidth:a}=t;i({height:e,width:a})}),s=E.toString(),l=W(),f=()=>{const t=c(l);l.value=void 0;const e=c(n);!e||(t&&e.removeChild(t),v(e,o))};function _(t){const e=document.createElement("canvas"),a=300,d=240;Object.assign(e,{width:a,height:d});const r=e.getContext("2d");return r&&(r.rotate(-20*Math.PI/120),r.font="15px Vedana",r.fillStyle="rgba(0, 0, 0, 0.15)",r.textAlign="left",r.textBaseline="middle",r.fillText(t,a/20,d)),e.toDataURL("image/png")}function i(t={}){const e=c(l);!e||(g(t.width)&&(e.style.width=`${t.width}px`),g(t.height)&&(e.style.height=`${t.height}px`),g(t.str)&&(e.style.background=`url(${_(t.str)}) left top repeat`))}const p=t=>{if(c(l))return i({str:t}),s;const e=document.createElement("div");l.value=e,e.id=s,e.style.pointerEvents="none",e.style.top="0px",e.style.left="0px",e.style.position="absolute",e.style.zIndex="100000";const a=c(n);if(!a)return s;const{clientHeight:d,clientWidth:r}=a;return i({str:t,width:r,height:d}),a.appendChild(e),s};function h(t){p(t),w(document.documentElement,o),$()&&x(()=>{f()})}return{setWatermark:h,clear:f}}const D=B({components:{CollapseContainer:I,PageWrapper:z},setup(){const n=y(null),{setWatermark:o,clear:s}=S();return{setWatermark:o,clear:s,areaRef:n}}}),L=k(" Create "),N=k(" Clear "),T=k(" Reset ");function V(n,o,s,l,f,_){const i=C("a-button"),p=C("CollapseContainer"),h=C("PageWrapper");return M(),P(h,{title:"\u6C34\u5370\u793A\u4F8B"},{default:m(()=>[u(p,{class:"w-full h-32 bg-white rounded-md",title:"Global WaterMark"},{default:m(()=>[u(i,{type:"primary",class:"mr-2",onClick:o[0]||(o[0]=t=>n.setWatermark("WaterMark Info"))},{default:m(()=>[L]),_:1}),u(i,{color:"error",class:"mr-2",onClick:n.clear},{default:m(()=>[N]),_:1},8,["onClick"]),u(i,{color:"warning",class:"mr-2",onClick:o[1]||(o[1]=t=>n.setWatermark("WaterMark Info New"))},{default:m(()=>[T]),_:1})]),_:1})]),_:1})}var X=R(D,[["render",V]]);export{X as default};
