var d=(o,r,s)=>new Promise((m,u)=>{var l=e=>{try{a(s.next(e))}catch(i){u(i)}},t=e=>{try{a(s.throw(e))}catch(i){u(i)}},a=e=>e.done?m(e.value):Promise.resolve(e.value).then(l,t);a((s=s.apply(o,r)).next())});import{U as v,a as h,bC as g,B,R as F,G as A,r as b,a5 as I,f as S,J as n,o as w,j as y,y as c,n as p,m as _,H as R,bJ as U,bK as k,z as E}from"./index.5903aaea.js";/* empty css               */import{B as V}from"./BasicForm.d88c9cb9.js";import{u as $}from"./useForm.522fb0fd.js";import{C as x,u as M}from"./upload.0999d5b9.js";import{h as N}from"./header.d801b988.js";import{a as G}from"./account.4c62f95e.js";import{b as J}from"./data.64da4449.js";/* empty css               *//* empty css               *//* empty css              *//* empty css               *//* empty css                *//* empty css                */import"./index.b1c133f4.js";/* empty css                *//* empty css                */import"./index.2670c85d.js";import"./useWindowSizeFn.9bc4a4d0.js";import"./FullscreenOutlined.115d63d2.js";/* empty css                *//* empty css                *//* empty css                */import"./download.8156160a.js";import"./uniqBy.03c90016.js";/* empty css                */const T=h({components:{BasicForm:V,CollapseContainer:g,Button:B,ARow:F,ACol:A,CropperAvatar:x},setup(){const{createMessage:o}=R(),r=b(),[s,{setFieldsValue:m}]=$({labelWidth:120,schemas:J,showActionButtonGroup:!1});I(()=>d(this,null,function*(){const t=yield G();m(t)}));const u=S(()=>{const{avatar:t}=r.getUserInfo;return t||N});function l(t){const a=r.getUserInfo;a.avatar=t,r.setUserInfo(a)}return{avatar:u,register:s,uploadApi:M,updateAvatar:l,handleSubmit:()=>{o.success("\u66F4\u65B0\u6210\u529F\uFF01")}}}}),j=o=>(U("data-v-0dc9fcfc"),o=o(),k(),o),z={class:"change-avatar"},H=j(()=>_("div",{class:"mb-2"},"\u5934\u50CF",-1)),K=E("\u66F4\u65B0\u57FA\u672C\u4FE1\u606F");function P(o,r,s,m,u,l){const t=n("BasicForm"),a=n("a-col"),e=n("CropperAvatar"),i=n("a-row"),f=n("Button"),C=n("CollapseContainer");return w(),y(C,{title:"\u57FA\u672C\u8BBE\u7F6E",canExpan:!1},{default:c(()=>[p(i,{gutter:24},{default:c(()=>[p(a,{span:14},{default:c(()=>[p(t,{onRegister:o.register},null,8,["onRegister"])]),_:1}),p(a,{span:10},{default:c(()=>[_("div",z,[H,p(e,{uploadApi:o.uploadApi,value:o.avatar,btnText:"\u66F4\u6362\u5934\u50CF",btnProps:{preIcon:"ant-design:cloud-upload-outlined"},onChange:o.updateAvatar,width:"150"},null,8,["uploadApi","value","onChange"])])]),_:1})]),_:1}),p(f,{type:"primary",onClick:o.handleSubmit},{default:c(()=>[K]),_:1},8,["onClick"])]),_:1})}var go=v(T,[["render",P],["__scopeId","data-v-0dc9fcfc"]]);export{go as default};
