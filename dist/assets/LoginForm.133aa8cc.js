var F=(b,r,i)=>new Promise((u,x)=>{var a=l=>{try{m(i.next(l))}catch(f){x(f)}},k=l=>{try{m(i.throw(l))}catch(f){x(f)}},m=l=>l.done?u(l.value):Promise.resolve(l.value).then(a,k);m((i=i.apply(b,r)).next())});import{a as N,F as D,I as L,c as P,b as h,r as O,s as _,v as U,f as A,i as e,o as G,h as K,w as T,x as $,n as s,y as t,C as V,z as d,t as c,B as p,D as q,E as H,G as Q,R as W,H as j}from"./index.dd87d40a.js";/* empty css              *//* empty css               *//* empty css               */import{u as J,a as X,L as y,_ as Y,b as Z}from"./LoginFormTitle.5f06674c.js";const ne=N({setup(b){const r=Q,i=W,u=D.Item,x=L.Password,{t:a}=P(),{notification:k,createErrorModal:m}=j(),{prefixCls:l}=h("login"),f=O(),{setLoginState:w,getLoginState:B}=J(),{getFormRules:M}=X(),C=_(),S=_(!1),I=_(!1),g=U({account:"2201902345",password:"password"}),{validForm:z}=Z(C),R=A(()=>e(B)===y.LOGIN);function E(){return F(this,null,function*(){const v=yield z();if(!!v)try{S.value=!0;const o=yield f.login({userPassword:v.password,userNumber:v.account,mode:"none"});o&&k.success({message:a("sys.login.loginSuccessTitle"),description:`${a("sys.login.loginSuccessDesc")}: ${o.nickName}`,duration:3})}catch(o){m({title:a("sys.api.errorTip"),content:a("sys.api.errMsg401")||a("sys.api.networkExceptionMsg"),getContainer:()=>document.body.querySelector(`.${l}`)||document.body})}finally{S.value=!1}})}return(v,o)=>(G(),K(H,null,[T(s(Y,{class:"enter-x"},null,512),[[$,e(R)]]),T(s(e(D),{class:"p-4 enter-x",model:e(g),rules:e(M),ref_key:"formRef",ref:C,onKeypress:q(E,["enter"])},{default:t(()=>[s(e(u),{name:"account",class:"enter-x"},{default:t(()=>[s(e(L),{size:"large",value:e(g).account,"onUpdate:value":o[0]||(o[0]=n=>e(g).account=n),placeholder:e(a)("sys.login.userName"),class:"fix-auto-fill"},null,8,["value","placeholder"])]),_:1}),s(e(u),{name:"password",class:"enter-x"},{default:t(()=>[s(e(x),{size:"large",visibilityToggle:"",value:e(g).password,"onUpdate:value":o[1]||(o[1]=n=>e(g).password=n),placeholder:e(a)("sys.login.password")},null,8,["value","placeholder"])]),_:1}),s(e(i),{class:"enter-x"},{default:t(()=>[s(e(r),{span:12},{default:t(()=>[s(e(u),null,{default:t(()=>[s(e(V),{checked:I.value,"onUpdate:checked":o[2]||(o[2]=n=>I.value=n),size:"small"},{default:t(()=>[d(c(e(a)("sys.login.rememberMe")),1)]),_:1},8,["checked"])]),_:1})]),_:1}),s(e(r),{span:12},{default:t(()=>[s(e(u),{style:{"text-align":"right"}},{default:t(()=>[s(e(p),{type:"link",size:"small",onClick:o[3]||(o[3]=n=>e(w)(e(y).RESET_PASSWORD))},{default:t(()=>[d(c(e(a)("sys.login.forgetPassword")),1)]),_:1})]),_:1})]),_:1})]),_:1}),s(e(u),{class:"enter-x"},{default:t(()=>[s(e(p),{type:"primary",size:"large",block:"",onClick:E,loading:S.value},{default:t(()=>[d(c(e(a)("sys.login.loginButton")),1)]),_:1},8,["loading"])]),_:1}),s(e(i),{class:"enter-x"},{default:t(()=>[s(e(r),{md:8,xs:24},{default:t(()=>[s(e(p),{block:"",onClick:o[4]||(o[4]=n=>e(w)(e(y).MOBILE))},{default:t(()=>[d(c(e(a)("sys.login.mobileSignInFormTitle")),1)]),_:1})]),_:1}),s(e(r),{md:8,xs:24,class:"!my-2 !md:my-0 xs:mx-0 md:mx-2"},{default:t(()=>[s(e(p),{block:"",onClick:o[5]||(o[5]=n=>e(w)(e(y).QR_CODE))},{default:t(()=>[d(c(e(a)("sys.login.qrSignInFormTitle")),1)]),_:1})]),_:1}),s(e(r),{md:7,xs:24},{default:t(()=>[s(e(p),{block:"",onClick:o[6]||(o[6]=n=>e(w)(e(y).REGISTER))},{default:t(()=>[d(c(e(a)("sys.login.registerButton")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules","onKeypress"]),[[$,e(R)]])],64))}});export{ne as default};
