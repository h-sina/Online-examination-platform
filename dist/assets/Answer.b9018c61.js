var j=Object.defineProperty,H=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var D=Object.getOwnPropertySymbols;var J=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var L=(e,o,t)=>o in e?j(e,o,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[o]=t,O=(e,o)=>{for(var t in o||(o={}))J.call(o,t)&&L(e,t,o[t]);if(D)for(var t of D(o))Y.call(o,t)&&L(e,t,o[t]);return e},B=(e,o)=>H(e,U(o));var F=(e,o,t)=>new Promise((h,g)=>{var S=i=>{try{a(t.next(i))}catch(c){g(c)}},l=i=>{try{a(t.throw(i))}catch(c){g(c)}},a=i=>i.done?h(i.value):Promise.resolve(i.value).then(S,l);a((t=t.apply(e,o)).next())});import{a2 as G,a as K,d0 as W,d1 as X,v as Z,a5 as x,f as ee,at as te,U as oe,J as s,o as m,h as I,n,y as r,E as q,Y as w,j as T,m as ne,z as d,t as C,w as f,x as y,H as se}from"./index.572c67d6.js";import re from"./Danxuan.f16a9fdd.js";import ue from"./Panduan.9b143982.js";import ae from"./Duoxuan.e8ca1bcb.js";import ie from"./Tiank.79fe41b7.js";import le from"./Lunshu.bb24e24b.js";import"./question.9c03e846.js";function R(e){return G.get({url:"/exam/paper/get/"+e})}const{notification:Q}=se(),de=K({components:{ArrowRightOutlined:W,ArrowLeftOutlined:X,Danxuan:re,Panduan:ue,Duoxuan:ae,Tiank:ie,Lunshu:le},props:{paperId:{type:String,required:!0}},emits:["subExam"],setup(e,o){const t=Z({list:[],listCurrent:{},cur:0,creatorId:0,description:"",id:0,name:"",type:0,visible:!1,score:0,examRe:[{bigQuesId:0,bigQuesOrderId:0,corrected:0,paperId:0,quesId:0,score:0,userAnswer:"string"}]});x(()=>{h()});function h(){return F(this,null,function*(){let u=yield R(e.paperId);u.code==="ITEST-200"&&(t.list=u.data.bigQuesVoList,t.creatorId=u.data.creatorId,t.description=u.data.description,t.id=u.data.id,t.name=u.data.name,t.list,l(t.cur))})}const g=()=>{t.cur>0?(l(),l(--t.cur)):Q.warning({message:"\u5DF2\u7ECF\u662F\u7B2C\u4E00\u9898\u4E86",duration:3})},S=()=>{t.list.length-1>t.cur?l(++t.cur):Q.warning({message:"\u5DF2\u7ECF\u662F\u6700\u540E\u4E00\u9898\u4E86",duration:3})},l=u=>{t.listCurrent=t.list[u]},a=()=>{t.visible=!t.visible},i=ee(()=>t.listCurrent.totalScore/t.listCurrent.quesList.length),c=new Map,k=(u,v)=>{u?(t.score+=i.value,c.set(v,1)):c.has(v)&&(t.score-=i.value),t.score},b=()=>{a()},E=()=>{o.emit("subExam")};return B(O({},te(t)),{oneScore:i,getExam:R,last:g,next:S,currentBigQues:l,lookAll:a,computedScore:k,handleOk:b,submitExam:E})}}),ce={class:"demo-page-header",style:{"background-color":"#f5f5f5",padding:"24px"}},pe=d("\u4E0A\u4E00\u5927\u9898 "),me=d(" \u4E0B\u4E00\u5927\u9898 "),_e=d("\u9884\u89C8\u5168\u5377"),fe=d("\u63D0\u4EA4\u8BD5\u5377"),ye={style:{margin:"10px"}},ge={style:{margin:"10px"}};function Ie(e,o,t,h,g,S){const l=s("ArrowLeftOutlined"),a=s("a-button"),i=s("ArrowRightOutlined"),c=s("a-modal"),k=s("a-descriptions-item"),b=s("a-descriptions"),E=s("a-list-item-meta"),u=s("a-list-item"),v=s("Panduan"),V=s("Danxuan"),$=s("Duoxuan"),z=s("Tiank"),A=s("Lunshu"),M=s("a-list"),N=s("a-page-header");return m(),I("div",ce,[n(N,{ghost:!1,title:"\u4F5C\u7B54","sub-title":""},{extra:r(()=>[n(a,{onClick:e.last},{default:r(()=>[n(l),pe]),_:1},8,["onClick"]),n(a,{onClick:e.next},{default:r(()=>[me,n(i)]),_:1},8,["onClick"]),n(a,{type:"primary",onClick:e.lookAll},{default:r(()=>[_e]),_:1},8,["onClick"]),n(a,{shape:"round",type:"primary",onClick:e.submitExam},{default:r(()=>[fe]),_:1},8,["onClick"]),(m(!0),I(q,null,w(e.list,p=>(m(),T(c,{visible:e.visible,"onUpdate:visible":o[0]||(o[0]=_=>e.visible=_),title:"\u5168\u5377\u9884\u89C8",onOk:e.handleOk},{default:r(()=>[(m(!0),I(q,null,w(e.list,_=>(m(),I("div",ye,[ne("div",ge,[n(a,null,{default:r(()=>[d(C(_.name),1)]),_:2},1024)]),(m(!0),I(q,null,w(_.quesList,(Ce,P)=>(m(),T(a,{style:{margin:"10px"}},{default:r(()=>[d(C(1+P),1)]),_:2},1024))),256))]))),256))]),_:2},1032,["visible","onOk"]))),256))]),default:r(()=>[n(b,{size:"small",column:1},{default:r(()=>[n(k,{label:""},{default:r(()=>[d(C(e.listCurrent.name),1)]),_:1})]),_:1}),n(M,{"item-layout":"horizontal","data-source":e.listCurrent.quesList},{renderItem:r(({item:p,index:_})=>[n(u,null,{default:r(()=>[n(E,null,{avatar:r(()=>[d(C(++_)+".",1)]),title:r(()=>[d(C(p.content),1)]),_:2},1024)]),_:2},1024),f(n(v,{questionId:p.id,typeId:e.listCurrent.type,onScore:e.computedScore},null,8,["questionId","typeId","onScore"]),[[y,e.listCurrent.type===1]]),f(n(V,{questionId:p.id,typeId:e.listCurrent.type,onScore:e.computedScore},null,8,["questionId","typeId","onScore"]),[[y,e.listCurrent.type===2]]),f(n($,{questionId:p.id,typeId:e.listCurrent.type,onScore:e.computedScore},null,8,["questionId","typeId","onScore"]),[[y,e.listCurrent.type===3]]),f(n(z,{questionId:p.id,typeId:e.listCurrent.type,onScore:e.computedScore},null,8,["questionId","typeId","onScore"]),[[y,e.listCurrent.type===4]]),f(n(A,{questionId:p.id,typeId:e.listCurrent.type,onScore:e.computedScore},null,8,["questionId","typeId","onScore"]),[[y,e.listCurrent.type===5]]),f(n(A,{questionId:p.id,typeId:e.listCurrent.type,onScore:e.computedScore},null,8,["questionId","typeId","onScore"]),[[y,e.listCurrent.type===6]])]),_:1},8,["data-source"])]),_:1})])}var Ae=oe(de,[["render",Ie],["__scopeId","data-v-df71de88"]]);export{Ae as default};
