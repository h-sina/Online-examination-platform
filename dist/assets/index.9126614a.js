var pe=Object.defineProperty,be=Object.defineProperties;var _e=Object.getOwnPropertyDescriptors;var ee=Object.getOwnPropertySymbols;var ye=Object.prototype.hasOwnProperty,He=Object.prototype.propertyIsEnumerable;var te=(e,t,r)=>t in e?pe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,W=(e,t)=>{for(var r in t||(t={}))ye.call(t,r)&&te(e,r,t[r]);if(ee)for(var r of ee(t))He.call(t,r)&&te(e,r,t[r]);return e},ae=(e,t)=>be(e,_e(t));var ne=(e,t,r)=>new Promise((m,n)=>{var _=v=>{try{g(r.next(v))}catch(y){n(y)}},d=v=>{try{g(r.throw(v))}catch(y){n(y)}},g=v=>v.done?m(v.value):Promise.resolve(v.value).then(_,d);g((r=r.apply(e,t)).next())});import{n as h,a_ as Ce,ar as Pe,a as X,G as S,J as Fe,s as A,ct as $e,f as F,Q as ke,R as we,S as J,cu as Be,ci as Re,ai as Se,cv as Te,b as ce,b8 as Ae,av as ue,o as z,h as Q,m as U,aA as T,q as N,bm as de,N as Oe,al as L,cw as Ie,i as w,cx as Ee,cy as je,a6 as fe,aF as xe,cz as ze,b2 as C,a3 as Ne,an as re,E as oe,j as ie,ay as We,az as De,y as D,aB as Le,aC as Me,F as Ve,z as qe,t as Ge,ax as Je,k as le,aD as ge}from"./index.976f028d.js";import{B as Qe}from"./index.2440c5f5.js";import{A as Ue}from"./index.b556a78a.js";import{u as Xe}from"./useWindowSizeFn.43b44744.js";import{a as Ze}from"./useContentViewHeight.fa21b489.js";import{A as Ye}from"./ArrowLeftOutlined.6cbdd482.js";import"./index.d76d5ff0.js";import{T as Ke}from"./transButton.a71e0ac3.js";var et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M869 487.8L491.2 159.9c-2.9-2.5-6.6-3.9-10.5-3.9h-88.5c-7.4 0-10.8 9.2-5.2 14l350.2 304H152c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h585.1L386.9 854c-5.6 4.9-2.2 14 5.2 14h91.5c1.9 0 3.8-.7 5.2-2L869 536.2a32.07 32.07 0 000-48.4z"}}]},name:"arrow-right",theme:"outlined"},tt=et;function se(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?Object(arguments[t]):{},m=Object.keys(r);typeof Object.getOwnPropertySymbols=="function"&&(m=m.concat(Object.getOwnPropertySymbols(r).filter(function(n){return Object.getOwnPropertyDescriptor(r,n).enumerable}))),m.forEach(function(n){at(e,n,r[n])})}return e}function at(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Z=function(t,r){var m=se({},t,r.attrs);return h(Ce,se({},m,{icon:tt}),null)};Z.displayName="ArrowRightOutlined";Z.inheritAttrs=!1;var nt=Z,rt=function(){return{backIcon:S.any,prefixCls:String,title:S.any,subTitle:S.any,breadcrumb:S.object,tags:S.any,footer:S.any,extra:S.any,avatar:S.object,ghost:{type:Boolean,default:void 0},onBack:Function}},ot=X({name:"APageHeader",props:rt(),slots:["backIcon","avatar","breadcrumb","title","subTitle","tags","extra","footer"],setup:function(t,r){var m=r.emit,n=r.slots,_=Fe("page-header",t),d=_.prefixCls,g=_.direction,v=_.pageHeader,y=A(!1),E=$e(),$=function(a){var l=a.width;E.value||(y.value=l<768)},B=F(function(){var i,a,l;return(l=(i=t.ghost)!==null&&i!==void 0?i:(a=v.value)===null||a===void 0?void 0:a.ghost)!==null&&l!==void 0?l:!0}),R=function(){var a,l,u;return(u=(a=t.backIcon)!==null&&a!==void 0?a:(l=n.backIcon)===null||l===void 0?void 0:l.call(n))!==null&&u!==void 0?u:g.value==="rtl"?h(nt,null,null):h(Ye,null,null)},f=function(a){return!a||!t.onBack?null:h(Te,{componentName:"PageHeader",children:function(u){var o=u.back;return h("div",{class:"".concat(d.value,"-back")},[h(Ke,{onClick:function(c){m("back",c)},class:"".concat(d.value,"-back-button"),"aria-label":o},{default:function(){return[a]}})])}},null)},k=function(){var a;return t.breadcrumb?h(Qe,t.breadcrumb,null):(a=n.breadcrumb)===null||a===void 0?void 0:a.call(n)},H=function(){var a,l,u,o,s,c,P,O,M,V=t.avatar,j=(a=t.title)!==null&&a!==void 0?a:(l=n.title)===null||l===void 0?void 0:l.call(n),x=(u=t.subTitle)!==null&&u!==void 0?u:(o=n.subTitle)===null||o===void 0?void 0:o.call(n),q=(s=t.tags)!==null&&s!==void 0?s:(c=n.tags)===null||c===void 0?void 0:c.call(n),G=(P=t.extra)!==null&&P!==void 0?P:(O=n.extra)===null||O===void 0?void 0:O.call(n),I="".concat(d.value,"-heading"),Y=j||x||q||G;if(!Y)return null;var he=R(),K=f(he),me=K||V||Y;return h("div",{class:I},[me&&h("div",{class:"".concat(I,"-left")},[K,V?h(Ue,V,null):(M=n.avatar)===null||M===void 0?void 0:M.call(n),j&&h("span",{class:"".concat(I,"-title"),title:typeof j=="string"?j:void 0},[j]),x&&h("span",{class:"".concat(I,"-sub-title"),title:typeof x=="string"?x:void 0},[x]),q&&h("span",{class:"".concat(I,"-tags")},[q])]),G&&h("span",{class:"".concat(I,"-extra")},[G])])},p=function(){var a,l,u=(a=t.footer)!==null&&a!==void 0?a:Se((l=n.footer)===null||l===void 0?void 0:l.call(n));return Be(u)?null:h("div",{class:"".concat(d.value,"-footer")},[u])},b=function(a){return h("div",{class:"".concat(d.value,"-content")},[a])};return function(){var i,a,l,u=((a=t.breadcrumb)===null||a===void 0?void 0:a.routes)||n.breadcrumb,o=t.footer||n.footer,s=ke((l=n.default)===null||l===void 0?void 0:l.call(n)),c=we(d.value,(i={"has-breadcrumb":u,"has-footer":o},J(i,"".concat(d.value,"-ghost"),B.value),J(i,"".concat(d.value,"-rtl"),g.value==="rtl"),J(i,"".concat(d.value,"-compact"),y.value),i));return h(Re,{onResize:$},{default:function(){return[h("div",{class:c},[k(),H(),s.length?b(s):null,p()])]}})}}}),it=Pe(ot);const lt=X({name:"PageFooter",inheritAttrs:!1,setup(){const{prefixCls:e}=ce("page-footer"),{getCalcContentWidth:t}=Ae();return{prefixCls:e,getCalcContentWidth:t}}});function st(e,t,r,m,n,_){return z(),Q("div",{class:N(e.prefixCls),style:de({width:e.getCalcContentWidth})},[U("div",{class:N(`${e.prefixCls}__left`)},[T(e.$slots,"left",{},void 0,!0)],2),T(e.$slots,"default",{},void 0,!0),U("div",{class:N(`${e.prefixCls}__right`)},[T(e.$slots,"right",{},void 0,!0)],2)],6)}var ve=ue(lt,[["render",st],["__scopeId","data-v-2c113217"]]);function ct(e){let t;Oe(()=>{e(),L(()=>{t=!0})}),Ie(()=>{t&&e()})}function ut(e,t,r,m,n=0,_=A(0)){const d=A(null),{footerHeightRef:g}=Ze();let v={useLayoutFooter:!0};const y=f=>{v=f};function E(){L(()=>{R()})}function $(f,k="all"){var i,a,l,u;function H(o){return Number(o.replace(/[^\d]/g,""))}let p=0;const b="0px";if(f){const o=getComputedStyle(f),s=H((i=o==null?void 0:o.marginTop)!=null?i:b),c=H((a=o==null?void 0:o.marginBottom)!=null?a:b),P=H((l=o==null?void 0:o.paddingTop)!=null?l:b),O=H((u=o==null?void 0:o.paddingBottom)!=null?u:b);k==="all"?(p+=s,p+=c,p+=P,p+=O):k==="top"?(p+=s,p+=P):(p+=c,p+=O)}return p}function B(f){return f==null?null:f instanceof HTMLDivElement?f:f.$el}function R(){return ne(this,null,function*(){var u;if(!e.value)return;yield L();const f=B(w(t));if(!f)return;const{bottomIncludeBody:k}=Ee(f);let H=0;r.forEach(o=>{var s,c;H+=(c=(s=B(w(o)))==null?void 0:s.offsetHeight)!=null?c:0});let p=(u=$(f))!=null?u:0;m.forEach(o=>{p+=$(B(w(o)))});let b=0;function i(o,s){if(o&&s){const c=o.parentElement;c&&(xe(s)?c.classList.contains(s)?b+=$(c,"bottom"):(b+=$(c,"bottom"),i(c,s)):ze(s)&&s>0&&(b+=$(c,"bottom"),i(c,--s)))}}je(n)?i(f,w(n)):i(f,n);let a=k-w(g)-w(_)-H-p-b;const l=()=>{var o;(o=v.elements)==null||o.forEach(s=>{var c,P;a+=(P=(c=B(w(s)))==null?void 0:c.offsetHeight)!=null?P:0})};v.useLayoutFooter&&w(g)>0,l(),d.value=a})}return ct(()=>{L(()=>{R()})}),Xe(()=>{R()},50,{immediate:!0}),fe(()=>[g.value],()=>{R()},{flush:"post",immediate:!0}),{redoHeight:E,setCompensation:y,contentHeight:d}}const dt=X({name:"PageWrapper",components:{PageFooter:ve,PageHeader:it},inheritAttrs:!1,props:{title:C.string,dense:C.bool,ghost:C.bool,content:C.string,contentStyle:{type:Object},contentBackground:C.bool,contentFullHeight:C.bool,contentClass:C.string,fixedHeight:C.bool,upwardSpace:C.oneOfType([C.number,C.string]).def(0)},setup(e,{slots:t,attrs:r}){const m=A(null),n=A(null),_=A(null),d=A(null),{prefixCls:g}=ce("page-wrapper");Ne(vt,F(()=>e.fixedHeight));const v=F(()=>e.contentFullHeight),y=F(()=>e.upwardSpace),{redoHeight:E,setCompensation:$,contentHeight:B}=ut(v,m,[n,d],[_],y);$({useLayoutFooter:!0,elements:[d]});const R=F(()=>{var i;return[g,{[`${g}--dense`]:e.dense},(i=r.class)!=null?i:{}]}),f=F(()=>e.content||(t==null?void 0:t.headerContent)||e.title||H.value.length),k=F(()=>(t==null?void 0:t.leftFooter)||(t==null?void 0:t.rightFooter)),H=F(()=>Object.keys(re(t,"default","leftFooter","rightFooter","headerContent"))),p=F(()=>{const{contentFullHeight:i,contentStyle:a,fixedHeight:l}=e;if(!i)return W({},a);const u=`${w(B)}px`;return W(ae(W({},a),{minHeight:u}),l?{height:u}:{})}),b=F(()=>{const{contentBackground:i,contentClass:a}=e;return[`${g}-content`,a,{[`${g}-content-bg`]:i}]});return fe(()=>[k.value],()=>{E()},{flush:"post",immediate:!0}),{getContentStyle:p,wrapperRef:m,headerRef:n,contentRef:_,footerRef:d,getClass:R,getHeaderSlots:H,prefixCls:g,getShowHeader:f,getShowFooter:k,omit:re,getContentClass:b}}});function ft(e,t,r,m,n,_){const d=oe("PageHeader"),g=oe("PageFooter");return z(),Q("div",{class:N(e.getClass),ref:"wrapperRef"},[e.getShowHeader?(z(),ie(d,Je({key:0,ghost:e.ghost,title:e.title},e.omit(e.$attrs,"class"),{ref:"headerRef"}),We({default:D(()=>[e.content?(z(),Q(Ve,{key:0},[qe(Ge(e.content),1)],64)):T(e.$slots,"headerContent",{key:1})]),_:2},[De(e.getHeaderSlots,v=>({name:v,fn:D(y=>[T(e.$slots,v,Le(Me(y||{})))])}))]),1040,["ghost","title"])):le("",!0),U("div",{class:N(["overflow-hidden",e.getContentClass]),style:de(e.getContentStyle),ref:"contentRef"},[T(e.$slots,"default")],6),e.getShowFooter?(z(),ie(g,{key:1,ref:"footerRef"},{left:D(()=>[T(e.$slots,"leftFooter")]),right:D(()=>[T(e.$slots,"rightFooter")]),_:3},512)):le("",!0)],2)}var gt=ue(dt,[["render",ft]]);ge(ve);const Ft=ge(gt),vt="PageWrapperFixedHeight";export{Ft as P,vt as a,ct as o};
