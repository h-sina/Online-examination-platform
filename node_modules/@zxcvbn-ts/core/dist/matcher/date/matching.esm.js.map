{"version":3,"file":"matching.esm.js","sources":["../../../src/matcher/date/matching.ts"],"sourcesContent":[null],"names":["MatchDate","match","password","matches","getMatchesWithoutSeparator","getMatchesWithSeparator","filteredMatches","filterNoise","sorted","maybeDateWithSeparator","i","Math","abs","length","j","token","slice","regexMatch","exec","dmy","mapIntegersToDayMonthYear","parseInt","push","pattern","separator","year","month","day","maybeDateNoSeparator","metric","candidate","REFERENCE_YEAR","candidates","index","splittedDates","DATE_SPLITS","forEach","k","l","bestCandidate","minDistance","distance","filter","isSubmatch","matchesLength","o","otherMatch","integers","over12","over31","under1","len1","int","DATE_MIN_YEAR","DATE_MAX_YEAR","getDayMonth","possibleYearSplits","possibleYearSplitsLength","y","rest","dm","mapIntegersToDayMonth","twoToFourDigitYear","temp","reverse","data"],"mappings":"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"}