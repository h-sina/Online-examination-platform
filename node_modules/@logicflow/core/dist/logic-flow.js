!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var r=e();for(var n in r)("object"==typeof exports?exports:t)[n]=r[n]}}(window,(function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var o=e[n]={i:n,l:!1,exports:{}};return t[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=202)}([function(t,e,r){"use strict";(function(t,n){r.d(e,"a",(function(){return w})),r.d(e,"b",(function(){return er})),r.d(e,"c",(function(){return Gt})),r.d(e,"d",(function(){return jt})),r.d(e,"e",(function(){return yt})),r.d(e,"f",(function(){return dt})),r.d(e,"g",(function(){return _t})),r.d(e,"h",(function(){return yr})),r.d(e,"i",(function(){return at})),r.d(e,"j",(function(){return wt})),r.d(e,"k",(function(){return Qt})),r.d(e,"l",(function(){return ne})),r.d(e,"m",(function(){return rt})),r.d(e,"n",(function(){return se})),r.d(e,"o",(function(){return E})),r.d(e,"p",(function(){return Se})),r.d(e,"q",(function(){return le})),r.d(e,"r",(function(){return ge})),r.d(e,"s",(function(){return dr})),r.d(e,"t",(function(){return de})),r.d(e,"u",(function(){return ee})),r.d(e,"v",(function(){return Oe})),r.d(e,"w",(function(){return we})),r.d(e,"x",(function(){return je})),r.d(e,"y",(function(){return Je})),r.d(e,"z",(function(){return rr})),r.d(e,"A",(function(){return pr})),r.d(e,"B",(function(){return Ee})),r.d(e,"C",(function(){return Z})),r.d(e,"D",(function(){return Pe})),r.d(e,"E",(function(){return ue})),r.d(e,"F",(function(){return ae})),r.d(e,"G",(function(){return te})),r.d(e,"H",(function(){return $t})),r.d(e,"I",(function(){return De})),r.d(e,"J",(function(){return Me})),r.d(e,"K",(function(){return lt})),r.d(e,"L",(function(){return xe})),r.d(e,"M",(function(){return Ne}));var o=[];Object.freeze(o);var i={};function a(){return++Rt.mobxGuid}function u(t){throw c(!1,t),"X"}function c(t,e){if(!t)throw new Error("[mobx] "+(e||"An invariant failed, however the error is obfuscated because this is a production build."))}Object.freeze(i);function s(t){var e=!1;return function(){if(!e)return e=!0,t.apply(this,arguments)}}var l=function(){};function f(t){return null!==t&&"object"==typeof t}function p(t){if(null===t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}function d(t,e,r){Object.defineProperty(t,e,{enumerable:!1,writable:!0,configurable:!0,value:r})}function y(t,e){var r="isMobX"+t;return e.prototype[r]=!0,function(t){return f(t)&&!0===t[r]}}function h(t){return t instanceof Map}function v(t){return t instanceof Set}function g(t){var e=new Set;for(var r in t)e.add(r);return Object.getOwnPropertySymbols(t).forEach((function(r){Object.getOwnPropertyDescriptor(t,r).enumerable&&e.add(r)})),Array.from(e)}function b(t){return t&&t.toString?t.toString():new String(t).toString()}function m(t){return null===t?null:"object"==typeof t?""+t:t}var O="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,w=Symbol("mobx administration"),_=function(){function t(t){void 0===t&&(t="Atom@"+a()),this.name=t,this.isPendingUnobservation=!1,this.isBeingObserved=!1,this.observers=new Set,this.diffValue=0,this.lastAccessedBy=0,this.lowestObserverState=J.NOT_TRACKING}return t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.reportObserved=function(){return Xt(this)},t.prototype.reportChanged=function(){Bt(),function(t){if(t.lowestObserverState===J.STALE)return;t.lowestObserverState=J.STALE,t.observers.forEach((function(e){e.dependenciesState===J.UP_TO_DATE&&(e.isTracing!==Q.NONE&&Ut(e,t),e.onBecomeStale()),e.dependenciesState=J.STALE}))}(this),Ht()},t.prototype.toString=function(){return this.name},t}(),j=y("Atom",_);function E(t,e,r){void 0===e&&(e=l),void 0===r&&(r=l);var n,o=new _(t);return e!==l&&ce("onBecomeObserved",o,e,n),r!==l&&ue(o,r),o}var x={identity:function(t,e){return t===e},structural:function(t,e){return vr(t,e)},default:function(t,e){return Object.is(t,e)},shallow:function(t,e){return vr(t,e,1)}},S=function(t,e){return(S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var P=function(){return(P=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function k(t){var e="function"==typeof Symbol&&t[Symbol.iterator],r=0;return e?e.call(t):{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}}}function A(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a}function D(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(A(arguments[e]));return t}var T=Symbol("mobx did run lazy initializers"),M=Symbol("mobx pending decorators"),N={},C={};function R(t,e){var r=e?N:C;return r[t]||(r[t]={configurable:!0,enumerable:e,get:function(){return I(this),this[t]},set:function(e){I(this),this[t]=e}})}function I(t){var e,r;if(!0!==t[T]){var n=t[M];if(n){d(t,T,!0);var o=D(Object.getOwnPropertySymbols(n),Object.keys(n));try{for(var i=k(o),a=i.next();!a.done;a=i.next()){var u=n[a.value];u.propertyCreator(t,u.prop,u.descriptor,u.decoratorTarget,u.decoratorArguments)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=i.return)&&r.call(i)}finally{if(e)throw e.error}}}}}function L(t,e){return function(){var r,n=function(n,o,i,a){if(!0===a)return e(n,o,i,n,r),null;if(!Object.prototype.hasOwnProperty.call(n,M)){var u=n[M];d(n,M,P({},u))}return n[M][o]={prop:o,propertyCreator:e,descriptor:i,decoratorTarget:n,decoratorArguments:r},R(o,t)};return z(arguments)?(r=o,n.apply(null,arguments)):(r=Array.prototype.slice.call(arguments),n)}}function z(t){return(2===t.length||3===t.length)&&("string"==typeof t[1]||"symbol"==typeof t[1])||4===t.length&&!0===t[3]}function B(t,e,r){return je(t)?t:Array.isArray(t)?Z.array(t,{name:r}):p(t)?Z.object(t,void 0,{name:r}):h(t)?Z.map(t,{name:r}):v(t)?Z.set(t,{name:r}):t}function H(t){return t}function X(e){c(e);var r=L(!0,(function(t,r,n,o,i){var a=n?n.initializer?n.initializer.call(t):n.value:void 0;ur(t).addObservableProp(r,a,e)})),n=(void 0!==t&&t.env,r);return n.enhancer=e,n}var U={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function G(t){return null==t?U:"string"==typeof t?{name:t,deep:!0,proxy:!0}:t}Object.freeze(U);var F=X(B),Y=X((function(t,e,r){return null==t||pr(t)||Je(t)||rr(t)||ir(t)?t:Array.isArray(t)?Z.array(t,{name:r,deep:!1}):p(t)?Z.object(t,void 0,{name:r,deep:!1}):h(t)?Z.map(t,{name:r,deep:!1}):v(t)?Z.set(t,{name:r,deep:!1}):u(!1)})),V=X(H),W=X((function(t,e,r){return vr(t,e)?e:t}));function K(t){return t.defaultDecorator?t.defaultDecorator.enhancer:!1===t.deep?H:B}var $={box:function(t,e){arguments.length>2&&q("box");var r=G(e);return new St(t,K(r),r.name,!0,r.equals)},array:function(t,e){arguments.length>2&&q("array");var r=G(e);return We(t,K(r),r.name)},map:function(t,e){arguments.length>2&&q("map");var r=G(e);return new er(t,K(r),r.name)},set:function(t,e){arguments.length>2&&q("set");var r=G(e);return new or(t,K(r),r.name)},object:function(t,e,r){"string"==typeof arguments[1]&&q("object");var n=G(r);if(!1===n.proxy)return le({},t,e,n);var o=fe(n),i=le({},void 0,void 0,n),a=Be(i);return pe(a,t,e,o),a},ref:V,shallow:Y,deep:F,struct:W},Z=function(t,e,r){if("string"==typeof arguments[1]||"symbol"==typeof arguments[1])return F.apply(null,arguments);if(je(t))return t;var n=p(t)?Z.object(t,e,r):Array.isArray(t)?Z.array(t,e):h(t)?Z.map(t,e):v(t)?Z.set(t,e):t;if(n!==t)return n;u(!1)};function q(t){u("Expected one or two arguments to observable."+t+". Did you accidentally try to use observable."+t+" as decorator?")}Object.keys($).forEach((function(t){return Z[t]=$[t]}));var J,Q,tt=L(!1,(function(t,e,r,n,o){var i=r.get,a=r.set,u=o[0]||{};ur(t).addComputedProp(t,e,P({get:i,set:a,context:t},u))})),et=tt({equals:x.structural}),rt=function(t,e,r){if("string"==typeof e)return tt.apply(null,arguments);if(null!==t&&"object"==typeof t&&1===arguments.length)return tt.apply(null,arguments);var n="object"==typeof e?e:{};return n.get=t,n.set="function"==typeof e?e:n.set,n.name=n.name||t.name||"",new kt(n)};rt.struct=et,function(t){t[t.NOT_TRACKING=-1]="NOT_TRACKING",t[t.UP_TO_DATE=0]="UP_TO_DATE",t[t.POSSIBLY_STALE=1]="POSSIBLY_STALE",t[t.STALE=2]="STALE"}(J||(J={})),function(t){t[t.NONE=0]="NONE",t[t.LOG=1]="LOG",t[t.BREAK=2]="BREAK"}(Q||(Q={}));var nt=function(t){this.cause=t};function ot(t){return t instanceof nt}function it(t){switch(t.dependenciesState){case J.UP_TO_DATE:return!1;case J.NOT_TRACKING:case J.STALE:return!0;case J.POSSIBLY_STALE:for(var e=dt(!0),r=ft(),n=t.observing,o=n.length,i=0;i<o;i++){var a=n[i];if(At(a)){if(Rt.disableErrorBoundaries)a.get();else try{a.get()}catch(t){return pt(r),yt(e),!0}if(t.dependenciesState===J.STALE)return pt(r),yt(e),!0}}return ht(t),pt(r),yt(e),!1}}function at(){return null!==Rt.trackingDerivation}function ut(t){var e=t.observers.size>0;Rt.computationDepth>0&&e&&u(!1),Rt.allowStateChanges||!e&&"strict"!==Rt.enforceActions||u(!1)}function ct(t,e,r){var n=dt(!0);ht(t),t.newObserving=new Array(t.observing.length+100),t.unboundDepsCount=0,t.runId=++Rt.runId;var o,i=Rt.trackingDerivation;if(Rt.trackingDerivation=t,!0===Rt.disableErrorBoundaries)o=e.call(r);else try{o=e.call(r)}catch(t){o=new nt(t)}return Rt.trackingDerivation=i,function(t){for(var e=t.observing,r=t.observing=t.newObserving,n=J.UP_TO_DATE,o=0,i=t.unboundDepsCount,a=0;a<i;a++){0===(u=r[a]).diffValue&&(u.diffValue=1,o!==a&&(r[o]=u),o++),u.dependenciesState>n&&(n=u.dependenciesState)}r.length=o,t.newObserving=null,i=e.length;for(;i--;){0===(u=e[i]).diffValue&&Lt(u,t),u.diffValue=0}for(;o--;){var u;1===(u=r[o]).diffValue&&(u.diffValue=0,It(u,t))}n!==J.UP_TO_DATE&&(t.dependenciesState=n,t.onBecomeStale())}(t),yt(n),o}function st(t){var e=t.observing;t.observing=[];for(var r=e.length;r--;)Lt(e[r],t);t.dependenciesState=J.NOT_TRACKING}function lt(t){var e=ft();try{return t()}finally{pt(e)}}function ft(){var t=Rt.trackingDerivation;return Rt.trackingDerivation=null,t}function pt(t){Rt.trackingDerivation=t}function dt(t){var e=Rt.allowStateReads;return Rt.allowStateReads=t,e}function yt(t){Rt.allowStateReads=t}function ht(t){if(t.dependenciesState!==J.UP_TO_DATE){t.dependenciesState=J.UP_TO_DATE;for(var e=t.observing,r=e.length;r--;)e[r].lowestObserverState=J.UP_TO_DATE}}var vt=0,gt=1,bt=Object.getOwnPropertyDescriptor((function(){}),"name");bt&&bt.configurable;function mt(t,e,r){var n=function(){return Ot(t,e,r||this,arguments)};return n.isMobxAction=!0,n}function Ot(t,e,r,n){var o=wt(t,r,n);try{return e.apply(r,n)}catch(t){throw o.error=t,t}finally{_t(o)}}function wt(t,e,r){var n=0,o=ft();Bt();var i={prevDerivation:o,prevAllowStateChanges:Et(!0),prevAllowStateReads:dt(!0),notifySpy:!1,startTime:n,actionId:gt++,parentActionId:vt};return vt=i.actionId,i}function _t(t){vt!==t.actionId&&u("invalid action stack. did you forget to finish an action?"),vt=t.parentActionId,void 0!==t.error&&(Rt.suppressReactionErrors=!0),xt(t.prevAllowStateChanges),yt(t.prevAllowStateReads),Ht(),pt(t.prevDerivation),t.notifySpy,Rt.suppressReactionErrors=!1}function jt(t,e){var r,n=Et(t);try{r=e()}finally{xt(n)}return r}function Et(t){var e=Rt.allowStateChanges;return Rt.allowStateChanges=t,e}function xt(t){Rt.allowStateChanges=t}var St=function(t){function e(e,r,n,o,i){void 0===n&&(n="ObservableValue@"+a()),void 0===o&&(o=!0),void 0===i&&(i=x.default);var u=t.call(this,n)||this;return u.enhancer=r,u.name=n,u.equals=i,u.hasUnreportedChange=!1,u.value=r(e,void 0,n),u}return function(t,e){function r(){this.constructor=t}S(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}(e,t),e.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},e.prototype.set=function(t){this.value;if((t=this.prepareNewValue(t))!==Rt.UNCHANGED){0,this.setNewValue(t)}},e.prototype.prepareNewValue=function(t){if(ut(this),He(this)){var e=Ue(this,{object:this,type:"update",newValue:t});if(!e)return Rt.UNCHANGED;t=e.newValue}return t=this.enhancer(t,this.value,this.name),this.equals(this.value,t)?Rt.UNCHANGED:t},e.prototype.setNewValue=function(t){var e=this.value;this.value=t,this.reportChanged(),Ge(this)&&Ye(this,{type:"update",object:this,newValue:t,oldValue:e})},e.prototype.get=function(){return this.reportObserved(),this.dehanceValue(this.value)},e.prototype.intercept=function(t){return Xe(this,t)},e.prototype.observe=function(t,e){return e&&t({object:this,type:"update",newValue:this.value,oldValue:void 0}),Fe(this,t)},e.prototype.toJSON=function(){return this.get()},e.prototype.toString=function(){return this.name+"["+this.value+"]"},e.prototype.valueOf=function(){return m(this.get())},e.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},e}(_),Pt=y("ObservableValue",St),kt=function(){function t(t){this.dependenciesState=J.NOT_TRACKING,this.observing=[],this.newObserving=null,this.isBeingObserved=!1,this.isPendingUnobservation=!1,this.observers=new Set,this.diffValue=0,this.runId=0,this.lastAccessedBy=0,this.lowestObserverState=J.UP_TO_DATE,this.unboundDepsCount=0,this.__mapid="#"+a(),this.value=new nt(null),this.isComputing=!1,this.isRunningSetter=!1,this.isTracing=Q.NONE,c(t.get,"missing option for computed: get"),this.derivation=t.get,this.name=t.name||"ComputedValue@"+a(),t.set&&(this.setter=mt(this.name+"-setter",t.set)),this.equals=t.equals||(t.compareStructural||t.struct?x.structural:x.default),this.scope=t.context,this.requiresReaction=!!t.requiresReaction,this.keepAlive=!!t.keepAlive}return t.prototype.onBecomeStale=function(){!function(t){if(t.lowestObserverState!==J.UP_TO_DATE)return;t.lowestObserverState=J.POSSIBLY_STALE,t.observers.forEach((function(e){e.dependenciesState===J.UP_TO_DATE&&(e.dependenciesState=J.POSSIBLY_STALE,e.isTracing!==Q.NONE&&Ut(e,t),e.onBecomeStale())}))}(this)},t.prototype.onBecomeObserved=function(){this.onBecomeObservedListeners&&this.onBecomeObservedListeners.forEach((function(t){return t()}))},t.prototype.onBecomeUnobserved=function(){this.onBecomeUnobservedListeners&&this.onBecomeUnobservedListeners.forEach((function(t){return t()}))},t.prototype.get=function(){this.isComputing&&u("Cycle detected in computation "+this.name+": "+this.derivation),0!==Rt.inBatch||0!==this.observers.size||this.keepAlive?(Xt(this),it(this)&&this.trackAndCompute()&&function(t){if(t.lowestObserverState===J.STALE)return;t.lowestObserverState=J.STALE,t.observers.forEach((function(e){e.dependenciesState===J.POSSIBLY_STALE?e.dependenciesState=J.STALE:e.dependenciesState===J.UP_TO_DATE&&(t.lowestObserverState=J.UP_TO_DATE)}))}(this)):it(this)&&(this.warnAboutUntrackedRead(),Bt(),this.value=this.computeValue(!1),Ht());var t=this.value;if(ot(t))throw t.cause;return t},t.prototype.peek=function(){var t=this.computeValue(!1);if(ot(t))throw t.cause;return t},t.prototype.set=function(t){if(this.setter){c(!this.isRunningSetter,"The setter of computed value '"+this.name+"' is trying to update itself. Did you intend to update an _observable_ value, instead of the computed property?"),this.isRunningSetter=!0;try{this.setter.call(this.scope,t)}finally{this.isRunningSetter=!1}}else c(!1,!1)},t.prototype.trackAndCompute=function(){var t=this.value,e=this.dependenciesState===J.NOT_TRACKING,r=this.computeValue(!0),n=e||ot(t)||ot(r)||!this.equals(t,r);return n&&(this.value=r),n},t.prototype.computeValue=function(t){var e;if(this.isComputing=!0,Rt.computationDepth++,t)e=ct(this,this.derivation,this.scope);else if(!0===Rt.disableErrorBoundaries)e=this.derivation.call(this.scope);else try{e=this.derivation.call(this.scope)}catch(t){e=new nt(t)}return Rt.computationDepth--,this.isComputing=!1,e},t.prototype.suspend=function(){this.keepAlive||(st(this),this.value=void 0)},t.prototype.observe=function(t,e){var r=this,n=!0,o=void 0;return ne((function(){var i=r.get();if(!n||e){var a=ft();t({type:"update",object:r,newValue:i,oldValue:o}),pt(a)}n=!1,o=i}))},t.prototype.warnAboutUntrackedRead=function(){},t.prototype.toJSON=function(){return this.get()},t.prototype.toString=function(){return this.name+"["+this.derivation.toString()+"]"},t.prototype.valueOf=function(){return m(this.get())},t.prototype[Symbol.toPrimitive]=function(){return this.valueOf()},t}(),At=y("ComputedValue",kt),Dt=function(){this.version=5,this.UNCHANGED={},this.trackingDerivation=null,this.computationDepth=0,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!0,this.allowStateReads=!0,this.enforceActions=!1,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.computedConfigurable=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1},Tt={};function Mt(){return"undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:Tt}var Nt=!0,Ct=!1,Rt=function(){var t=Mt();return t.__mobxInstanceCount>0&&!t.__mobxGlobals&&(Nt=!1),t.__mobxGlobals&&t.__mobxGlobals.version!==(new Dt).version&&(Nt=!1),Nt?t.__mobxGlobals?(t.__mobxInstanceCount+=1,t.__mobxGlobals.UNCHANGED||(t.__mobxGlobals.UNCHANGED={}),t.__mobxGlobals):(t.__mobxInstanceCount=1,t.__mobxGlobals=new Dt):(setTimeout((function(){Ct||u("There are multiple, different versions of MobX active. Make sure MobX is loaded only once or use `configure({ isolateGlobalState: true })`")}),1),new Dt)}();function It(t,e){t.observers.add(e),t.lowestObserverState>e.dependenciesState&&(t.lowestObserverState=e.dependenciesState)}function Lt(t,e){t.observers.delete(e),0===t.observers.size&&zt(t)}function zt(t){!1===t.isPendingUnobservation&&(t.isPendingUnobservation=!0,Rt.pendingUnobservations.push(t))}function Bt(){Rt.inBatch++}function Ht(){if(0==--Rt.inBatch){Yt();for(var t=Rt.pendingUnobservations,e=0;e<t.length;e++){var r=t[e];r.isPendingUnobservation=!1,0===r.observers.size&&(r.isBeingObserved&&(r.isBeingObserved=!1,r.onBecomeUnobserved()),r instanceof kt&&r.suspend())}Rt.pendingUnobservations=[]}}function Xt(t){var e=Rt.trackingDerivation;return null!==e?(e.runId!==t.lastAccessedBy&&(t.lastAccessedBy=e.runId,e.newObserving[e.unboundDepsCount++]=t,t.isBeingObserved||(t.isBeingObserved=!0,t.onBecomeObserved())),!0):(0===t.observers.size&&Rt.inBatch>0&&zt(t),!1)}function Ut(t,e){if(console.log("[mobx.trace] '"+t.name+"' is invalidated due to a change in: '"+e.name+"'"),t.isTracing===Q.BREAK){var r=[];!function t(e,r,n){if(r.length>=1e3)return void r.push("(and many more)");r.push(""+new Array(n).join("\t")+e.name),e.dependencies&&e.dependencies.forEach((function(e){return t(e,r,n+1)}))}(de(t),r,1),new Function("debugger;\n/*\nTracing '"+t.name+"'\n\nYou are entering this break point because derivation '"+t.name+"' is being traced and '"+e.name+"' is now forcing it to update.\nJust follow the stacktrace you should now see in the devtools to see precisely what piece of your code is causing this update\nThe stackframe you are looking for is at least ~6-8 stack-frames up.\n\n"+(t instanceof kt?t.derivation.toString().replace(/[*]\//g,"/"):"")+"\n\nThe dependencies for this derivation are:\n\n"+r.join("\n")+"\n*/\n    ")()}}var Gt=function(){function t(t,e,r,n){void 0===t&&(t="Reaction@"+a()),void 0===n&&(n=!1),this.name=t,this.onInvalidate=e,this.errorHandler=r,this.requiresObservable=n,this.observing=[],this.newObserving=[],this.dependenciesState=J.NOT_TRACKING,this.diffValue=0,this.runId=0,this.unboundDepsCount=0,this.__mapid="#"+a(),this.isDisposed=!1,this._isScheduled=!1,this._isTrackPending=!1,this._isRunning=!1,this.isTracing=Q.NONE}return t.prototype.onBecomeStale=function(){this.schedule()},t.prototype.schedule=function(){this._isScheduled||(this._isScheduled=!0,Rt.pendingReactions.push(this),Yt())},t.prototype.isScheduled=function(){return this._isScheduled},t.prototype.runReaction=function(){if(!this.isDisposed){if(Bt(),this._isScheduled=!1,it(this)){this._isTrackPending=!0;try{this.onInvalidate(),this._isTrackPending}catch(t){this.reportExceptionInDerivation(t)}}Ht()}},t.prototype.track=function(t){if(!this.isDisposed){Bt();0,this._isRunning=!0;var e=ct(this,t,void 0);this._isRunning=!1,this._isTrackPending=!1,this.isDisposed&&st(this),ot(e)&&this.reportExceptionInDerivation(e.cause),Ht()}},t.prototype.reportExceptionInDerivation=function(t){var e=this;if(this.errorHandler)this.errorHandler(t,this);else{if(Rt.disableErrorBoundaries)throw t;var r="[mobx] Encountered an uncaught exception that was thrown by a reaction or observer component, in: '"+this+"'";Rt.suppressReactionErrors?console.warn("[mobx] (error in reaction '"+this.name+"' suppressed, fix error of causing action below)"):console.error(r,t),Rt.globalReactionErrorHandlers.forEach((function(r){return r(t,e)}))}},t.prototype.dispose=function(){this.isDisposed||(this.isDisposed=!0,this._isRunning||(Bt(),st(this),Ht()))},t.prototype.getDisposer=function(){var t=this.dispose.bind(this);return t[w]=this,t},t.prototype.toString=function(){return"Reaction["+this.name+"]"},t.prototype.trace=function(t){void 0===t&&(t=!1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=!1;"boolean"==typeof t[t.length-1]&&(r=t.pop());var n=Te(t);if(!n)return u(!1);n.isTracing===Q.NONE&&console.log("[mobx.trace] '"+n.name+"' tracing enabled");n.isTracing=r?Q.BREAK:Q.LOG}(this,t)},t}();var Ft=function(t){return t()};function Yt(){Rt.inBatch>0||Rt.isRunningReactions||Ft(Vt)}function Vt(){Rt.isRunningReactions=!0;for(var t=Rt.pendingReactions,e=0;t.length>0;){100==++e&&(console.error("Reaction doesn't converge to a stable state after 100 iterations. Probably there is a cycle in the reactive function: "+t[0]),t.splice(0));for(var r=t.splice(0),n=0,o=r.length;n<o;n++)r[n].runReaction()}Rt.isRunningReactions=!1}var Wt=y("Reaction",Gt);function Kt(t){var e=Ft;Ft=function(r){return t((function(){return e(r)}))}}function $t(t){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}}function Zt(){u(!1)}function qt(t){return function(e,r,n){if(n){if(n.value)return{value:mt(t,n.value),enumerable:!1,configurable:!0,writable:!0};var o=n.initializer;return{enumerable:!1,configurable:!0,writable:!0,initializer:function(){return mt(t,o.call(this))}}}return Jt(t).apply(this,arguments)}}function Jt(t){return function(e,r,n){Object.defineProperty(e,r,{configurable:!0,enumerable:!1,get:function(){},set:function(e){d(this,r,Qt(t,e))}})}}var Qt=function(t,e,r,n){return 1===arguments.length&&"function"==typeof t?mt(t.name||"<unnamed action>",t):2===arguments.length&&"function"==typeof e?mt(t,e):1===arguments.length&&"string"==typeof t?qt(t):!0!==n?qt(e).apply(null,arguments):void d(t,e,mt(t.name||e,r.value,this))};function te(t,e){return Ot("string"==typeof t?t:t.name||"<unnamed action>","function"==typeof t?t:e,this,void 0)}function ee(t){return"function"==typeof t&&!0===t.isMobxAction}function re(t,e,r){d(t,e,mt(e,r.bind(t)))}function ne(t,e){void 0===e&&(e=i);var r,n=e&&e.name||t.name||"Autorun@"+a();if(!e.scheduler&&!e.delay)r=new Gt(n,(function(){this.track(c)}),e.onError,e.requiresObservable);else{var o=ie(e),u=!1;r=new Gt(n,(function(){u||(u=!0,o((function(){u=!1,r.isDisposed||r.track(c)})))}),e.onError,e.requiresObservable)}function c(){t(r)}return r.schedule(),r.getDisposer()}Qt.bound=function(t,e,r,n){return!0===n?(re(t,e,r.value),null):r?{configurable:!0,enumerable:!1,get:function(){return re(this,e,r.value||r.initializer.call(this)),this[e]},set:Zt}:{enumerable:!1,configurable:!0,set:function(t){re(this,e,t)},get:function(){}}};var oe=function(t){return t()};function ie(t){return t.scheduler?t.scheduler:t.delay?function(e){return setTimeout(e,t.delay)}:oe}function ae(t,e,r){void 0===r&&(r=i);var n,o,u,c=r.name||"Reaction@"+a(),s=Qt(c,r.onError?(n=r.onError,o=e,function(){try{return o.apply(this,arguments)}catch(t){n.call(this,t)}}):e),l=!r.scheduler&&!r.delay,f=ie(r),p=!0,d=!1,y=r.compareStructural?x.structural:r.equals||x.default,h=new Gt(c,(function(){p||l?v():d||(d=!0,f(v))}),r.onError,r.requiresObservable);function v(){if(d=!1,!h.isDisposed){var e=!1;h.track((function(){var r=t(h);e=p||!y(u,r),u=r})),p&&r.fireImmediately&&s(u,h),p||!0!==e||s(u,h),p&&(p=!1)}}return h.schedule(),h.getDisposer()}function ue(t,e,r){return ce("onBecomeUnobserved",t,e,r)}function ce(t,e,r,n){var o="function"==typeof n?dr(e,r):dr(e),i="function"==typeof n?n:r,a=t+"Listeners";return o[a]?o[a].add(i):o[a]=new Set([i]),"function"!=typeof o[t]?u(!1):function(){var t=o[a];t&&(t.delete(i),0===t.size&&delete o[a])}}function se(t){var e=t.enforceActions,r=t.computedRequiresReaction,n=t.computedConfigurable,o=t.disableErrorBoundaries,i=t.reactionScheduler,a=t.reactionRequiresObservable,c=t.observableRequiresReaction;if(!0===t.isolateGlobalState&&((Rt.pendingReactions.length||Rt.inBatch||Rt.isRunningReactions)&&u("isolateGlobalState should be called before MobX is running any reactions"),Ct=!0,Nt&&(0==--Mt().__mobxInstanceCount&&(Mt().__mobxGlobals=void 0),Rt=new Dt)),void 0!==e){var s=void 0;switch(e){case!0:case"observed":s=!0;break;case!1:case"never":s=!1;break;case"strict":case"always":s="strict";break;default:u("Invalid value for 'enforceActions': '"+e+"', expected 'never', 'always' or 'observed'")}Rt.enforceActions=s,Rt.allowStateChanges=!0!==s&&"strict"!==s}void 0!==r&&(Rt.computedRequiresReaction=!!r),void 0!==a&&(Rt.reactionRequiresObservable=!!a),void 0!==c&&(Rt.observableRequiresReaction=!!c,Rt.allowStateReads=!Rt.observableRequiresReaction),void 0!==n&&(Rt.computedConfigurable=!!n),void 0!==o&&(!0===o&&console.warn("WARNING: Debug feature only. MobX will NOT recover from errors when `disableErrorBoundaries` is enabled."),Rt.disableErrorBoundaries=!!o),i&&Kt(i)}function le(t,e,r,n){var o=fe(n=G(n));return I(t),ur(t,n.name,o.enhancer),e&&pe(t,e,r,o),t}function fe(t){return t.defaultDecorator||(!1===t.deep?V:F)}function pe(t,e,r,n){var o,i;Bt();try{var a=O(e);try{for(var u=k(a),c=u.next();!c.done;c=u.next()){var s=c.value,l=Object.getOwnPropertyDescriptor(e,s);0;var f=(r&&s in r?r[s]:l.get?tt:n)(t,s,l,!0);f&&Object.defineProperty(t,s,f)}}catch(t){o={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(o)throw o.error}}}finally{Ht()}}function de(t,e){return ye(dr(t,e))}function ye(t){var e,r,n={name:t.name};return t.observing&&t.observing.length>0&&(n.dependencies=(e=t.observing,r=[],e.forEach((function(t){-1===r.indexOf(t)&&r.push(t)})),r).map(ye)),n}var he=0;function ve(){this.message="FLOW_CANCELLED"}function ge(t){1!==arguments.length&&u("Flow expects 1 argument and cannot be used as decorator");var e=t.name||"<unnamed flow>";return function(){var r,n=this,o=arguments,i=++he,a=Qt(e+" - runid: "+i+" - init",t).apply(n,o),u=void 0,c=new Promise((function(t,n){var o=0;function c(t){var r;u=void 0;try{r=Qt(e+" - runid: "+i+" - yield "+o++,a.next).call(a,t)}catch(t){return n(t)}l(r)}function s(t){var r;u=void 0;try{r=Qt(e+" - runid: "+i+" - yield "+o++,a.throw).call(a,t)}catch(t){return n(t)}l(r)}function l(e){if(!e||"function"!=typeof e.then)return e.done?t(e.value):(u=Promise.resolve(e.value)).then(c,s);e.then(l,n)}r=n,c(void 0)}));return c.cancel=Qt(e+" - runid: "+i+" - cancel",(function(){try{u&&be(u);var t=a.return(void 0),e=Promise.resolve(t.value);e.then(l,l),be(e),r(new ve)}catch(t){r(t)}})),c}}function be(t){"function"==typeof t.cancel&&t.cancel()}function me(t,e){if(null==t)return!1;if(void 0!==e){if(!1===pr(t))return!1;if(!t[w].values.has(e))return!1;var r=dr(t,e);return At(r)}return At(t)}function Oe(t){return arguments.length>1?u(!1):me(t)}function we(t,e){return"string"!=typeof e?u(!1):me(t,e)}function _e(t,e){return null!=t&&(void 0!==e?!!pr(t)&&t[w].values.has(e):pr(t)||!!t[w]||j(t)||Wt(t)||At(t))}function je(t){return 1!==arguments.length&&u(!1),_e(t)}function Ee(t){return pr(t)?t[w].getKeys():rr(t)||ir(t)?Array.from(t.keys()):Je(t)?t.map((function(t,e){return e})):u(!1)}function xe(t){return pr(t)?Ee(t).map((function(e){return t[e]})):rr(t)?Ee(t).map((function(e){return t.get(e)})):ir(t)?Array.from(t.values()):Je(t)?t.slice():u(!1)}function Se(t){return pr(t)?Ee(t).map((function(e){return[e,t[e]]})):rr(t)?Ee(t).map((function(e){return[e,t.get(e)]})):ir(t)?Array.from(t.entries()):Je(t)?t.map((function(t,e){return[e,t]})):u(!1)}function Pe(t,e,r,n){return"function"==typeof r?function(t,e,r,n){return yr(t,e).observe(r,n)}(t,e,r,n):function(t,e,r){return yr(t).observe(e,r)}(t,e,r)}ve.prototype=Object.create(Error.prototype);var ke={detectCycles:!0,exportMapsAsObjects:!0,recurseEverything:!1};function Ae(t,e,r,n){return n.detectCycles&&t.set(e,r),r}function De(t,e){var r;return"boolean"==typeof e&&(e={detectCycles:e}),e||(e=ke),e.detectCycles=void 0===e.detectCycles?!0===e.recurseEverything:!0===e.detectCycles,e.detectCycles&&(r=new Map),function t(e,r,n){if(!r.recurseEverything&&!je(e))return e;if("object"!=typeof e)return e;if(null===e)return null;if(e instanceof Date)return e;if(Pt(e))return t(e.get(),r,n);if(je(e)&&Ee(e),!0===r.detectCycles&&null!==e&&n.has(e))return n.get(e);if(Je(e)||Array.isArray(e)){var o=Ae(n,e,[],r),i=e.map((function(e){return t(e,r,n)}));o.length=i.length;for(var a=0,u=i.length;a<u;a++)o[a]=i[a];return o}if(ir(e)||Object.getPrototypeOf(e)===Set.prototype){if(!1===r.exportMapsAsObjects){var c=Ae(n,e,new Set,r);return e.forEach((function(e){c.add(t(e,r,n))})),c}var s=Ae(n,e,[],r);return e.forEach((function(e){s.push(t(e,r,n))})),s}if(rr(e)||Object.getPrototypeOf(e)===Map.prototype){if(!1===r.exportMapsAsObjects){var l=Ae(n,e,new Map,r);return e.forEach((function(e,o){l.set(o,t(e,r,n))})),l}var f=Ae(n,e,{},r);return e.forEach((function(e,o){f[o]=t(e,r,n)})),f}var p=Ae(n,e,{},r);return g(e).forEach((function(o){p[o]=t(e[o],r,n)})),p}(t,e,r)}function Te(t){switch(t.length){case 0:return Rt.trackingDerivation;case 1:return dr(t[0]);case 2:return dr(t[0],t[1])}}function Me(t,e){void 0===e&&(e=void 0),Bt();try{return t.apply(e)}finally{Ht()}}function Ne(t,e,r){return 1===arguments.length||e&&"object"==typeof e?Re(t,e):Ce(t,e,r||{})}function Ce(t,e,r){var n;"number"==typeof r.timeout&&(n=setTimeout((function(){if(!i[w].isDisposed){i();var t=new Error("WHEN_TIMEOUT");if(!r.onError)throw t;r.onError(t)}}),r.timeout)),r.name=r.name||"When@"+a();var o=mt(r.name+"-effect",e),i=ne((function(e){t()&&(e.dispose(),n&&clearTimeout(n),o())}),r);return i}function Re(t,e){var r;var n=new Promise((function(n,o){var i=Ce(t,n,P(P({},e),{onError:o}));r=function(){i(),o("WHEN_CANCELLED")}}));return n.cancel=r,n}function Ie(t){return t[w]}function Le(t){return"string"==typeof t||"number"==typeof t||"symbol"==typeof t}var ze={has:function(t,e){if(e===w||"constructor"===e||e===T)return!0;var r=Ie(t);return Le(e)?r.has(e):e in t},get:function(t,e){if(e===w||"constructor"===e||e===T)return t[e];var r=Ie(t),n=r.values.get(e);if(n instanceof _){var o=n.get();return void 0===o&&r.has(e),o}return Le(e)&&r.has(e),t[e]},set:function(t,e,r){return!!Le(e)&&(function t(e,r,n){if(2!==arguments.length||ir(e))if(pr(e)){var o=e[w],i=o.values.get(r);i?o.write(r,n):o.addObservableProp(r,n,o.defaultEnhancer)}else if(rr(e))e.set(r,n);else if(ir(e))e.add(r);else{if(!Je(e))return u(!1);"number"!=typeof r&&(r=parseInt(r,10)),c(r>=0,"Not a valid index: '"+r+"'"),Bt(),r>=e.length&&(e.length=r+1),e[r]=n,Ht()}else{Bt();var a=r;try{for(var s in a)t(e,s,a[s])}finally{Ht()}}}(t,e,r),!0)},deleteProperty:function(t,e){return!!Le(e)&&(Ie(t).remove(e),!0)},ownKeys:function(t){return Ie(t).keysAtom.reportObserved(),Reflect.ownKeys(t)},preventExtensions:function(t){return u("Dynamic observable objects cannot be frozen"),!1}};function Be(t){var e=new Proxy(t,ze);return t[w].proxy=e,e}function He(t){return void 0!==t.interceptors&&t.interceptors.length>0}function Xe(t,e){var r=t.interceptors||(t.interceptors=[]);return r.push(e),s((function(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}))}function Ue(t,e){var r=ft();try{for(var n=D(t.interceptors||[]),o=0,i=n.length;o<i&&(c(!(e=n[o](e))||e.type,"Intercept handlers should return nothing or a change object"),e);o++);return e}finally{pt(r)}}function Ge(t){return void 0!==t.changeListeners&&t.changeListeners.length>0}function Fe(t,e){var r=t.changeListeners||(t.changeListeners=[]);return r.push(e),s((function(){var t=r.indexOf(e);-1!==t&&r.splice(t,1)}))}function Ye(t,e){var r=ft(),n=t.changeListeners;if(n){for(var o=0,i=(n=n.slice()).length;o<i;o++)n[o](e);pt(r)}}var Ve={get:function(t,e){return e===w?t[w]:"length"===e?t[w].getArrayLength():"number"==typeof e?$e.get.call(t,e):"string"!=typeof e||isNaN(e)?$e.hasOwnProperty(e)?$e[e]:t[e]:$e.get.call(t,parseInt(e))},set:function(t,e,r){return"length"===e&&t[w].setArrayLength(r),"number"==typeof e&&$e.set.call(t,e,r),"symbol"==typeof e||isNaN(e)?t[e]=r:$e.set.call(t,parseInt(e),r),!0},preventExtensions:function(t){return u("Observable arrays cannot be frozen"),!1}};function We(t,e,r,n){void 0===r&&(r="ObservableArray@"+a()),void 0===n&&(n=!1);var o,i,u,c=new Ke(r,e,n);o=c.values,i=w,u=c,Object.defineProperty(o,i,{enumerable:!1,writable:!1,configurable:!0,value:u});var s=new Proxy(c.values,Ve);if(c.proxy=s,t&&t.length){var l=Et(!0);c.spliceWithArray(0,0,t),xt(l)}return s}var Ke=function(){function t(t,e,r){this.owned=r,this.values=[],this.proxy=void 0,this.lastKnownLength=0,this.atom=new _(t||"ObservableArray@"+a()),this.enhancer=function(r,n){return e(r,n,t+"[..]")}}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.dehanceValues=function(t){return void 0!==this.dehancer&&t.length>0?t.map(this.dehancer):t},t.prototype.intercept=function(t){return Xe(this,t)},t.prototype.observe=function(t,e){return void 0===e&&(e=!1),e&&t({object:this.proxy,type:"splice",index:0,added:this.values.slice(),addedCount:this.values.length,removed:[],removedCount:0}),Fe(this,t)},t.prototype.getArrayLength=function(){return this.atom.reportObserved(),this.values.length},t.prototype.setArrayLength=function(t){if("number"!=typeof t||t<0)throw new Error("[mobx.array] Out of range: "+t);var e=this.values.length;if(t!==e)if(t>e){for(var r=new Array(t-e),n=0;n<t-e;n++)r[n]=void 0;this.spliceWithArray(e,0,r)}else this.spliceWithArray(t,e-t)},t.prototype.updateArrayLength=function(t,e){if(t!==this.lastKnownLength)throw new Error("[mobx] Modification exception: the internal structure of an observable array was changed.");this.lastKnownLength+=e},t.prototype.spliceWithArray=function(t,e,r){var n=this;ut(this.atom);var i=this.values.length;if(void 0===t?t=0:t>i?t=i:t<0&&(t=Math.max(0,i+t)),e=1===arguments.length?i-t:null==e?0:Math.max(0,Math.min(e,i-t)),void 0===r&&(r=o),He(this)){var a=Ue(this,{object:this.proxy,type:"splice",index:t,removedCount:e,added:r});if(!a)return o;e=a.removedCount,r=a.added}r=0===r.length?r:r.map((function(t){return n.enhancer(t,void 0)}));var u=this.spliceItemsIntoValues(t,e,r);return 0===e&&0===r.length||this.notifyArraySplice(t,r,u),this.dehanceValues(u)},t.prototype.spliceItemsIntoValues=function(t,e,r){var n;if(r.length<1e4)return(n=this.values).splice.apply(n,D([t,e],r));var o=this.values.slice(t,t+e);return this.values=this.values.slice(0,t).concat(r,this.values.slice(t+e)),o},t.prototype.notifyArrayChildUpdate=function(t,e,r){var n=!this.owned&&!1,o=Ge(this),i=o||n?{object:this.proxy,type:"update",index:t,newValue:e,oldValue:r}:null;this.atom.reportChanged(),o&&Ye(this,i)},t.prototype.notifyArraySplice=function(t,e,r){var n=!this.owned&&!1,o=Ge(this),i=o||n?{object:this.proxy,type:"splice",index:t,removed:r,added:e,removedCount:r.length,addedCount:e.length}:null;this.atom.reportChanged(),o&&Ye(this,i)},t}(),$e={intercept:function(t){return this[w].intercept(t)},observe:function(t,e){return void 0===e&&(e=!1),this[w].observe(t,e)},clear:function(){return this.splice(0)},replace:function(t){var e=this[w];return e.spliceWithArray(0,e.values.length,t)},toJS:function(){return this.slice()},toJSON:function(){return this.toJS()},splice:function(t,e){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];var o=this[w];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray(t);case 2:return o.spliceWithArray(t,e)}return o.spliceWithArray(t,e,r)},spliceWithArray:function(t,e,r){return this[w].spliceWithArray(t,e,r)},push:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this[w];return r.spliceWithArray(r.values.length,0,t),r.values.length},pop:function(){return this.splice(Math.max(this[w].values.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=this[w];return r.spliceWithArray(0,0,t),r.values.length},reverse:function(){var t=this.slice();return t.reverse.apply(t,arguments)},sort:function(t){var e=this.slice();return e.sort.apply(e,arguments)},remove:function(t){var e=this[w],r=e.dehanceValues(e.values).indexOf(t);return r>-1&&(this.splice(r,1),!0)},get:function(t){var e=this[w];if(e){if(t<e.values.length)return e.atom.reportObserved(),e.dehanceValue(e.values[t]);console.warn("[mobx.array] Attempt to read an array index ("+t+") that is out of bounds ("+e.values.length+"). Please check length first. Out of bound indices will not be tracked by MobX")}},set:function(t,e){var r=this[w],n=r.values;if(t<n.length){ut(r.atom);var o=n[t];if(He(r)){var i=Ue(r,{type:"update",object:r.proxy,index:t,newValue:e});if(!i)return;e=i.newValue}(e=r.enhancer(e,o))!==o&&(n[t]=e,r.notifyArrayChildUpdate(t,e,o))}else{if(t!==n.length)throw new Error("[mobx.array] Index out of bounds, "+t+" is larger than "+n.length);r.spliceWithArray(t,0,[e])}}};["concat","flat","includes","indexOf","join","lastIndexOf","slice","toString","toLocaleString"].forEach((function(t){"function"==typeof Array.prototype[t]&&($e[t]=function(){var e=this[w];e.atom.reportObserved();var r=e.dehanceValues(e.values);return r[t].apply(r,arguments)})})),["every","filter","find","findIndex","flatMap","forEach","map","some"].forEach((function(t){"function"==typeof Array.prototype[t]&&($e[t]=function(e,r){var n=this,o=this[w];return o.atom.reportObserved(),o.dehanceValues(o.values)[t]((function(t,o){return e.call(r,t,o,n)}),r)})})),["reduce","reduceRight"].forEach((function(t){$e[t]=function(){var e=this,r=this[w];r.atom.reportObserved();var n=arguments[0];return arguments[0]=function(t,o,i){return o=r.dehanceValue(o),n(t,o,i,e)},r.values[t].apply(r.values,arguments)}}));var Ze,qe=y("ObservableArrayAdministration",Ke);function Je(t){return f(t)&&qe(t[w])}var Qe,tr={},er=function(){function t(t,e,r){if(void 0===e&&(e=B),void 0===r&&(r="ObservableMap@"+a()),this.enhancer=e,this.name=r,this[Ze]=tr,this._keysAtom=E(this.name+".keys()"),this[Symbol.toStringTag]="Map","function"!=typeof Map)throw new Error("mobx.map requires Map polyfill for the current browser. Check babel-polyfill or core-js/es6/map.js");this._data=new Map,this._hasMap=new Map,this.merge(t)}return t.prototype._has=function(t){return this._data.has(t)},t.prototype.has=function(t){var e=this;if(!Rt.trackingDerivation)return this._has(t);var r=this._hasMap.get(t);if(!r){var n=r=new St(this._has(t),H,this.name+"."+b(t)+"?",!1);this._hasMap.set(t,n),ue(n,(function(){return e._hasMap.delete(t)}))}return r.get()},t.prototype.set=function(t,e){var r=this._has(t);if(He(this)){var n=Ue(this,{type:r?"update":"add",object:this,newValue:e,name:t});if(!n)return this;e=n.newValue}return r?this._updateValue(t,e):this._addValue(t,e),this},t.prototype.delete=function(t){var e=this;if((ut(this._keysAtom),He(this))&&!(n=Ue(this,{type:"delete",object:this,name:t})))return!1;if(this._has(t)){var r=Ge(this),n=r?{type:"delete",object:this,oldValue:this._data.get(t).value,name:t}:null;return Me((function(){e._keysAtom.reportChanged(),e._updateHasMapEntry(t,!1),e._data.get(t).setNewValue(void 0),e._data.delete(t)})),r&&Ye(this,n),!0}return!1},t.prototype._updateHasMapEntry=function(t,e){var r=this._hasMap.get(t);r&&r.setNewValue(e)},t.prototype._updateValue=function(t,e){var r=this._data.get(t);if((e=r.prepareNewValue(e))!==Rt.UNCHANGED){var n=Ge(this),o=n?{type:"update",object:this,oldValue:r.value,name:t,newValue:e}:null;0,r.setNewValue(e),n&&Ye(this,o)}},t.prototype._addValue=function(t,e){var r=this;ut(this._keysAtom),Me((function(){var n=new St(e,r.enhancer,r.name+"."+b(t),!1);r._data.set(t,n),e=n.value,r._updateHasMapEntry(t,!0),r._keysAtom.reportChanged()}));var n=Ge(this),o=n?{type:"add",object:this,name:t,newValue:e}:null;n&&Ye(this,o)},t.prototype.get=function(t){return this.has(t)?this.dehanceValue(this._data.get(t).get()):this.dehanceValue(void 0)},t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.keys=function(){return this._keysAtom.reportObserved(),this._data.keys()},t.prototype.values=function(){var t=this,e=this.keys();return mr({next:function(){var r=e.next(),n=r.done,o=r.value;return{done:n,value:n?void 0:t.get(o)}}})},t.prototype.entries=function(){var t=this,e=this.keys();return mr({next:function(){var r=e.next(),n=r.done,o=r.value;return{done:n,value:n?void 0:[o,t.get(o)]}}})},t.prototype[(Ze=w,Symbol.iterator)]=function(){return this.entries()},t.prototype.forEach=function(t,e){var r,n;try{for(var o=k(this),i=o.next();!i.done;i=o.next()){var a=A(i.value,2),u=a[0],c=a[1];t.call(e,c,u,this)}}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},t.prototype.merge=function(t){var e=this;return rr(t)&&(t=t.toJS()),Me((function(){var r=Et(!0);try{p(t)?g(t).forEach((function(r){return e.set(r,t[r])})):Array.isArray(t)?t.forEach((function(t){var r=A(t,2),n=r[0],o=r[1];return e.set(n,o)})):h(t)?(t.constructor!==Map&&u("Cannot initialize from classes that inherit from Map: "+t.constructor.name),t.forEach((function(t,r){return e.set(r,t)}))):null!=t&&u("Cannot initialize map from "+t)}finally{xt(r)}})),this},t.prototype.clear=function(){var t=this;Me((function(){lt((function(){var e,r;try{for(var n=k(t.keys()),o=n.next();!o.done;o=n.next()){var i=o.value;t.delete(i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}}))}))},t.prototype.replace=function(t){var e=this;return Me((function(){var r,n,o,i,a=function(t){if(h(t)||rr(t))return t;if(Array.isArray(t))return new Map(t);if(p(t)){var e=new Map;for(var r in t)e.set(r,t[r]);return e}return u("Cannot convert to map from '"+t+"'")}(t),c=new Map,s=!1;try{for(var l=k(e._data.keys()),f=l.next();!f.done;f=l.next()){var d=f.value;if(!a.has(d))if(e.delete(d))s=!0;else{var y=e._data.get(d);c.set(d,y)}}}catch(t){r={error:t}}finally{try{f&&!f.done&&(n=l.return)&&n.call(l)}finally{if(r)throw r.error}}try{for(var v=k(a.entries()),g=v.next();!g.done;g=v.next()){var b=A(g.value,2),m=(d=b[0],y=b[1],e._data.has(d));if(e.set(d,y),e._data.has(d)){var O=e._data.get(d);c.set(d,O),m||(s=!0)}}}catch(t){o={error:t}}finally{try{g&&!g.done&&(i=v.return)&&i.call(v)}finally{if(o)throw o.error}}if(!s)if(e._data.size!==c.size)e._keysAtom.reportChanged();else for(var w=e._data.keys(),_=c.keys(),j=w.next(),E=_.next();!j.done;){if(j.value!==E.value){e._keysAtom.reportChanged();break}j=w.next(),E=_.next()}e._data=c})),this},Object.defineProperty(t.prototype,"size",{get:function(){return this._keysAtom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.toPOJO=function(){var t,e,r={};try{for(var n=k(this),o=n.next();!o.done;o=n.next()){var i=A(o.value,2),a=i[0],u=i[1];r["symbol"==typeof a?a:b(a)]=u}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return r},t.prototype.toJS=function(){return new Map(this)},t.prototype.toJSON=function(){return this.toPOJO()},t.prototype.toString=function(){var t=this;return this.name+"[{ "+Array.from(this.keys()).map((function(e){return b(e)+": "+t.get(e)})).join(", ")+" }]"},t.prototype.observe=function(t,e){return Fe(this,t)},t.prototype.intercept=function(t){return Xe(this,t)},t}(),rr=y("ObservableMap",er),nr={},or=function(){function t(t,e,r){if(void 0===e&&(e=B),void 0===r&&(r="ObservableSet@"+a()),this.name=r,this[Qe]=nr,this._data=new Set,this._atom=E(this.name),this[Symbol.toStringTag]="Set","function"!=typeof Set)throw new Error("mobx.set requires Set polyfill for the current browser. Check babel-polyfill or core-js/es6/set.js");this.enhancer=function(t,n){return e(t,n,r)},t&&this.replace(t)}return t.prototype.dehanceValue=function(t){return void 0!==this.dehancer?this.dehancer(t):t},t.prototype.clear=function(){var t=this;Me((function(){lt((function(){var e,r;try{for(var n=k(t._data.values()),o=n.next();!o.done;o=n.next()){var i=o.value;t.delete(i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}}))}))},t.prototype.forEach=function(t,e){var r,n;try{for(var o=k(this),i=o.next();!i.done;i=o.next()){var a=i.value;t.call(e,a,a,this)}}catch(t){r={error:t}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}},Object.defineProperty(t.prototype,"size",{get:function(){return this._atom.reportObserved(),this._data.size},enumerable:!0,configurable:!0}),t.prototype.add=function(t){var e=this;if((ut(this._atom),He(this))&&!(n=Ue(this,{type:"add",object:this,newValue:t})))return this;if(!this.has(t)){Me((function(){e._data.add(e.enhancer(t,void 0)),e._atom.reportChanged()}));var r=Ge(this),n=r?{type:"add",object:this,newValue:t}:null;0,r&&Ye(this,n)}return this},t.prototype.delete=function(t){var e=this;if(He(this)&&!(n=Ue(this,{type:"delete",object:this,oldValue:t})))return!1;if(this.has(t)){var r=Ge(this),n=r?{type:"delete",object:this,oldValue:t}:null;return Me((function(){e._atom.reportChanged(),e._data.delete(t)})),r&&Ye(this,n),!0}return!1},t.prototype.has=function(t){return this._atom.reportObserved(),this._data.has(this.dehanceValue(t))},t.prototype.entries=function(){var t=0,e=Array.from(this.keys()),r=Array.from(this.values());return mr({next:function(){var n=t;return t+=1,n<r.length?{value:[e[n],r[n]],done:!1}:{done:!0}}})},t.prototype.keys=function(){return this.values()},t.prototype.values=function(){this._atom.reportObserved();var t=this,e=0,r=Array.from(this._data.values());return mr({next:function(){return e<r.length?{value:t.dehanceValue(r[e++]),done:!1}:{done:!0}}})},t.prototype.replace=function(t){var e=this;return ir(t)&&(t=t.toJS()),Me((function(){var r=Et(!0);try{Array.isArray(t)||v(t)?(e.clear(),t.forEach((function(t){return e.add(t)}))):null!=t&&u("Cannot initialize set from "+t)}finally{xt(r)}})),this},t.prototype.observe=function(t,e){return Fe(this,t)},t.prototype.intercept=function(t){return Xe(this,t)},t.prototype.toJS=function(){return new Set(this)},t.prototype.toString=function(){return this.name+"[ "+Array.from(this).join(", ")+" ]"},t.prototype[(Qe=w,Symbol.iterator)]=function(){return this.values()},t}(),ir=y("ObservableSet",or),ar=function(){function t(t,e,r,n){void 0===e&&(e=new Map),this.target=t,this.values=e,this.name=r,this.defaultEnhancer=n,this.keysAtom=new _(r+".keys")}return t.prototype.read=function(t){return this.values.get(t).get()},t.prototype.write=function(t,e){var r=this.target,n=this.values.get(t);if(n instanceof kt)n.set(e);else{if(He(this)){if(!(i=Ue(this,{type:"update",object:this.proxy||r,name:t,newValue:e})))return;e=i.newValue}if((e=n.prepareNewValue(e))!==Rt.UNCHANGED){var o=Ge(this),i=o?{type:"update",object:this.proxy||r,oldValue:n.value,name:t,newValue:e}:null;0,n.setNewValue(e),o&&Ye(this,i)}}},t.prototype.has=function(t){var e=this.pendingKeys||(this.pendingKeys=new Map),r=e.get(t);if(r)return r.get();var n=!!this.values.get(t);return r=new St(n,H,this.name+"."+b(t)+"?",!1),e.set(t,r),r.get()},t.prototype.addObservableProp=function(t,e,r){void 0===r&&(r=this.defaultEnhancer);var n=this.target;if(He(this)){var o=Ue(this,{object:this.proxy||n,name:t,type:"add",newValue:e});if(!o)return;e=o.newValue}var i=new St(e,r,this.name+"."+b(t),!1);this.values.set(t,i),e=i.value,Object.defineProperty(n,t,function(t){return cr[t]||(cr[t]={configurable:!0,enumerable:!0,get:function(){return this[w].read(t)},set:function(e){this[w].write(t,e)}})}(t)),this.notifyPropertyAddition(t,e)},t.prototype.addComputedProp=function(t,e,r){var n,o,i,a=this.target;r.name=r.name||this.name+"."+b(e),this.values.set(e,new kt(r)),(t===a||(n=t,o=e,!(i=Object.getOwnPropertyDescriptor(n,o))||!1!==i.configurable&&!1!==i.writable))&&Object.defineProperty(t,e,function(t){return sr[t]||(sr[t]={configurable:Rt.computedConfigurable,enumerable:!1,get:function(){return lr(this).read(t)},set:function(e){lr(this).write(t,e)}})}(e))},t.prototype.remove=function(t){if(this.values.has(t)){var e=this.target;if(He(this))if(!(a=Ue(this,{object:this.proxy||e,name:t,type:"remove"})))return;try{Bt();var r=Ge(this),n=this.values.get(t),o=n&&n.get();if(n&&n.set(void 0),this.keysAtom.reportChanged(),this.values.delete(t),this.pendingKeys){var i=this.pendingKeys.get(t);i&&i.set(!1)}delete this.target[t];var a=r?{type:"remove",object:this.proxy||e,oldValue:o,name:t}:null;0,r&&Ye(this,a)}finally{Ht()}}},t.prototype.illegalAccess=function(t,e){console.warn("Property '"+e+"' of '"+t+"' was accessed through the prototype chain. Use 'decorate' instead to declare the prop or access it statically through it's owner")},t.prototype.observe=function(t,e){return Fe(this,t)},t.prototype.intercept=function(t){return Xe(this,t)},t.prototype.notifyPropertyAddition=function(t,e){var r=Ge(this),n=r?{type:"add",object:this.proxy||this.target,name:t,newValue:e}:null;if(r&&Ye(this,n),this.pendingKeys){var o=this.pendingKeys.get(t);o&&o.set(!0)}this.keysAtom.reportChanged()},t.prototype.getKeys=function(){var t,e;this.keysAtom.reportObserved();var r=[];try{for(var n=k(this.values),o=n.next();!o.done;o=n.next()){var i=A(o.value,2),a=i[0];i[1]instanceof St&&r.push(a)}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return r},t}();function ur(t,e,r){if(void 0===e&&(e=""),void 0===r&&(r=B),Object.prototype.hasOwnProperty.call(t,w))return t[w];p(t)||(e=(t.constructor.name||"ObservableObject")+"@"+a()),e||(e="ObservableObject@"+a());var n=new ar(t,new Map,b(e),r);return d(t,w,n),n}var cr=Object.create(null),sr=Object.create(null);function lr(t){var e=t[w];return e||(I(t),t[w])}var fr=y("ObservableObjectAdministration",ar);function pr(t){return!!f(t)&&(I(t),fr(t[w]))}function dr(t,e){if("object"==typeof t&&null!==t){if(Je(t))return void 0!==e&&u(!1),t[w].atom;if(ir(t))return t[w];if(rr(t)){var r=t;return void 0===e?r._keysAtom:((n=r._data.get(e)||r._hasMap.get(e))||u(!1),n)}var n;if(I(t),e&&!t[w]&&t[e],pr(t))return e?((n=t[w].values.get(e))||u(!1),n):u(!1);if(j(t)||At(t)||Wt(t))return t}else if("function"==typeof t&&Wt(t[w]))return t[w];return u(!1)}function yr(t,e){return t||u("Expecting some object"),void 0!==e?yr(dr(t,e)):j(t)||At(t)||Wt(t)||rr(t)||ir(t)?t:(I(t),t[w]?t[w]:void u(!1))}var hr=Object.prototype.toString;function vr(t,e,r){return void 0===r&&(r=-1),function t(e,r,n,o,i){if(e===r)return 0!==e||1/e==1/r;if(null==e||null==r)return!1;if(e!=e)return r!=r;var a=typeof e;if("function"!==a&&"object"!==a&&"object"!=typeof r)return!1;var u=hr.call(e);if(u!==hr.call(r))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+e==""+r;case"[object Number]":return+e!=+e?+r!=+r:0==+e?1/+e==1/r:+e==+r;case"[object Date]":case"[object Boolean]":return+e==+r;case"[object Symbol]":return"undefined"!=typeof Symbol&&Symbol.valueOf.call(e)===Symbol.valueOf.call(r);case"[object Map]":case"[object Set]":n>=0&&n++}e=gr(e),r=gr(r);var c="[object Array]"===u;if(!c){if("object"!=typeof e||"object"!=typeof r)return!1;var s=e.constructor,l=r.constructor;if(s!==l&&!("function"==typeof s&&s instanceof s&&"function"==typeof l&&l instanceof l)&&"constructor"in e&&"constructor"in r)return!1}if(0===n)return!1;n<0&&(n=-1);i=i||[];var f=(o=o||[]).length;for(;f--;)if(o[f]===e)return i[f]===r;if(o.push(e),i.push(r),c){if((f=e.length)!==r.length)return!1;for(;f--;)if(!t(e[f],r[f],n-1,o,i))return!1}else{var p=Object.keys(e),d=void 0;if(f=p.length,Object.keys(r).length!==f)return!1;for(;f--;)if(d=p[f],!br(r,d)||!t(e[d],r[d],n-1,o,i))return!1}return o.pop(),i.pop(),!0}(t,e,r)}function gr(t){return Je(t)?t.slice():h(t)||rr(t)||v(t)||ir(t)?Array.from(t.entries()):t}function br(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function mr(t){return t[Symbol.iterator]=Or,t}function Or(){return this}if("undefined"==typeof Proxy||"undefined"==typeof Symbol)throw new Error("[mobx] MobX 5+ requires Proxy and Symbol objects. If your environment doesn't support Symbol or Proxy objects, please downgrade to MobX 4. For React Native Android, consider upgrading JSCore.");"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:$t,extras:{getDebugName:function(t,e){return(void 0!==e?dr(t,e):pr(t)||rr(t)||ir(t)?yr(t):dr(t)).name}},$mobx:w})}).call(this,r(151),r(75))},function(t,e,r){"use strict";r.d(e,"a",(function(){return m})),r.d(e,"b",(function(){return b})),r.d(e,"c",(function(){return H})),r.d(e,"d",(function(){return X})),r.d(e,"e",(function(){return h})),r.d(e,"f",(function(){return g})),r.d(e,"g",(function(){return h})),r.d(e,"h",(function(){return B})),r.d(e,"i",(function(){return o})),r.d(e,"j",(function(){return z})),r.d(e,"k",(function(){return S}));var n,o,i,a,u,c,s,l={},f=[],p=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function d(t,e){for(var r in e)t[r]=e[r];return t}function y(t){var e=t.parentNode;e&&e.removeChild(t)}function h(t,e,r){var o,i,a,u={};for(a in e)"key"==a?o=e[a]:"ref"==a?i=e[a]:u[a]=e[a];if(arguments.length>2&&(u.children=arguments.length>3?n.call(arguments,2):r),"function"==typeof t&&null!=t.defaultProps)for(a in t.defaultProps)void 0===u[a]&&(u[a]=t.defaultProps[a]);return v(t,u,o,i,null)}function v(t,e,r,n,a){var u={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==a?++i:a};return null==a&&null!=o.vnode&&o.vnode(u),u}function g(){return{current:null}}function b(t){return t.children}function m(t,e){this.props=t,this.context=e}function O(t,e){if(null==e)return t.__?O(t.__,t.__.__k.indexOf(t)+1):null;for(var r;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e)return r.__e;return"function"==typeof t.type?O(t):null}function w(t){var e,r;if(null!=(t=t.__)&&null!=t.__c){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if(null!=(r=t.__k[e])&&null!=r.__e){t.__e=t.__c.base=r.__e;break}return w(t)}}function _(t){(!t.__d&&(t.__d=!0)&&a.push(t)&&!j.__r++||c!==o.debounceRendering)&&((c=o.debounceRendering)||u)(j)}function j(){for(var t;j.__r=a.length;)t=a.sort((function(t,e){return t.__v.__b-e.__v.__b})),a=[],t.some((function(t){var e,r,n,o,i,a;t.__d&&(i=(o=(e=t).__v).__e,(a=e.__P)&&(r=[],(n=d({},o)).__v=o.__v+1,M(a,o,n,e.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,r,null==i?O(o):i,o.__h),N(r,o),o.__e!=i&&w(o)))}))}function E(t,e,r,n,o,i,a,u,c,s){var p,d,y,h,g,m,w,_=n&&n.__k||f,j=_.length;for(r.__k=[],p=0;p<e.length;p++)if(null!=(h=r.__k[p]=null==(h=e[p])||"boolean"==typeof h?null:"string"==typeof h||"number"==typeof h||"bigint"==typeof h?v(null,h,null,null,h):Array.isArray(h)?v(b,{children:h},null,null,null):h.__b>0?v(h.type,h.props,h.key,null,h.__v):h)){if(h.__=r,h.__b=r.__b+1,null===(y=_[p])||y&&h.key==y.key&&h.type===y.type)_[p]=void 0;else for(d=0;d<j;d++){if((y=_[d])&&h.key==y.key&&h.type===y.type){_[d]=void 0;break}y=null}M(t,h,y=y||l,o,i,a,u,c,s),g=h.__e,(d=h.ref)&&y.ref!=d&&(w||(w=[]),y.ref&&w.push(y.ref,null,h),w.push(d,h.__c||g,h)),null!=g?(null==m&&(m=g),"function"==typeof h.type&&h.__k===y.__k?h.__d=c=x(h,c,t):c=P(t,h,y,_,g,c),"function"==typeof r.type&&(r.__d=c)):c&&y.__e==c&&c.parentNode!=t&&(c=O(y))}for(r.__e=m,p=j;p--;)null!=_[p]&&("function"==typeof r.type&&null!=_[p].__e&&_[p].__e==r.__d&&(r.__d=O(n,p+1)),I(_[p],_[p]));if(w)for(p=0;p<w.length;p++)R(w[p],w[++p],w[++p])}function x(t,e,r){for(var n,o=t.__k,i=0;o&&i<o.length;i++)(n=o[i])&&(n.__=t,e="function"==typeof n.type?x(n,e,r):P(r,n,n,o,n.__e,e));return e}function S(t,e){return e=e||[],null==t||"boolean"==typeof t||(Array.isArray(t)?t.some((function(t){S(t,e)})):e.push(t)),e}function P(t,e,r,n,o,i){var a,u,c;if(void 0!==e.__d)a=e.__d,e.__d=void 0;else if(null==r||o!=i||null==o.parentNode)t:if(null==i||i.parentNode!==t)t.appendChild(o),a=null;else{for(u=i,c=0;(u=u.nextSibling)&&c<n.length;c+=2)if(u==o)break t;t.insertBefore(o,i),a=i}return void 0!==a?a:o.nextSibling}function k(t,e,r){"-"===e[0]?t.setProperty(e,r):t[e]=null==r?"":"number"!=typeof r||p.test(e)?r:r+"px"}function A(t,e,r,n,o){var i;t:if("style"===e)if("string"==typeof r)t.style.cssText=r;else{if("string"==typeof n&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||k(t.style,e,"");if(r)for(e in r)n&&r[e]===n[e]||k(t.style,e,r[e])}else if("o"===e[0]&&"n"===e[1])i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+i]=r,r?n||t.addEventListener(e,i?T:D,i):t.removeEventListener(e,i?T:D,i);else if("dangerouslySetInnerHTML"!==e){if(o)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==r?"":r;break t}catch(t){}"function"==typeof r||(null!=r&&(!1!==r||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,r):t.removeAttribute(e))}}function D(t){this.l[t.type+!1](o.event?o.event(t):t)}function T(t){this.l[t.type+!0](o.event?o.event(t):t)}function M(t,e,r,n,i,a,u,c,s){var l,f,p,y,h,v,g,O,w,_,j,x=e.type;if(void 0!==e.constructor)return null;null!=r.__h&&(s=r.__h,c=e.__e=r.__e,e.__h=null,a=[c]),(l=o.__b)&&l(e);try{t:if("function"==typeof x){if(O=e.props,w=(l=x.contextType)&&n[l.__c],_=l?w?w.props.value:l.__:n,r.__c?g=(f=e.__c=r.__c).__=f.__E:("prototype"in x&&x.prototype.render?e.__c=f=new x(O,_):(e.__c=f=new m(O,_),f.constructor=x,f.render=L),w&&w.sub(f),f.props=O,f.state||(f.state={}),f.context=_,f.__n=n,p=f.__d=!0,f.__h=[]),null==f.__s&&(f.__s=f.state),null!=x.getDerivedStateFromProps&&(f.__s==f.state&&(f.__s=d({},f.__s)),d(f.__s,x.getDerivedStateFromProps(O,f.__s))),y=f.props,h=f.state,p)null==x.getDerivedStateFromProps&&null!=f.componentWillMount&&f.componentWillMount(),null!=f.componentDidMount&&f.__h.push(f.componentDidMount);else{if(null==x.getDerivedStateFromProps&&O!==y&&null!=f.componentWillReceiveProps&&f.componentWillReceiveProps(O,_),!f.__e&&null!=f.shouldComponentUpdate&&!1===f.shouldComponentUpdate(O,f.__s,_)||e.__v===r.__v){f.props=O,f.state=f.__s,e.__v!==r.__v&&(f.__d=!1),f.__v=e,e.__e=r.__e,e.__k=r.__k,e.__k.forEach((function(t){t&&(t.__=e)})),f.__h.length&&u.push(f);break t}null!=f.componentWillUpdate&&f.componentWillUpdate(O,f.__s,_),null!=f.componentDidUpdate&&f.__h.push((function(){f.componentDidUpdate(y,h,v)}))}f.context=_,f.props=O,f.state=f.__s,(l=o.__r)&&l(e),f.__d=!1,f.__v=e,f.__P=t,l=f.render(f.props,f.state,f.context),f.state=f.__s,null!=f.getChildContext&&(n=d(d({},n),f.getChildContext())),p||null==f.getSnapshotBeforeUpdate||(v=f.getSnapshotBeforeUpdate(y,h)),j=null!=l&&l.type===b&&null==l.key?l.props.children:l,E(t,Array.isArray(j)?j:[j],e,r,n,i,a,u,c,s),f.base=e.__e,e.__h=null,f.__h.length&&u.push(f),g&&(f.__E=f.__=null),f.__e=!1}else null==a&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=C(r.__e,e,r,n,i,a,u,s);(l=o.diffed)&&l(e)}catch(t){e.__v=null,(s||null!=a)&&(e.__e=c,e.__h=!!s,a[a.indexOf(c)]=null),o.__e(t,e,r)}}function N(t,e){o.__c&&o.__c(e,t),t.some((function(e){try{t=e.__h,e.__h=[],t.some((function(t){t.call(e)}))}catch(t){o.__e(t,e.__v)}}))}function C(t,e,r,o,i,a,u,c){var s,f,p,d=r.props,h=e.props,v=e.type,g=0;if("svg"===v&&(i=!0),null!=a)for(;g<a.length;g++)if((s=a[g])&&"setAttribute"in s==!!v&&(v?s.localName===v:3===s.nodeType)){t=s,a[g]=null;break}if(null==t){if(null===v)return document.createTextNode(h);t=i?document.createElementNS("http://www.w3.org/2000/svg",v):document.createElement(v,h.is&&h),a=null,c=!1}if(null===v)d===h||c&&t.data===h||(t.data=h);else{if(a=a&&n.call(t.childNodes),f=(d=r.props||l).dangerouslySetInnerHTML,p=h.dangerouslySetInnerHTML,!c){if(null!=a)for(d={},g=0;g<t.attributes.length;g++)d[t.attributes[g].name]=t.attributes[g].value;(p||f)&&(p&&(f&&p.__html==f.__html||p.__html===t.innerHTML)||(t.innerHTML=p&&p.__html||""))}if(function(t,e,r,n,o){var i;for(i in r)"children"===i||"key"===i||i in e||A(t,i,null,r[i],n);for(i in e)o&&"function"!=typeof e[i]||"children"===i||"key"===i||"value"===i||"checked"===i||r[i]===e[i]||A(t,i,e[i],r[i],n)}(t,h,d,i,c),p)e.__k=[];else if(g=e.props.children,E(t,Array.isArray(g)?g:[g],e,r,o,i&&"foreignObject"!==v,a,u,a?a[0]:r.__k&&O(r,0),c),null!=a)for(g=a.length;g--;)null!=a[g]&&y(a[g]);c||("value"in h&&void 0!==(g=h.value)&&(g!==d.value||g!==t.value||"progress"===v&&!g)&&A(t,"value",g,d.value,!1),"checked"in h&&void 0!==(g=h.checked)&&g!==t.checked&&A(t,"checked",g,d.checked,!1))}return t}function R(t,e,r){try{"function"==typeof t?t(e):t.current=e}catch(t){o.__e(t,r)}}function I(t,e,r){var n,i;if(o.unmount&&o.unmount(t),(n=t.ref)&&(n.current&&n.current!==t.__e||R(n,null,e)),null!=(n=t.__c)){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(t){o.__e(t,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&I(n[i],e,"function"!=typeof t.type);r||null==t.__e||y(t.__e),t.__e=t.__d=void 0}function L(t,e,r){return this.constructor(t,r)}function z(t,e,r){var i,a,u;o.__&&o.__(t,e),a=(i="function"==typeof r)?null:r&&r.__k||e.__k,u=[],M(e,t=(!i&&r||e).__k=h(b,null,[t]),a||l,l,void 0!==e.ownerSVGElement,!i&&r?[r]:a?null:e.firstChild?n.call(e.childNodes):null,u,!i&&r?r:a?a.__e:e.firstChild,i),N(u,t)}function B(t,e){z(t,e,B)}function H(t,e,r){var o,i,a,u=d({},t.props);for(a in e)"key"==a?o=e[a]:"ref"==a?i=e[a]:u[a]=e[a];return arguments.length>2&&(u.children=arguments.length>3?n.call(arguments,2):r),v(t.type,u,o||t.key,i||t.ref,null)}function X(t,e){var r={__c:e="__cC"+s++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var r,n;return this.getChildContext||(r=[],(n={})[e]=this,this.getChildContext=function(){return n},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&r.some(_)},this.sub=function(t){r.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){r.splice(r.indexOf(t),1),e&&e.call(t)}}),t.children}};return r.Provider.__=r.Consumer.contextType=r}n=f.slice,o={__e:function(t,e){for(var r,n,o;e=e.__;)if((r=e.__c)&&!r.__)try{if((n=r.constructor)&&null!=n.getDerivedStateFromError&&(r.setState(n.getDerivedStateFromError(t)),o=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(t),o=r.__d),o)return r.__E=r}catch(e){t=e}throw t}},i=0,m.prototype.setState=function(t,e){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=d({},this.state),"function"==typeof t&&(t=t(d({},r),this.props)),t&&d(r,t),null!=t&&this.__v&&(e&&this.__h.push(e),_(this))},m.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),_(this))},m.prototype.render=b,a=[],u="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,j.__r=0,s=0},function(t,e,r){var n=r(114),o=r(45),i=r(172);n||o(Object.prototype,"toString",i,{unsafe:!0})},function(t,e,r){"use strict";var n=r(39),o=r(76),i=r(66),a=r(57),u=r(108),c=a.set,s=a.getterFor("Array Iterator");t.exports=u(Array,"Array",(function(t,e){c(this,{type:"Array Iterator",target:n(t),index:0,kind:e})}),(function(){var t=s(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},function(t,e,r){var n=r(9),o=r(143),i=r(144),a=r(3),u=r(53),c=r(27),s=c("iterator"),l=c("toStringTag"),f=a.values,p=function(t,e){if(t){if(t[s]!==f)try{u(t,s,f)}catch(e){t[s]=f}if(t[l]||u(t,l,e),o[e])for(var r in a)if(t[r]!==a[r])try{u(t,r,a[r])}catch(e){t[r]=a[r]}}};for(var d in o)p(n[d]&&n[d].prototype,d);p(i,"DOMTokenList")},function(t,e,r){"use strict";var n=r(17),o=r(9),i=r(49),a=r(95),u=r(36),c=r(15),s=r(78),l=r(35),f=r(104),p=r(19),d=r(34),y=r(93),h=r(30),v=r(33),g=r(55),b=r(83),m=r(32),O=r(38),w=r(39),_=r(82),j=r(40),E=r(67),x=r(52),S=r(62),P=r(68),k=r(134),A=r(109),D=r(54),T=r(37),M=r(87),N=r(117),C=r(45),R=r(77),I=r(86),L=r(65),z=r(79),B=r(27),H=r(145),X=r(146),U=r(90),G=r(57),F=r(69).forEach,Y=I("hidden"),V=B("toPrimitive"),W=G.set,K=G.getterFor("Symbol"),$=Object.prototype,Z=o.Symbol,q=Z&&Z.prototype,J=o.TypeError,Q=o.QObject,tt=i("JSON","stringify"),et=D.f,rt=T.f,nt=k.f,ot=M.f,it=c([].push),at=R("symbols"),ut=R("op-symbols"),ct=R("string-to-symbol-registry"),st=R("symbol-to-string-registry"),lt=R("wks"),ft=!Q||!Q.prototype||!Q.prototype.findChild,pt=l&&p((function(){return 7!=x(rt({},"a",{get:function(){return rt(this,"a",{value:7}).a}})).a}))?function(t,e,r){var n=et($,e);n&&delete $[e],rt(t,e,r),n&&t!==$&&rt($,e,n)}:rt,dt=function(t,e){var r=at[t]=x(q);return W(r,{type:"Symbol",tag:t,description:e}),l||(r.description=e),r},yt=function(t,e,r){t===$&&yt(ut,e,r),m(t);var n=_(e);return m(r),d(at,n)?(r.enumerable?(d(t,Y)&&t[Y][n]&&(t[Y][n]=!1),r=x(r,{enumerable:E(0,!1)})):(d(t,Y)||rt(t,Y,E(1,{})),t[Y][n]=!0),pt(t,n,r)):rt(t,n,r)},ht=function(t,e){m(t);var r=w(e),n=S(r).concat(mt(r));return F(n,(function(e){l&&!u(vt,r,e)||yt(t,e,r[e])})),t},vt=function(t){var e=_(t),r=u(ot,this,e);return!(this===$&&d(at,e)&&!d(ut,e))&&(!(r||!d(this,e)||!d(at,e)||d(this,Y)&&this[Y][e])||r)},gt=function(t,e){var r=w(t),n=_(e);if(r!==$||!d(at,n)||d(ut,n)){var o=et(r,n);return!o||!d(at,n)||d(r,Y)&&r[Y][n]||(o.enumerable=!0),o}},bt=function(t){var e=nt(w(t)),r=[];return F(e,(function(t){d(at,t)||d(L,t)||it(r,t)})),r},mt=function(t){var e=t===$,r=nt(e?ut:w(t)),n=[];return F(r,(function(t){!d(at,t)||e&&!d($,t)||it(n,at[t])})),n};(f||(C(q=(Z=function(){if(g(q,this))throw J("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?j(arguments[0]):void 0,e=z(t),r=function(t){this===$&&u(r,ut,t),d(this,Y)&&d(this[Y],e)&&(this[Y][e]=!1),pt(this,e,E(1,t))};return l&&ft&&pt($,e,{configurable:!0,set:r}),dt(e,t)}).prototype,"toString",(function(){return K(this).tag})),C(Z,"withoutSetter",(function(t){return dt(z(t),t)})),M.f=vt,T.f=yt,D.f=gt,P.f=k.f=bt,A.f=mt,H.f=function(t){return dt(B(t),t)},l&&(rt(q,"description",{configurable:!0,get:function(){return K(this).description}}),s||C($,"propertyIsEnumerable",vt,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:Z}),F(S(lt),(function(t){X(t)})),n({target:"Symbol",stat:!0,forced:!f},{for:function(t){var e=j(t);if(d(ct,e))return ct[e];var r=Z(e);return ct[e]=r,st[r]=e,r},keyFor:function(t){if(!b(t))throw J(t+" is not a symbol");if(d(st,t))return st[t]},useSetter:function(){ft=!0},useSimple:function(){ft=!1}}),n({target:"Object",stat:!0,forced:!f,sham:!l},{create:function(t,e){return void 0===e?x(t):ht(x(t),e)},defineProperty:yt,defineProperties:ht,getOwnPropertyDescriptor:gt}),n({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:bt,getOwnPropertySymbols:mt}),n({target:"Object",stat:!0,forced:p((function(){A.f(1)}))},{getOwnPropertySymbols:function(t){return A.f(O(t))}}),tt)&&n({target:"JSON",stat:!0,forced:!f||p((function(){var t=Z();return"[null]"!=tt([t])||"{}"!=tt({a:t})||"{}"!=tt(Object(t))}))},{stringify:function(t,e,r){var n=N(arguments),o=e;if((v(e)||void 0!==t)&&!b(t))return y(e)||(e=function(t,e){if(h(o)&&(e=u(o,this,t,e)),!b(e))return e}),n[1]=e,a(tt,null,n)}});if(!q[V]){var Ot=q.valueOf;C(q,V,(function(t){return u(Ot,this)}))}U(Z,"Symbol"),L[Y]=!0},function(t,e,r){"use strict";var n=r(142).charAt,o=r(40),i=r(57),a=r(108),u=i.set,c=i.getterFor("String Iterator");a(String,"String",(function(t){u(this,{type:"String Iterator",string:o(t),index:0})}),(function(){var t,e=c(this),r=e.string,o=e.index;return o>=r.length?{value:void 0,done:!0}:(t=n(r,o),e.index+=t.length,{value:t,done:!1})}))},function(t,e,r){"use strict";var n=r(17),o=r(35),i=r(9),a=r(15),u=r(34),c=r(30),s=r(55),l=r(40),f=r(37).f,p=r(129),d=i.Symbol,y=d&&d.prototype;if(o&&c(d)&&(!("description"in y)||void 0!==d().description)){var h={},v=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:l(arguments[0]),e=s(y,this)?new d(t):void 0===t?d():d(t);return""===t&&(h[e]=!0),e};p(v,d),v.prototype=y,y.constructor=v;var g="Symbol(test)"==String(d("test")),b=a(y.toString),m=a(y.valueOf),O=/^Symbol\((.*)\)[^)]+$/,w=a("".replace),_=a("".slice);f(y,"description",{configurable:!0,get:function(){var t=m(this),e=b(t);if(u(h,t))return"";var r=g?_(e,7,-1):w(e,O,"$1");return""===r?void 0:r}}),n({global:!0,forced:!0},{Symbol:v})}},function(t,e,r){r(146)("iterator")},function(t,e,r){(function(e){var r=function(t){return t&&t.Math==Math&&t};t.exports=r("object"==typeof globalThis&&globalThis)||r("object"==typeof window&&window)||r("object"==typeof self&&self)||r("object"==typeof e&&e)||function(){return this}()||Function("return this")()}).call(this,r(75))},function(t,e,r){"use strict";r.d(e,"a",(function(){return a.a})),r.d(e,"c",(function(){return a.e})),r.d(e,"h",(function(){return O})),r.d(e,"i",(function(){return g})),r.d(e,"j",(function(){return h})),r.d(e,"b",(function(){return D})),r.d(e,"e",(function(){return C})),r.d(e,"f",(function(){return T})),r.d(e,"g",(function(){return it}));var n,o,i,a=r(1),u=0,c=[],s=a.i.__b,l=a.i.__r,f=a.i.diffed,p=a.i.__c,d=a.i.unmount;function y(t,e){a.i.__h&&a.i.__h(o,t,u||e),u=0;var r=o.__H||(o.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function h(t){return u=1,v(P,t)}function v(t,e,r){var i=y(n++,2);return i.t=t,i.__c||(i.__=[r?r(e):P(void 0,e),function(t){var e=i.t(i.__[0],t);i.__[0]!==e&&(i.__=[e,i.__[1]],i.__c.setState({}))}],i.__c=o),i.__}function g(t,e){var r=y(n++,3);!a.i.__s&&S(r.__H,e)&&(r.__=t,r.__H=e,o.__H.__h.push(r))}function b(t,e){var r=y(n++,4);!a.i.__s&&S(r.__H,e)&&(r.__=t,r.__H=e,o.__h.push(r))}function m(t,e){var r=y(n++,7);return S(r.__H,e)&&(r.__=t(),r.__H=e,r.__h=t),r.__}function O(t,e){return u=8,m((function(){return t}),e)}function w(){var t;for(c.sort((function(t,e){return t.__v.__b-e.__v.__b}));t=c.pop();)if(t.__P)try{t.__H.__h.forEach(E),t.__H.__h.forEach(x),t.__H.__h=[]}catch(e){t.__H.__h=[],a.i.__e(e,t.__v)}}a.i.__b=function(t){o=null,s&&s(t)},a.i.__r=function(t){l&&l(t),n=0;var e=(o=t.__c).__H;e&&(e.__h.forEach(E),e.__h.forEach(x),e.__h=[])},a.i.diffed=function(t){f&&f(t);var e=t.__c;e&&e.__H&&e.__H.__h.length&&(1!==c.push(e)&&i===a.i.requestAnimationFrame||((i=a.i.requestAnimationFrame)||j)(w)),o=null},a.i.__c=function(t,e){e.some((function(t){try{t.__h.forEach(E),t.__h=t.__h.filter((function(t){return!t.__||x(t)}))}catch(r){e.some((function(t){t.__h&&(t.__h=[])})),e=[],a.i.__e(r,t.__v)}})),p&&p(t,e)},a.i.unmount=function(t){d&&d(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach((function(t){try{E(t)}catch(t){e=t}})),e&&a.i.__e(e,r.__v))};var _="function"==typeof requestAnimationFrame;function j(t){var e,r=function(){clearTimeout(n),_&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,100);_&&(e=requestAnimationFrame(r))}function E(t){var e=o,r=t.__c;"function"==typeof r&&(t.__c=void 0,r()),o=e}function x(t){var e=o;t.__c=t.__(),o=e}function S(t,e){return!t||t.length!==e.length||e.some((function(e,r){return e!==t[r]}))}function P(t,e){return"function"==typeof e?e(t):e}function k(t,e){for(var r in e)t[r]=e[r];return t}function A(t,e){for(var r in t)if("__source"!==r&&!(r in e))return!0;for(var n in e)if("__source"!==n&&t[n]!==e[n])return!0;return!1}function D(t){this.props=t}function T(t,e){function r(t){var r=this.props.ref,n=r==t.ref;return!n&&r&&(r.call?r(null):r.current=null),e?!e(this.props,t)||!n:A(this.props,t)}function n(e){return this.shouldComponentUpdate=r,Object(a.e)(t,e)}return n.displayName="Memo("+(t.displayName||t.name)+")",n.prototype.isReactComponent=!0,n.__f=!0,n}(D.prototype=new a.a).isPureReactComponent=!0,D.prototype.shouldComponentUpdate=function(t,e){return A(this.props,t)||A(this.state,e)};var M=a.i.__b;a.i.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),M&&M(t)};var N="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function C(t){function e(e,r){var n=k({},e);return delete n.ref,t(n,!(r=e.ref||r)||"object"==typeof r&&!("current"in r)?null:r)}return e.$$typeof=N,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var R=function(t,e){return null==t?null:Object(a.k)(Object(a.k)(t).map(e))},I={map:R,forEach:R,count:function(t){return t?Object(a.k)(t).length:0},only:function(t){var e=Object(a.k)(t);if(1!==e.length)throw"Children.only";return e[0]},toArray:a.k},L=a.i.__e;a.i.__e=function(t,e,r){if(t.then)for(var n,o=e;o=o.__;)if((n=o.__c)&&n.__c)return null==e.__e&&(e.__e=r.__e,e.__k=r.__k),n.__c(t,e);L(t,e,r)};var z=a.i.unmount;function B(){this.__u=0,this.t=null,this.__b=null}function H(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function X(){this.u=null,this.o=null}a.i.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&!0===t.__h&&(t.type=null),z&&z(t)},(B.prototype=new a.a).__c=function(t,e){var r=e.__c,n=this;null==n.t&&(n.t=[]),n.t.push(r);var o=H(n.__v),i=!1,a=function(){i||(i=!0,r.__R=null,o?o(u):u())};r.__R=a;var u=function(){if(!--n.__u){if(n.state.__e){var t=n.state.__e;n.__v.__k[0]=function t(e,r,n){return e&&(e.__v=null,e.__k=e.__k&&e.__k.map((function(e){return t(e,r,n)})),e.__c&&e.__c.__P===r&&(e.__e&&n.insertBefore(e.__e,e.__d),e.__c.__e=!0,e.__c.__P=n)),e}(t,t.__c.__P,t.__c.__O)}var e;for(n.setState({__e:n.__b=null});e=n.t.pop();)e.forceUpdate()}},c=!0===e.__h;n.__u++||c||n.setState({__e:n.__b=n.__v.__k[0]}),t.then(a,a)},B.prototype.componentWillUnmount=function(){this.t=[]},B.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=function t(e,r,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach((function(t){"function"==typeof t.__c&&t.__c()})),e.__c.__H=null),null!=(e=k({},e)).__c&&(e.__c.__P===n&&(e.__c.__P=r),e.__c=null),e.__k=e.__k&&e.__k.map((function(e){return t(e,r,n)}))),e}(this.__b,r,n.__O=n.__P)}this.__b=null}var o=e.__e&&Object(a.e)(a.b,null,t.fallback);return o&&(o.__h=null),[Object(a.e)(a.b,null,e.__e?null:t.children),o]};var U=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};function G(t){return this.getChildContext=function(){return t.context},t.children}function F(t){var e=this,r=t.i;e.componentWillUnmount=function(){Object(a.j)(null,e.l),e.l=null,e.i=null},e.i&&e.i!==r&&e.componentWillUnmount(),t.__v?(e.l||(e.i=r,e.l={nodeType:1,parentNode:r,childNodes:[],appendChild:function(t){this.childNodes.push(t),e.i.appendChild(t)},insertBefore:function(t,r){this.childNodes.push(t),e.i.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),e.i.removeChild(t)}}),Object(a.j)(Object(a.e)(G,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}(X.prototype=new a.a).__e=function(t){var e=this,r=H(e.__v),n=e.o.get(t);return n[0]++,function(o){var i=function(){e.props.revealOrder?(n.push(o),U(e,t,n)):o()};r?r(i):i()}},X.prototype.render=function(t){this.u=null,this.o=new Map;var e=Object(a.k)(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},X.prototype.componentDidUpdate=X.prototype.componentDidMount=function(){var t=this;this.o.forEach((function(e,r){U(t,r,e)}))};var Y="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,V=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,W="undefined"!=typeof document,K=function(t){return("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(t)};a.a.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach((function(t){Object.defineProperty(a.a.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})}));var $=a.i.event;function Z(){}function q(){return this.cancelBubble}function J(){return this.defaultPrevented}a.i.event=function(t){return $&&(t=$(t)),t.persist=Z,t.isPropagationStopped=q,t.isDefaultPrevented=J,t.nativeEvent=t};var Q,tt={configurable:!0,get:function(){return this.class}},et=a.i.vnode;a.i.vnode=function(t){var e=t.type,r=t.props,n=r;if("string"==typeof e){var o=-1===e.indexOf("-");for(var i in n={},r){var u=r[i];W&&"children"===i&&"noscript"===e||"value"===i&&"defaultValue"in r&&null==u||("defaultValue"===i&&"value"in r&&null==r.value?i="value":"download"===i&&!0===u?u="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!K(r.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(i)?i=i.toLowerCase():o&&V.test(i)?i=i.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===u&&(u=void 0),n[i]=u)}"select"==e&&n.multiple&&Array.isArray(n.value)&&(n.value=Object(a.k)(r.children).forEach((function(t){t.props.selected=-1!=n.value.indexOf(t.props.value)}))),"select"==e&&null!=n.defaultValue&&(n.value=Object(a.k)(r.children).forEach((function(t){t.props.selected=n.multiple?-1!=n.defaultValue.indexOf(t.props.value):n.defaultValue==t.props.value}))),t.props=n,r.class!=r.className&&(tt.enumerable="className"in r,null!=r.className&&(n.class=r.className),Object.defineProperty(n,"className",tt))}t.$$typeof=Y,et&&et(t)};var rt=a.i.__r;a.i.__r=function(t){rt&&rt(t),Q=t.__c};var nt={ReactCurrentDispatcher:{current:{readContext:function(t){return Q.__n[t.__c].props.value}}}};function ot(t){return!!t&&t.$$typeof===Y}var it=function(t,e){return t(e)},at=a.b,ut={useState:h,useReducer:v,useEffect:g,useLayoutEffect:b,useRef:function(t){return u=5,m((function(){return{current:t}}),[])},useImperativeHandle:function(t,e,r){u=6,b((function(){"function"==typeof t?t(e()):t&&(t.current=e())}),null==r?r:r.concat(t))},useMemo:m,useCallback:O,useContext:function(t){var e=o.context[t.__c],r=y(n++,9);return r.c=t,e?(null==r.__&&(r.__=!0,e.sub(o)),e.props.value):t.__},useDebugValue:function(t,e){a.i.useDebugValue&&a.i.useDebugValue(e?e(t):t)},version:"17.0.2",Children:I,render:function(t,e,r){return null==e.__k&&(e.textContent=""),Object(a.j)(t,e),"function"==typeof r&&r(),t?t.__c:null},hydrate:function(t,e,r){return Object(a.h)(t,e),"function"==typeof r&&r(),t?t.__c:null},unmountComponentAtNode:function(t){return!!t.__k&&(Object(a.j)(null,t),!0)},createPortal:function(t,e){return Object(a.e)(F,{__v:t,i:e})},createElement:a.e,createContext:a.d,createFactory:function(t){return a.e.bind(null,t)},cloneElement:function(t){return ot(t)?a.c.apply(null,arguments):t},createRef:a.f,Fragment:a.b,isValidElement:ot,findDOMNode:function(t){return t&&(t.base||1===t.nodeType&&t)||null},Component:a.a,PureComponent:D,memo:T,forwardRef:C,flushSync:function(t,e){return t(e)},unstable_batchedUpdates:it,StrictMode:at,Suspense:B,SuspenseList:X,lazy:function(t){var e,r,n;function o(o){if(e||(e=t()).then((function(t){r=t.default||t}),(function(t){n=t})),n)throw n;if(!r)throw e;return Object(a.e)(r,o)}return o.displayName="Lazy",o.__f=!0,o},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:nt};e.d=ut},function(t,e,r){var n=r(9),o=r(143),i=r(144),a=r(173),u=r(53),c=function(t){if(t&&t.forEach!==a)try{u(t,"forEach",a)}catch(e){t.forEach=a}};for(var s in o)o[s]&&c(n[s]&&n[s].prototype);c(i)},function(t,e,r){r(17)({target:"Object",stat:!0},{setPrototypeOf:r(111)})},function(t,e,r){var n=r(17),o=r(19),i=r(38),a=r(89),u=r(132);n({target:"Object",stat:!0,forced:o((function(){a(1)})),sham:!u},{getPrototypeOf:function(t){return a(i(t))}})},function(t,e,r){var n=r(17),o=r(49),i=r(95),a=r(194),u=r(152),c=r(32),s=r(33),l=r(52),f=r(19),p=o("Reflect","construct"),d=Object.prototype,y=[].push,h=f((function(){function t(){}return!(p((function(){}),[],t)instanceof t)})),v=!f((function(){p((function(){}))})),g=h||v;n({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(t,e){u(t),c(e);var r=arguments.length<3?t:u(arguments[2]);if(v&&!h)return p(t,e,r);if(t==r){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return i(y,n,e),new(i(a,t,n))}var o=r.prototype,f=l(s(o)?o:d),g=i(t,f,e);return s(g)?g:f}})},function(t,e){var r=Function.prototype,n=r.bind,o=r.call,i=n&&n.bind(o);t.exports=n?function(t){return t&&i(o,t)}:function(t){return t&&function(){return o.apply(t,arguments)}}},function(t,e,r){"use strict";var n=r(17),o=r(9),i=r(93),a=r(94),u=r(33),c=r(63),s=r(43),l=r(39),f=r(59),p=r(27),d=r(70),y=r(117),h=d("slice"),v=p("species"),g=o.Array,b=Math.max;n({target:"Array",proto:!0,forced:!h},{slice:function(t,e){var r,n,o,p=l(this),d=s(p),h=c(t,d),m=c(void 0===e?d:e,d);if(i(p)&&(r=p.constructor,(a(r)&&(r===g||i(r.prototype))||u(r)&&null===(r=r[v]))&&(r=void 0),r===g||void 0===r))return y(p,h,m);for(n=new(void 0===r?g:r)(b(m-h,0)),o=0;h<m;h++,o++)h in p&&f(n,o,p[h]);return n.length=o,n}})},function(t,e,r){var n=r(9),o=r(54).f,i=r(53),a=r(45),u=r(103),c=r(129),s=r(110);t.exports=function(t,e){var r,l,f,p,d,y=t.target,h=t.global,v=t.stat;if(r=h?n:v?n[y]||u(y,{}):(n[y]||{}).prototype)for(l in e){if(p=e[l],f=t.noTargetGet?(d=o(r,l))&&d.value:r[l],!s(h?l:y+(v?".":"#")+l,t.forced)&&void 0!==f){if(typeof p==typeof f)continue;c(p,f)}(t.sham||f&&f.sham)&&i(p,"sham",!0),a(r,l,p,t)}}},function(t,e,r){"use strict";var n=r(17),o=r(96);n({target:"RegExp",proto:!0,forced:/./.exec!==o},{exec:o})},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,r){var n=r(17),o=r(38),i=r(62);n({target:"Object",stat:!0,forced:r(19)((function(){i(1)}))},{keys:function(t){return i(o(t))}})},function(t,e,r){var n=r(17),o=r(19),i=r(39),a=r(54).f,u=r(35),c=o((function(){a(1)}));n({target:"Object",stat:!0,forced:!u||c,sham:!u},{getOwnPropertyDescriptor:function(t,e){return a(i(t),e)}})},function(t,e,r){"use strict";var n=r(17),o=r(69).filter;n({target:"Array",proto:!0,forced:!r(70)("filter")},{filter:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){var n=r(17),o=r(35),i=r(130),a=r(39),u=r(54),c=r(59);n({target:"Object",stat:!0,sham:!o},{getOwnPropertyDescriptors:function(t){for(var e,r,n=a(t),o=u.f,s=i(n),l={},f=0;s.length>f;)void 0!==(r=o(n,e=s[f++]))&&c(l,e,r);return l}})},function(t,e,r){var n=r(35),o=r(88).EXISTS,i=r(15),a=r(37).f,u=Function.prototype,c=i(u.toString),s=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,l=i(s.exec);n&&!o&&a(u,"name",{configurable:!0,get:function(){try{return l(s,c(this))[1]}catch(t){return""}}})},function(t,e,r){var n=r(17),o=r(176);n({target:"Array",stat:!0,forced:!r(140)((function(t){Array.from(t)}))},{from:o})},,function(t,e,r){var n=r(9),o=r(77),i=r(34),a=r(79),u=r(104),c=r(124),s=o("wks"),l=n.Symbol,f=l&&l.for,p=c?l:l&&l.withoutSetter||a;t.exports=function(t){if(!i(s,t)||!u&&"string"!=typeof s[t]){var e="Symbol."+t;u&&i(l,t)?s[t]=l[t]:s[t]=c&&f?f(e):p(e)}return s[t]}},function(t,e,r){"use strict";var n=r(17),o=r(9),i=r(19),a=r(93),u=r(33),c=r(38),s=r(43),l=r(59),f=r(115),p=r(70),d=r(27),y=r(80),h=d("isConcatSpreadable"),v=o.TypeError,g=y>=51||!i((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),b=p("concat"),m=function(t){if(!u(t))return!1;var e=t[h];return void 0!==e?!!e:a(t)};n({target:"Array",proto:!0,forced:!g||!b},{concat:function(t){var e,r,n,o,i,a=c(this),u=f(a,0),p=0;for(e=-1,n=arguments.length;e<n;e++)if(m(i=-1===e?a:arguments[e])){if(p+(o=s(i))>9007199254740991)throw v("Maximum allowed index exceeded");for(r=0;r<o;r++,p++)r in i&&l(u,p,i[r])}else{if(p>=9007199254740991)throw v("Maximum allowed index exceeded");l(u,p++,i)}return u.length=p,u}})},function(t,e,r){"use strict";var n=r(100),o="object"==typeof self&&self&&self.Object===Object&&self,i=n.a||o||Function("return this")();e.a=i},function(t,e){t.exports=function(t){return"function"==typeof t}},function(t,e,r){var n=r(17),o=r(196);n({target:"Object",stat:!0,forced:Object.assign!==o},{assign:o})},function(t,e,r){var n=r(9),o=r(33),i=n.String,a=n.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not an object")}},function(t,e,r){var n=r(30);t.exports=function(t){return"object"==typeof t?null!==t:n(t)}},function(t,e,r){var n=r(15),o=r(38),i=n({}.hasOwnProperty);t.exports=Object.hasOwn||function(t,e){return i(o(t),e)}},function(t,e,r){var n=r(19);t.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},function(t,e){var r=Function.prototype.call;t.exports=r.bind?r.bind(r):function(){return r.apply(r,arguments)}},function(t,e,r){var n=r(9),o=r(35),i=r(125),a=r(32),u=r(82),c=n.TypeError,s=Object.defineProperty;e.f=o?s:function(t,e,r){if(a(t),e=u(e),a(r),i)try{return s(t,e,r)}catch(t){}if("get"in r||"set"in r)throw c("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},function(t,e,r){var n=r(9),o=r(44),i=n.Object;t.exports=function(t){return i(o(t))}},function(t,e,r){var n=r(74),o=r(44);t.exports=function(t){return n(o(t))}},function(t,e,r){var n=r(9),o=r(92),i=n.String;t.exports=function(t){if("Symbol"===o(t))throw TypeError("Cannot convert a Symbol value to a string");return i(t)}},function(t,e,r){"use strict";var n=r(17),o=r(69).map;n({target:"Array",proto:!0,forced:!r(70)("map")},{map:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){"use strict";(function(t){r.d(e,"d",(function(){return i})),r.d(e,"c",(function(){return a})),r.d(e,"b",(function(){return u})),r.d(e,"a",(function(){return s}));var n=r(10),o=function(t,e){var r="function"==typeof Symbol&&t[Symbol.iterator];if(!r)return t;var n,o,i=r.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(n=i.next()).done;)a.push(n.value)}catch(t){o={error:t}}finally{try{n&&!n.done&&(r=i.return)&&r.call(i)}finally{if(o)throw o.error}}return a};function i(){var t=o(Object(n.j)(0),2)[1];return Object(n.h)((function(){t((function(t){return t+1}))}),[])}function a(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);return!e||e===Object.prototype}function u(t){return"function"==typeof Symbol?Symbol.for(t):"__$mobx-react "+t+"__"}var c={};function s(){return"undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:c}}).call(this,r(75))},function(t,e,r){var n=r(85);t.exports=function(t){return n(t.length)}},function(t,e,r){var n=r(9).TypeError;t.exports=function(t){if(null==t)throw n("Can't call method on "+t);return t}},function(t,e,r){var n=r(9),o=r(30),i=r(34),a=r(53),u=r(103),c=r(107),s=r(57),l=r(88).CONFIGURABLE,f=s.get,p=s.enforce,d=String(String).split("String");(t.exports=function(t,e,r,c){var s,f=!!c&&!!c.unsafe,y=!!c&&!!c.enumerable,h=!!c&&!!c.noTargetGet,v=c&&void 0!==c.name?c.name:e;o(r)&&("Symbol("===String(v).slice(0,7)&&(v="["+String(v).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),(!i(r,"name")||l&&r.name!==v)&&a(r,"name",v),(s=p(r)).source||(s.source=d.join("string"==typeof v?v:""))),t!==n?(f?!h&&t[e]&&(y=!0):delete t[e],y?t[e]=r:a(t,e,r)):y?t[e]=r:u(e,r)})(Function.prototype,"toString",(function(){return o(this)&&f(this).source||c(this)}))},function(t,e,r){var n=r(17),o=r(36),i=r(33),a=r(32),u=r(195),c=r(54),s=r(89);n({target:"Reflect",stat:!0},{get:function t(e,r){var n,l,f=arguments.length<3?e:arguments[2];return a(e)===f?e[r]:(n=c.f(e,r))?u(n)?n.value:void 0===n.get?void 0:o(n.get,f):i(l=s(e))?t(l,r,f):void 0}})},function(t,e,r){"use strict";(function(t){var n=r(29),o=r(156),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===i?n.a.Buffer:void 0,c=(u?u.isBuffer:void 0)||o.a;e.a=c}).call(this,r(118)(t))},function(t,e,r){"use strict";(function(t){var n=r(100),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&n.a.process,u=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(t){}}();e.a=u}).call(this,r(118)(t))},function(t,e,r){var n=r(9),o=r(30),i=function(t){return o(t)?t:void 0};t.exports=function(t,e){return arguments.length<2?i(n[t]):n[t]&&n[t][e]}},function(t,e,r){var n=r(17),o=r(200).entries;n({target:"Object",stat:!0},{entries:function(t){return o(t)}})},function(t,e,r){var n=r(15),o=n({}.toString),i=n("".slice);t.exports=function(t){return i(o(t),8,-1)}},function(t,e,r){var n,o=r(32),i=r(159),a=r(106),u=r(65),c=r(161),s=r(105),l=r(86),f=l("IE_PROTO"),p=function(){},d=function(t){return"<script>"+t+"<\/script>"},y=function(t){t.write(d("")),t.close();var e=t.parentWindow.Object;return t=null,e},h=function(){try{n=new ActiveXObject("htmlfile")}catch(t){}var t,e;h="undefined"!=typeof document?document.domain&&n?y(n):((e=s("iframe")).style.display="none",c.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(d("document.F=Object")),t.close(),t.F):y(n);for(var r=a.length;r--;)delete h.prototype[a[r]];return h()};u[f]=!0,t.exports=Object.create||function(t,e){var r;return null!==t?(p.prototype=o(t),r=new p,p.prototype=null,r[f]=t):r=h(),void 0===e?r:i(r,e)}},function(t,e,r){var n=r(35),o=r(37),i=r(67);t.exports=n?function(t,e,r){return o.f(t,e,i(1,r))}:function(t,e,r){return t[e]=r,t}},function(t,e,r){var n=r(35),o=r(36),i=r(87),a=r(67),u=r(39),c=r(82),s=r(34),l=r(125),f=Object.getOwnPropertyDescriptor;e.f=n?f:function(t,e){if(t=u(t),e=c(e),l)try{return f(t,e)}catch(t){}if(s(t,e))return a(!o(i.f,t,e),t[e])}},function(t,e,r){var n=r(15);t.exports=n({}.isPrototypeOf)},function(t,e,r){var n=r(61);t.exports=function(t,e){var r=t[e];return null==r?void 0:n(r)}},function(t,e,r){var n,o,i,a=r(162),u=r(9),c=r(15),s=r(33),l=r(53),f=r(34),p=r(102),d=r(86),y=r(65),h=u.TypeError,v=u.WeakMap;if(a||p.state){var g=p.state||(p.state=new v),b=c(g.get),m=c(g.has),O=c(g.set);n=function(t,e){if(m(g,t))throw new h("Object already initialized");return e.facade=t,O(g,t,e),e},o=function(t){return b(g,t)||{}},i=function(t){return m(g,t)}}else{var w=d("state");y[w]=!0,n=function(t,e){if(f(t,w))throw new h("Object already initialized");return e.facade=t,l(t,w,e),e},o=function(t){return f(t,w)?t[w]:{}},i=function(t){return f(t,w)}}t.exports={set:n,get:o,has:i,enforce:function(t){return i(t)?o(t):n(t,{})},getterFor:function(t){return function(e){var r;if(!s(e)||(r=o(e)).type!==t)throw h("Incompatible receiver, "+t+" required");return r}}}},function(t,e,r){"use strict";r(165)("Map",(function(t){return function(){return t(this,arguments.length?arguments[0]:void 0)}}),r(169))},function(t,e,r){"use strict";var n=r(82),o=r(37),i=r(67);t.exports=function(t,e,r){var a=n(e);a in t?o.f(t,a,i(0,r)):t[a]=r}},function(t,e,r){var n=r(17),o=r(201),i=r(76);n({target:"Array",proto:!0},{fill:o}),i("fill")},function(t,e,r){var n=r(9),o=r(30),i=r(84),a=n.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not a function")}},function(t,e,r){var n=r(127),o=r(106);t.exports=Object.keys||function(t){return n(t,o)}},function(t,e,r){var n=r(64),o=Math.max,i=Math.min;t.exports=function(t,e){var r=n(t);return r<0?o(r+e,0):i(r,e)}},function(t,e){var r=Math.ceil,n=Math.floor;t.exports=function(t){var e=+t;return e!=e||0===e?0:(e>0?n:r)(e)}},function(t,e){t.exports={}},function(t,e){t.exports={}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,r){var n=r(127),o=r(106).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,o)}},function(t,e,r){var n=r(91),o=r(15),i=r(74),a=r(38),u=r(43),c=r(115),s=o([].push),l=function(t){var e=1==t,r=2==t,o=3==t,l=4==t,f=6==t,p=7==t,d=5==t||f;return function(y,h,v,g){for(var b,m,O=a(y),w=i(O),_=n(h,v),j=u(w),E=0,x=g||c,S=e?x(y,j):r||p?x(y,0):void 0;j>E;E++)if((d||E in w)&&(m=_(b=w[E],E,O),t))if(e)S[E]=m;else if(m)switch(t){case 3:return!0;case 5:return b;case 6:return E;case 2:s(S,b)}else switch(t){case 4:return!1;case 7:s(S,b)}return f?-1:o||l?l:S}};t.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},function(t,e,r){var n=r(19),o=r(27),i=r(80),a=o("species");t.exports=function(t){return i>=51||!n((function(){var e=[];return(e.constructor={})[a]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},function(t,e,r){"use strict";var n=r(95),o=r(36),i=r(15),a=r(119),u=r(150),c=r(32),s=r(44),l=r(189),f=r(120),p=r(85),d=r(40),y=r(56),h=r(112),v=r(121),g=r(96),b=r(147),m=r(19),O=b.UNSUPPORTED_Y,w=Math.min,_=[].push,j=i(/./.exec),E=i(_),x=i("".slice);a("split",(function(t,e,r){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,r){var i=d(s(this)),a=void 0===r?4294967295:r>>>0;if(0===a)return[];if(void 0===t)return[i];if(!u(t))return o(e,i,t,a);for(var c,l,f,p=[],y=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,b=new RegExp(t.source,y+"g");(c=o(g,b,i))&&!((l=b.lastIndex)>v&&(E(p,x(i,v,c.index)),c.length>1&&c.index<i.length&&n(_,p,h(c,1)),f=c[0].length,v=l,p.length>=a));)b.lastIndex===c.index&&b.lastIndex++;return v===i.length?!f&&j(b,"")||E(p,""):E(p,x(i,v)),p.length>a?h(p,0,a):p}:"0".split(void 0,0).length?function(t,r){return void 0===t&&0===r?[]:o(e,this,t,r)}:e,[function(e,r){var n=s(this),a=null==e?void 0:y(e,t);return a?o(a,e,n,r):o(i,d(n),e,r)},function(t,n){var o=c(this),a=d(t),u=r(i,o,a,n,i!==e);if(u.done)return u.value;var s=l(o,RegExp),y=o.unicode,h=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(O?"g":"y"),g=new s(O?"^(?:"+o.source+")":o,h),b=void 0===n?4294967295:n>>>0;if(0===b)return[];if(0===a.length)return null===v(g,a)?[a]:[];for(var m=0,_=0,j=[];_<a.length;){g.lastIndex=O?0:_;var S,P=v(g,O?x(a,_):a);if(null===P||(S=w(p(g.lastIndex+(O?_:0)),a.length))===m)_=f(a,_,y);else{if(E(j,x(a,m,_)),j.length===b)return j;for(var k=1;k<=P.length-1;k++)if(E(j,P[k]),j.length===b)return j;_=m=S}}return E(j,x(a,m)),j}]}),!!m((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var r="ab".split(t);return 2!==r.length||"a"!==r[0]||"b"!==r[1]})),O)},function(t,e,r){"use strict";var n=r(35),o=r(9),i=r(15),a=r(110),u=r(45),c=r(34),s=r(141),l=r(55),f=r(83),p=r(126),d=r(19),y=r(68).f,h=r(54).f,v=r(37).f,g=r(192),b=r(153).trim,m=o.Number,O=m.prototype,w=o.TypeError,_=i("".slice),j=i("".charCodeAt),E=function(t){var e=p(t,"number");return"bigint"==typeof e?e:x(e)},x=function(t){var e,r,n,o,i,a,u,c,s=p(t,"number");if(f(s))throw w("Cannot convert a Symbol value to a number");if("string"==typeof s&&s.length>2)if(s=b(s),43===(e=j(s,0))||45===e){if(88===(r=j(s,2))||120===r)return NaN}else if(48===e){switch(j(s,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+s}for(a=(i=_(s,2)).length,u=0;u<a;u++)if((c=j(i,u))<48||c>o)return NaN;return parseInt(i,n)}return+s};if(a("Number",!m(" 0o1")||!m("0b1")||m("+0x1"))){for(var S,P=function(t){var e=arguments.length<1?0:m(E(t)),r=this;return l(O,r)&&d((function(){g(r)}))?s(Object(e),r,P):e},k=n?y(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),A=0;k.length>A;A++)c(m,S=k[A])&&!c(P,S)&&v(P,S,h(m,S));P.prototype=O,O.constructor=P,u(o,"Number",P)}},function(t,e,r){r(17)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,r){var n=r(9),o=r(15),i=r(19),a=r(51),u=n.Object,c=o("".split);t.exports=i((function(){return!u("z").propertyIsEnumerable(0)}))?function(t){return"String"==a(t)?c(t,""):u(t)}:u},function(t,e){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){var n=r(27),o=r(52),i=r(37),a=n("unscopables"),u=Array.prototype;null==u[a]&&i.f(u,a,{configurable:!0,value:o(null)}),t.exports=function(t){u[a][t]=!0}},function(t,e,r){var n=r(78),o=r(102);(t.exports=function(t,e){return o[t]||(o[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.19.3",mode:n?"pure":"global",copyright:" 2021 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports=!1},function(t,e,r){var n=r(15),o=0,i=Math.random(),a=n(1..toString);t.exports=function(t){return"Symbol("+(void 0===t?"":t)+")_"+a(++o+i,36)}},function(t,e,r){var n,o,i=r(9),a=r(81),u=i.process,c=i.Deno,s=u&&u.versions||c&&c.version,l=s&&s.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=+n[1]),t.exports=o},function(t,e,r){var n=r(49);t.exports=n("navigator","userAgent")||""},function(t,e,r){var n=r(126),o=r(83);t.exports=function(t){var e=n(t,"string");return o(e)?e:e+""}},function(t,e,r){var n=r(9),o=r(49),i=r(30),a=r(55),u=r(124),c=n.Object;t.exports=u?function(t){return"symbol"==typeof t}:function(t){var e=o("Symbol");return i(e)&&a(e.prototype,c(t))}},function(t,e,r){var n=r(9).String;t.exports=function(t){try{return n(t)}catch(t){return"Object"}}},function(t,e,r){var n=r(64),o=Math.min;t.exports=function(t){return t>0?o(n(t),9007199254740991):0}},function(t,e,r){var n=r(77),o=r(79),i=n("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},function(t,e,r){"use strict";var n={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!n.call({1:2},1);e.f=i?function(t){var e=o(this,t);return!!e&&e.enumerable}:n},function(t,e,r){var n=r(35),o=r(34),i=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,u=o(i,"name"),c=u&&"something"===function(){}.name,s=u&&(!n||n&&a(i,"name").configurable);t.exports={EXISTS:u,PROPER:c,CONFIGURABLE:s}},function(t,e,r){var n=r(9),o=r(34),i=r(30),a=r(38),u=r(86),c=r(132),s=u("IE_PROTO"),l=n.Object,f=l.prototype;t.exports=c?l.getPrototypeOf:function(t){var e=a(t);if(o(e,s))return e[s];var r=e.constructor;return i(r)&&e instanceof r?r.prototype:e instanceof l?f:null}},function(t,e,r){var n=r(37).f,o=r(34),i=r(27)("toStringTag");t.exports=function(t,e,r){t&&!o(t=r?t:t.prototype,i)&&n(t,i,{configurable:!0,value:e})}},function(t,e,r){var n=r(15),o=r(61),i=n(n.bind);t.exports=function(t,e){return o(t),void 0===e?t:i?i(t,e):function(){return t.apply(e,arguments)}}},function(t,e,r){var n=r(9),o=r(114),i=r(30),a=r(51),u=r(27)("toStringTag"),c=n.Object,s="Arguments"==a(function(){return arguments}());t.exports=o?a:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=c(t),u))?r:s?a(e):"Object"==(n=a(e))&&i(e.callee)?"Arguments":n}},function(t,e,r){var n=r(51);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,r){var n=r(15),o=r(19),i=r(30),a=r(92),u=r(49),c=r(107),s=function(){},l=[],f=u("Reflect","construct"),p=/^\s*(?:class|function)\b/,d=n(p.exec),y=!p.exec(s),h=function(t){if(!i(t))return!1;try{return f(s,l,t),!0}catch(t){return!1}};t.exports=!f||o((function(){var t;return h(h.call)||!h(Object)||!h((function(){t=!0}))||t}))?function(t){if(!i(t))return!1;switch(a(t)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}return y||!!d(p,c(t))}:h},function(t,e){var r=Function.prototype,n=r.apply,o=r.bind,i=r.call;t.exports="object"==typeof Reflect&&Reflect.apply||(o?i.bind(n):function(){return i.apply(n,arguments)})},function(t,e,r){"use strict";var n,o,i=r(36),a=r(15),u=r(40),c=r(178),s=r(147),l=r(77),f=r(52),p=r(57).get,d=r(179),y=r(180),h=l("native-string-replace",String.prototype.replace),v=RegExp.prototype.exec,g=v,b=a("".charAt),m=a("".indexOf),O=a("".replace),w=a("".slice),_=(o=/b*/g,i(v,n=/a/,"a"),i(v,o,"a"),0!==n.lastIndex||0!==o.lastIndex),j=s.BROKEN_CARET,E=void 0!==/()??/.exec("")[1];(_||E||j||d||y)&&(g=function(t){var e,r,n,o,a,s,l,d=this,y=p(d),x=u(t),S=y.raw;if(S)return S.lastIndex=d.lastIndex,e=i(g,S,x),d.lastIndex=S.lastIndex,e;var P=y.groups,k=j&&d.sticky,A=i(c,d),D=d.source,T=0,M=x;if(k&&(A=O(A,"y",""),-1===m(A,"g")&&(A+="g"),M=w(x,d.lastIndex),d.lastIndex>0&&(!d.multiline||d.multiline&&"\n"!==b(x,d.lastIndex-1))&&(D="(?: "+D+")",M=" "+M,T++),r=new RegExp("^(?:"+D+")",A)),E&&(r=new RegExp("^"+D+"$(?!\\s)",A)),_&&(n=d.lastIndex),o=i(v,k?r:d,M),k?o?(o.input=w(o.input,T),o[0]=w(o[0],T),o.index=d.lastIndex,d.lastIndex+=o[0].length):d.lastIndex=0:_&&o&&(d.lastIndex=d.global?o.index+o[0].length:n),E&&o&&o.length>1&&i(h,o[0],r,(function(){for(a=1;a<arguments.length-2;a++)void 0===arguments[a]&&(o[a]=void 0)})),o&&P)for(o.groups=s=f(null),a=0;a<P.length;a++)s[(l=P[a])[0]]=o[l[1]];return o}),t.exports=g},function(t,e,r){"use strict";var n=r(17),o=r(9),i=r(63),a=r(64),u=r(43),c=r(38),s=r(115),l=r(59),f=r(70)("splice"),p=o.TypeError,d=Math.max,y=Math.min;n({target:"Array",proto:!0,forced:!f},{splice:function(t,e){var r,n,o,f,h,v,g=c(this),b=u(g),m=i(t,b),O=arguments.length;if(0===O?r=n=0:1===O?(r=0,n=b-m):(r=O-2,n=y(d(a(e),0),b-m)),b+r-n>9007199254740991)throw p("Maximum allowed length exceeded");for(o=s(g,n),f=0;f<n;f++)(h=m+f)in g&&l(o,f,g[h]);if(o.length=n,r<n){for(f=m;f<b-n;f++)v=f+r,(h=f+n)in g?g[v]=g[h]:delete g[v];for(f=b;f>b-n+r;f--)delete g[f-1]}else if(r>n)for(f=b-n;f>m;f--)v=f+r-1,(h=f+n-1)in g?g[v]=g[h]:delete g[v];for(f=0;f<r;f++)g[f+m]=arguments[f+2];return g.length=b-n+r,o}})},function(t,e,r){"use strict";var n=r(17),o=r(15),i=r(74),a=r(39),u=r(116),c=o([].join),s=i!=Object,l=u("join",",");n({target:"Array",proto:!0,forced:s||!l},{join:function(t){return c(a(this),void 0===t?",":t)}})},function(t,e,r){"use strict";var n=r(17),o=r(197);n({target:"String",proto:!0,forced:r(198)("anchor")},{anchor:function(t){return o(this,"a","name",t)}})},function(t,e,r){"use strict";(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.a=r}).call(this,r(75))},function(t,e,r){"use strict";(function(t){var n=r(29),o="object"==typeof exports&&exports&&!exports.nodeType&&exports,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?n.a.Buffer:void 0,u=a?a.allocUnsafe:void 0;e.a=function(t,e){if(e)return t.slice();var r=t.length,n=u?u(r):new t.constructor(r);return t.copy(n),n}}).call(this,r(118)(t))},function(t,e,r){var n=r(9),o=r(103),i=n["__core-js_shared__"]||o("__core-js_shared__",{});t.exports=i},function(t,e,r){var n=r(9),o=Object.defineProperty;t.exports=function(t,e){try{o(n,t,{value:e,configurable:!0,writable:!0})}catch(r){n[t]=e}return e}},function(t,e,r){var n=r(80),o=r(19);t.exports=!!Object.getOwnPropertySymbols&&!o((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},function(t,e,r){var n=r(9),o=r(33),i=n.document,a=o(i)&&o(i.createElement);t.exports=function(t){return a?i.createElement(t):{}}},function(t,e){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(t,e,r){var n=r(15),o=r(30),i=r(102),a=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(t){return a(t)}),t.exports=i.inspectSource},function(t,e,r){"use strict";var n=r(17),o=r(36),i=r(78),a=r(88),u=r(30),c=r(163),s=r(89),l=r(111),f=r(90),p=r(53),d=r(45),y=r(27),h=r(66),v=r(131),g=a.PROPER,b=a.CONFIGURABLE,m=v.IteratorPrototype,O=v.BUGGY_SAFARI_ITERATORS,w=y("iterator"),_=function(){return this};t.exports=function(t,e,r,a,y,v,j){c(r,e,a);var E,x,S,P=function(t){if(t===y&&M)return M;if(!O&&t in D)return D[t];switch(t){case"keys":case"values":case"entries":return function(){return new r(this,t)}}return function(){return new r(this)}},k=e+" Iterator",A=!1,D=t.prototype,T=D[w]||D["@@iterator"]||y&&D[y],M=!O&&T||P(y),N="Array"==e&&D.entries||T;if(N&&(E=s(N.call(new t)))!==Object.prototype&&E.next&&(i||s(E)===m||(l?l(E,m):u(E[w])||d(E,w,_)),f(E,k,!0,!0),i&&(h[k]=_)),g&&"values"==y&&T&&"values"!==T.name&&(!i&&b?p(D,"name","values"):(A=!0,M=function(){return o(T,this)})),y)if(x={values:P("values"),keys:v?M:P("keys"),entries:P("entries")},j)for(S in x)(O||A||!(S in D))&&d(D,S,x[S]);else n({target:e,proto:!0,forced:O||A},x);return i&&!j||D[w]===M||d(D,w,M,{name:y}),h[e]=M,x}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,r){var n=r(19),o=r(30),i=/#|\.prototype\./,a=function(t,e){var r=c[u(t)];return r==l||r!=s&&(o(e)?n(e):!!e)},u=a.normalize=function(t){return String(t).replace(i,".").toLowerCase()},c=a.data={},s=a.NATIVE="N",l=a.POLYFILL="P";t.exports=a},function(t,e,r){var n=r(15),o=r(32),i=r(164);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{(t=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),e=r instanceof Array}catch(t){}return function(r,n){return o(r),i(n),e?t(r,n):r.__proto__=n,r}}():void 0)},function(t,e,r){var n=r(9),o=r(63),i=r(43),a=r(59),u=n.Array,c=Math.max;t.exports=function(t,e,r){for(var n=i(t),s=o(e,n),l=o(void 0===r?n:r,n),f=u(c(l-s,0)),p=0;s<l;s++,p++)a(f,p,t[s]);return f.length=p,f}},function(t,e,r){var n=r(92),o=r(56),i=r(66),a=r(27)("iterator");t.exports=function(t){if(null!=t)return o(t,a)||o(t,"@@iterator")||i[n(t)]}},function(t,e,r){var n={};n[r(27)("toStringTag")]="z",t.exports="[object z]"===String(n)},function(t,e,r){var n=r(174);t.exports=function(t,e){return new(n(t))(0===e?0:e)}},function(t,e,r){"use strict";var n=r(19);t.exports=function(t,e){var r=[][t];return!!r&&n((function(){r.call(null,e||function(){throw 1},1)}))}},function(t,e,r){var n=r(15);t.exports=n([].slice)},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,r){"use strict";r(18);var n=r(15),o=r(45),i=r(96),a=r(19),u=r(27),c=r(53),s=u("species"),l=RegExp.prototype;t.exports=function(t,e,r,f){var p=u(t),d=!a((function(){var e={};return e[p]=function(){return 7},7!=""[t](e)})),y=d&&!a((function(){var e=!1,r=/a/;return"split"===t&&((r={}).constructor={},r.constructor[s]=function(){return r},r.flags="",r[p]=/./[p]),r.exec=function(){return e=!0,null},r[p](""),!e}));if(!d||!y||r){var h=n(/./[p]),v=e(p,""[t],(function(t,e,r,o,a){var u=n(t),c=e.exec;return c===i||c===l.exec?d&&!a?{done:!0,value:h(e,r,o)}:{done:!0,value:u(r,e,o)}:{done:!1}}));o(String.prototype,t,v[0]),o(l,p,v[1])}f&&c(l[p],"sham",!0)}},function(t,e,r){"use strict";var n=r(142).charAt;t.exports=function(t,e,r){return e+(r?n(t,e).length:1)}},function(t,e,r){var n=r(9),o=r(36),i=r(32),a=r(30),u=r(51),c=r(96),s=n.TypeError;t.exports=function(t,e){var r=t.exec;if(a(r)){var n=o(r,t,e);return null!==n&&i(n),n}if("RegExp"===u(t))return o(c,t,e);throw s("RegExp#exec called on incompatible receiver")}},function(t,e,r){"use strict";var n=r(95),o=r(36),i=r(15),a=r(119),u=r(19),c=r(32),s=r(30),l=r(64),f=r(85),p=r(40),d=r(44),y=r(120),h=r(56),v=r(193),g=r(121),b=r(27)("replace"),m=Math.max,O=Math.min,w=i([].concat),_=i([].push),j=i("".indexOf),E=i("".slice),x="$0"==="a".replace(/./,"$0"),S=!!/./[b]&&""===/./[b]("a","$0");a("replace",(function(t,e,r){var i=S?"$":"$0";return[function(t,r){var n=d(this),i=null==t?void 0:h(t,b);return i?o(i,t,n,r):o(e,p(n),t,r)},function(t,o){var a=c(this),u=p(t);if("string"==typeof o&&-1===j(o,i)&&-1===j(o,"$<")){var d=r(e,a,u,o);if(d.done)return d.value}var h=s(o);h||(o=p(o));var b=a.global;if(b){var x=a.unicode;a.lastIndex=0}for(var S=[];;){var P=g(a,u);if(null===P)break;if(_(S,P),!b)break;""===p(P[0])&&(a.lastIndex=y(u,f(a.lastIndex),x))}for(var k,A="",D=0,T=0;T<S.length;T++){for(var M=p((P=S[T])[0]),N=m(O(l(P.index),u.length),0),C=[],R=1;R<P.length;R++)_(C,void 0===(k=P[R])?k:String(k));var I=P.groups;if(h){var L=w([M],C,N,u);void 0!==I&&_(L,I);var z=p(n(o,void 0,L))}else z=v(M,u,N,C,I,o);N>=D&&(A+=E(u,D,N)+z,D=N+M.length)}return A+E(u,D)}]}),!!u((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}))||!x||S)},function(t,e,r){r(17)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,r){var n=r(104);t.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},function(t,e,r){var n=r(35),o=r(19),i=r(105);t.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},function(t,e,r){var n=r(9),o=r(36),i=r(33),a=r(83),u=r(56),c=r(160),s=r(27),l=n.TypeError,f=s("toPrimitive");t.exports=function(t,e){if(!i(t)||a(t))return t;var r,n=u(t,f);if(n){if(void 0===e&&(e="default"),r=o(n,t,e),!i(r)||a(r))return r;throw l("Can't convert object to primitive value")}return void 0===e&&(e="number"),c(t,e)}},function(t,e,r){var n=r(15),o=r(34),i=r(39),a=r(128).indexOf,u=r(65),c=n([].push);t.exports=function(t,e){var r,n=i(t),s=0,l=[];for(r in n)!o(u,r)&&o(n,r)&&c(l,r);for(;e.length>s;)o(n,r=e[s++])&&(~a(l,r)||c(l,r));return l}},function(t,e,r){var n=r(39),o=r(63),i=r(43),a=function(t){return function(e,r,a){var u,c=n(e),s=i(c),l=o(a,s);if(t&&r!=r){for(;s>l;)if((u=c[l++])!=u)return!0}else for(;s>l;l++)if((t||l in c)&&c[l]===r)return t||l||0;return!t&&-1}};t.exports={includes:a(!0),indexOf:a(!1)}},function(t,e,r){var n=r(34),o=r(130),i=r(54),a=r(37);t.exports=function(t,e){for(var r=o(e),u=a.f,c=i.f,s=0;s<r.length;s++){var l=r[s];n(t,l)||u(t,l,c(e,l))}}},function(t,e,r){var n=r(49),o=r(15),i=r(68),a=r(109),u=r(32),c=o([].concat);t.exports=n("Reflect","ownKeys")||function(t){var e=i.f(u(t)),r=a.f;return r?c(e,r(t)):e}},function(t,e,r){"use strict";var n,o,i,a=r(19),u=r(30),c=r(52),s=r(89),l=r(45),f=r(27),p=r(78),d=f("iterator"),y=!1;[].keys&&("next"in(i=[].keys())?(o=s(s(i)))!==Object.prototype&&(n=o):y=!0),null==n||a((function(){var t={};return n[d].call(t)!==t}))?n={}:p&&(n=c(n)),u(n[d])||l(n,d,(function(){return this})),t.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:y}},function(t,e,r){var n=r(19);t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},function(t,e,r){var n=r(17),o=r(15),i=r(65),a=r(33),u=r(34),c=r(37).f,s=r(68),l=r(134),f=r(166),p=r(79),d=r(168),y=!1,h=p("meta"),v=0,g=function(t){c(t,h,{value:{objectID:"O"+v++,weakData:{}}})},b=t.exports={enable:function(){b.enable=function(){},y=!0;var t=s.f,e=o([].splice),r={};r[h]=1,t(r).length&&(s.f=function(r){for(var n=t(r),o=0,i=n.length;o<i;o++)if(n[o]===h){e(n,o,1);break}return n},n({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:l.f}))},fastKey:function(t,e){if(!a(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!u(t,h)){if(!f(t))return"F";if(!e)return"E";g(t)}return t[h].objectID},getWeakData:function(t,e){if(!u(t,h)){if(!f(t))return!0;if(!e)return!1;g(t)}return t[h].weakData},onFreeze:function(t){return d&&y&&f(t)&&!u(t,h)&&g(t),t}};i[h]=!0},function(t,e,r){var n=r(51),o=r(39),i=r(68).f,a=r(112),u="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return u&&"Window"==n(t)?function(t){try{return i(t)}catch(t){return a(u)}}(t):i(o(t))}},function(t,e,r){var n=r(9),o=r(91),i=r(36),a=r(32),u=r(84),c=r(136),s=r(43),l=r(55),f=r(137),p=r(113),d=r(138),y=n.TypeError,h=function(t,e){this.stopped=t,this.result=e},v=h.prototype;t.exports=function(t,e,r){var n,g,b,m,O,w,_,j=r&&r.that,E=!(!r||!r.AS_ENTRIES),x=!(!r||!r.IS_ITERATOR),S=!(!r||!r.INTERRUPTED),P=o(e,j),k=function(t){return n&&d(n,"normal",t),new h(!0,t)},A=function(t){return E?(a(t),S?P(t[0],t[1],k):P(t[0],t[1])):S?P(t,k):P(t)};if(x)n=t;else{if(!(g=p(t)))throw y(u(t)+" is not iterable");if(c(g)){for(b=0,m=s(t);m>b;b++)if((O=A(t[b]))&&l(v,O))return O;return new h(!1)}n=f(t,g)}for(w=n.next;!(_=i(w,n)).done;){try{O=A(_.value)}catch(t){d(n,"throw",t)}if("object"==typeof O&&O&&l(v,O))return O}return new h(!1)}},function(t,e,r){var n=r(27),o=r(66),i=n("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||a[i]===t)}},function(t,e,r){var n=r(9),o=r(36),i=r(61),a=r(32),u=r(84),c=r(113),s=n.TypeError;t.exports=function(t,e){var r=arguments.length<2?c(t):e;if(i(r))return a(o(r,t));throw s(u(t)+" is not iterable")}},function(t,e,r){var n=r(36),o=r(32),i=r(56);t.exports=function(t,e,r){var a,u;o(t);try{if(!(a=i(t,"return"))){if("throw"===e)throw r;return r}a=n(a,t)}catch(t){u=!0,a=t}if("throw"===e)throw r;if(u)throw a;return o(a),r}},function(t,e,r){var n=r(9),o=r(55),i=n.TypeError;t.exports=function(t,e){if(o(e,t))return t;throw i("Incorrect invocation")}},function(t,e,r){var n=r(27)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},t(i)}catch(t){}return r}},function(t,e,r){var n=r(30),o=r(33),i=r(111);t.exports=function(t,e,r){var a,u;return i&&n(a=e.constructor)&&a!==r&&o(u=a.prototype)&&u!==r.prototype&&i(t,u),t}},function(t,e,r){var n=r(15),o=r(64),i=r(40),a=r(44),u=n("".charAt),c=n("".charCodeAt),s=n("".slice),l=function(t){return function(e,r){var n,l,f=i(a(e)),p=o(r),d=f.length;return p<0||p>=d?t?"":void 0:(n=c(f,p))<55296||n>56319||p+1===d||(l=c(f,p+1))<56320||l>57343?t?u(f,p):n:t?s(f,p,p+2):l-56320+(n-55296<<10)+65536}};t.exports={codeAt:l(!1),charAt:l(!0)}},function(t,e){t.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(t,e,r){var n=r(105)("span").classList,o=n&&n.constructor&&n.constructor.prototype;t.exports=o===Object.prototype?void 0:o},function(t,e,r){var n=r(27);e.f=n},function(t,e,r){var n=r(175),o=r(34),i=r(145),a=r(37).f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});o(e,t)||a(e,t,{value:i.f(t)})}},function(t,e,r){var n=r(19),o=r(9).RegExp,i=n((function(){var t=o("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),a=i||n((function(){return!o("a","y").sticky})),u=i||n((function(){var t=o("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:u,MISSED_STICKY:a,UNSUPPORTED_Y:i}},function(t,e,r){"use strict";var n=r(17),o=r(128).includes,i=r(76);n({target:"Array",proto:!0},{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("includes")},function(t,e,r){"use strict";var n=r(17),o=r(15),i=r(187),a=r(44),u=r(40),c=r(188),s=o("".indexOf);n({target:"String",proto:!0,forced:!c("includes")},{includes:function(t){return!!~s(u(a(this)),u(i(t)),arguments.length>1?arguments[1]:void 0)}})},function(t,e,r){var n=r(33),o=r(51),i=r(27)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[i])?!!e:"RegExp"==o(t))}},function(t,e){var r,n,o=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(t){if(r===setTimeout)return setTimeout(t,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(t,0);try{return r(t,0)}catch(e){try{return r.call(null,t,0)}catch(e){return r.call(this,t,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(t){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(t){n=a}}();var c,s=[],l=!1,f=-1;function p(){l&&c&&(l=!1,c.length?s=c.concat(s):f=-1,s.length&&d())}function d(){if(!l){var t=u(p);l=!0;for(var e=s.length;e;){for(c=s,s=[];++f<e;)c&&c[f].run();f=-1,e=s.length}c=null,l=!1,function(t){if(n===clearTimeout)return clearTimeout(t);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(t);try{n(t)}catch(e){try{return n.call(null,t)}catch(e){return n.call(this,t)}}}(t)}}function y(t,e){this.fun=t,this.array=e}function h(){}o.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];s.push(new y(t,e)),1!==s.length||l||u(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(t){return[]},o.binding=function(t){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(t){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(t,e,r){var n=r(9),o=r(94),i=r(84),a=n.TypeError;t.exports=function(t){if(o(t))return t;throw a(i(t)+" is not a constructor")}},function(t,e,r){var n=r(15),o=r(44),i=r(40),a=r(154),u=n("".replace),c="["+a+"]",s=RegExp("^"+c+c+"*"),l=RegExp(c+c+"*$"),f=function(t){return function(e){var r=i(o(e));return 1&t&&(r=u(r,s,"")),2&t&&(r=u(r,l,"")),r}};t.exports={start:f(1),end:f(2),trim:f(3)}},function(t,e){t.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(t,e,r){"use strict";var n=r(36),o=r(119),i=r(32),a=r(85),u=r(40),c=r(44),s=r(56),l=r(120),f=r(121);o("match",(function(t,e,r){return[function(e){var r=c(this),o=null==e?void 0:s(e,t);return o?n(o,e,r):new RegExp(e)[t](u(r))},function(t){var n=i(this),o=u(t),c=r(e,n,o);if(c.done)return c.value;if(!n.global)return f(n,o);var s=n.unicode;n.lastIndex=0;for(var p,d=[],y=0;null!==(p=f(n,o));){var h=u(p[0]);d[y]=h,""===h&&(n.lastIndex=l(o,a(n.lastIndex),s)),y++}return 0===y?null:d}]}))},function(t,e,r){"use strict";e.a=function(){return!1}},function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return v}));var n=r(0);function o(t){throw new Error("[mobx-utils] "+t)}function i(t,e){void 0===e&&(e="Illegal state"),t||o(e)}var a=function(t){return t&&t!==Object.prototype&&Object.getOwnPropertyNames(t).concat(a(Object.getPrototypeOf(t))||[])},u=function(t){return function(t){var e=a(t);return e.filter((function(t,r){return e.indexOf(t)===r}))}(t).filter((function(t){return"constructor"!==t&&!~t.indexOf("__")}))};function c(t){switch(this.state){case"pending":return t.pending&&t.pending(this.value);case"rejected":return t.rejected&&t.rejected(this.value);case"fulfilled":return t.fulfilled?t.fulfilled(this.value):this.value}}function s(t,e){if(i(arguments.length<=2,"fromPromise expects up to two arguments"),i("function"==typeof t||"object"==typeof t&&t&&"function"==typeof t.then,"Please pass a promise or function to fromPromise"),!0===t.isPromiseBasedObservable)return t;"function"==typeof t&&(t=new Promise(t));var r=t;t.then(Object(n.k)("observableFromPromise-resolve",(function(t){r.value=t,r.state="fulfilled"})),Object(n.k)("observableFromPromise-reject",(function(t){r.value=t,r.state="rejected"}))),r.isPromiseBasedObservable=!0,r.case=c;var o=e&&"fulfilled"===e.state?e.value:void 0;return Object(n.q)(r,{value:o,state:"pending"},{},{deep:!1}),r}!function(t){t.reject=Object(n.k)("fromPromise.reject",(function(e){var r=t(Promise.reject(e));return r.state="rejected",r.value=e,r})),t.resolve=Object(n.k)("fromPromise.resolve",(function(e){void 0===e&&(e=void 0);var r=t(Promise.resolve(e));return r.state="fulfilled",r.value=e,r}))}(s||(s={}));var l=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a};!function(){function t(t,e){var r=this;Object(n.G)((function(){r.current=e,r.subscription=t.subscribe(r)}))}t.prototype.dispose=function(){this.subscription&&this.subscription.unsubscribe()},t.prototype.next=function(t){this.current=t},t.prototype.complete=function(){this.dispose()},t.prototype.error=function(t){this.current=t,this.dispose()},l([n.C.ref],t.prototype,"current",void 0),l([n.k.bound],t.prototype,"next",null),l([n.k.bound],t.prototype,"complete",null),l([n.k.bound],t.prototype,"error",null)}();var f=function(){return(f=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},p=function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},d=["model","reset","submit","isDirty","isPropertyDirty","resetProperty"];!function(){function t(t){var e=this;this.model=t,this.localValues=n.C.map({}),this.localComputedValues=n.C.map({}),this.isPropertyDirty=function(t){return e.localValues.has(t)},i(Object(n.A)(t),"createViewModel expects an observable object"),u(t).forEach((function(r){if(r!==n.a&&"__mobxDidRunLazyInitializers"!==r){if(i(-1===d.indexOf(r),"The propertyname "+r+" is reserved and cannot be used with viewModels"),Object(n.w)(t,r)){var o=Object(n.h)(t,r).derivation;e.localComputedValues.set(r,Object(n.m)(o.bind(e)))}var a=Object.getOwnPropertyDescriptor(t,r),u=a?{enumerable:a.enumerable}:{};Object.defineProperty(e,r,f(f({},u),{configurable:!0,get:function(){return Object(n.w)(t,r)?e.localComputedValues.get(r).get():e.isPropertyDirty(r)?e.localValues.get(r):e.model[r]},set:Object(n.k)((function(t){t!==e.model[r]?e.localValues.set(r,t):e.localValues.delete(r)}))}))}}))}Object.defineProperty(t.prototype,"isDirty",{get:function(){return this.localValues.size>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"changedValues",{get:function(){return this.localValues.toJS()},enumerable:!1,configurable:!0}),t.prototype.submit=function(){var t=this;Object(n.B)(this.localValues).forEach((function(e){var r=t.localValues.get(e),o=t.model[e];Object(n.y)(o)?o.replace(r):Object(n.z)(o)?(o.clear(),o.merge(r)):Object(n.v)(r)||(t.model[e]=r)})),this.localValues.clear()},t.prototype.reset=function(){this.localValues.clear()},t.prototype.resetProperty=function(t){this.localValues.delete(t)},p([n.m],t.prototype,"isDirty",null),p([n.m],t.prototype,"changedValues",null),p([n.k.bound],t.prototype,"submit",null),p([n.k.bound],t.prototype,"reset",null),p([n.k.bound],t.prototype,"resetProperty",null)}();function y(t){if(!t)return"ROOT";for(var e=[];t.parent;)e.push(t.path),t=t.parent;return e.reverse().join("/")}function h(t){return Object(n.A)(t)||Object(n.y)(t)||Object(n.z)(t)}function v(t,e){var r=new WeakMap;function o(n){var o=r.get(n.object);!function(t,e){switch(t.type){case"add":i(t.newValue,e,t.name);break;case"update":a(t.oldValue),i(t.newValue,e,t.name||""+t.index);break;case"remove":case"delete":a(t.oldValue);break;case"splice":t.removed.map(a),t.added.forEach((function(r,n){return i(r,e,""+(t.index+n))}));for(var n=t.index+t.addedCount;n<t.object.length;n++)if(h(t.object[n])){var o=r.get(t.object[n]);o&&(o.path=""+n)}}}(n,o),e(n,y(o),t)}function i(t,e,a){if(h(t)){var u=r.get(t);if(u){if(u.parent!==e||u.path!==a)throw new Error("The same observable object cannot appear twice in the same tree, trying to assign it to '"+y(e)+"/"+a+"', but it already exists at '"+y(u.parent)+"/"+u.path+"'")}else{var c={parent:e,path:a,dispose:Object(n.D)(t,o)};r.set(t,c),Object(n.p)(t).forEach((function(t){var e=t[0];return i(t[1],c,e)}))}}}function a(t){if(h(t)){var e=r.get(t);if(!e)return;r.delete(t),e.dispose(),Object(n.L)(t).forEach(a)}}return i(t,void 0,""),function(){a(t)}}var g,b=(g=function(t,e){return(g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}g(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),m=(function(t){function e(e,r,o){var i=void 0===o?{}:o,a=i.name,u=void 0===a?"ogm"+(1e3*Math.random()|0):a,c=i.keyToName,s=void 0===c?function(t){return""+t}:c,l=t.call(this)||this;l._keyToName=s,l._groupBy=r,l._ogmInfoKey=Symbol("ogmInfo"+u),l._base=e;for(var f=0;f<e.length;f++)l._addItem(e[f]);return l._disposeBaseObserver=Object(n.D)(l._base,(function(t){if("splice"===t.type)Object(n.J)((function(){for(var e=0,r=t.removed;e<r.length;e++){var n=r[e];l._removeItem(n)}for(var o=0,i=t.added;o<i.length;o++){var a=i[o];l._addItem(a)}}));else{if("update"!==t.type)throw new Error("illegal state");Object(n.J)((function(){l._removeItem(t.oldValue),l._addItem(t.newValue)}))}})),l}b(e,t),e.prototype.clear=function(){throw new Error("not supported")},e.prototype.delete=function(t){throw new Error("not supported")},e.prototype.set=function(t,e){throw new Error("not supported")},e.prototype.dispose=function(){this._disposeBaseObserver();for(var t=0;t<this._base.length;t++){var e=this._base[t];e[this._ogmInfoKey].reaction(),delete e[this._ogmInfoKey]}},e.prototype._getGroupArr=function(e){var r=t.prototype.get.call(this,e);return void 0===r&&(r=Object(n.C)([],{name:"GroupArray["+this._keyToName(e)+"]",deep:!1}),t.prototype.set.call(this,e,r)),r},e.prototype._removeFromGroupArr=function(e,r){var n=t.prototype.get.call(this,e);1===n.length?t.prototype.delete.call(this,e):(r===n.length-1||(n[r]=n[n.length-1],n[r][this._ogmInfoKey].groupArrIndex=r),n.length--)},e.prototype._addItem=function(t){var e=this,r=this._groupBy(t),o=this._getGroupArr(r),i={groupByValue:r,groupArrIndex:o.length,reaction:Object(n.F)((function(){return e._groupBy(t)}),(function(r,n){var o=t[e._ogmInfoKey];e._removeFromGroupArr(o.groupByValue,o.groupArrIndex);var i=e._getGroupArr(r),a=i.length;i.push(t),o.groupByValue=r,o.groupArrIndex=a}))};Object.defineProperty(t,this._ogmInfoKey,{configurable:!0,enumerable:!1,value:i}),o.push(t)},e.prototype._removeItem=function(t){var e=t[this._ogmInfoKey];this._removeFromGroupArr(e.groupByValue,e.groupArrIndex),e.reaction(),delete t[this._ogmInfoKey]}}(n.b),function(){function t(t,e){this.base=t,this.args=e,this.closestIdx=0,this.isDisposed=!1;for(var r=this.closest=this.root=t,n=0;n<this.args.length-1&&(r=r.get(e[n]));n++)this.closest=r;this.closestIdx=n}return t.prototype.exists=function(){this.assertNotDisposed();var t=this.args.length;return this.closestIdx>=t-1&&this.closest.has(this.args[t-1])},t.prototype.get=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");return this.closest.get(this.args[this.args.length-1])},t.prototype.set=function(t){this.assertNotDisposed();for(var e=this.args.length,r=this.closest,n=this.closestIdx;n<e-1;n++){var o=new Map;r.set(this.args[n],o),r=o}this.closestIdx=e-1,this.closest=r,r.set(this.args[e-1],t)},t.prototype.delete=function(){if(this.assertNotDisposed(),!this.exists())throw new Error("Entry doesn't exist");var t=this.args.length;this.closest.delete(this.args[t-1]);for(var e=this.root,r=[e],n=0;n<t-1;n++)e=e.get(this.args[n]),r.push(e);for(n=r.length-1;n>0;n--)0===r[n].size&&r[n-1].delete(this.args[n-1]);this.isDisposed=!0},t.prototype.assertNotDisposed=function(){if(this.isDisposed)throw new Error("Concurrent modification exception")},t}());!function(){function t(){this.store=new Map,this.argsLength=-1}t.prototype.entry=function(t){if(-1===this.argsLength)this.argsLength=t.length;else if(this.argsLength!==t.length)throw new Error("DeepMap should be used with functions with a consistent length, expected: "+this.argsLength+", got: "+t.length);return this.last&&(this.last.isDisposed=!0),this.last=new m(this.store,t)}}();new Set,new Set;var O,w=Promise.resolve();O="undefined"!=typeof queueMicrotask?queueMicrotask:void 0!==t&&t.nextTick?function(e){t.nextTick(e)}:function(t){setTimeout(t,0)};var _=function(){return new Promise((function(t){O(t)}))}}).call(this,r(151))},function(t,e,r){var n;!function(o,i,a){if(o){for(var u,c={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},s={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},l={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},f={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)c[111+p]="f"+p;for(p=0;p<=9;++p)c[p+96]=p.toString();b.prototype.bind=function(t,e,r){return t=t instanceof Array?t:[t],this._bindMultiple.call(this,t,e,r),this},b.prototype.unbind=function(t,e){return this.bind.call(this,t,(function(){}),e)},b.prototype.trigger=function(t,e){return this._directMap[t+":"+e]&&this._directMap[t+":"+e]({},t),this},b.prototype.reset=function(){return this._callbacks={},this._directMap={},this},b.prototype.stopCallback=function(t,e){if((" "+e.className+" ").indexOf(" mousetrap ")>-1)return!1;if(function t(e,r){return null!==e&&e!==i&&(e===r||t(e.parentNode,r))}(e,this.target))return!1;if("composedPath"in t&&"function"==typeof t.composedPath){var r=t.composedPath()[0];r!==t.target&&(e=r)}return"INPUT"==e.tagName||"SELECT"==e.tagName||"TEXTAREA"==e.tagName||e.isContentEditable},b.prototype.handleKey=function(){var t=this;return t._handleKey.apply(t,arguments)},b.addKeycodes=function(t){for(var e in t)t.hasOwnProperty(e)&&(c[e]=t[e]);u=null},b.init=function(){var t=b(i);for(var e in t)"_"!==e.charAt(0)&&(b[e]=function(e){return function(){return t[e].apply(t,arguments)}}(e))},b.init(),o.Mousetrap=b,t.exports&&(t.exports=b),void 0===(n=function(){return b}.call(e,r,e,t))||(t.exports=n)}function d(t,e,r){t.addEventListener?t.addEventListener(e,r,!1):t.attachEvent("on"+e,r)}function y(t){if("keypress"==t.type){var e=String.fromCharCode(t.which);return t.shiftKey||(e=e.toLowerCase()),e}return c[t.which]?c[t.which]:s[t.which]?s[t.which]:String.fromCharCode(t.which).toLowerCase()}function h(t){return"shift"==t||"ctrl"==t||"alt"==t||"meta"==t}function v(t,e,r){return r||(r=function(){if(!u)for(var t in u={},c)t>95&&t<112||c.hasOwnProperty(t)&&(u[c[t]]=t);return u}()[t]?"keydown":"keypress"),"keypress"==r&&e.length&&(r="keydown"),r}function g(t,e){var r,n,o,i=[];for(r=function(t){return"+"===t?["+"]:(t=t.replace(/\+{2}/g,"+plus")).split("+")}(t),o=0;o<r.length;++o)n=r[o],f[n]&&(n=f[n]),e&&"keypress"!=e&&l[n]&&(n=l[n],i.push("shift")),h(n)&&i.push(n);return{key:n,modifiers:i,action:e=v(n,i,e)}}function b(t){var e=this;if(t=t||i,!(e instanceof b))return new b(t);e.target=t,e._callbacks={},e._directMap={};var r,n={},o=!1,a=!1,u=!1;function c(t){t=t||{};var e,r=!1;for(e in n)t[e]?r=!0:n[e]=0;r||(u=!1)}function s(t,r,o,i,a,u){var c,s,l,f,p=[],d=o.type;if(!e._callbacks[t])return[];for("keyup"==d&&h(t)&&(r=[t]),c=0;c<e._callbacks[t].length;++c)if(s=e._callbacks[t][c],(i||!s.seq||n[s.seq]==s.level)&&d==s.action&&("keypress"==d&&!o.metaKey&&!o.ctrlKey||(l=r,f=s.modifiers,l.sort().join(",")===f.sort().join(",")))){var y=!i&&s.combo==a,v=i&&s.seq==i&&s.level==u;(y||v)&&e._callbacks[t].splice(c,1),p.push(s)}return p}function l(t,r,n,o){e.stopCallback(r,r.target||r.srcElement,n,o)||!1===t(r,n)&&(function(t){t.preventDefault?t.preventDefault():t.returnValue=!1}(r),function(t){t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}(r))}function f(t){"number"!=typeof t.which&&(t.which=t.keyCode);var r=y(t);r&&("keyup"!=t.type||o!==r?e.handleKey(r,function(t){var e=[];return t.shiftKey&&e.push("shift"),t.altKey&&e.push("alt"),t.ctrlKey&&e.push("ctrl"),t.metaKey&&e.push("meta"),e}(t),t):o=!1)}function p(t,e,i,a){function s(e){return function(){u=e,++n[t],clearTimeout(r),r=setTimeout(c,1e3)}}function f(e){l(i,e,t),"keyup"!==a&&(o=y(e)),setTimeout(c,10)}n[t]=0;for(var p=0;p<e.length;++p){var d=p+1===e.length?f:s(a||g(e[p+1]).action);v(e[p],d,a,t,p)}}function v(t,r,n,o,i){e._directMap[t+":"+n]=r;var a,u=(t=t.replace(/\s+/g," ")).split(" ");u.length>1?p(t,u,r,n):(a=g(t,n),e._callbacks[a.key]=e._callbacks[a.key]||[],s(a.key,a.modifiers,{type:a.action},o,t,i),e._callbacks[a.key][o?"unshift":"push"]({callback:r,modifiers:a.modifiers,action:a.action,seq:o,level:i,combo:t}))}e._handleKey=function(t,e,r){var n,o=s(t,e,r),i={},f=0,p=!1;for(n=0;n<o.length;++n)o[n].seq&&(f=Math.max(f,o[n].level));for(n=0;n<o.length;++n)if(o[n].seq){if(o[n].level!=f)continue;p=!0,i[o[n].seq]=1,l(o[n].callback,r,o[n].combo,o[n].seq)}else p||l(o[n].callback,r,o[n].combo);var d="keypress"==r.type&&a;r.type!=u||h(t)||d||c(i),a=p&&"keydown"==r.type},e._bindMultiple=function(t,e,r){for(var n=0;n<t.length;++n)v(t[n],e,r)},d(t,"keypress",f),d(t,"keydown",f),d(t,"keyup",f)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},function(t,e,r){var n=r(35),o=r(37),i=r(32),a=r(39),u=r(62);t.exports=n?Object.defineProperties:function(t,e){i(t);for(var r,n=a(e),c=u(e),s=c.length,l=0;s>l;)o.f(t,r=c[l++],n[r]);return t}},function(t,e,r){var n=r(9),o=r(36),i=r(30),a=r(33),u=n.TypeError;t.exports=function(t,e){var r,n;if("string"===e&&i(r=t.toString)&&!a(n=o(r,t)))return n;if(i(r=t.valueOf)&&!a(n=o(r,t)))return n;if("string"!==e&&i(r=t.toString)&&!a(n=o(r,t)))return n;throw u("Can't convert object to primitive value")}},function(t,e,r){var n=r(49);t.exports=n("document","documentElement")},function(t,e,r){var n=r(9),o=r(30),i=r(107),a=n.WeakMap;t.exports=o(a)&&/native code/.test(i(a))},function(t,e,r){"use strict";var n=r(131).IteratorPrototype,o=r(52),i=r(67),a=r(90),u=r(66),c=function(){return this};t.exports=function(t,e,r,s){var l=e+" Iterator";return t.prototype=o(n,{next:i(+!s,r)}),a(t,l,!1,!0),u[l]=c,t}},function(t,e,r){var n=r(9),o=r(30),i=n.String,a=n.TypeError;t.exports=function(t){if("object"==typeof t||o(t))return t;throw a("Can't set "+i(t)+" as a prototype")}},function(t,e,r){"use strict";var n=r(17),o=r(9),i=r(15),a=r(110),u=r(45),c=r(133),s=r(135),l=r(139),f=r(30),p=r(33),d=r(19),y=r(140),h=r(90),v=r(141);t.exports=function(t,e,r){var g=-1!==t.indexOf("Map"),b=-1!==t.indexOf("Weak"),m=g?"set":"add",O=o[t],w=O&&O.prototype,_=O,j={},E=function(t){var e=i(w[t]);u(w,t,"add"==t?function(t){return e(this,0===t?0:t),this}:"delete"==t?function(t){return!(b&&!p(t))&&e(this,0===t?0:t)}:"get"==t?function(t){return b&&!p(t)?void 0:e(this,0===t?0:t)}:"has"==t?function(t){return!(b&&!p(t))&&e(this,0===t?0:t)}:function(t,r){return e(this,0===t?0:t,r),this})};if(a(t,!f(O)||!(b||w.forEach&&!d((function(){(new O).entries().next()})))))_=r.getConstructor(e,t,g,m),c.enable();else if(a(t,!0)){var x=new _,S=x[m](b?{}:-0,1)!=x,P=d((function(){x.has(1)})),k=y((function(t){new O(t)})),A=!b&&d((function(){for(var t=new O,e=5;e--;)t[m](e,e);return!t.has(-0)}));k||((_=e((function(t,e){l(t,w);var r=v(new O,t,_);return null!=e&&s(e,r[m],{that:r,AS_ENTRIES:g}),r}))).prototype=w,w.constructor=_),(P||A)&&(E("delete"),E("has"),g&&E("get")),(A||S)&&E(m),b&&w.clear&&delete w.clear}return j[t]=_,n({global:!0,forced:_!=O},j),h(_,t),b||r.setStrong(_,t,g),_}},function(t,e,r){var n=r(19),o=r(33),i=r(51),a=r(167),u=Object.isExtensible,c=n((function(){u(1)}));t.exports=c||a?function(t){return!!o(t)&&((!a||"ArrayBuffer"!=i(t))&&(!u||u(t)))}:u},function(t,e,r){var n=r(19);t.exports=n((function(){if("function"==typeof ArrayBuffer){var t=new ArrayBuffer(8);Object.isExtensible(t)&&Object.defineProperty(t,"a",{value:8})}}))},function(t,e,r){var n=r(19);t.exports=!n((function(){return Object.isExtensible(Object.preventExtensions({}))}))},function(t,e,r){"use strict";var n=r(37).f,o=r(52),i=r(170),a=r(91),u=r(139),c=r(135),s=r(108),l=r(171),f=r(35),p=r(133).fastKey,d=r(57),y=d.set,h=d.getterFor;t.exports={getConstructor:function(t,e,r,s){var l=t((function(t,n){u(t,d),y(t,{type:e,index:o(null),first:void 0,last:void 0,size:0}),f||(t.size=0),null!=n&&c(n,t[s],{that:t,AS_ENTRIES:r})})),d=l.prototype,v=h(e),g=function(t,e,r){var n,o,i=v(t),a=b(t,e);return a?a.value=r:(i.last=a={index:o=p(e,!0),key:e,value:r,previous:n=i.last,next:void 0,removed:!1},i.first||(i.first=a),n&&(n.next=a),f?i.size++:t.size++,"F"!==o&&(i.index[o]=a)),t},b=function(t,e){var r,n=v(t),o=p(e);if("F"!==o)return n.index[o];for(r=n.first;r;r=r.next)if(r.key==e)return r};return i(d,{clear:function(){for(var t=v(this),e=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete e[r.index],r=r.next;t.first=t.last=void 0,f?t.size=0:this.size=0},delete:function(t){var e=v(this),r=b(this,t);if(r){var n=r.next,o=r.previous;delete e.index[r.index],r.removed=!0,o&&(o.next=n),n&&(n.previous=o),e.first==r&&(e.first=n),e.last==r&&(e.last=o),f?e.size--:this.size--}return!!r},forEach:function(t){for(var e,r=v(this),n=a(t,arguments.length>1?arguments[1]:void 0);e=e?e.next:r.first;)for(n(e.value,e.key,this);e&&e.removed;)e=e.previous},has:function(t){return!!b(this,t)}}),i(d,r?{get:function(t){var e=b(this,t);return e&&e.value},set:function(t,e){return g(this,0===t?0:t,e)}}:{add:function(t){return g(this,t=0===t?0:t,t)}}),f&&n(d,"size",{get:function(){return v(this).size}}),l},setStrong:function(t,e,r){var n=e+" Iterator",o=h(e),i=h(n);s(t,e,(function(t,e){y(this,{type:n,target:t,state:o(t),kind:e,last:void 0})}),(function(){for(var t=i(this),e=t.kind,r=t.last;r&&r.removed;)r=r.previous;return t.target&&(t.last=r=r?r.next:t.state.first)?"keys"==e?{value:r.key,done:!1}:"values"==e?{value:r.value,done:!1}:{value:[r.key,r.value],done:!1}:(t.target=void 0,{value:void 0,done:!0})}),r?"entries":"values",!r,!0),l(e)}}},function(t,e,r){var n=r(45);t.exports=function(t,e,r){for(var o in e)n(t,o,e[o],r);return t}},function(t,e,r){"use strict";var n=r(49),o=r(37),i=r(27),a=r(35),u=i("species");t.exports=function(t){var e=n(t),r=o.f;a&&e&&!e[u]&&r(e,u,{configurable:!0,get:function(){return this}})}},function(t,e,r){"use strict";var n=r(114),o=r(92);t.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},function(t,e,r){"use strict";var n=r(69).forEach,o=r(116)("forEach");t.exports=o?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},function(t,e,r){var n=r(9),o=r(93),i=r(94),a=r(33),u=r(27)("species"),c=n.Array;t.exports=function(t){var e;return o(t)&&(e=t.constructor,(i(e)&&(e===c||o(e.prototype))||a(e)&&null===(e=e[u]))&&(e=void 0)),void 0===e?c:e}},function(t,e,r){var n=r(9);t.exports=n},function(t,e,r){"use strict";var n=r(9),o=r(91),i=r(36),a=r(38),u=r(177),c=r(136),s=r(94),l=r(43),f=r(59),p=r(137),d=r(113),y=n.Array;t.exports=function(t){var e=a(t),r=s(this),n=arguments.length,h=n>1?arguments[1]:void 0,v=void 0!==h;v&&(h=o(h,n>2?arguments[2]:void 0));var g,b,m,O,w,_,j=d(e),E=0;if(!j||this==y&&c(j))for(g=l(e),b=r?new this(g):y(g);g>E;E++)_=v?h(e[E],E):e[E],f(b,E,_);else for(w=(O=p(e,j)).next,b=r?new this:[];!(m=i(w,O)).done;E++)_=v?u(O,h,[m.value,E],!0):m.value,f(b,E,_);return b.length=E,b}},function(t,e,r){var n=r(32),o=r(138);t.exports=function(t,e,r,i){try{return i?e(n(r)[0],r[1]):e(r)}catch(e){o(t,"throw",e)}}},function(t,e,r){"use strict";var n=r(32);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e,r){var n=r(19),o=r(9).RegExp;t.exports=n((function(){var t=o(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))},function(t,e,r){var n=r(19),o=r(9).RegExp;t.exports=n((function(){var t=o("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},function(t,e,r){"use strict";var n=r(17),o=r(15),i=r(61),a=r(38),u=r(43),c=r(40),s=r(19),l=r(182),f=r(116),p=r(183),d=r(184),y=r(80),h=r(185),v=[],g=o(v.sort),b=o(v.push),m=s((function(){v.sort(void 0)})),O=s((function(){v.sort(null)})),w=f("sort"),_=!s((function(){if(y)return y<70;if(!(p&&p>3)){if(d)return!0;if(h)return h<603;var t,e,r,n,o="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)v.push({k:e+n,v:r})}for(v.sort((function(t,e){return e.v-t.v})),n=0;n<v.length;n++)e=v[n].k.charAt(0),o.charAt(o.length-1)!==e&&(o+=e);return"DGBEFHACIJK"!==o}}));n({target:"Array",proto:!0,forced:m||!O||!w||!_},{sort:function(t){void 0!==t&&i(t);var e=a(this);if(_)return void 0===t?g(e):g(e,t);var r,n,o=[],s=u(e);for(n=0;n<s;n++)n in e&&b(o,e[n]);for(l(o,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:c(e)>c(r)?1:-1}}(t)),r=o.length,n=0;n<r;)e[n]=o[n++];for(;n<s;)delete e[n++];return e}})},function(t,e,r){var n=r(112),o=Math.floor,i=function(t,e){var r=t.length,c=o(r/2);return r<8?a(t,e):u(t,i(n(t,0,c),e),i(n(t,c),e),e)},a=function(t,e){for(var r,n,o=t.length,i=1;i<o;){for(n=i,r=t[i];n&&e(t[n-1],r)>0;)t[n]=t[--n];n!==i++&&(t[n]=r)}return t},u=function(t,e,r,n){for(var o=e.length,i=r.length,a=0,u=0;a<o||u<i;)t[a+u]=a<o&&u<i?n(e[a],r[u])<=0?e[a++]:r[u++]:a<o?e[a++]:r[u++];return t};t.exports=i},function(t,e,r){var n=r(81).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},function(t,e,r){var n=r(81);t.exports=/MSIE|Trident/.test(n)},function(t,e,r){var n=r(81).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},function(t,e,r){"use strict";var n=r(17),o=r(69).find,i=r(76),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),n({target:"Array",proto:!0,forced:a},{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),i("find")},function(t,e,r){var n=r(9),o=r(150),i=n.TypeError;t.exports=function(t){if(o(t))throw i("The method doesn't accept regular expressions");return t}},function(t,e,r){var n=r(27)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(t){}}return!1}},function(t,e,r){var n=r(32),o=r(152),i=r(27)("species");t.exports=function(t,e){var r,a=n(t).constructor;return void 0===a||null==(r=n(a)[i])?e:o(r)}},function(t,e,r){"use strict";var n=r(17),o=r(153).trim;n({target:"String",proto:!0,forced:r(191)("trim")},{trim:function(){return o(this)}})},function(t,e,r){var n=r(88).PROPER,o=r(19),i=r(154);t.exports=function(t){return o((function(){return!!i[t]()||""!==""[t]()||n&&i[t].name!==t}))}},function(t,e,r){var n=r(15);t.exports=n(1..valueOf)},function(t,e,r){var n=r(15),o=r(38),i=Math.floor,a=n("".charAt),u=n("".replace),c=n("".slice),s=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,l=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,r,n,f,p){var d=r+t.length,y=n.length,h=l;return void 0!==f&&(f=o(f),h=s),u(p,h,(function(o,u){var s;switch(a(u,0)){case"$":return"$";case"&":return t;case"`":return c(e,0,r);case"'":return c(e,d);case"<":s=f[c(u,1,-1)];break;default:var l=+u;if(0===l)return o;if(l>y){var p=i(l/10);return 0===p?o:p<=y?void 0===n[p-1]?a(u,1):n[p-1]+a(u,1):o}s=n[l-1]}return void 0===s?"":s}))}},function(t,e,r){"use strict";var n=r(9),o=r(15),i=r(61),a=r(33),u=r(34),c=r(117),s=n.Function,l=o([].concat),f=o([].join),p={},d=function(t,e,r){if(!u(p,e)){for(var n=[],o=0;o<e;o++)n[o]="a["+o+"]";p[e]=s("C,a","return new C("+f(n,",")+")")}return p[e](t,r)};t.exports=s.bind||function(t){var e=i(this),r=e.prototype,n=c(arguments,1),o=function(){var r=l(n,c(arguments));return this instanceof o?d(e,r.length,r):e.apply(t,r)};return a(r)&&(o.prototype=r),o}},function(t,e,r){var n=r(34);t.exports=function(t){return void 0!==t&&(n(t,"value")||n(t,"writable"))}},function(t,e,r){"use strict";var n=r(35),o=r(15),i=r(36),a=r(19),u=r(62),c=r(109),s=r(87),l=r(38),f=r(74),p=Object.assign,d=Object.defineProperty,y=o([].concat);t.exports=!p||a((function(){if(n&&1!==p({b:1},p(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var t={},e={},r=Symbol();return t[r]=7,"abcdefghijklmnopqrst".split("").forEach((function(t){e[t]=t})),7!=p({},t)[r]||"abcdefghijklmnopqrst"!=u(p({},e)).join("")}))?function(t,e){for(var r=l(t),o=arguments.length,a=1,p=c.f,d=s.f;o>a;)for(var h,v=f(arguments[a++]),g=p?y(u(v),p(v)):u(v),b=g.length,m=0;b>m;)h=g[m++],n&&!i(d,v,h)||(r[h]=v[h]);return r}:p},function(t,e,r){var n=r(15),o=r(44),i=r(40),a=/"/g,u=n("".replace);t.exports=function(t,e,r,n){var c=i(o(t)),s="<"+e;return""!==r&&(s+=" "+r+'="'+u(i(n),a,"&quot;")+'"'),s+">"+c+"</"+e+">"}},function(t,e,r){var n=r(19);t.exports=function(t){return n((function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}))}},function(t,e,r){var n=r(17),o=Math.hypot,i=Math.abs,a=Math.sqrt;n({target:"Math",stat:!0,forced:!!o&&o(1/0,NaN)!==1/0},{hypot:function(t,e){for(var r,n,o=0,u=0,c=arguments.length,s=0;u<c;)s<(r=i(arguments[u++]))?(o=o*(n=s/r)*n+1,s=r):o+=r>0?(n=r/s)*n:r;return s===1/0?1/0:s*a(o)}})},function(t,e,r){var n=r(35),o=r(15),i=r(62),a=r(39),u=o(r(87).f),c=o([].push),s=function(t){return function(e){for(var r,o=a(e),s=i(o),l=s.length,f=0,p=[];l>f;)r=s[f++],n&&!u(o,r)||c(p,t?[r,o[r]]:o[r]);return p}};t.exports={entries:s(!0),values:s(!1)}},function(t,e,r){"use strict";var n=r(38),o=r(63),i=r(43);t.exports=function(t){for(var e=n(this),r=i(e),a=arguments.length,u=o(a>1?arguments[1]:void 0,r),c=a>2?arguments[2]:void 0,s=void 0===c?r:o(c,r);s>u;)e[u++]=t;return e}},function(t,e,r){"use strict";r.r(e),r.d(e,"observer",(function(){return km})),r.d(e,"LogicFlow",(function(){return Pm})),r.d(e,"h",(function(){return Q.g})),r.d(e,"LogicFlowUtil",(function(){return n})),r.d(e,"BaseNode",(function(){return uh})),r.d(e,"RectNode",(function(){return vh})),r.d(e,"CircleNode",(function(){return xh})),r.d(e,"PolygonNode",(function(){return zh})),r.d(e,"DiamondNode",(function(){return Wh})),r.d(e,"EllipseNode",(function(){return av})),r.d(e,"TextNode",(function(){return gv})),r.d(e,"HtmlNode",(function(){return Pv})),r.d(e,"BaseEdge",(function(){return Pg})),r.d(e,"LineEdge",(function(){return Ig})),r.d(e,"PolylineEdge",(function(){return tb})),r.d(e,"BezierEdge",(function(){return fb})),r.d(e,"Arrow",(function(){return Xv})),r.d(e,"BaseEdgeModel",(function(){return za})),r.d(e,"BezierEdgeModel",(function(){return vf})),r.d(e,"LineEdgeModel",(function(){return eu})),r.d(e,"PolylineEdgeModel",(function(){return mu})),r.d(e,"BaseNodeModel",(function(){return Wf})),r.d(e,"CircleNodeModel",(function(){return pp})),r.d(e,"DiamondNodeModel",(function(){return Np})),r.d(e,"EllipseNodeModel",(function(){return qp})),r.d(e,"PolygonNodeModel",(function(){return gd})),r.d(e,"RectNodeModel",(function(){return Nd})),r.d(e,"TextNodeModel",(function(){return Kd})),r.d(e,"HtmlNodeModel",(function(){return cy})),r.d(e,"EditConfigModel",(function(){return io})),r.d(e,"GraphModel",(function(){return Ic})),r.d(e,"SnaplineModel",(function(){return yy})),r.d(e,"Keyboard",(function(){return gm})),r.d(e,"get",(function(){return Kl})),r.d(e,"defaults",(function(){return ql}));var n={};r.r(n),r.d(n,"createUuid",(function(){return zi})),r.d(n,"refreshGraphId",(function(){return Bi})),r.d(n,"createDrag",(function(){return sc})),r.d(n,"StepDrag",(function(){return jc}));var o=r(0),i=r(10);if(!i.j)throw new Error("mobx-react-lite requires React with Hooks support");if(!o.H)throw new Error("mobx-react-lite requires mobx at least version 4 to be available");var a=r(42),u=Object(a.b)("observerBatching");function c(t){t()}var s=!1;function l(){return s}function f(t){return Object(o.t)(t)}var p,d=1e4,y=new Set;function h(){void 0===p&&(p=setTimeout(v,1e4))}function v(){p=void 0;var t=Date.now();y.forEach((function(e){var r=e.current;r&&t>=r.cleanAt&&(r.reaction.dispose(),e.current=null,y.delete(e))})),y.size>0&&h()}var g=!1,b=[];var m={};function O(t){return"observer"+t}function w(t,e,r){if(void 0===e&&(e="observed"),void 0===r&&(r=m),l())return t();var n,u=function(t){return function(){g?b.push(t):t()}}((r.useForceUpdate||a.d)()),c=i.d.useRef(null);if(!c.current){var s=new o.c(O(e),(function(){p.mounted?u():(s.dispose(),c.current=null)})),p=function(t){return{cleanAt:Date.now()+d,reaction:t}}(s);c.current=p,n=c,y.add(n),h()}var v=c.current.reaction;return i.d.useDebugValue(v,f),i.d.useEffect((function(){var t;return t=c,y.delete(t),c.current?c.current.mounted=!0:(c.current={reaction:new o.c(O(e),(function(){u()})),cleanAt:1/0},u()),function(){c.current.reaction.dispose(),c.current=null}}),[]),function(t){g=!0,b=[];try{var e=t();g=!1;var r=b.length>0?b:void 0;return i.d.useLayoutEffect((function(){r&&r.forEach((function(t){return t()}))}),[r]),e}finally{g=!1}}((function(){var e,r;if(v.track((function(){try{e=t()}catch(t){r=t}})),r)throw r;return e}))}var _=function(){return(_=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var o in e=arguments[r])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function j(t,e){if(l())return t;var r,n,o,a=_({forwardRef:!1},e),u=t.displayName||t.name,c=function(e,r){return w((function(){return t(e,r)}),u)};return c.displayName=u,r=a.forwardRef?Object(i.f)(Object(i.e)(c)):Object(i.f)(c),n=t,o=r,Object.keys(n).forEach((function(t){E[t]||Object.defineProperty(o,t,Object.getOwnPropertyDescriptor(n,t))})),r.displayName=u,r}var E={$$typeof:!0,render:!0,compare:!0,type:!0};function x(t){var e=t.children,r=t.render,n=e||r;return"function"!=typeof n?null:w(n)}function S(t,e,r,n,o){var i="children"===e?"render":"children",a="function"==typeof t[e],u="function"==typeof t[i];return a&&u?new Error("MobX Observer: Do not use children and render in the same time in`"+r):a||u?null:new Error("Invalid prop `"+o+"` of type `"+typeof t[e]+"` supplied to `"+r+"`, expected `function`.")}x.propTypes={children:S,render:S},x.displayName="Observer";var P;(P=i.g)||(P=c),Object(o.n)({reactionScheduler:P}),Object(a.a)()[u]=!0;var k=0;var A={};function D(t){return A[t]||(A[t]=function(t){if("function"==typeof Symbol)return Symbol(t);var e="__$mobx-react "+t+" ("+k+")";return k++,e}(t)),A[t]}function T(t,e){if(M(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(var o=0;o<r.length;o++)if(!Object.hasOwnProperty.call(e,r[o])||!M(t[r[o]],e[r[o]]))return!1;return!0}function M(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function N(t,e,r){Object.hasOwnProperty.call(t,e)?t[e]=r:Object.defineProperty(t,e,{enumerable:!1,configurable:!0,writable:!0,value:r})}var C=D("patchMixins"),R=D("patchedDefinition");function I(t,e){for(var r=this,n=arguments.length,o=new Array(n>2?n-2:0),i=2;i<n;i++)o[i-2]=arguments[i];e.locks++;try{var a;return null!=t&&(a=t.apply(this,o)),a}finally{e.locks--,0===e.locks&&e.methods.forEach((function(t){t.apply(r,o)}))}}function L(t,e){return function(){for(var r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];I.call.apply(I,[this,t,e].concat(n))}}function z(t,e,r){var n=function(t,e){var r=t[C]=t[C]||{},n=r[e]=r[e]||{};return n.locks=n.locks||0,n.methods=n.methods||[],n}(t,e);n.methods.indexOf(r)<0&&n.methods.push(r);var o=Object.getOwnPropertyDescriptor(t,e);if(!o||!o[R]){var i=t[e],a=function t(e,r,n,o,i){var a,u=L(i,o);return(a={})[R]=!0,a.get=function(){return u},a.set=function(i){if(this===e)u=L(i,o);else{var a=t(this,r,n,o,i);Object.defineProperty(this,r,a)}},a.configurable=!0,a.enumerable=n,a}(t,e,o?o.enumerable:void 0,n,i);Object.defineProperty(t,e,a)}}var B=o.a||"$mobx",H=D("isMobXReactObserver"),X=D("isUnmounted"),U=D("skipRender"),G=D("isForcingUpdate");function F(t){var e=t.prototype;if(t[H]){var r=Y(e);console.warn("The provided component class ("+r+") \n                has already been declared as an observer component.")}else t[H]=!0;if(e.componentWillReact)throw new Error("The componentWillReact life-cycle event is no longer supported");if(t.__proto__!==i.b)if(e.shouldComponentUpdate){if(e.shouldComponentUpdate!==W)throw new Error("It is not allowed to use shouldComponentUpdate in observer based components.")}else e.shouldComponentUpdate=W;K(e,"props"),K(e,"state");var n=e.render;return e.render=function(){return V.call(this,n)},z(e,"componentWillUnmount",(function(){var t;if(!0!==l()&&(null===(t=this.render[B])||void 0===t||t.dispose(),this[X]=!0,!this.render[B])){var e=Y(this);console.warn("The reactive render of an observer class component ("+e+") \n                was overriden after MobX attached. This may result in a memory leak if the \n                overriden reactive render was not properly disposed.")}})),t}function Y(t){return t.displayName||t.name||t.constructor&&(t.constructor.displayName||t.constructor.name)||"<component>"}function V(t){var e=this;if(!0===l())return t.call(this);N(this,U,!1),N(this,G,!1);var r=Y(this),n=t.bind(this),a=!1,u=new o.c(r+".render()",(function(){if(!a&&(a=!0,!0!==e[X])){var t=!0;try{N(e,G,!0),e[U]||i.a.prototype.forceUpdate.call(e),t=!1}finally{N(e,G,!1),t&&u.dispose()}}}));function c(){a=!1;var t=void 0,e=void 0;if(u.track((function(){try{e=Object(o.d)(!1,n)}catch(e){t=e}})),t)throw t;return e}return u.reactComponent=this,c[B]=u,this.render=c,c.call(this)}function W(t,e){return l()&&console.warn("[mobx-react] It seems that a re-rendering of a React component is triggered while in static (server-side) mode. Please make sure components are rendered only once server-side."),this.state!==e||!T(this.props,t)}function K(t,e){var r=D("reactProp_"+e+"_valueHolder"),n=D("reactProp_"+e+"_atomHolder");function i(){return this[n]||N(this,n,Object(o.o)("reactive "+e)),this[n]}Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){var t=!1;return o.f&&o.e&&(t=Object(o.f)(!0)),i.call(this).reportObserved(),o.f&&o.e&&Object(o.e)(t),this[r]},set:function(t){this[G]||T(this[r],t)?N(this,r,t):(N(this,r,t),N(this,U,!0),i.call(this).reportChanged(),N(this,U,!1))}})}var $="function"==typeof Symbol&&Symbol.for,Z=$?Symbol.for("react.forward_ref"):"function"==typeof i.e&&Object(i.e)((function(t){return null})).$$typeof,q=$?Symbol.for("react.memo"):"function"==typeof i.f&&Object(i.f)((function(t){return null})).$$typeof;function J(t){if(!0===t.isMobxInjector&&console.warn("Mobx observer: You are trying to use 'observer' on a component that already has 'inject'. Please apply 'observer' before applying 'inject'"),q&&t.$$typeof===q)throw new Error("Mobx observer: You are trying to use 'observer' on a function component wrapped in either another observer or 'React.memo'. The observer already applies 'React.memo' for you.");if(Z&&t.$$typeof===Z){var e=t.render;if("function"!=typeof e)throw new Error("render property of ForwardRef was not a function");return Object(i.e)((function(){var t=arguments;return Object(i.c)(x,null,(function(){return e.apply(void 0,t)}))}))}return"function"!=typeof t||t.prototype&&t.prototype.render||t.isReactClass||Object.prototype.isPrototypeOf.call(i.a,t)?F(t):j(t)}if(!i.a)throw new Error("mobx-react requires React to be available");if(!o.C)throw new Error("mobx-react requires mobx to be available");var Q=r(1);r(3),r(58),r(2),r(6),r(4),r(11),r(41),r(24),r(20),r(5),r(22),r(21),r(23),r(7),r(8),r(16),r(25),r(18),r(28),r(181),r(186),r(97),r(148),r(149);var tt=function(t,e){for(var r=-1,n=null==t?0:t.length,o=Array(n);++r<n;)o[r]=e(t[r],r,t);return o};var et=function(){this.__data__=[],this.size=0};var rt=function(t,e){return t===e||t!=t&&e!=e};var nt=function(t,e){for(var r=t.length;r--;)if(rt(t[r][0],e))return r;return-1},ot=Array.prototype.splice;var it=function(t){var e=this.__data__,r=nt(e,t);return!(r<0)&&(r==e.length-1?e.pop():ot.call(e,r,1),--this.size,!0)};var at=function(t){var e=this.__data__,r=nt(e,t);return r<0?void 0:e[r][1]};var ut=function(t){return nt(this.__data__,t)>-1};var ct=function(t,e){var r=this.__data__,n=nt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function st(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}st.prototype.clear=et,st.prototype.delete=it,st.prototype.get=at,st.prototype.has=ut,st.prototype.set=ct;var lt=st;var ft=function(){this.__data__=new lt,this.size=0};var pt=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r};var dt=function(t){return this.__data__.get(t)};var yt=function(t){return this.__data__.has(t)},ht=r(29),vt=ht.a.Symbol,gt=Object.prototype,bt=gt.hasOwnProperty,mt=gt.toString,Ot=vt?vt.toStringTag:void 0;var wt=function(t){var e=bt.call(t,Ot),r=t[Ot];try{t[Ot]=void 0;var n=!0}catch(t){}var o=mt.call(t);return n&&(e?t[Ot]=r:delete t[Ot]),o},_t=Object.prototype.toString;var jt=function(t){return _t.call(t)},Et=vt?vt.toStringTag:void 0;var xt=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":Et&&Et in Object(t)?wt(t):jt(t)};var St=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)};var Pt,kt=function(t){if(!St(t))return!1;var e=xt(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e},At=ht.a["__core-js_shared__"],Dt=(Pt=/[^.]+$/.exec(At&&At.keys&&At.keys.IE_PROTO||""))?"Symbol(src)_1."+Pt:"";var Tt=function(t){return!!Dt&&Dt in t},Mt=Function.prototype.toString;var Nt=function(t){if(null!=t){try{return Mt.call(t)}catch(t){}try{return t+""}catch(t){}}return""},Ct=/^\[object .+?Constructor\]$/,Rt=Function.prototype,It=Object.prototype,Lt=Rt.toString,zt=It.hasOwnProperty,Bt=RegExp("^"+Lt.call(zt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var Ht=function(t){return!(!St(t)||Tt(t))&&(kt(t)?Bt:Ct).test(Nt(t))};var Xt=function(t,e){return null==t?void 0:t[e]};var Ut=function(t,e){var r=Xt(t,e);return Ht(r)?r:void 0},Gt=Ut(ht.a,"Map"),Ft=Ut(Object,"create");var Yt=function(){this.__data__=Ft?Ft(null):{},this.size=0};var Vt=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Wt=Object.prototype.hasOwnProperty;var Kt=function(t){var e=this.__data__;if(Ft){var r=e[t];return"__lodash_hash_undefined__"===r?void 0:r}return Wt.call(e,t)?e[t]:void 0},$t=Object.prototype.hasOwnProperty;var Zt=function(t){var e=this.__data__;return Ft?void 0!==e[t]:$t.call(e,t)};var qt=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=Ft&&void 0===e?"__lodash_hash_undefined__":e,this};function Jt(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}Jt.prototype.clear=Yt,Jt.prototype.delete=Vt,Jt.prototype.get=Kt,Jt.prototype.has=Zt,Jt.prototype.set=qt;var Qt=Jt;var te=function(){this.size=0,this.__data__={hash:new Qt,map:new(Gt||lt),string:new Qt}};var ee=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var re=function(t,e){var r=t.__data__;return ee(e)?r["string"==typeof e?"string":"hash"]:r.map};var ne=function(t){var e=re(this,t).delete(t);return this.size-=e?1:0,e};var oe=function(t){return re(this,t).get(t)};var ie=function(t){return re(this,t).has(t)};var ae=function(t,e){var r=re(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function ue(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}ue.prototype.clear=te,ue.prototype.delete=ne,ue.prototype.get=oe,ue.prototype.has=ie,ue.prototype.set=ae;var ce=ue;var se=function(t,e){var r=this.__data__;if(r instanceof lt){var n=r.__data__;if(!Gt||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new ce(n)}return r.set(t,e),this.size=r.size,this};function le(t){var e=this.__data__=new lt(t);this.size=e.size}le.prototype.clear=ft,le.prototype.delete=pt,le.prototype.get=dt,le.prototype.has=yt,le.prototype.set=se;var fe=le;var pe=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this};var de=function(t){return this.__data__.has(t)};function ye(t){var e=-1,r=null==t?0:t.length;for(this.__data__=new ce;++e<r;)this.add(t[e])}ye.prototype.add=ye.prototype.push=pe,ye.prototype.has=de;var he=ye;var ve=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n;)if(e(t[r],r,t))return!0;return!1};var ge=function(t,e){return t.has(e)};var be=function(t,e,r,n,o,i){var a=1&r,u=t.length,c=e.length;if(u!=c&&!(a&&c>u))return!1;var s=i.get(t),l=i.get(e);if(s&&l)return s==e&&l==t;var f=-1,p=!0,d=2&r?new he:void 0;for(i.set(t,e),i.set(e,t);++f<u;){var y=t[f],h=e[f];if(n)var v=a?n(h,y,f,e,t,i):n(y,h,f,t,e,i);if(void 0!==v){if(v)continue;p=!1;break}if(d){if(!ve(e,(function(t,e){if(!ge(d,e)&&(y===t||o(y,t,r,n,i)))return d.push(e)}))){p=!1;break}}else if(y!==h&&!o(y,h,r,n,i)){p=!1;break}}return i.delete(t),i.delete(e),p},me=ht.a.Uint8Array;var Oe=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t,n){r[++e]=[n,t]})),r};var we=function(t){var e=-1,r=Array(t.size);return t.forEach((function(t){r[++e]=t})),r},_e=vt?vt.prototype:void 0,je=_e?_e.valueOf:void 0;var Ee=function(t,e,r,n,o,i,a){switch(r){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!i(new me(t),new me(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return rt(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var u=Oe;case"[object Set]":var c=1&n;if(u||(u=we),t.size!=e.size&&!c)return!1;var s=a.get(t);if(s)return s==e;n|=2,a.set(t,e);var l=be(u(t),u(e),n,o,i,a);return a.delete(t),l;case"[object Symbol]":if(je)return je.call(t)==je.call(e)}return!1};var xe=function(t,e){for(var r=-1,n=e.length,o=t.length;++r<n;)t[o+r]=e[r];return t},Se=Array.isArray;var Pe=function(t,e,r){var n=e(t);return Se(t)?n:xe(n,r(t))};var ke=function(t,e){for(var r=-1,n=null==t?0:t.length,o=0,i=[];++r<n;){var a=t[r];e(a,r,t)&&(i[o++]=a)}return i};var Ae=function(){return[]},De=Object.prototype.propertyIsEnumerable,Te=Object.getOwnPropertySymbols,Me=Te?function(t){return null==t?[]:(t=Object(t),ke(Te(t),(function(e){return De.call(t,e)})))}:Ae;var Ne=function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n};var Ce=function(t){return null!=t&&"object"==typeof t};var Re=function(t){return Ce(t)&&"[object Arguments]"==xt(t)},Ie=Object.prototype,Le=Ie.hasOwnProperty,ze=Ie.propertyIsEnumerable,Be=Re(function(){return arguments}())?Re:function(t){return Ce(t)&&Le.call(t,"callee")&&!ze.call(t,"callee")},He=r(47),Xe=/^(?:0|[1-9]\d*)$/;var Ue=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&Xe.test(t))&&t>-1&&t%1==0&&t<e};var Ge=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991},Fe={};Fe["[object Float32Array]"]=Fe["[object Float64Array]"]=Fe["[object Int8Array]"]=Fe["[object Int16Array]"]=Fe["[object Int32Array]"]=Fe["[object Uint8Array]"]=Fe["[object Uint8ClampedArray]"]=Fe["[object Uint16Array]"]=Fe["[object Uint32Array]"]=!0,Fe["[object Arguments]"]=Fe["[object Array]"]=Fe["[object ArrayBuffer]"]=Fe["[object Boolean]"]=Fe["[object DataView]"]=Fe["[object Date]"]=Fe["[object Error]"]=Fe["[object Function]"]=Fe["[object Map]"]=Fe["[object Number]"]=Fe["[object Object]"]=Fe["[object RegExp]"]=Fe["[object Set]"]=Fe["[object String]"]=Fe["[object WeakMap]"]=!1;var Ye=function(t){return Ce(t)&&Ge(t.length)&&!!Fe[xt(t)]};var Ve=function(t){return function(e){return t(e)}},We=r(48),Ke=We.a&&We.a.isTypedArray,$e=Ke?Ve(Ke):Ye,Ze=Object.prototype.hasOwnProperty;var qe=function(t,e){var r=Se(t),n=!r&&Be(t),o=!r&&!n&&Object(He.a)(t),i=!r&&!n&&!o&&$e(t),a=r||n||o||i,u=a?Ne(t.length,String):[],c=u.length;for(var s in t)!e&&!Ze.call(t,s)||a&&("length"==s||o&&("offset"==s||"parent"==s)||i&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||Ue(s,c))||u.push(s);return u},Je=Object.prototype;var Qe=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Je)};var tr=function(t,e){return function(r){return t(e(r))}},er=tr(Object.keys,Object),rr=Object.prototype.hasOwnProperty;var nr=function(t){if(!Qe(t))return er(t);var e=[];for(var r in Object(t))rr.call(t,r)&&"constructor"!=r&&e.push(r);return e};var or=function(t){return null!=t&&Ge(t.length)&&!kt(t)};var ir=function(t){return or(t)?qe(t):nr(t)};var ar=function(t){return Pe(t,ir,Me)},ur=Object.prototype.hasOwnProperty;var cr=function(t,e,r,n,o,i){var a=1&r,u=ar(t),c=u.length;if(c!=ar(e).length&&!a)return!1;for(var s=c;s--;){var l=u[s];if(!(a?l in e:ur.call(e,l)))return!1}var f=i.get(t),p=i.get(e);if(f&&p)return f==e&&p==t;var d=!0;i.set(t,e),i.set(e,t);for(var y=a;++s<c;){var h=t[l=u[s]],v=e[l];if(n)var g=a?n(v,h,l,e,t,i):n(h,v,l,t,e,i);if(!(void 0===g?h===v||o(h,v,r,n,i):g)){d=!1;break}y||(y="constructor"==l)}if(d&&!y){var b=t.constructor,m=e.constructor;b==m||!("constructor"in t)||!("constructor"in e)||"function"==typeof b&&b instanceof b&&"function"==typeof m&&m instanceof m||(d=!1)}return i.delete(t),i.delete(e),d},sr=Ut(ht.a,"DataView"),lr=Ut(ht.a,"Promise"),fr=Ut(ht.a,"Set"),pr=Ut(ht.a,"WeakMap"),dr=Nt(sr),yr=Nt(Gt),hr=Nt(lr),vr=Nt(fr),gr=Nt(pr),br=xt;(sr&&"[object DataView]"!=br(new sr(new ArrayBuffer(1)))||Gt&&"[object Map]"!=br(new Gt)||lr&&"[object Promise]"!=br(lr.resolve())||fr&&"[object Set]"!=br(new fr)||pr&&"[object WeakMap]"!=br(new pr))&&(br=function(t){var e=xt(t),r="[object Object]"==e?t.constructor:void 0,n=r?Nt(r):"";if(n)switch(n){case dr:return"[object DataView]";case yr:return"[object Map]";case hr:return"[object Promise]";case vr:return"[object Set]";case gr:return"[object WeakMap]"}return e});var mr=br,Or=Object.prototype.hasOwnProperty;var wr=function(t,e,r,n,o,i){var a=Se(t),u=Se(e),c=a?"[object Array]":mr(t),s=u?"[object Array]":mr(e),l="[object Object]"==(c="[object Arguments]"==c?"[object Object]":c),f="[object Object]"==(s="[object Arguments]"==s?"[object Object]":s),p=c==s;if(p&&Object(He.a)(t)){if(!Object(He.a)(e))return!1;a=!0,l=!1}if(p&&!l)return i||(i=new fe),a||$e(t)?be(t,e,r,n,o,i):Ee(t,e,c,r,n,o,i);if(!(1&r)){var d=l&&Or.call(t,"__wrapped__"),y=f&&Or.call(e,"__wrapped__");if(d||y){var h=d?t.value():t,v=y?e.value():e;return i||(i=new fe),o(h,v,r,n,i)}}return!!p&&(i||(i=new fe),cr(t,e,r,n,o,i))};var _r=function t(e,r,n,o,i){return e===r||(null==e||null==r||!Ce(e)&&!Ce(r)?e!=e&&r!=r:wr(e,r,n,o,t,i))};var jr=function(t,e,r,n){var o=r.length,i=o,a=!n;if(null==t)return!i;for(t=Object(t);o--;){var u=r[o];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++o<i;){var c=(u=r[o])[0],s=t[c],l=u[1];if(a&&u[2]){if(void 0===s&&!(c in t))return!1}else{var f=new fe;if(n)var p=n(s,l,c,t,e,f);if(!(void 0===p?_r(l,s,3,n,f):p))return!1}}return!0};var Er=function(t){return t==t&&!St(t)};var xr=function(t){for(var e=ir(t),r=e.length;r--;){var n=e[r],o=t[n];e[r]=[n,o,Er(o)]}return e};var Sr=function(t,e){return function(r){return null!=r&&(r[t]===e&&(void 0!==e||t in Object(r)))}};var Pr=function(t){var e=xr(t);return 1==e.length&&e[0][2]?Sr(e[0][0],e[0][1]):function(r){return r===t||jr(r,t,e)}};var kr=function(t){return"symbol"==typeof t||Ce(t)&&"[object Symbol]"==xt(t)},Ar=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Dr=/^\w*$/;var Tr=function(t,e){if(Se(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!kr(t))||(Dr.test(t)||!Ar.test(t)||null!=e&&t in Object(e))};function Mr(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=e?e.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=t.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(Mr.Cache||ce),r}Mr.Cache=ce;var Nr=Mr;var Cr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rr=/\\(\\)?/g,Ir=function(t){var e=Nr(t,(function(t){return 500===r.size&&r.clear(),t})),r=e.cache;return e}((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Cr,(function(t,r,n,o){e.push(n?o.replace(Rr,"$1"):r||t)})),e})),Lr=vt?vt.prototype:void 0,zr=Lr?Lr.toString:void 0;var Br=function t(e){if("string"==typeof e)return e;if(Se(e))return tt(e,t)+"";if(kr(e))return zr?zr.call(e):"";var r=e+"";return"0"==r&&1/e==-1/0?"-0":r};var Hr=function(t){return null==t?"":Br(t)};var Xr=function(t,e){return Se(t)?t:Tr(t,e)?[t]:Ir(Hr(t))};var Ur=function(t){if("string"==typeof t||kr(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e};var Gr=function(t,e){for(var r=0,n=(e=Xr(e,t)).length;null!=t&&r<n;)t=t[Ur(e[r++])];return r&&r==n?t:void 0};var Fr=function(t,e,r){var n=null==t?void 0:Gr(t,e);return void 0===n?r:n};var Yr=function(t,e){return null!=t&&e in Object(t)};var Vr=function(t,e,r){for(var n=-1,o=(e=Xr(e,t)).length,i=!1;++n<o;){var a=Ur(e[n]);if(!(i=null!=t&&r(t,a)))break;t=t[a]}return i||++n!=o?i:!!(o=null==t?0:t.length)&&Ge(o)&&Ue(a,o)&&(Se(t)||Be(t))};var Wr=function(t,e){return null!=t&&Vr(t,e,Yr)};var Kr=function(t,e){return Tr(t)&&Er(e)?Sr(Ur(t),e):function(r){var n=Fr(r,t);return void 0===n&&n===e?Wr(r,t):_r(e,n,3)}};var $r=function(t){return t};var Zr=function(t){return function(e){return null==e?void 0:e[t]}};var qr=function(t){return function(e){return Gr(e,t)}};var Jr=function(t){return Tr(t)?Zr(Ur(t)):qr(t)};var Qr=function(t){return"function"==typeof t?t:null==t?$r:"object"==typeof t?Se(t)?Kr(t[0],t[1]):Pr(t):Jr(t)};var tn=function(t){return function(e,r,n){for(var o=-1,i=Object(e),a=n(e),u=a.length;u--;){var c=a[t?u:++o];if(!1===r(i[c],c,i))break}return e}}();var en=function(t,e){return function(r,n){if(null==r)return r;if(!or(r))return t(r,n);for(var o=r.length,i=e?o:-1,a=Object(r);(e?i--:++i<o)&&!1!==n(a[i],i,a););return r}}((function(t,e){return t&&tn(t,e,ir)}));var rn=function(t,e){var r=-1,n=or(t)?Array(t.length):[];return en(t,(function(t,o,i){n[++r]=e(t,o,i)})),n};var nn=function(t,e){return(Se(t)?tt:rn)(t,Qr(e,3))},on=function(){try{var t=Ut(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var an=function(t,e,r){"__proto__"==e&&on?on(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},un=Object.prototype.hasOwnProperty;var cn=function(t,e,r){var n=t[e];un.call(t,e)&&rt(n,r)&&(void 0!==r||e in t)||an(t,e,r)};var sn=function(t,e,r,n){var o=!r;r||(r={});for(var i=-1,a=e.length;++i<a;){var u=e[i],c=n?n(r[u],t[u],u,r,t):void 0;void 0===c&&(c=t[u]),o?an(r,u,c):cn(r,u,c)}return r};var ln=function(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)},fn=Math.max;var pn=function(t,e,r){return e=fn(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=fn(n.length-e,0),a=Array(i);++o<i;)a[o]=n[e+o];o=-1;for(var u=Array(e+1);++o<e;)u[o]=n[o];return u[e]=r(a),ln(t,this,u)}};var dn=function(t){return function(){return t}},yn=on?function(t,e){return on(t,"toString",{configurable:!0,enumerable:!1,value:dn(e),writable:!0})}:$r,hn=Date.now;var vn=function(t){var e=0,r=0;return function(){var n=hn(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(yn);var gn=function(t,e){return vn(pn(t,e,$r),t+"")};var bn=function(t,e,r){if(!St(r))return!1;var n=typeof e;return!!("number"==n?or(r)&&Ue(e,r.length):"string"==n&&e in r)&&rt(r[e],t)};var mn=function(t){return gn((function(e,r){var n=-1,o=r.length,i=o>1?r[o-1]:void 0,a=o>2?r[2]:void 0;for(i=t.length>3&&"function"==typeof i?(o--,i):void 0,a&&bn(r[0],r[1],a)&&(i=o<3?void 0:i,o=1),e=Object(e);++n<o;){var u=r[n];u&&t(e,u,n,i)}return e}))},On=Object.prototype.hasOwnProperty,wn=mn((function(t,e){if(Qe(e)||or(e))sn(e,ir(e),t);else for(var r in e)On.call(e,r)&&cn(t,r,e[r])}));var _n=function(t,e,r,n){if(!St(t))return t;for(var o=-1,i=(e=Xr(e,t)).length,a=i-1,u=t;null!=u&&++o<i;){var c=Ur(e[o]),s=r;if("__proto__"===c||"constructor"===c||"prototype"===c)return t;if(o!=a){var l=u[c];void 0===(s=n?n(l,c,u):void 0)&&(s=St(l)?l:Ue(e[o+1])?[]:{})}cn(u,c,s),u=u[c]}return t};var jn=function(t,e,r){for(var n=-1,o=e.length,i={};++n<o;){var a=e[n],u=Gr(t,a);r(u,a)&&_n(i,Xr(a,t),u)}return i};var En=function(t,e){return jn(t,e,(function(e,r){return Wr(t,r)}))},xn=vt?vt.isConcatSpreadable:void 0;var Sn=function(t){return Se(t)||Be(t)||!!(xn&&t&&t[xn])};var Pn=function t(e,r,n,o,i){var a=-1,u=e.length;for(n||(n=Sn),i||(i=[]);++a<u;){var c=e[a];r>0&&n(c)?r>1?t(c,r-1,n,o,i):xe(i,c):o||(i[i.length]=c)}return i};var kn=function(t){return(null==t?0:t.length)?Pn(t,1):[]};var An,Dn,Tn,Mn,Nn,Cn,Rn,In,Ln,zn,Bn,Hn,Xn,Un,Gn,Fn,Yn,Vn=function(t){return vn(pn(t,void 0,kn),t+"")}((function(t,e){return null==t?{}:En(t,e)}));function Wn(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Kn(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function $n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zn(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var qn,Jn,Qn,to,eo,ro,no={stopZoomGraph:!1,stopScrollGraph:!1,stopMoveGraph:!1,adjustEdge:!1,adjustEdgeStartAndEnd:!1,adjustNodePosition:!1,hideAnchors:!0,nodeSelectedOutline:!0,nodeTextEdit:!1,edgeTextEdit:!1,nodeTextDraggable:!1,edgeTextDraggable:!1},oo=["isSilentMode","stopZoomGraph","stopScrollGraph","stopMoveGraph","adjustEdge","adjustEdgeMiddle","adjustEdgeStartAndEnd","adjustNodePosition","hideAnchors","hoverOutline","nodeSelectedOutline","edgeSelectedOutline","nodeTextEdit","edgeTextEdit","nodeTextDraggable","edgeTextDraggable","multipleSelectKey"],io=(Dn=Zn((An=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Wn(this,"isSilentMode",Dn,this),Wn(this,"stopZoomGraph",Tn,this),Wn(this,"stopScrollGraph",Mn,this),Wn(this,"stopMoveGraph",Nn,this),Wn(this,"adjustEdge",Cn,this),Wn(this,"adjustEdgeMiddle",Rn,this),Wn(this,"adjustEdgeStartAndEnd",In,this),Wn(this,"adjustNodePosition",Ln,this),Wn(this,"hideAnchors",zn,this),Wn(this,"hoverOutline",Bn,this),Wn(this,"nodeSelectedOutline",Hn,this),Wn(this,"edgeSelectedOutline",Xn,this),Wn(this,"nodeTextEdit",Un,this),Wn(this,"edgeTextEdit",Gn,this),Wn(this,"nodeTextDraggable",Fn,this),Wn(this,"edgeTextDraggable",Yn,this),$n(this,"multipleSelectKey",""),$n(this,"defaultConfig",{}),wn(this,this.getConfigDetail(e))}var e,r,n;return e=t,(r=[{key:"updateEditConfig",value:function(t){var e=this.getConfigDetail(t);wn(this,e)}},{key:"getConfigDetail",value:function(t){var e=t.isSilentMode,r=t.textEdit,n={};if(!1===e&&wn(n,this.defaultConfig),!0===e){var o=Vn(no,oo);this.defaultConfig={stopZoomGraph:this.stopZoomGraph,stopScrollGraph:this.stopScrollGraph,stopMoveGraph:this.stopMoveGraph,adjustEdge:this.adjustEdge,adjustEdgeMiddle:this.adjustEdgeMiddle,adjustEdgeStartAndEnd:this.adjustEdgeStartAndEnd,adjustNodePosition:this.adjustNodePosition,hideAnchors:this.hideAnchors,hoverOutline:this.hoverOutline,nodeSelectedOutline:this.nodeSelectedOutline,edgeSelectedOutline:this.edgeSelectedOutline,nodeTextEdit:this.nodeTextEdit,edgeTextEdit:this.edgeTextEdit,nodeTextDraggable:this.nodeTextDraggable,edgeTextDraggable:this.edgeTextDraggable},wn(n,o)}!1===r&&wn(n,{nodeTextEdit:!1,edgeTextEdit:!1});var i=Vn(t,oo);return wn(n,i)}},{key:"getConfig",value:function(){return Vn(this,oo)}}])&&Kn(e.prototype,r),n&&Kn(e,n),t}()).prototype,"isSilentMode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Tn=Zn(An.prototype,"stopZoomGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Mn=Zn(An.prototype,"stopScrollGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Nn=Zn(An.prototype,"stopMoveGraph",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Cn=Zn(An.prototype,"adjustEdge",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Rn=Zn(An.prototype,"adjustEdgeMiddle",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),In=Zn(An.prototype,"adjustEdgeStartAndEnd",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ln=Zn(An.prototype,"adjustNodePosition",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),zn=Zn(An.prototype,"hideAnchors",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Bn=Zn(An.prototype,"hoverOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Hn=Zn(An.prototype,"nodeSelectedOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Xn=Zn(An.prototype,"edgeSelectedOutline",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Un=Zn(An.prototype,"nodeTextEdit",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Gn=Zn(An.prototype,"edgeTextEdit",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Fn=Zn(An.prototype,"nodeTextDraggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Yn=Zn(An.prototype,"edgeTextDraggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Zn(An.prototype,"updateEditConfig",[o.k],Object.getOwnPropertyDescriptor(An.prototype,"updateEditConfig"),An.prototype),An);r(98);!function(t){t[t.DEFAULT=1]="DEFAULT",t[t.TEXT_EDIT=2]="TEXT_EDIT",t[t.SHOW_MENU=3]="SHOW_MENU",t[t.ALLOW_CONNECT=4]="ALLOW_CONNECT",t[t.NOT_ALLOW_CONNECT=5]="NOT_ALLOW_CONNECT"}(qn||(qn={})),function(t){t.KEY="logic-flow",t.NODE_NAME="lf-node",t.EDGE_NAME="lf-edge"}(Jn||(Jn={})),function(t){t.NODE="node",t.CIRCLE_NODE="circle-node",t.POLYGON_NODE="polygon-node",t.RECT_NODE="rect-node",t.TEXT_NODE="text-node",t.ELLIPSE_NODE="ellipse-node",t.DIAMOND_NODE="diamond-node",t.HTML_NODE="html-node",t.EDGE="edge",t.LINE_EDGE="line-edge",t.POLYLINE_EDGE="polyline-edge",t.BEZIER_EDGE="bezier-edge",t.GRAPH="graph"}(Qn||(Qn={})),function(t){t.NODE="node",t.EDGE="edge",t.GRAPH="graph"}(to||(to={})),function(t){t.ELEMENT_CLICK="element:click",t.NODE_CLICK="node:click",t.NODE_DBCLICK="node:dbclick",t.NODE_DELETE="node:delete",t.NODE_ADD="node:add",t.NODE_DND_ADD="node:dnd-add",t.NODE_DND_DRAG="node:dnd-drag",t.NODE_MOUSEDOWN="node:mousedown",t.NODE_DRAGSTART="node:dragstart",t.NODE_DRAG="node:drag",t.NODE_DROP="node:drop",t.NODE_MOUSEUP="node:mouseup",t.NODE_MOUSEMOVE="node:mousemove",t.NODE_MOUSEENTER="node:mouseenter",t.NODE_MOUSELEAVE="node:mouseleave",t.NODE_CONTEXTMENU="node:contextmenu",t.EDGE_DELETE="edge:delete",t.EDGE_ADD="edge:add",t.EDGE_CLICK="edge:click",t.EDGE_DBCLICK="edge:dbclick",t.EDGE_MOUSEENTER="edge:mouseenter",t.EDGE_MOUSELEAVE="edge:mouseleave",t.EDGE_CONTEXTMENU="edge:contextmenu",t.EDGE_ADJUST="edge:adjust",t.EDGE_EXCHANGE_NODE="edge:exchange-node",t.ANCHOR_DRAGSTART="anchor:dragstart",t.ANCHOR_DRAG="anchor:drag",t.ANCHOR_DROP="anchor:drop",t.BLANK_MOUSEDOWN="blank:mousedown",t.BLANK_DRAGSTART="blank:dragstart",t.BLANK_DRAG="blank:drag",t.BLANK_DROP="blank:drop",t.BLANK_MOUSEMOVE="blank:mousemove",t.BLANK_MOUSEUP="blank:mouseup",t.BLANK_CLICK="blank:click",t.BLANK_CONTEXTMENU="blank:contextmenu",t.SELECTION_MOUSEDOWN="selection:mousedown",t.SELECTION_DRAGSTART="selection:dragstart",t.SELECTION_DRAG="selection:drag",t.SELECTION_DROP="selection:drop",t.SELECTION_MOUSEMOVE="selection:mousemove",t.SELECTION_MOUSEUP="selection:mouseup",t.SELECTION_CONTEXTMENU="selection:contextmenu",t.CONNECTION_NOT_ALLOWED="connection:not-allowed",t.HISTORY_CHANGE="history:change",t.TEXT_UPDATE="text:update",t.GRAPH_TRANSFORM="graph:transform",t.GRAPH_RENDERED="graph:rendered"}(eo||(eo={})),function(t){t.HORIZONTAL="horizontal",t.VERTICAL="vertical"}(ro||(ro={}));var ao,uo,co,so,lo,fo,po,yo,ho;function vo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return go(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return go(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function go(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function bo(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function mo(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Oo(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wo(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}!function(t){t[t.DEFAULT=0]="DEFAULT",t[t.INCREASE=1]="INCREASE"}(ao||(ao={}));var _o=(co=wo((uo=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Oo(this,"MINI_SCALE_SIZE",.2),Oo(this,"MAX_SCALE_SIZE",16),bo(this,"SCALE_X",co,this),bo(this,"SKEW_Y",so,this),bo(this,"SKEW_X",lo,this),bo(this,"SCALE_Y",fo,this),bo(this,"TRANSLATE_X",po,this),bo(this,"TRANSLATE_Y",yo,this),bo(this,"ZOOM_SIZE",ho,this),Oo(this,"eventCenter",void 0),this.eventCenter=e}var e,r,n;return e=t,(r=[{key:"setZoomMiniSize",value:function(t){this.MINI_SCALE_SIZE=t}},{key:"setZoomMaxSize",value:function(t){this.MAX_SCALE_SIZE=t}},{key:"HtmlPointToCanvasPoint",value:function(t){var e=vo(t,2),r=e[0],n=e[1];return[(r-this.TRANSLATE_X)/this.SCALE_X,(n-this.TRANSLATE_Y)/this.SCALE_Y]}},{key:"CanvasPointToHtmlPoint",value:function(t){var e=vo(t,2),r=e[0],n=e[1];return[r*this.SCALE_X+this.TRANSLATE_X,n*this.SCALE_Y+this.TRANSLATE_Y]}},{key:"moveCanvasPointByHtml",value:function(t,e,r){var n=vo(t,2),o=n[0],i=n[1];return[o+e/this.SCALE_X,i+r/this.SCALE_Y]}},{key:"fixDeltaXY",value:function(t,e){return[t/this.SCALE_X,e/this.SCALE_Y]}},{key:"getTransformStyle",value:function(){var t=[this.SCALE_X,this.SKEW_Y,this.SKEW_X,this.SCALE_Y,this.TRANSLATE_X,this.TRANSLATE_Y].join(",");return{transform:"matrix(".concat(t,")")}}},{key:"zoom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0,r=this.SCALE_X,n=this.SCALE_Y;return!0===t?(r+=this.ZOOM_SIZE,n+=this.ZOOM_SIZE):!1===t?(r-=this.ZOOM_SIZE,n-=this.ZOOM_SIZE):"number"==typeof t&&(r=t,n=t),r<this.MINI_SCALE_SIZE||r>this.MAX_SCALE_SIZE||(e&&(this.TRANSLATE_X-=(r-this.SCALE_X)*e[0],this.TRANSLATE_Y-=(n-this.SCALE_Y)*e[1]),this.SCALE_X=r,this.SCALE_Y=n,this.emitGraphTransform("zoom")),"".concat(100*this.SCALE_X,"%")}},{key:"emitGraphTransform",value:function(t){this.eventCenter.emit(eo.GRAPH_TRANSFORM,{type:t,transform:{SCALE_X:this.SCALE_X,SKEW_Y:this.SKEW_Y,SKEW_X:this.SKEW_X,SCALE_Y:this.SCALE_Y,TRANSLATE_X:this.TRANSLATE_X,TRANSLATE_Y:this.TRANSLATE_Y}})}},{key:"resetZoom",value:function(){this.SCALE_X=1,this.SCALE_Y=1,this.emitGraphTransform("resetZoom")}},{key:"translate",value:function(t,e){this.TRANSLATE_X+=t,this.TRANSLATE_Y+=e,this.emitGraphTransform("translate")}},{key:"focusOn",value:function(t,e,r,n){var o=vo(this.CanvasPointToHtmlPoint([t,e]),2),i=r/2-o[0],a=n/2-o[1];this.TRANSLATE_X+=i,this.TRANSLATE_Y+=a,this.emitGraphTransform("focusOn")}}])&&mo(e.prototype,r),n&&mo(e,n),t}()).prototype,"SCALE_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),so=wo(uo.prototype,"SKEW_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),lo=wo(uo.prototype,"SKEW_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),fo=wo(uo.prototype,"SCALE_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),po=wo(uo.prototype,"TRANSLATE_X",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),yo=wo(uo.prototype,"TRANSLATE_Y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ho=wo(uo.prototype,"ZOOM_SIZE",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.04}}),wo(uo.prototype,"zoom",[o.k],Object.getOwnPropertyDescriptor(uo.prototype,"zoom"),uo.prototype),wo(uo.prototype,"resetZoom",[o.k],Object.getOwnPropertyDescriptor(uo.prototype,"resetZoom"),uo.prototype),wo(uo.prototype,"translate",[o.k],Object.getOwnPropertyDescriptor(uo.prototype,"translate"),uo.prototype),wo(uo.prototype,"focusOn",[o.k],Object.getOwnPropertyDescriptor(uo.prototype,"focusOn"),uo.prototype),uo);var jo=function(t,e){for(var r=-1,n=null==t?0:t.length;++r<n&&!1!==e(t[r],r,t););return t};var Eo=function(t,e){return t&&sn(e,ir(e),t)};var xo=function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e},So=Object.prototype.hasOwnProperty;var Po=function(t){if(!St(t))return xo(t);var e=Qe(t),r=[];for(var n in t)("constructor"!=n||!e&&So.call(t,n))&&r.push(n);return r};var ko=function(t){return or(t)?qe(t,!0):Po(t)};var Ao=function(t,e){return t&&sn(e,ko(e),t)},Do=r(101);var To=function(t,e){var r=-1,n=t.length;for(e||(e=Array(n));++r<n;)e[r]=t[r];return e};var Mo=function(t,e){return sn(t,Me(t),e)},No=tr(Object.getPrototypeOf,Object),Co=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)xe(e,Me(t)),t=No(t);return e}:Ae;var Ro=function(t,e){return sn(t,Co(t),e)};var Io=function(t){return Pe(t,ko,Co)},Lo=Object.prototype.hasOwnProperty;var zo=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&Lo.call(t,"index")&&(r.index=t.index,r.input=t.input),r};var Bo=function(t){var e=new t.constructor(t.byteLength);return new me(e).set(new me(t)),e};var Ho=function(t,e){var r=e?Bo(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.byteLength)},Xo=/\w*$/;var Uo=function(t){var e=new t.constructor(t.source,Xo.exec(t));return e.lastIndex=t.lastIndex,e},Go=vt?vt.prototype:void 0,Fo=Go?Go.valueOf:void 0;var Yo=function(t){return Fo?Object(Fo.call(t)):{}};var Vo=function(t,e){var r=e?Bo(t.buffer):t.buffer;return new t.constructor(r,t.byteOffset,t.length)};var Wo=function(t,e,r){var n=t.constructor;switch(e){case"[object ArrayBuffer]":return Bo(t);case"[object Boolean]":case"[object Date]":return new n(+t);case"[object DataView]":return Ho(t,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Vo(t,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(t);case"[object RegExp]":return Uo(t);case"[object Set]":return new n;case"[object Symbol]":return Yo(t)}},Ko=Object.create,$o=function(){function t(){}return function(e){if(!St(e))return{};if(Ko)return Ko(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();var Zo=function(t){return"function"!=typeof t.constructor||Qe(t)?{}:$o(No(t))};var qo=function(t){return Ce(t)&&"[object Map]"==mr(t)},Jo=We.a&&We.a.isMap,Qo=Jo?Ve(Jo):qo;var ti=function(t){return Ce(t)&&"[object Set]"==mr(t)},ei=We.a&&We.a.isSet,ri=ei?Ve(ei):ti,ni={};ni["[object Arguments]"]=ni["[object Array]"]=ni["[object ArrayBuffer]"]=ni["[object DataView]"]=ni["[object Boolean]"]=ni["[object Date]"]=ni["[object Float32Array]"]=ni["[object Float64Array]"]=ni["[object Int8Array]"]=ni["[object Int16Array]"]=ni["[object Int32Array]"]=ni["[object Map]"]=ni["[object Number]"]=ni["[object Object]"]=ni["[object RegExp]"]=ni["[object Set]"]=ni["[object String]"]=ni["[object Symbol]"]=ni["[object Uint8Array]"]=ni["[object Uint8ClampedArray]"]=ni["[object Uint16Array]"]=ni["[object Uint32Array]"]=!0,ni["[object Error]"]=ni["[object Function]"]=ni["[object WeakMap]"]=!1;var oi=function t(e,r,n,o,i,a){var u,c=1&r,s=2&r,l=4&r;if(n&&(u=i?n(e,o,i,a):n(e)),void 0!==u)return u;if(!St(e))return e;var f=Se(e);if(f){if(u=zo(e),!c)return To(e,u)}else{var p=mr(e),d="[object Function]"==p||"[object GeneratorFunction]"==p;if(Object(He.a)(e))return Object(Do.a)(e,c);if("[object Object]"==p||"[object Arguments]"==p||d&&!i){if(u=s||d?{}:Zo(e),!c)return s?Ro(e,Ao(u,e)):Mo(e,Eo(u,e))}else{if(!ni[p])return i?e:{};u=Wo(e,p,c)}}a||(a=new fe);var y=a.get(e);if(y)return y;a.set(e,u),ri(e)?e.forEach((function(o){u.add(t(o,r,n,o,e,a))})):Qo(e)&&e.forEach((function(o,i){u.set(i,t(o,r,n,i,e,a))}));var h=f?void 0:(l?s?Io:ar:s?ko:ir)(e);return jo(h||e,(function(o,i){h&&(o=e[i=o]),cn(u,i,t(o,r,n,i,e,a))})),u};var ii=function(t){return oi(t,5)};var ai=function(t,e,r){(void 0!==r&&!rt(t[e],r)||void 0===r&&!(e in t))&&an(t,e,r)};var ui=function(t){return Ce(t)&&or(t)},ci=Function.prototype,si=Object.prototype,li=ci.toString,fi=si.hasOwnProperty,pi=li.call(Object);var di=function(t){if(!Ce(t)||"[object Object]"!=xt(t))return!1;var e=No(t);if(null===e)return!0;var r=fi.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&li.call(r)==pi};var yi=function(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]};var hi=function(t){return sn(t,ko(t))};var vi=function(t,e,r,n,o,i,a){var u=yi(t,r),c=yi(e,r),s=a.get(c);if(s)ai(t,r,s);else{var l=i?i(u,c,r+"",t,e,a):void 0,f=void 0===l;if(f){var p=Se(c),d=!p&&Object(He.a)(c),y=!p&&!d&&$e(c);l=c,p||d||y?Se(u)?l=u:ui(u)?l=To(u):d?(f=!1,l=Object(Do.a)(c,!0)):y?(f=!1,l=Vo(c,!0)):l=[]:di(c)||Be(c)?(l=u,Be(u)?l=hi(u):St(u)&&!kt(u)||(l=Zo(c))):f=!1}f&&(a.set(c,l),o(l,c,n,i,a),a.delete(c)),ai(t,r,l)}};var gi=function t(e,r,n,o,i){e!==r&&tn(r,(function(a,u){if(i||(i=new fe),St(a))vi(e,r,u,n,t,o,i);else{var c=o?o(yi(e,u),a,u+"",e,r,i):void 0;void 0===c&&(c=a),ai(e,u,c)}}),ko)},bi=mn((function(t,e,r){gi(t,e,r)})),mi={baseNode:{fill:"#FFFFFF",stroke:"#000000",strokeWidth:2},baseEdge:{stroke:"#000000",strokeWidth:2},rect:{},circle:{},diamond:{},ellipse:{},polygon:{},text:{color:"#000000",stroke:"none",fontSize:12,background:{fill:"transparent"}},anchor:{stroke:"#000000",fill:"#FFFFFF",r:4,hover:{fill:"#949494",fillOpacity:.5,stroke:"#949494",r:10}},nodeText:{color:"#000000",overflowMode:"default",lineHeight:1.2,fontSize:12},edgeText:{textWidth:100,overflowMode:"default",fontSize:12,background:{fill:"#FFFFFF"}},line:{},polyline:{},bezier:{fill:"none",adjustLine:{stroke:"#949494"},adjustAnchor:{r:4,fill:"#949494",stroke:"#949494",fillOpacity:1}},arrow:{offset:10,verticalLength:5},anchorLine:{stroke:"#000000",strokeWidth:2,strokeDasharray:"3,2"},snapline:{stroke:"#949494",strokeWidth:1},edgeAdjust:{r:4,fill:"#FFFFFF",stroke:"#949494",strokeWidth:2},outline:{fill:"transparent",stroke:"#949494",strokeDasharray:"3,3",hover:{stroke:"#949494"}}},Oi=function(t){var e=ii(mi);return t&&(e=bi(e,t)),e};r(71),r(190);function wi(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var _i=function(){function t(){var e,r,n;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n={},(r="_events")in(e=this)?Object.defineProperty(e,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[r]=n}var e,r,n;return e=t,(r=[{key:"on",value:function(t,e,r){var n=this;return null==t||t.split(",").forEach((function(t){t=t.trim(),n._events[t]||(n._events[t]=[]),n._events[t].push({callback:e,once:!!r})})),this}},{key:"once",value:function(t,e){var r=this;null==t||t.split(",").forEach((function(t){return t=t.trim(),r.on(t,e,!0)}))}},{key:"emit",value:function(t,e){var r=this;null==t||t.split(",").forEach((function(t){var n=r._events[t]||[],o=r._events["*"]||[],i=function(n){for(var o=n.length,i=0;i<o;i++)if(n[i]){var a=n[i],u=a.callback;a.once&&(n.splice(i,1),0===n.length&&delete r._events[t],o--,i--),u.apply(r,[e])}};i(n),i(o)}))}},{key:"off",value:function(t,e){var r=this;return t||(this._events={}),t.split(",").forEach((function(t){if(e){for(var n=r._events[t]||[],o=n.length,i=0;i<o;i++)n[i].callback===e&&(n.splice(i,1),o--,i--);0===n.length&&delete r._events[t]}else delete r._events[t]})),this}},{key:"getEvents",value:function(){return this._events}}])&&wi(e.prototype,r),n&&wi(e,n),t}();function ji(t,e){return e*Math.round(t/e)||t}function Ei(t,e){return t%e}function xi(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Si(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Si(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Si(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Pi,ki=function(t,e,r){var n=xi(t,2),o=n[0],i=n[1],a=xi(e,2),u=a[0],c=a[1],s=xi(r,2),l=s[0],f=s[1];return o>u&&o<l&&i>c&&i<f},Ai=function(t,e){var r=!1;switch(e.multipleSelectKey){case"meta":r=t.metaKey;break;case"alt":r=t.altKey;break;case"shift":r=t.shiftKey;break;default:r=!1}return r},Di=(r(72),r(155),r(122),r(73),r(12),r(13),r(14),r(46),r(31),new Uint8Array(16));function Ti(){if(!Pi&&!(Pi="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Pi(Di)}var Mi=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Ni=function(t){return"string"==typeof t&&Mi.test(t)},Ci=[],Ri=0;Ri<256;++Ri)Ci.push((Ri+256).toString(16).substr(1));var Ii=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=(Ci[t[e+0]]+Ci[t[e+1]]+Ci[t[e+2]]+Ci[t[e+3]]+"-"+Ci[t[e+4]]+Ci[t[e+5]]+"-"+Ci[t[e+6]]+Ci[t[e+7]]+"-"+Ci[t[e+8]]+Ci[t[e+9]]+"-"+Ci[t[e+10]]+Ci[t[e+11]]+Ci[t[e+12]]+Ci[t[e+13]]+Ci[t[e+14]]+Ci[t[e+15]]).toLowerCase();if(!Ni(r))throw TypeError("Stringified UUID is invalid");return r};var Li=function(t,e,r){var n=(t=t||{}).random||(t.rng||Ti)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,e){r=r||0;for(var o=0;o<16;++o)e[r+o]=n[o];return e}return Ii(n)},zi=function(){return Li()},Bi=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=t.nodes.reduce((function(t,r){return t[r.id]=e+Li(),r.id=t[r.id],t}),{});return t.edges.forEach((function(t){t.id=e+Li(),t.sourceNodeId=r[t.sourceNodeId],t.targetNodeId=r[t.targetNodeId]})),t},Hi=(r(99),r(199),function(t,e,r){var n=t.x,o=t.y;return(n-e.x)*(n-r.x)<=0&&(o-e.y)*(o-r.y)<=0});function Xi(t){return(Xi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ui(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Gi(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ui(Object(r),!0).forEach((function(e){Fi(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ui(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Fi(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Yi,Vi,Wi,Ki,$i,Zi,qi,Ji,Qi,ta,ea,ra,na,oa,ia,aa,ua,ca=function(t){return t.anchors},sa=function(t,e){for(var r,n=e.nodes,o=n.length-1;o>=0;o--){var i=n[o];if(ya(t,i)){var a=fa(t,i);if(a){var u={node:i,anchorIndex:a.index,anchor:a.anchor};r&&!la(i,r.node,e)||(r=u)}}}return r},la=function(t,e,r){return t.zIndex>e.zIndex||r.nodesMap[t.id].index>r.nodesMap[e.id].index},fa=function(t,e){for(var r,n=ca(e),o=Number.MAX_SAFE_INTEGER,i=0;i<n.length;i++){var a=pa(t.x,t.y,n[i].x,n[i].y);a<o&&(o=a,r={index:i,anchor:Gi(Gi({},n[i]),{},{x:n[i].x,y:n[i].y,id:n[i].id})})}return r},pa=function(t,e,r,n){return Math.hypot(t-r,e-n)},da=function(t,e){var r=!1,n=ha(e);return t.x>=n.minX-0&&t.x<=n.maxX+0&&t.y>=n.minY-0&&t.y<=n.maxY+0&&(r=!0),r},ya=function(t,e){var r=!1,n=ha(e);return t.x>=n.minX-5&&t.x<=n.maxX+5&&t.y>=n.minY-5&&t.y<=n.maxY+5&&(r=!0),r},ha=function(t){var e=t.x,r=t.y,n=t.width,o=t.height;return{minX:e-n/2,minY:r-o/2,maxX:e+n/2,maxY:r+o/2,x:e,y:r,width:n,height:o,centerX:e,centerY:r}},va=function(t,e,r){var n,o=function(t){var e=t,r=e.x,n=e.y,o=e.width,i=e.height,a=e.radius;return[{x:r-o/2+a,y:n-i/2+a,r:a},{x:r+o/2-a,y:n-i/2+a,r:a},{x:r-o/2+a,y:n+i/2-a,r:a},{x:r+o/2-a,y:n+i/2-a,r:a}]}(r),i=Number.MAX_SAFE_INTEGER;return o.forEach((function(e){var r=pa(t.x,t.y,e.x,e.y);r<i&&(i=r,n=e)})),ga(t,e,n)},ga=function(t,e,r){var n,o=r,i=o.x,a=o.y,u=o.r;if(e===ro.HORIZONTAL){var c=i-Math.sqrt(u*u-(t.y-a)*(t.y-a)),s=i+Math.sqrt(u*u-(t.y-a)*(t.y-a));n={x:Math.abs(c-t.x)<Math.abs(s-t.x)?c:s,y:t.y}}else if(e===ro.VERTICAL){var l=a-Math.sqrt(u*u-(t.x-i)*(t.x-i)),f=a+Math.sqrt(u*u-(t.x-i)*(t.x-i)),p=Math.abs(l-t.y)<Math.abs(f-t.y)?l:f;n={x:t.x,y:p}}return n},ba=function(t,e){var r=e,n=!1,o=r.x-r.width/2+r.radius,i=r.x+r.width/2-r.radius,a=r.y-r.height/2+r.radius,u=r.y+r.height/2-r.radius,c=r.x,s=r.y,l=r.width,f=r.height;return t.y===s+f/2||t.y===s-f/2?n=t.x>o&&t.x<i:t.x!==c+l/2&&t.x!==c-l/2||(n=t.y>a&&t.y<u),n},ma=function(t,e,r){var n,o=r,i=o.x,a=o.y,u=o.rx,c=o.ry;if(e===ro.HORIZONTAL){var s=i-Math.sqrt(u*u-(t.y-a)*(t.y-a)*u*u/(c*c)),l=i+Math.sqrt(u*u-(t.y-a)*(t.y-a)*u*u/(c*c));n={x:Math.abs(s-t.x)<Math.abs(l-t.x)?s:l,y:t.y}}else if(e===ro.VERTICAL){var f=a-Math.sqrt(c*c-(t.x-i)*(t.x-i)*c*c/(u*u)),p=a+Math.sqrt(c*c-(t.x-i)*(t.x-i)*c*c/(u*u)),d=Math.abs(f-t.y)<Math.abs(p-t.y)?f:p;n={x:t.x,y:d}}return n},Oa=function(t,e,r){for(var n,o=r.pointsPosition,i=Number.MAX_SAFE_INTEGER,a=[],u=0;u<o.length;u++)a.push({start:o[u],end:o[(u+1)%o.length]});return a.forEach((function(r){var o=r.start,a=r.end,u=o,c=a;o.x>a.x&&(u=a,c=o);var s={x:t.x,y:t.y};if(u.x===c.x&&e===ro.HORIZONTAL&&(s={x:u.x,y:t.y}),u.y===c.y&&e===ro.VERTICAL&&(s={x:t.x,y:u.y}),u.x!==c.x&&u.y!==c.y){var l=(c.y-u.y)/(c.x-u.x),f=(u.x*c.y-c.x*u.y)/(u.x-c.x);e===ro.HORIZONTAL?s={x:(t.y-f)/l,y:t.y}:e===ro.VERTICAL&&(s={x:t.x,y:l*t.x+f})}if(Hi(s,o,a)){var p=pa(s.x,s.y,t.x,t.y);p<i&&(i=p,n=s)}})),n},wa=function(t,e,r,n){var o=t.x,i=t.y;return e.x>t.x?o=t.x+r/2:e.x<t.x&&(o=t.x-r/2),e.y>t.y?i=t.y+n/2:e.y<t.y&&(i=t.y-n/2),{x:o,y:i}},_a=function(t){var e=t.rows,r=t.style,n=t.rowsLength,o=t.className,i=document.createElement("div");i.style.fontSize=r.fontSize,i.style.width=r.width,i.className=o,i.style.lineHeight=r.lineHeight,i.style.padding=r.padding,r.fontFamily&&(i.style.fontFamily=r.fontFamily),n>1?e.forEach((function(t){var e=document.createElement("div");e.textContent=t,i.appendChild(e)})):i.textContent=e,document.body.appendChild(i);var a=i.clientHeight;return document.body.removeChild(i),a},ja=function(t){var e=t.rows,r=t.rowsLength,n=t.fontSize,o=0;return e&&e.forEach((function(t){var e=Ju(t);o=e>o?e:o})),{width:Math.ceil(o/2)*n+n/4,height:r*(n+2)+n/4}},Ea=function(t){return"object"!==Xi(t)?{isAllPass:!!t,msg:t?"":""}:t},xa={node:!1,edge:!1},Sa={node:!0,edge:!0},Pa={stroke:"red",strokeDasharray:"10 200",className:"lf-edge-animation"},ka=function(t){try{return JSON.parse(JSON.stringify(t))}catch(e){return t}},Aa=1e3,Da=999,Ta=function(){return++Aa};function Ma(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Na(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ma(Object(r),!0).forEach((function(e){Ia(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ma(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ca(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Ra(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ia(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function La(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var za=(Vi=La((Yi=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ia(this,"id",zi()),Ca(this,"type",Vi,this),Ca(this,"sourceNodeId",Wi,this),Ca(this,"targetNodeId",Ki,this),Ca(this,"startPoint",$i,this),Ca(this,"endPoint",Zi,this),Ca(this,"text",qi,this),Ca(this,"properties",Ji,this),Ca(this,"points",Qi,this),Ca(this,"pointsList",ta,this),Ca(this,"isSelected",ea,this),Ca(this,"isHovered",ra,this),Ca(this,"isHitable",na,this),Ca(this,"draggable",oa,this),Ca(this,"visible",ia,this),Ia(this,"graphModel",void 0),Ca(this,"zIndex",aa,this),Ia(this,"BaseType",to.EDGE),Ia(this,"modelType",Qn.EDGE),Ca(this,"state",ua,this),Ia(this,"additionStateData",void 0),Ia(this,"sourceAnchorId",""),Ia(this,"targetAnchorId",""),Ia(this,"menu",void 0),Ia(this,"customTextPosition",!1),Ia(this,"animationData",Pa),this.graphModel=r,this.initEdgeData(e),this.setAttributes(),this.setAnchors(),this.initPoints(),this.formatText(e)}var e,r,n;return e=t,(r=[{key:"initEdgeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var e=this.graphModel.idGenerator,r=e&&e(t.type);r&&(t.id=r);var n=this.createId();n&&(t.id=n)}wn(this,nc(t)),this.graphModel.overlapMode===ao.INCREASE&&(this.zIndex=t.zIndex||Ta())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.baseEdge;return ii(t)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.edgeText;return ii(t)}},{key:"getAnimation",value:function(){var t=this.animationData;return ii(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return ii(t)}},{key:"getTextPosition",value:function(){return{x:0,y:0}}},{key:"sourceNode",get:function(){var t,e;return null===(t=this.graphModel)||void 0===t||null===(e=t.nodesMap[this.sourceNodeId])||void 0===e?void 0:e.model}},{key:"targetNode",get:function(){var t,e;return null===(t=this.graphModel)||void 0===t||null===(e=t.nodesMap[this.targetNodeId])||void 0===e?void 0:e.model}},{key:"textPosition",get:function(){return this.getTextPosition()}},{key:"getBeginAnchor",value:function(t,e){var r,n;return ca(t).forEach((function(t){var o=oc(t,e);n?o<n&&(n=o,r=t):(n=o,r=t)})),r}},{key:"getEndAnchor",value:function(t){var e,r,n=this;return ca(t).forEach((function(t){var o=oc(t,n.startPoint);r?o<r&&(r=o,e=t):(r=o,e=t)})),e}},{key:"getProperties",value:function(){return Object(o.I)(this.properties)}},{key:"getData",value:function(){var t=this.text,e=t.x,r=t.y,n=t.value,i={id:this.id,type:this.type,sourceNodeId:this.sourceNode.id,targetNodeId:this.targetNode.id,startPoint:Object.assign({},this.startPoint),endPoint:Object.assign({},this.endPoint),properties:Object(o.I)(this.properties)};return n&&(i.text={x:e,y:r,value:n}),this.graphModel.overlapMode===ao.INCREASE&&(i.zIndex=this.zIndex),i}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"setProperty",value:function(t,e){this.properties[t]=ka(e),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Na(Na({},this.properties),ka(t)),this.setAttributes()}},{key:"formatText",value:function(t){var e=this.textPosition,r=e.x,n=e.y;t.text&&"string"!=typeof t.text?"[object Object]"===Object.prototype.toString.call(t.text)&&(this.text={x:t.text.x||r,y:t.text.y||n,value:t.text.value||"",draggable:this.text.draggable,editable:this.text.editable}):this.text={value:t.text||"",x:r,y:n,draggable:this.text.draggable,editable:this.text.editable}}},{key:"resetTextPosition",value:function(){var t=this.textPosition,e=t.x,r=t.y;this.text.x=e,this.text.y=r}},{key:"moveText",value:function(t,e){if(this.text){var r=this.text,n=r.x,o=r.y,i=r.value,a=r.draggable,u=r.editable;this.text={value:i,draggable:a,x:n+t,y:o+e,editable:u}}}},{key:"setText",value:function(t){t&&wn(this.text,t)}},{key:"updateText",value:function(t){this.text=Na(Na({},this.text),{},{value:t})}},{key:"setAnchors",value:function(){if(!this.sourceAnchorId||!this.startPoint){var t=this.getBeginAnchor(this.sourceNode,this.targetNode);this.startPoint||(this.startPoint={x:t.x,y:t.y}),this.sourceAnchorId||(this.sourceAnchorId=t.id)}if(!this.targetAnchorId||!this.endPoint){var e=this.getEndAnchor(this.targetNode);this.endPoint||(this.endPoint={x:e.x,y:e.y}),this.targetAnchorId||(this.targetAnchorId=e.id)}}},{key:"setSelected",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=t}},{key:"setHovered",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=t}},{key:"setHitable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=t}},{key:"setElementState",value:function(t,e){this.state=t,this.additionStateData=e}},{key:"updateStartPoint",value:function(t){this.startPoint=t}},{key:"moveStartPoint",value:function(t,e){this.startPoint.x+=t,this.startPoint.y+=e}},{key:"updateEndPoint",value:function(t){this.endPoint=t}},{key:"moveEndPoint",value:function(t,e){this.endPoint.x+=t,this.endPoint.y+=e}},{key:"setZIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.zIndex=t}},{key:"initPoints",value:function(){}},{key:"updateAttributes",value:function(t){wn(this,t)}},{key:"getAdjustStart",value:function(){return this.startPoint}},{key:"getAdjustEnd",value:function(){return this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,r=t.endPoint;this.updateStartPoint({x:e.x,y:e.y}),this.updateEndPoint({x:r.x,y:r.y})}}])&&Ra(e.prototype,r),n&&Ra(e,n),t}()).prototype,"type",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Wi=La(Yi.prototype,"sourceNodeId",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ki=La(Yi.prototype,"targetNodeId",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$i=La(Yi.prototype,"startPoint",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Zi=La(Yi.prototype,"endPoint",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qi=La(Yi.prototype,"text",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),Ji=La(Yi.prototype,"properties",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),Qi=La(Yi.prototype,"points",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ta=La(Yi.prototype,"pointsList",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ea=La(Yi.prototype,"isSelected",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ra=La(Yi.prototype,"isHovered",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),na=La(Yi.prototype,"isHitable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),oa=La(Yi.prototype,"draggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ia=La(Yi.prototype,"visible",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),aa=La(Yi.prototype,"zIndex",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),ua=La(Yi.prototype,"state",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),La(Yi.prototype,"sourceNode",[o.m],Object.getOwnPropertyDescriptor(Yi.prototype,"sourceNode"),Yi.prototype),La(Yi.prototype,"targetNode",[o.m],Object.getOwnPropertyDescriptor(Yi.prototype,"targetNode"),Yi.prototype),La(Yi.prototype,"textPosition",[o.m],Object.getOwnPropertyDescriptor(Yi.prototype,"textPosition"),Yi.prototype),La(Yi.prototype,"setProperty",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"setProperty"),Yi.prototype),La(Yi.prototype,"setProperties",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"setProperties"),Yi.prototype),La(Yi.prototype,"formatText",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"formatText"),Yi.prototype),La(Yi.prototype,"resetTextPosition",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"resetTextPosition"),Yi.prototype),La(Yi.prototype,"moveText",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"moveText"),Yi.prototype),La(Yi.prototype,"setText",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"setText"),Yi.prototype),La(Yi.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"updateText"),Yi.prototype),La(Yi.prototype,"setAnchors",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"setAnchors"),Yi.prototype),La(Yi.prototype,"setSelected",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"setSelected"),Yi.prototype),La(Yi.prototype,"setHovered",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"setHovered"),Yi.prototype),La(Yi.prototype,"setHitable",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"setHitable"),Yi.prototype),La(Yi.prototype,"setElementState",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"setElementState"),Yi.prototype),La(Yi.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"updateStartPoint"),Yi.prototype),La(Yi.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"moveStartPoint"),Yi.prototype),La(Yi.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"updateEndPoint"),Yi.prototype),La(Yi.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"moveEndPoint"),Yi.prototype),La(Yi.prototype,"setZIndex",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"setZIndex"),Yi.prototype),La(Yi.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"initPoints"),Yi.prototype),La(Yi.prototype,"updateAttributes",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"updateAttributes"),Yi.prototype),La(Yi.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"getAdjustStart"),Yi.prototype),La(Yi.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"getAdjustEnd"),Yi.prototype),La(Yi.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(Yi.prototype,"updateAfterAdjustStartAndEnd"),Yi.prototype),Yi),Ba=za;function Ha(t){return(Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Xa(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ua(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Xa(Object(r),!0).forEach((function(e){Ja(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xa(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ga(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fa(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ya(){return(Ya="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=Va(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function Va(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=qa(t)););return t}function Wa(t,e){return(Wa=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ka(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=qa(t);if(e){var o=qa(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $a(this,r)}}function $a(t,e){if(e&&("object"===Ha(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Za(t)}function Za(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qa(t){return(qa=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Ja(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Qa,tu,eu=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wa(t,e)}(i,t);var e,r,n,o=Ka(i);function i(){var t;Ga(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Ja(Za(t=o.call.apply(o,[this].concat(r))),"modelType",Qn.LINE_EDGE),t}return e=i,(r=[{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.line;return Ua(Ua({},Ya(qa(i.prototype),"getEdgeStyle",this).call(this)),ii(t))}},{key:"getTextPosition",value:function(){return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}}])&&Fa(e.prototype,r),n&&Fa(e,n),i}(Ba);function ru(t){return(ru="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function nu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ou(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ou(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ou(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function au(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?iu(Object(r),!0).forEach((function(e){gu(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function uu(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function cu(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function su(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function lu(){return(lu="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=fu(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function fu(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=vu(t)););return t}function pu(t,e){return(pu=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function du(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=vu(t);if(e){var o=vu(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return yu(this,r)}}function yu(t,e){if(e&&("object"===ru(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return hu(t)}function hu(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vu(t){return(vu=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function gu(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bu(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var mu=(tu=bu((Qa=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&pu(t,e)}(i,t);var e,r,n,o=du(i);function i(){var t;cu(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return gu(hu(t=o.call.apply(o,[this].concat(r))),"modelType",Qn.POLYLINE_EDGE),gu(hu(t),"draginngPointList",void 0),uu(hu(t),"dbClickPosition",tu,hu(t)),t}return e=i,(r=[{key:"initEdgeData",value:function(t){this.offset=30,lu(vu(i.prototype),"initEdgeData",this).call(this,t)}},{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.polyline;return au(au({},lu(vu(i.prototype),"getEdgeStyle",this).call(this)),ii(t))}},{key:"getTextPosition",value:function(){var t,e=null===(t=this.text)||void 0===t?void 0:t.value;if(this.dbClickPosition&&!e){var r=this.dbClickPosition;return{x:r.x,y:r.y}}var n=$u(this.points),o=nu(Fu(n),2),i=o[0],a=o[1];return{x:(i.x+a.x)/2,y:(i.y+a.y)/2}}},{key:"getAfterAnchor",value:function(t,e,r){var n,o;return r.forEach((function(r){var i;t===ro.HORIZONTAL?i=Math.abs(e.y-r.y):t===ro.VERTICAL&&(i=Math.abs(e.x-r.x)),(!o||o>i)&&(o=i,n=r)})),n}},{key:"getCorssPoint",value:function(t,e,r){var n;return t===ro.HORIZONTAL?n={x:r.x,y:e.y}:t===ro.VERTICAL&&(n={x:e.x,y:r.y}),n}},{key:"removeCrossPoints",value:function(t,e,r){var n=r.map((function(t){return t}));if(1===t){var o=n[t],i=n[e],a=n[t-1];if(Yu(a,o,this.sourceNode)){if(Vu(o,i,this.sourceNode)){var u=Wu(o,i,this.sourceNode);u&&(n[t]=u,n.splice(t-1,1),t--,e--)}}else this.sourceNode.anchors.forEach((function(e){(e.x===a.x&&e.x===o.x||e.y===a.y&&e.y===o.y)&&pa(e.x,e.y,o.x,o.y)<pa(a.x,a.y,o.x,o.y)&&(n[t-1]=e)}))}if(e===r.length-2){var c=n[t],s=n[e],l=n[e+1];if(Yu(s,l,this.targetNode)){if(Vu(c,s,this.targetNode)){var f=Wu(c,s,this.targetNode);f&&(n[e]=f,n.splice(e+1,1))}}else this.targetNode.anchors.forEach((function(t){(t.x===l.x&&t.x===s.x||t.y===l.y&&t.y===s.y)&&pa(t.x,t.y,s.x,s.y)<pa(l.x,l.y,s.x,s.y)&&(n[e+1]=t)}))}return n}},{key:"getDragingPoints",value:function(t,e,r,n,o){var i=o.map((function(t){return t})),a=this.getAfterAnchor(t,r,n),u=this.getCorssPoint(t,r,a);return"start"===e?(i.unshift(u),i.unshift(a)):(i.push(u),i.push(a)),i}},{key:"updateCrossPoints",value:function(t){var e=t.map((function(t){return t})),r=t[0],n=t[1],o=t[e.length-2],i=t[e.length-1],a=this.sourceNode,u=this.targetNode,c=a.modelType,s=u.modelType,l=Ku(r,n),f=e[0];switch(c){case Qn.RECT_NODE:0!==a.radius&&(ba(r,a)||(f=va(r,l,a)));break;case Qn.CIRCLE_NODE:f=ga(r,l,a);break;case Qn.ELLIPSE_NODE:f=ma(r,l,a);break;case Qn.DIAMOND_NODE:case Qn.POLYGON_NODE:f=Oa(r,l,a)}e[0]=f;var p=Ku(o,i),d=e[e.length-1];switch(s){case Qn.RECT_NODE:0!==u.radius&&(ba(i,u)||(d=va(i,p,u)));break;case Qn.CIRCLE_NODE:d=ga(i,p,u);break;case Qn.ELLIPSE_NODE:d=ma(i,p,u);break;case Qn.DIAMOND_NODE:case Qn.POLYGON_NODE:d=Oa(i,p,u)}return e[e.length-1]=d,e}},{key:"getData",value:function(){var t=lu(vu(i.prototype),"getData",this).call(this),e=this.pointsList.map((function(t){return{x:t.x,y:t.y}}));return Object.assign({},t,{pointsList:e})}},{key:"initPoints",value:function(){this.pointsList.length>0?this.points=this.pointsList.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" "):this.updatePoints()}},{key:"updatePoints",value:function(){var t=Gu({x:this.startPoint.x,y:this.startPoint.y},{x:this.endPoint.x,y:this.endPoint.y},this.sourceNode,this.targetNode,this.offset||0);this.pointsList=t,this.points=t.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"updateStartPoint",value:function(t){this.startPoint=t,this.updatePoints()}},{key:"moveStartPoint",value:function(t,e){this.startPoint.x+=t,this.startPoint.y+=e,this.updatePoints()}},{key:"updateEndPoint",value:function(t){this.endPoint=t,this.updatePoints()}},{key:"moveEndPoint",value:function(t,e){this.endPoint.x+=t,this.endPoint.y+=e,this.updatePoints()}},{key:"dragAppendStart",value:function(){this.draginngPointList=this.pointsList.map((function(t){return t}))}},{key:"dragAppendSimple",value:function(t,e){this.isDragging=!0;var r=t.start,n=t.end,o=t.startIndex,i=t.endIndex,a=t.direction,u=this.pointsList,c=u;return a===ro.HORIZONTAL?(u[o]={x:r.x,y:r.y+e.y},u[i]={x:n.x,y:n.y+e.y},c=this.pointsList.map((function(t){return t}))):a===ro.VERTICAL&&(u[o]={x:r.x+e.x,y:r.y},u[i]={x:n.x+e.x,y:n.y},c=this.pointsList.map((function(t){return t}))),this.updatePointsAfterDrage(c),this.draginngPointList=c,this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},u[o]),end:Object.assign({},u[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppend",value:function(t,e){this.isDragging=!0;var r=t.start,n=t.end,o=t.startIndex,i=t.endIndex,a=t.direction,u=this.pointsList;if(a===ro.HORIZONTAL){u[o]={x:r.x,y:r.y+e.y},u[i]={x:n.x,y:n.y+e.y};var c=this.pointsList.map((function(t){return t}));if(0!==o&&i!==this.pointsList.length-1&&(c=this.removeCrossPoints(o,i,c)),0===o){var s={x:r.x,y:r.y+e.y};if(!da(s,this.sourceNode)){var l=this.sourceNode.anchors;c=this.getDragingPoints(a,"start",s,l,c)}}if(i===this.pointsList.length-1){var f={x:n.x,y:n.y+e.y};if(!da(f,this.targetNode)){var p=this.targetNode.anchors;c=this.getDragingPoints(a,"end",f,p,c)}}c=Uu(c),this.updatePointsAfterDrage(c),this.draginngPointList=c}else if(a===ro.VERTICAL){u[o]={x:r.x+e.x,y:r.y},u[i]={x:n.x+e.x,y:n.y};var d=this.pointsList.map((function(t){return t}));if(0!==o&&i!==this.pointsList.length-1&&(d=this.removeCrossPoints(o,i,d)),0===o){var y={x:r.x+e.x,y:r.y};if(!da(y,this.sourceNode)){var h=this.sourceNode.anchors;d=this.getDragingPoints(a,"start",y,h,d)}}if(i===this.pointsList.length-1){var v={x:n.x+e.x,y:n.y};if(!da(v,this.targetNode)){var g=this.targetNode.anchors;d=this.getDragingPoints(a,"end",v,g,d)}}d=Uu(d),this.updatePointsAfterDrage(d),this.draginngPointList=d}return this.setText(Object.assign({},this.text,this.textPosition)),{start:Object.assign({},u[o]),end:Object.assign({},u[i]),startIndex:o,endIndex:i,direction:a}}},{key:"dragAppendEnd",value:function(){if(this.draginngPointList){var t=$u(this.points);this.pointsList=t.map((function(t){return t})),this.draginngPointList=[];var e=t[0];this.startPoint=Object.assign({},e);var r=t[t.length-1];this.endPoint=Object.assign({},r)}this.isDragging=!1}},{key:"updatePointsAfterDrage",value:function(t){var e=this.updateCrossPoints(t);this.points=e.map((function(t){return"".concat(t.x,",").concat(t.y)})).join(" ")}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var t=this.pointsList;return t[t.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,r=t.endPoint,n=t.sourceNode,o=t.targetNode,i=Gu({x:e.x,y:e.y},{x:r.x,y:r.y},n,o,this.offset||0);this.pointsList=i,this.initPoints()}}])&&su(e.prototype,r),n&&su(e,n),i}(Ba)).prototype,"dbClickPosition",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bu(Qa.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor(Qa.prototype,"initPoints"),Qa.prototype),bu(Qa.prototype,"updatePoints",[o.k],Object.getOwnPropertyDescriptor(Qa.prototype,"updatePoints"),Qa.prototype),bu(Qa.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor(Qa.prototype,"updateStartPoint"),Qa.prototype),bu(Qa.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor(Qa.prototype,"moveStartPoint"),Qa.prototype),bu(Qa.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor(Qa.prototype,"updateEndPoint"),Qa.prototype),bu(Qa.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor(Qa.prototype,"moveEndPoint"),Qa.prototype),bu(Qa.prototype,"dragAppendStart",[o.k],Object.getOwnPropertyDescriptor(Qa.prototype,"dragAppendStart"),Qa.prototype),bu(Qa.prototype,"dragAppendSimple",[o.k],Object.getOwnPropertyDescriptor(Qa.prototype,"dragAppendSimple"),Qa.prototype),bu(Qa.prototype,"dragAppend",[o.k],Object.getOwnPropertyDescriptor(Qa.prototype,"dragAppend"),Qa.prototype),bu(Qa.prototype,"dragAppendEnd",[o.k],Object.getOwnPropertyDescriptor(Qa.prototype,"dragAppendEnd"),Qa.prototype),bu(Qa.prototype,"updatePointsAfterDrage",[o.k],Object.getOwnPropertyDescriptor(Qa.prototype,"updatePointsAfterDrage"),Qa.prototype),bu(Qa.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor(Qa.prototype,"getAdjustStart"),Qa.prototype),bu(Qa.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor(Qa.prototype,"getAdjustEnd"),Qa.prototype),bu(Qa.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor(Qa.prototype,"updateAfterAdjustStartAndEnd"),Qa.prototype),Qa),Ou=function(t){var e=t.start,r=t.end,n=t.offset,o=t.verticalLength,i=t.type,a={leftX:0,leftY:0,rightX:0,rightY:0},u=Math.atan((r.y-e.y)/(r.x-e.x)),c=Math.atan(n/o),s=Math.sqrt(o*o+n*n);return"start"===i?r.x>=e.x?(a.leftX=e.x+s*Math.sin(u+c),a.leftY=e.y-s*Math.cos(u+c),a.rightX=e.x-s*Math.sin(u-c),a.rightY=e.y+s*Math.cos(u-c)):(a.leftX=e.x-s*Math.sin(u+c),a.leftY=e.y+s*Math.cos(u+c),a.rightX=e.x+s*Math.sin(u-c),a.rightY=e.y-s*Math.cos(u-c)):"end"===i&&(r.x>=e.x?(a.leftX=r.x+s*Math.sin(u-c),a.leftY=r.y-s*Math.cos(u-c),a.rightX=r.x-s*Math.sin(u+c),a.rightY=r.y+s*Math.cos(u+c)):(a.leftX=r.x-s*Math.sin(u-c),a.leftY=r.y+s*Math.cos(u-c),a.rightX=r.x+s*Math.sin(u+c),a.rightY=r.y-s*Math.cos(u+c))),a};function wu(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function _u(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?wu(Object(r),!0).forEach((function(e){ju(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wu(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ju(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eu(t){return function(t){if(Array.isArray(t))return ku(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||Pu(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xu(t){return(xu="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Su(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||Pu(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pu(t,e){if(t){if("string"==typeof t)return ku(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ku(t,e):void 0}}function ku(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Au=function(t){var e=[],r={};return t.forEach((function(t){var e="".concat(t.x,"-").concat(t.y);t.id=e,r[e]=t})),Object.keys(r).forEach((function(t){e.push(r[t])})),e},Du=function(t,e){return 0===t.width&&0===t.height?t:{centerX:t.centerX,centerY:t.centerY,minX:t.minX-e,minY:t.minY-e,maxX:t.maxX+e,maxY:t.maxY+e,height:t.height+2*e,width:t.width+2*e}},Tu=function(t,e){return function(t,e){var r=Math.abs(t.x-e.centerX),n=Math.abs(t.y-e.centerY);return r/e.width>n/e.height?ro.HORIZONTAL:ro.VERTICAL}(e,t)===ro.HORIZONTAL?{x:e.x>t.centerX?t.maxX:t.minX,y:e.y}:{x:e.x,y:e.y>t.centerY?t.maxY:t.minY}},Mu=function(t,e){var r=Math.min(t.minX,e.minX),n=Math.min(t.minY,e.minY),o=Math.max(t.maxX,e.maxX),i=Math.max(t.maxY,e.maxY);return{centerX:(r+o)/2,centerY:(n+i)/2,minX:r,minY:n,maxX:o,maxY:i,height:i-n,width:o-r}},Nu=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r=[],n=[];t.forEach((function(t){r.push(t.x),n.push(t.y)}));var o=Math.min.apply(Math,r),i=Math.max.apply(Math,r),a=Math.min.apply(Math,n),u=Math.max.apply(Math,n),c=i-o,s=u-a;return e&&(c+=e,s+=e),{centerX:(o+i)/2,centerY:(a+u)/2,maxX:i,maxY:u,minX:o,minY:a,x:(o+i)/2,y:(a+u)/2,height:s,width:c}},Cu=function(t){var e=t.minX,r=t.minY,n=t.maxX,o=t.maxY;return[{x:e,y:r},{x:n,y:r},{x:n,y:o},{x:e,y:o}]},Ru=function(t,e){var r=t.x,n=t.y;return r<e.minX||r>e.maxX||n<e.minY||n>e.maxY},Iu=function(t,e){return Math.abs(t.x-e.x)+Math.abs(t.y-e.y)},Lu=function(t,e,r,n,o){return Iu(t,e)+Iu(t,r)+function(t,e){var r=0;return e.forEach((function(e){e&&(t.x===e.x&&(r+=-2),t.y===e.y&&(r+=-2))})),r}(t,[e,r,n,o])},zu=function(t,e,r,n){var o=e.x-t.x,i=e.y-t.y,a=n.x-r.x,u=n.y-r.y,c=(-i*(t.x-r.x)+o*(t.y-r.y))/(-a*i+o*u),s=(a*(t.y-r.y)-u*(t.x-r.x))/(-a*i+o*u);return c>=0&&c<=1&&s>=0&&s<=1},Bu=function(t,e,r){if(0===r.width&&0===r.height)return!1;var n=Su(Cu(r),4),o=n[0],i=n[1],a=n[2],u=n[3];return zu(t,e,o,i)||zu(t,e,o,u)||zu(t,e,i,a)||zu(t,e,a,u)},Hu=function(t,e,r,n,o,i,a){var u=[],c=[e],s={},l={},f={};l[e.id]=0,f[e.id]=Lu(e,r,e);var p={};t.forEach((function(t){p[t.id]=t}));for(var d=function(){var d,y,h,v=void 0,g=1/0;if(c.forEach((function(t){f[t.id]<g&&(g=f[t.id],v=t)})),v===r){var b=[];return function t(e,r,n,o,i){i||(i=0),e.unshift(r[o]),n[o]&&n[o]!==o&&i<=100&&t(e,r,n,n[o],i+1)}(b,p,s,r.id),{v:b}}y=v,(h=(d=c).indexOf(y))>-1&&d.splice(h,1),u.push(v),function(t,e,r,n){var o=[];return t.forEach((function(t){t!==e&&(t.x!==e.x&&t.y!==e.y||Bu(t,e,r)||Bu(t,e,n)||o.push(t))})),Au(o)}(t,v,n,o).forEach((function(t){if(-1===u.indexOf(t)){-1===c.indexOf(t)&&c.push(t);var n=f[v.id]+Iu(v,t);l[t.id]&&n>=l[t.id]||(s[t.id]=v.id,l[t.id]=n,f[t.id]=l[t.id]+Lu(t,r,e,i,a))}}))};c.length;){var y=d();if("object"===xu(y))return y.v}return[e,r]},Xu=function(t){return ha(t)},Uu=function(t){for(var e=t,r=1;r<e.length-1;){var n=e[r-1],o=e[r],i=e[r+1];n.x===o.x&&o.x===i.x||n.y===o.y&&o.y===i.y?e.splice(r,1):r++}return e},Gu=function(t,e,r,n,o){var i,a,u=Xu(r),c=Xu(n),s=Du(u,o),l=Du(c,o),f=Tu(s,t),p=Tu(l,e);if(i=s,a=l,2*Math.abs(i.centerX-a.centerX)<i.width+a.width&&2*Math.abs(i.centerY-a.centerY)<i.height+a.height){var d=Zu(t,e,f,p);return[t,f].concat(Eu(d),[p,e])}var y=Nu([f,p]),h=Mu(s,y),v=Mu(l,y),g=[];g=(g=g.concat(Cu(h))).concat(Cu(v));var b={x:(t.x+e.x)/2,y:(t.y+e.y)/2};[y,h,v].forEach((function(t){g=g.concat(function(t,e){return function(t,e){return e<t.minX||e>t.maxX?[]:[{x:e,y:t.minY},{x:e,y:t.maxY}]}(t,e.x).concat(function(t,e){return e<t.minY||e>t.maxY?[]:[{x:t.minX,y:e},{x:t.maxX,y:e}]}(t,e.y))}(t,b).filter((function(t){return Ru(t,s)&&Ru(t,l)})))})),[{x:f.x,y:p.y},{x:p.x,y:f.y}].forEach((function(t){Ru(t,s)&&Ru(t,l)&&g.push(t)})),g.unshift(f),g.push(p),g=Au(g);var m=Hu(g,f,p,u,c,t,e);return m.unshift(t),m.push(e),m.length>2&&(m=Uu(m)),Au(m)},Fu=function(t){var e;if(1===t.length)e=[t[0],t[0]];else if(t.length>=2){for(var r=t[0],n=t[1],o=pa(r.x,r.y,n.x,n.y),i=1;i<t.length-1;i++){var a=t[i],u=t[i+1],c=pa(a.x,a.y,u.x,u.y);c>o&&(o=c,r=a,n=u)}e=[r,n]}return e},Yu=function(t,e,r){var n=da(t,r),o=da(e,r);return n&&o},Vu=function(t,e,r){var n=da(t,r),o=da(e,r);return!(n&&o)&&(n||o)},Wu=function(t,e,r){for(var n,o,i=ha(r),a=Cu(i),u=0;u<a.length;u++){zu(t,e,a[u],a[(u+1)%a.length])&&(o=[a[u],a[(u+1)%a.length]])}return o&&(n=function(t,e,r,n){var o=(e.y-t.y)*(n.x-r.x)-(t.x-e.x)*(r.y-n.y);if(0===o)return!1;var i=((e.x-t.x)*(n.x-r.x)*(r.y-t.y)+(e.y-t.y)*(n.x-r.x)*t.x-(n.y-r.y)*(e.x-t.x)*r.x)/o,a=-((e.y-t.y)*(n.y-r.y)*(r.x-t.x)+(e.x-t.x)*(n.y-r.y)*t.y-(n.x-r.x)*(e.y-t.y)*r.y)/o;return(i-t.x)*(i-e.x)<=0&&(a-t.y)*(a-e.y)<=0&&(i-r.x)*(i-n.x)<=0&&(a-r.y)*(a-n.y)<=0&&{x:i,y:a}}(t,e,o[0],o[1])),n},Ku=function(t,e){var r;return t.x===e.x?r=ro.VERTICAL:t.y===e.y&&(r=ro.HORIZONTAL),r},$u=function(t){var e=t.split(" "),r=[];return e&&e.forEach((function(t){var e=Su(t.split(","),2),n=e[0],o=e[1];r.push({x:Number(n),y:Number(o)})})),r},Zu=function(t,e,r,n){var o=[];if(Ku(t,r)===Ku(e,n))t.y===r.y?(o.push({x:r.x,y:(r.y+n.y)/2}),o.push({x:n.x,y:(r.y+n.y)/2})):(o.push({x:(r.x+n.x)/2,y:r.y}),o.push({x:(r.x+n.x)/2,y:n.y}));else{var i={x:r.x,y:n.y},a=Hi(i,t,r),u=Hi(i,e,n);if(a||u)i={x:n.x,y:r.y};else{var c=qu(i,t,r),s=qu(i,e,n);c&&s&&(i={x:n.x,y:r.y})}o.push(i)}return o},qu=function(t,e,r){return t.x===e.x&&t.x===r.x||t.y===e.y&&t.y===r.y},Ju=function(t){if(!t)return 0;for(var e=0,r=0;r<t.length;r++){var n=t.charCodeAt(r);t.match(/[A-Z]/)?e+=1.5:e+=n>=1&&n<=126||n>=65376&&n<=65439?1:2}return e},Qu=function(t){var e=t.start,r=t.end,n=t.sourceNode,o=t.targetNode,i=t.offset,a=ha(n),u=ha(o),c=Du(a,i),s=Du(u,i);return{sNext:Tu(c,e),ePre:Tu(s,r)}},tc=function(t){var e=t.replace(/M/g,"").replace(/C/g,",").split(",");return[ec(e[0]),ec(e[1]),ec(e[2]),ec(e[3])]},ec=function(t){var e=Su(t.replace(/(^\s*)/g,"").split(" "),2);return{x:+e[0],y:+e[1]}},rc=function(t,e){for(var r,n=t.x,o=t.y,i=$u(e),a=Number.MAX_SAFE_INTEGER,u=[],c=0;c<i.length;c++)u.push({start:i[c],end:i[(c+1)%i.length]});if(u.forEach((function(t){var e=t.start,i=t.end;if(e.x===i.x){var u={x:e.x,y:o};if(Hi(u,e,i)){var c=Math.abs(e.x-n);c<a&&(a=c,r=u)}}else if(e.y===i.y){var s={x:n,y:e.y};if(Hi(s,e,i)){var l=Math.abs(e.y-o);l<a&&(a=l,r=s)}}})),!r){var s=u[0],l=s.start,f=s.end;r={x:l.x+(f.x-l.x)/2,y:l.y+(f.y-l.y)/2}}return r},nc=function(t){return Vn(t,["id","type","sourceNodeId","sourceAnchorId","targetNodeId","targetAnchorId","pointsList","startPoint","endPoint","properties"])},oc=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};var ic=function(){};function ac(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function uc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var cc=window.document;function sc(t){var e=t.onDragStart,r=void 0===e?ic:e,n=t.onDraging,o=void 0===n?ic:n,i=t.onDragEnd,a=void 0===i?ic:i,u=t.step,c=void 0===u?1:u,s=t.isStopPropagation,l=void 0===s||s,f=!1,p=!1,d=0,y=0,h=0,v=0;function g(t){if(l&&t.stopPropagation(),p&&(f=!0,h+=t.clientX-d,v+=t.clientY-y,d=t.clientX,y=t.clientY,Math.abs(h)>c||Math.abs(v)>c)){var e=h%c,r=v%c,n=h-e,i=v-r;h=e,v=r,o({deltaX:n,deltaY:i,event:t})}}function b(t){if(l&&t.stopPropagation(),p=!1,cc.removeEventListener("mousemove",g,!1),cc.removeEventListener("mouseup",b,!1),f)return f=!1,a({event:t})}return function(t){if(0===t.button)return l&&t.stopPropagation(),p=!0,d=t.clientX,y=t.clientY,cc.addEventListener("mousemove",g,!1),cc.addEventListener("mouseup",b,!1),r({event:t})}}var lc,fc,pc,dc,yc,hc,vc,gc,bc,mc,Oc,wc,_c,jc=function(){function t(e){var r=this,n=e.onDragStart,o=void 0===n?ic:n,i=e.onDraging,a=void 0===i?ic:i,u=e.onDragEnd,c=void 0===u?ic:u,s=e.eventType,l=void 0===s?"":s,f=e.eventCenter,p=void 0===f?null:f,d=e.step,y=void 0===d?1:d,h=e.isStopPropagation,v=void 0===h||h,g=e.model,b=void 0===g?null:g;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),uc(this,"onDragStart",void 0),uc(this,"onDraging",void 0),uc(this,"onDragEnd",void 0),uc(this,"step",void 0),uc(this,"isStopPropagation",void 0),uc(this,"isDraging",!1),uc(this,"isStartDraging",!1),uc(this,"startX",0),uc(this,"startY",0),uc(this,"sumDeltaX",0),uc(this,"sumDeltaY",0),uc(this,"eventType",void 0),uc(this,"eventCenter",void 0),uc(this,"model",void 0),uc(this,"startTime",void 0),uc(this,"isGrag",void 0),uc(this,"handleMouseDown",(function(t){var e,n;if(0===t.button){r.isStopPropagation&&t.stopPropagation(),r.isStartDraging=!0,r.startX=t.clientX,r.startY=t.clientY,cc.addEventListener("mousemove",r.handleMouseMove,!1),cc.addEventListener("mouseup",r.handleMouseUp,!1);var o=null===(e=r.model)||void 0===e?void 0:e.getData();null===(n=r.eventCenter)||void 0===n||n.emit(eo["".concat(r.eventType,"_MOUSEDOWN")],{e:t,data:o}),r.startTime=(new Date).getTime()}})),uc(this,"handleMouseMove",(function(t){if(r.isStopPropagation&&t.stopPropagation(),r.isStartDraging&&(r.sumDeltaX+=t.clientX-r.startX,r.sumDeltaY+=t.clientY-r.startY,r.startX=t.clientX,r.startY=t.clientY,r.step<=1||Math.abs(r.sumDeltaX)>r.step||Math.abs(r.sumDeltaY)>r.step)){var e,n=r.sumDeltaX%r.step,o=r.sumDeltaY%r.step,i=r.sumDeltaX-n,a=r.sumDeltaY-o;r.sumDeltaX=n,r.sumDeltaY=o;var u,c=null===(e=r.model)||void 0===e?void 0:e.getData();if(!r.isDraging)null===(u=r.eventCenter)||void 0===u||u.emit(eo["".concat(r.eventType,"_DRAGSTART")],{e:t,data:c}),r.onDragStart({event:t});r.isDraging=!0,setTimeout((function(){var e,n;r.onDraging({deltaX:i,deltaY:a,event:t}),null===(e=r.eventCenter)||void 0===e||e.emit(eo["".concat(r.eventType,"_MOUSEMOVE")],{e:t,data:c}),null===(n=r.eventCenter)||void 0===n||n.emit(eo["".concat(r.eventType,"_DRAG")],{e:t,data:c})}),0)}})),uc(this,"handleMouseUp",(function(t){var e,n,o;r.isStartDraging=!1,r.isStopPropagation&&t.stopPropagation(),cc.removeEventListener("mousemove",r.handleMouseMove,!1),cc.removeEventListener("mouseup",r.handleMouseUp,!1);var i=null===(e=r.model)||void 0===e?void 0:e.getData();null===(n=r.eventCenter)||void 0===n||n.emit(eo["".concat(r.eventType,"_MOUSEUP")],{e:t,data:i}),r.isDraging&&(r.isDraging=!1,r.onDragEnd({event:t}),null===(o=r.eventCenter)||void 0===o||o.emit(eo["".concat(r.eventType,"_DROP")],{e:t,data:i}))})),uc(this,"cancelDrag",(function(){cc.removeEventListener("mousemove",r.handleMouseMove,!1),cc.removeEventListener("mouseup",r.handleMouseUp,!1),r.isDraging=!1})),this.onDragStart=o,this.onDraging=a,this.onDragEnd=c,this.step=y,this.isStopPropagation=v,this.eventType=l,this.eventCenter=p,this.model=b}var e,r,n;return e=t,(r=[{key:"setStep",value:function(t){this.step=t}}])&&ac(e.prototype,r),n&&ac(e,n),t}();function Ec(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function xc(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ec(Object(r),!0).forEach((function(e){Nc(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ec(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Sc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||kc(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pc(t){return function(t){if(Array.isArray(t))return Ac(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||kc(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kc(t,e){if(t){if("string"==typeof t)return Ac(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Ac(t,e):void 0}}function Ac(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Dc(t){return(Dc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Tc(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Mc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Nc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cc(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Rc,Ic=(fc=Cc((lc=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Nc(this,"rootEl",void 0),Tc(this,"width",fc,this),Tc(this,"height",pc,this),Nc(this,"theme",void 0),Nc(this,"eventCenter",void 0),Nc(this,"modelMap",new Map),Nc(this,"topElement",void 0),Nc(this,"animation",void 0),Nc(this,"idGenerator",void 0),Nc(this,"nodeMoveRules",[]),Tc(this,"edgeType",dc,this),Tc(this,"nodes",yc,this),Tc(this,"edges",hc,this),Tc(this,"overlapMode",vc,this),Tc(this,"background",gc,this),Tc(this,"transformModel",bc,this),Tc(this,"editConfigModel",mc,this),Tc(this,"gridSize",Oc,this),Tc(this,"partial",wc,this),Tc(this,"fakerNode",_c,this);var r,n=e.container,o=e.background,i=void 0===o?{}:o,a=e.grid,u=e.width,c=e.height,s=e.idGenerator,l=e.animation;this.background=i,"object"===Dc(a)&&(this.gridSize=a.size),this.rootEl=n,this.editConfigModel=new io(e),this.eventCenter=new _i,this.transformModel=new _o(this.eventCenter),this.theme=Oi(e.style),this.edgeType=e.edgeType||"polyline",this.width=null!=u?u:n.getBoundingClientRect().width,this.height=null!=c?c:n.getBoundingClientRect().height,this.animation=(r=l)&&"boolean"!=typeof r?bi(ii(xa),r):ii(!0===r?Sa:xa),this.partial=e.partial,this.overlapMode=e.overlapMode||0,this.idGenerator=s}var e,r,n;return e=t,(r=[{key:"nodesMap",get:function(){return this.nodes.reduce((function(t,e,r){return t[e.id]={index:r,model:e},t}),{})}},{key:"edgesMap",get:function(){return this.edges.reduce((function(t,e,r){return t[e.id]={index:r,model:e},t}),{})}},{key:"modelsMap",get:function(){return[].concat(Pc(this.nodes),Pc(this.edges)).reduce((function(t,e){return t[e.id]=e,t}),{})}},{key:"sortElements",get:function(){var t=[];this.nodes.forEach((function(e){return t.push(e)})),this.edges.forEach((function(e){return t.push(e)})),t=t.sort((function(t,e){return t.zIndex-e.zIndex}));for(var e=[],r=-1,n=[-200,-200],o=[this.width+200,this.height+200],i=0;i<t.length;i++){var a=t[i];a.visible&&(!this.partial||a.isSelected||this.isElementInArea(a,n,o,!1,!1))&&(9999===a.zIndex&&(r=e.length),e.push(a))}if(-1!==r){var u=e[e.length-1];e[e.length-1]=e[r],e[r]=u}return e}},{key:"textEditElement",get:function(){var t=this.nodes.find((function(t){return t.state===qn.TEXT_EDIT})),e=this.edges.find((function(t){return t.state===qn.TEXT_EDIT}));return t||e}},{key:"selectElements",get:function(){var t=new Map;return this.nodes.forEach((function(e){e.isSelected&&t.set(e.id,e)})),this.edges.forEach((function(e){e.isSelected&&t.set(e.id,e)})),t}},{key:"getAreaElement",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=[],i=[];this.nodes.forEach((function(t){return i.push(t)})),this.edges.forEach((function(t){return i.push(t)}));for(var a=0;a<i.length;a++){var u=i[a];this.isElementInArea(u,t,e,r,n)&&o.push(u)}return o}},{key:"getModel",value:function(t){return this.modelMap.get(t)}},{key:"getNodeModelById",value:function(t){var e;return this.fakerNode&&t===this.fakerNode.id?this.fakerNode:null===(e=this.nodesMap[t])||void 0===e?void 0:e.model}},{key:"getPointByClient",value:function(t){var e=t.x,r=t.y,n=this.rootEl.getBoundingClientRect(),o={x:e-n.left,y:r-n.top},i=Sc(this.transformModel.HtmlPointToCanvasPoint([o.x,o.y]),2);return{domOverlayPosition:o,canvasOverlayPosition:{x:i[0],y:i[1]}}}},{key:"isElementInArea",value:function(t,e,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(t.BaseType===to.NODE){for(var i=ha(t=t),a=i.minX,u=i.minY,c=i.maxX,s=i.maxY,l=[{x:a,y:u},{x:c,y:u},{x:c,y:s},{x:a,y:s}],f=o,p=0;p<l.length;p++){var d=l[p],y=d.x,h=d.y,v=this.transformModel.CanvasPointToHtmlPoint([y,h]),g=Sc(v,2);if(y=g[0],h=g[1],ki([y,h],e,r)!==o){f=!o;break}}return f}if(t.BaseType===to.EDGE){var b=t=t,m=b.startPoint,O=b.endPoint,w=this.transformModel.CanvasPointToHtmlPoint([m.x,m.y]),_=this.transformModel.CanvasPointToHtmlPoint([O.x,O.y]),j=ki(w,e,r),E=ki(_,e,r);return n?j&&E:j||E}return!1}},{key:"graphDataToModel",value:function(t){var e=this;this.nodes=nn(t.nodes,(function(t){var r=e.getModel(t.type);if(!r)throw new Error("".concat(t.type,""));var n=t.x,o=t.y;return n&&o&&(t.x=ji(n,e.gridSize),t.y=ji(o,e.gridSize),"object"===Dc(t.text)&&(t.text.x-=Ei(n,e.gridSize),t.text.y-=Ei(o,e.gridSize))),new r(t,e)})),this.edges=nn(t.edges,(function(t){var r=e.getModel(t.type);if(!r)throw new Error("".concat(t.type,""));return new r(t,e)}))}},{key:"modelToGraphData",value:function(){var t=[];this.edges.forEach((function(e){var r=e.getData();r&&t.push(r)}));var e=[];return this.nodes.forEach((function(t){var r=t.getData();r&&e.push(r)})),{nodes:e,edges:t}}},{key:"modelToHistoryData",value:function(){for(var t=!1,e=[],r=0;r<this.nodes.length;r++){var n=this.nodes[r];if(n.isDragging){t=!0;break}e.push(n.getHistoryData())}if(t)return!1;for(var o=!1,i=[],a=0;a<this.edges.length;a++){var u=this.edges[a];if(u.isDragging){o=!0;break}i.push(u.getHistoryData())}return!o&&{nodes:e,edges:i}}},{key:"getEdgeModelById",value:function(t){var e;return null===(e=this.edgesMap[t])||void 0===e?void 0:e.model}},{key:"getElement",value:function(t){return this.modelsMap[t]}},{key:"getNodeEdges",value:function(t){for(var e=[],r=0;r<this.edges.length;r++){var n=this.edges[r],o=this.edges[r].sourceNodeId===t,i=this.edges[r].targetNodeId===t;(o||i)&&e.push(n)}return e}},{key:"getSelectElements",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=this.selectElements,r={nodes:[],edges:[]};return e.forEach((function(n){if(n.BaseType===to.NODE&&r.nodes.push(n.getData()),n.BaseType===to.EDGE){var o=n.getData(),i=e.get(o.sourceNodeId)&&e.get(o.targetNodeId);(t||i)&&r.edges.push(o)}})),r}},{key:"updateAttributes",value:function(t,e){this.getElement(t).updateAttributes(e)}},{key:"changeNodeId",value:function(t,e){return e||(e=zi()),this.nodesMap[e]?(console.warn("".concat(e,", ")),""):this.nodesMap[t]?(this.edges.forEach((function(r){r.sourceNodeId===t&&(r.sourceNodeId=e),r.targetNodeId===t&&(r.targetNodeId=e)})),this.nodesMap[t].model.id=e,e):(console.warn("".concat(e,", ")),"")}},{key:"changeEdgeId",value:function(t,e){return e||(e=zi()),this.edgesMap[e]?(console.warn(": ".concat(e,", ")),""):this.edgesMap[t]?(this.edges.forEach((function(r){r.id===t&&(r.id=e)})),e):(console.warn(": ".concat(e,", ")),"")}},{key:"setFakerNode",value:function(t){this.fakerNode=t}},{key:"removeFakerNode",value:function(){this.fakerNode=null}},{key:"setModel",value:function(t,e){return this.modelMap.set(t,e)}},{key:"toFront",value:function(t){var e,r,n,o=(null===(e=this.nodesMap[t])||void 0===e?void 0:e.model)||(null===(r=this.edgesMap[t])||void 0===r?void 0:r.model);o&&(this.overlapMode===ao.DEFAULT&&(null===(n=this.topElement)||void 0===n||n.setZIndex(),o.setZIndex(9999),this.topElement=o),this.overlapMode===ao.INCREASE&&this.setElementZIndex(t,"top"))}},{key:"setElementZIndex",value:function(t,e){var r,n,o,i=(null===(r=this.nodesMap[t])||void 0===r?void 0:r.model)||(null===(n=this.edgesMap[t])||void 0===n?void 0:n.model);i&&("number"==typeof e&&(o=e),"top"===e&&(o=Ta()),"bottom"===e&&(o=--Da),i.setZIndex(o))}},{key:"deleteNode",value:function(t){var e=this.nodesMap[t].model.getData();this.deleteEdgeBySource(t),this.deleteEdgeByTarget(t),this.nodes.splice(this.nodesMap[t].index,1),this.eventCenter.emit(eo.NODE_DELETE,{data:e})}},{key:"addNode",value:function(t){var e=ka(t);e.id&&this.nodesMap[t.id]&&delete e.id;var r=this.getModel(e.type);if(!r)throw new Error("".concat(e.type,""));var n=new r(e,this);this.nodes.push(n);var o=n.getData();return this.eventCenter.emit(eo.NODE_ADD,{data:o}),n}},{key:"cloneNode",value:function(t){var e=this.getNodeModelById(t),r=e.getData();r.x+=30,r.y+=30,delete r.id,r.text&&(r.text.x+=30,r.text.y+=30);var n=this.addNode(r);return n.setSelected(!0),e.setSelected(!1),n.getData()}},{key:"moveNode",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[t];if(o){var i=o.model,a=i.move(e,r,n);a&&this.moveEdge(t,e,r)}else console.warn("id".concat(t,""))}},{key:"moveNode2Coordinate",value:function(t,e,r){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=this.nodesMap[t];if(o){var i=o.model,a=i.x,u=i.y,c=e-a,s=r-u;this.moveNode(t,c,s,n)}else console.warn("id".concat(t,""))}},{key:"editText",value:function(t){this.setElementStateById(t,qn.TEXT_EDIT)}},{key:"addEdge",value:function(t){var e=ka(t),r=e.type;r||(r=this.edgeType),e.id&&this.edgesMap[e.id]&&delete e.id;var n=this.getModel(r);if(!n)throw new Error("".concat(r,""));var o=new n(xc(xc({},e),{},{type:r}),this),i=o.getData();return this.edges.push(o),this.eventCenter.emit(eo.EDGE_ADD,{data:i}),o}},{key:"moveEdge",value:function(t,e,r){for(var n=0;n<this.edges.length;n++){var o,i=this.edges[n],a=i.textPosition,u=a.x,c=a.y,s=this.edges[n].sourceNodeId===t,l=this.edges[n].targetNodeId===t;if(s&&i.moveStartPoint(e,r),l&&i.moveEndPoint(e,r),s||l)if(!0===i.customTextPosition)i.resetTextPosition();else if(i.modelType===Qn.POLYLINE_EDGE&&null!==(o=i.text)&&void 0!==o&&o.value){var f=i.text,p=rc(f,i.points);i.moveText(p.x-f.x,p.y-f.y)}else{var d=i.textPosition,y=d.x,h=d.y;i.moveText(y-u,h-c)}}}},{key:"deleteEdgeBySourceAndTarget",value:function(t,e){for(var r=0;r<this.edges.length;r++)if(this.edges[r].sourceNodeId===t&&this.edges[r].targetNodeId===e){var n=this.edges[r].getData();this.edges.splice(r,1),r--,this.eventCenter.emit(eo.EDGE_DELETE,{data:n})}}},{key:"deleteEdgeById",value:function(t){if(this.edgesMap[t]){var e=this.edgesMap[t].index,r=this.edgesMap[t].model.getData();this.edges.splice(e,1),this.eventCenter.emit(eo.EDGE_DELETE,{data:r})}}},{key:"deleteEdgeBySource",value:function(t){for(var e=0;e<this.edges.length;e++)if(this.edges[e].sourceNodeId===t){var r=this.edges[e].getData();this.edges.splice(e,1),e--,this.eventCenter.emit(eo.EDGE_DELETE,{data:r})}}},{key:"deleteEdgeByTarget",value:function(t){for(var e=0;e<this.edges.length;e++)if(this.edges[e].targetNodeId===t){var r=this.edges[e].getData();this.edges.splice(e,1),e--,this.eventCenter.emit(eo.EDGE_DELETE,{data:r})}}},{key:"setElementStateById",value:function(t,e,r){this.nodes.forEach((function(n){n.id===t?n.setElementState(e,r):n.setElementState(qn.DEFAULT)})),this.edges.forEach((function(n){n.id===t?n.setElementState(e,r):n.setElementState(qn.DEFAULT)}))}},{key:"updateText",value:function(t,e){this.nodes.forEach((function(r){r.id===t&&r.updateText(e)})),this.edges.forEach((function(r){r.id===t&&r.updateText(e)}))}},{key:"selectNodeById",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r||this.clearSelectElements();var n=null===(e=this.nodesMap[t])||void 0===e?void 0:e.model;null==n||n.setSelected(!0)}},{key:"selectEdgeById",value:function(t){var e,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];r||this.clearSelectElements();var n=null===(e=this.edgesMap[t])||void 0===e?void 0:e.model;null==n||n.setSelected(!0)}},{key:"selectElementById",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e||this.clearSelectElements();var r=this.getElement(t);null==r||r.setSelected(!0)}},{key:"clearSelectElements",value:function(){var t;this.selectElements.forEach((function(t){null==t||t.setSelected(!1)})),this.selectElements.clear(),this.overlapMode===ao.DEFAULT&&(null===(t=this.topElement)||void 0===t||t.setZIndex())}},{key:"moveNodes",value:function(t,e,r){var n=this,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];t.forEach((function(t){return n.moveNode(t,e,r,o)}))}},{key:"addNodeMoveRules",value:function(t){this.nodeMoveRules.includes(t)||this.nodeMoveRules.push(t)}},{key:"setDefaultEdgeType",value:function(t){this.edgeType=t}},{key:"changeNodeType",value:function(t,e){var r=this.getNodeModelById(t);if(r){var n=r.getData();n.type=e;var o=this.getModel(e);if(!o)throw new Error("".concat(e,""));var i=new o(n,this);this.nodes.splice(this.nodesMap[t].index,1,i),this.getNodeEdges(t).forEach((function(e){if(e.sourceNodeId===t){var r=wa(i,e.startPoint,i.width,i.height);e.updateStartPoint(r)}if(e.targetNodeId===t){var n=wa(i,e.endPoint,i.width,i.height);e.updateEndPoint(n)}}))}else console.warn("id".concat(t,""))}},{key:"changeEdgeType",value:function(t,e){var r=this.getEdgeModelById(t);if(r){if(r.type!==e){var n=r.getData();n.type=e;var o=this.getModel(e);if(!o)throw new Error("".concat(e,""));delete n.pointsList;var i=new o(n,this);this.edges.splice(this.edgesMap[t].index,1,i)}}else console.warn("id".concat(t,""))}},{key:"getNodeIncomingEdge",value:function(t){var e=[];return this.edges.forEach((function(r){r.targetNodeId===t&&e.push(r)})),e}},{key:"getNodeOutgoingEdge",value:function(t){var e=[];return this.edges.forEach((function(r){r.sourceNodeId===t&&e.push(r)})),e}},{key:"getNodeIncomingNode",value:function(t){var e=this,r=[];return this.edges.forEach((function(n){n.targetNodeId===t&&r.push(e.nodesMap[n.sourceNodeId].model)})),r}},{key:"getNodeOutgoingNode",value:function(t){var e=this,r=[];return this.edges.forEach((function(n){n.sourceNodeId===t&&r.push(e.nodesMap[n.targetNodeId].model)})),r}},{key:"setTheme",value:function(t){this.theme=Oi(xc(xc({},this.theme),t))}},{key:"resize",value:function(t,e){this.width=null!=t?t:this.width,this.height=null!=e?e:this.height}},{key:"clearData",value:function(){this.nodes=[],this.edges=[]}},{key:"getVirtualRectSize",value:function(){var t=this.nodes,e=[],r=[];t.forEach((function(t){var n=t.x,o=t.y,i=t.width,a=t.height,u=t.getNodeStyle().strokeWidth,c=void 0===u?0:u;e=e.concat([n+i/2+c,n-i/2-c]),r=r.concat([o+a/2+c,o-a/2-c])}));var n=Math.min.apply(Math,Pc(e)),o=Math.max.apply(Math,Pc(e)),i=Math.min.apply(Math,Pc(r)),a=o-n||0,u=Math.max.apply(Math,Pc(r))-i||0;return{virtualRectWidth:a,virtualRectHeight:u,virtualRectCenterPositionX:n+a/2,virtualRectCenterPositionY:i+u/2}}},{key:"translateCenter",value:function(){var t=this.nodes,e=this.width,r=this.height,n=this.rootEl,o=this.transformModel;if(t.length){var i=e||n.clientWidth,a=r||n.clientHeight,u=this.getVirtualRectSize(),c=u.virtualRectCenterPositionX,s=u.virtualRectCenterPositionY;o.focusOn(c,s,i,a)}}},{key:"fitView",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20,e=this.nodes,r=this.width,n=this.height,o=this.rootEl,i=this.transformModel;if(e.length){var a=r||o.clientWidth,u=n||o.clientHeight,c=this.getVirtualRectSize(),s=c.virtualRectWidth,l=c.virtualRectHeight,f=c.virtualRectCenterPositionX,p=c.virtualRectCenterPositionY,d=(s+t)/a,y=(l+t)/u,h=0;h=1/Math.max(d,y);var v=[a/2,u/2];i.zoom(h,v),i.focusOn(f,p,a,u)}}}])&&Mc(e.prototype,r),n&&Mc(e,n),t}()).prototype,"width",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),pc=Cc(lc.prototype,"height",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dc=Cc(lc.prototype,"edgeType",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),yc=Cc(lc.prototype,"nodes",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),hc=Cc(lc.prototype,"edges",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),vc=Cc(lc.prototype,"overlapMode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ao.DEFAULT}}),gc=Cc(lc.prototype,"background",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),bc=Cc(lc.prototype,"transformModel",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),mc=Cc(lc.prototype,"editConfigModel",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Oc=Cc(lc.prototype,"gridSize",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),wc=Cc(lc.prototype,"partial",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_c=Cc(lc.prototype,"fakerNode",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Cc(lc.prototype,"nodesMap",[o.m],Object.getOwnPropertyDescriptor(lc.prototype,"nodesMap"),lc.prototype),Cc(lc.prototype,"edgesMap",[o.m],Object.getOwnPropertyDescriptor(lc.prototype,"edgesMap"),lc.prototype),Cc(lc.prototype,"modelsMap",[o.m],Object.getOwnPropertyDescriptor(lc.prototype,"modelsMap"),lc.prototype),Cc(lc.prototype,"sortElements",[o.m],Object.getOwnPropertyDescriptor(lc.prototype,"sortElements"),lc.prototype),Cc(lc.prototype,"textEditElement",[o.m],Object.getOwnPropertyDescriptor(lc.prototype,"textEditElement"),lc.prototype),Cc(lc.prototype,"selectElements",[o.m],Object.getOwnPropertyDescriptor(lc.prototype,"selectElements"),lc.prototype),Cc(lc.prototype,"setFakerNode",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"setFakerNode"),lc.prototype),Cc(lc.prototype,"removeFakerNode",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"removeFakerNode"),lc.prototype),Cc(lc.prototype,"setModel",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"setModel"),lc.prototype),Cc(lc.prototype,"toFront",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"toFront"),lc.prototype),Cc(lc.prototype,"setElementZIndex",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"setElementZIndex"),lc.prototype),Cc(lc.prototype,"deleteNode",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"deleteNode"),lc.prototype),Cc(lc.prototype,"addNode",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"addNode"),lc.prototype),Cc(lc.prototype,"cloneNode",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"cloneNode"),lc.prototype),Cc(lc.prototype,"moveNode",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"moveNode"),lc.prototype),Cc(lc.prototype,"moveNode2Coordinate",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"moveNode2Coordinate"),lc.prototype),Cc(lc.prototype,"editText",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"editText"),lc.prototype),Cc(lc.prototype,"addEdge",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"addEdge"),lc.prototype),Cc(lc.prototype,"moveEdge",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"moveEdge"),lc.prototype),Cc(lc.prototype,"deleteEdgeBySourceAndTarget",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"deleteEdgeBySourceAndTarget"),lc.prototype),Cc(lc.prototype,"deleteEdgeById",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"deleteEdgeById"),lc.prototype),Cc(lc.prototype,"deleteEdgeBySource",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"deleteEdgeBySource"),lc.prototype),Cc(lc.prototype,"deleteEdgeByTarget",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"deleteEdgeByTarget"),lc.prototype),Cc(lc.prototype,"setElementStateById",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"setElementStateById"),lc.prototype),Cc(lc.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"updateText"),lc.prototype),Cc(lc.prototype,"selectNodeById",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"selectNodeById"),lc.prototype),Cc(lc.prototype,"selectEdgeById",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"selectEdgeById"),lc.prototype),Cc(lc.prototype,"selectElementById",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"selectElementById"),lc.prototype),Cc(lc.prototype,"clearSelectElements",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"clearSelectElements"),lc.prototype),Cc(lc.prototype,"moveNodes",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"moveNodes"),lc.prototype),Cc(lc.prototype,"setDefaultEdgeType",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"setDefaultEdgeType"),lc.prototype),Cc(lc.prototype,"changeNodeType",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"changeNodeType"),lc.prototype),Cc(lc.prototype,"changeEdgeType",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"changeEdgeType"),lc.prototype),Cc(lc.prototype,"getNodeIncomingEdge",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"getNodeIncomingEdge"),lc.prototype),Cc(lc.prototype,"getNodeOutgoingEdge",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"getNodeOutgoingEdge"),lc.prototype),Cc(lc.prototype,"getNodeIncomingNode",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"getNodeIncomingNode"),lc.prototype),Cc(lc.prototype,"getNodeOutgoingNode",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"getNodeOutgoingNode"),lc.prototype),Cc(lc.prototype,"setTheme",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"setTheme"),lc.prototype),Cc(lc.prototype,"resize",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"resize"),lc.prototype),Cc(lc.prototype,"clearData",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"clearData"),lc.prototype),Cc(lc.prototype,"translateCenter",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"translateCenter"),lc.prototype),Cc(lc.prototype,"fitView",[o.k],Object.getOwnPropertyDescriptor(lc.prototype,"fitView"),lc.prototype),lc),Lc=Ic;function zc(t){return(zc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Bc(){return(Bc=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Hc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Xc(t,e){return(Xc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Uc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Yc(t);if(e){var o=Yc(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Gc(this,r)}}function Gc(t,e){if(e&&("object"===zc(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Fc(t)}function Fc(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yc(t){return(Yc=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vc(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Wc,Kc=km(Rc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xc(t,e)}(i,t);var e,r,n,o=Uc(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Vc(Fc(e=o.call(this)),"stepDrag",void 0),Vc(Fc(e),"stepScrollX",0),Vc(Fc(e),"stepScrollY",0),Vc(Fc(e),"onDraging",(function(t){var r=t.deltaX,n=t.deltaY;e.setState({isDraging:!0});var o=e.props.graphModel,i=o.transformModel;o.editConfigModel.stopMoveGraph||i.translate(r,n)})),Vc(Fc(e),"onDragEnd",(function(){e.setState({isDraging:!1})})),Vc(Fc(e),"zoomHandler",(function(t){var r=e.props,n=r.graphModel,o=n.editConfigModel,i=n.transformModel,a=n.gridSize,u=r.graphModel,c=t.deltaX,s=t.deltaY;if(o.stopScrollGraph||!0===t.ctrlKey){if(!o.stopZoomGraph){t.preventDefault();var l=u.getPointByClient({x:t.clientX,y:t.clientY}).canvasOverlayPosition,f=l.x,p=l.y;i.zoom(t.deltaY<0,[f,p])}}else{if(t.preventDefault(),e.stepScrollX+=c,e.stepScrollY+=s,Math.abs(e.stepScrollX)>=a){var d=e.stepScrollX%a,y=e.stepScrollX-d;i.translate(-y*i.SCALE_X,0),e.stepScrollX=d}if(Math.abs(e.stepScrollY)>=a){var h=e.stepScrollY%a,v=e.stepScrollY-h;i.translate(0,-v*i.SCALE_Y),e.stepScrollY=h}}})),Vc(Fc(e),"clickHandler",(function(t){if("canvas-overlay"===t.target.getAttribute("name")){var r=e.props.graphModel;r.selectElements.size>0&&r.clearSelectElements(),r.eventCenter.emit(eo.BLANK_CLICK,{e:t})}})),Vc(Fc(e),"handleContextMenu",(function(t){if("canvas-overlay"===t.target.getAttribute("name")){t.preventDefault();var r=e.props.graphModel,n=r.getPointByClient({x:t.clientX,y:t.clientY});r.eventCenter.emit(eo.BLANK_CONTEXTMENU,{e:t,position:n})}})),Vc(Fc(e),"mouseDownHandler",(function(t){var r=e.props.graphModel,n=r.eventCenter,o=r.editConfigModel,i=r.transformModel.SCALE_X,a=r.gridSize,u=t.target,c=!o.adjustEdge&&!o.adjustNodePosition;("canvas-overlay"===u.getAttribute("name")||c)&&(o.stopMoveGraph?n.emit(eo.BLANK_MOUSEDOWN,{e:t}):(e.stepDrag.setStep(a*i),e.stepDrag.handleMouseDown(t)),e.clickHandler(t))}));var r=t.graphModel,n=r.gridSize,a=r.eventCenter;return e.stepDrag=new jc({onDraging:e.onDraging,onDragEnd:e.onDragEnd,step:n,eventType:"BLANK",isStopPropagation:!1,eventCenter:a,model:null}),e.state={isDraging:!1},e}return e=i,(r=[{key:"render",value:function(){var t=this.props.graphModel.transformModel.getTransformStyle().transform,e=this.props,r=e.children,n=e.dnd,o=this.state.isDraging;return Object(Q.g)("svg",Bc({xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",name:"canvas-overlay",onWheel:this.zoomHandler,onMouseDown:this.mouseDownHandler,onContextMenu:this.handleContextMenu,className:o?"lf-canvas-overlay lf-dragging":"lf-canvas-overlay lf-drag-able"},n.eventMap()),Object(Q.g)("g",{transform:t},r))}}])&&Hc(e.prototype,r),n&&Hc(e,n),i}(Q.a))||Rc;function $c(t){return($c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zc(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qc(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Jc(t,e){return(Jc=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qc(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=rs(t);if(e){var o=rs(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ts(this,r)}}function ts(t,e){if(e&&("object"===$c(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return es(t)}function es(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rs(t){return(rs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ns(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var os=km(Wc=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jc(t,e)}(i,t);var e,r,n,o=Qc(i);function i(){var t;Zc(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ns(es(t=o.call.apply(o,[this].concat(r))),"setToolOverlayRef",(function(e){var r=t.props.tool.getInstance();r.components.forEach((function(t){return t(r,e)})),r.components=[]})),t}return e=i,(r=[{key:"getTools",value:function(){var t=this.props,e=t.tool,r=t.graphModel,n=e.getTools().map((function(t){return Object(Q.g)(t,{graphModel:r,logicFlow:e.instance})}));return e.components=n,n}},{key:"render",value:function(){return Object(Q.g)("div",{className:"lf-tool-overlay",ref:this.setToolOverlayRef},this.getTools())}}])&&qc(e.prototype,r),n&&qc(e,n),i}(Q.a))||Wc;function is(t){return(is="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function as(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function us(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cs(t,e){return(cs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ss(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=fs(t);if(e){var o=fs(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ls(this,r)}}function ls(t,e){if(e&&("object"===is(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function fs(t){return(fs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var ps,ds=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cs(t,e)}(i,t);var e,r,n,o=ss(i);function i(){return as(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){var t=this.props.background;return Object(Q.g)("div",{className:"lf-background"},Object(Q.g)("div",{style:t,className:"lf-background-area"}))}}])&&us(e.prototype,r),n&&us(e,n),i}(Q.a);function ys(t){return(ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function hs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function gs(t,e){return(gs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function bs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ws(t);if(e){var o=ws(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ms(this,r)}}function ms(t,e){if(e&&("object"===ys(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Os(t)}function Os(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ws(t){return(ws=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var js=km(ps=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&gs(t,e)}(i,t);var e,r,n,o=bs(i);function i(){var t;hs(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return _s(Os(t=o.call.apply(o,[this].concat(r))),"id",zi()),t}return e=i,(r=[{key:"renderDot",value:function(){var t=this.props,e=t.config,r=e.color,n=e.thickness,o=void 0===n?2:n,i=t.size,a=t.visible,u=Math.min(Math.max(2,o),i/2),c=1;return a||(c=0),Object(Q.g)("rect",{width:u,height:u,rx:u/2,ry:u/2,fill:r,opacity:c})}},{key:"renderMesh",value:function(){var t=this.props,e=t.config,r=e.color,n=e.thickness,o=void 0===n?1:n,i=t.size,a=t.visible,u=Math.min(Math.max(1,o),i/2),c="M ".concat(i," 0 H0 M0 0 V0 ").concat(i),s=1;return a||(s=0),Object(Q.g)("path",{d:c,stroke:r,strokeWidth:u,opacity:s})}},{key:"render",value:function(){var t=this.props,e=t.type,r=t.size,n=t.graphModel.transformModel,o=[n.SCALE_X,n.SKEW_Y,n.SKEW_X,n.SCALE_Y,n.TRANSLATE_X,n.TRANSLATE_Y].join(","),i="matrix(".concat(o,")");return Object(Q.g)("div",{className:"lf-grid"},Object(Q.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%"},Object(Q.g)("defs",null,Object(Q.g)("pattern",{id:this.id,patternUnits:"userSpaceOnUse",patternTransform:i,x:"0",y:"0",width:r,height:r},"dot"===e&&this.renderDot(),"mesh"===e&&this.renderMesh())),Object(Q.g)("rect",{width:"100%",height:"100%",fill:"url(#".concat(this.id,")")})))}}])&&vs(e.prototype,r),n&&vs(e,n),i}(Q.a))||ps;js.defaultProps={size:20,visible:!0,type:"dot",config:{color:"#ababab",thickness:1}};r(50);function Es(t){return(Es="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function xs(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ss(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ss(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ss(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ps,ks=function(t){var e={x1:10,y1:10,x2:20,y2:20,stroke:"black"};return Object.entries(t).forEach((function(t){var r=xs(t,2),n=r[0],o=r[1];"object"!==Es(o)&&(e[n]=o)})),Object(Q.g)("line",e)};function As(t){return(As="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ds(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ts(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ds(Object(r),!0).forEach((function(e){Ms(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ds(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ms(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ns(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Rs(t,e){return(Rs=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Is(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=zs(t);if(e){var o=zs(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ls(this,r)}}function Ls(t,e){if(e&&("object"===As(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function zs(t){return(zs=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Bs,Hs=km(Ps=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Rs(t,e)}(i,t);var e,r,n,o=Is(i);function i(){return Ns(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){var t=this.props.snaplineModel,e=t.position,r=t.isShowHorizontal,n=t.isShowVertical,o=t.getStyle(),i=e.x,a=void 0===i?0:i,u=e.y,c=void 0===u?0:u,s=Ts(Ts({x1:-1e5,y1:c,x2:1e5,y2:c},o),{},{stroke:r?o.stroke:"none"}),l=Ts(Ts({x1:a,y1:-1e5,x2:a,y2:1e5},o),{},{stroke:n?o.stroke:"none"});return Object(Q.g)("g",{className:"lf-snapline"},Object(Q.g)(ks,s),Object(Q.g)(ks,l))}}])&&Cs(e.prototype,r),n&&Cs(e,n),i}(Q.a))||Ps;function Xs(t){return(Xs="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Us(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Gs(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Gs(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gs(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Fs(t){var e=t.x,r=t.y,n=t.width,o=t.height,i=t.className,a=t.radius,u=e-n/2,c=r-o/2,s={};return Object.entries(t).forEach((function(t){var e=Us(t,2),r=e[0],n=e[1];"object"!==Xs(n)&&(s[r]=n)})),s.className=i?"lf-basic-shape ".concat(i):"lf-basic-shape",a&&(s.rx=a,s.ry=a),s.x=u,s.y=c,Object(Q.g)("rect",s)}function Ys(t){return(Ys="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Vs(){return(Vs=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Ws(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ks(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ws(Object(r),!0).forEach((function(e){$s(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ws(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function $s(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Zs(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qs(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Js(t,e){return(Js=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qs(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=el(t);if(e){var o=el(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return tl(this,r)}}function tl(t,e){if(e&&("object"===Ys(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function el(t){return(el=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}Fs.defaultProps={className:"",radius:""};var rl,nl=km(Bs=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Js(t,e)}(i,t);var e,r,n,o=Qs(i);function i(){return Zs(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getNodesOutline",value:function(){var t=this.props.graphModel,e=t.nodes,r=t.editConfigModel,n=r.hoverOutline,o=r.nodeSelectedOutline,i=[];return e.forEach((function(t){if(t.isHovered||t.isSelected){var e=t.isHovered,r=t.isSelected,a=t.x,u=t.y,c=t.width,s=t.height;if(o&&r||n&&e){var l=t.getOutlineStyle(),f={};if(Object.keys(l).forEach((function(t){"hover"!==t&&(f[t]=l[t])})),e){var p=l.hover;f=Ks(Ks({},f),p)}i.push(Object(Q.g)(Fs,Vs({className:"lf-outline-node",x:a,y:u,width:c+10,height:s+10},f)))}}})),i}},{key:"getEdgeOutline",value:function(){for(var t=this.props.graphModel,e=t.edges,r=t.editConfigModel,n=r.edgeSelectedOutline,o=r.hoverOutline,i=[],a=0;a<e.length;a++){var u=e[a];(n&&u.isSelected||o&&u.isHovered)&&(u.modelType===Qn.LINE_EDGE?i.push(this.getLineOutline(u)):u.modelType===Qn.POLYLINE_EDGE?i.push(this.getPolylineOutline(u)):u.modelType===Qn.BEZIER_EDGE&&i.push(this.getBezierOutline(u)))}return i}},{key:"getLineOutline",value:function(t){var e=t.startPoint,r=t.endPoint,n=(e.x+r.x)/2,o=(e.y+r.y)/2,i=Math.abs(e.x-r.x)+10,a=Math.abs(e.y-r.y)+10,u=t.getOutlineStyle();return Object(Q.g)(Fs,Vs({className:"lf-outline-edge",x:n,y:o,width:i,height:a},u))}},{key:"getPolylineOutline",value:function(t){var e=t.points,r=$u(e),n=Nu(r,8),o=n.x,i=n.y,a=n.width,u=n.height,c=t.getOutlineStyle();return Object(Q.g)(Fs,Vs({className:"lf-outline",x:o,y:i,width:a,height:u},c))}},{key:"getBezierOutline",value:function(t){var e=t.path,r=tc(e),n=Nu(r,8),o=n.x,i=n.y,a=n.width,u=n.height,c=t.getOutlineStyle();return Object(Q.g)(Fs,Vs({className:"lf-outline",x:o,y:i,width:a,height:u},c))}},{key:"render",value:function(){return Object(Q.g)("g",{className:"lf-outline"},this.getNodesOutline(),this.getEdgeOutline())}}])&&qs(e.prototype,r),n&&qs(e,n),i}(Q.a))||Bs;function ol(t){return(ol="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function il(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return al(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return al(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function al(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ul(t){var e=t.x,r=void 0===e?0:e,n=t.y,o=void 0===n?0:n,i=t.r,a=void 0===i?4:i,u=t.className,c={cx:r,cy:o,r:a,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach((function(t){var e=il(t,2),r=e[0],n=e[1];"object"!==ol(n)&&(c[r]=n)})),c.className=u?"lf-basic-shape ".concat(u):"lf-basic-shape",Object(Q.g)("circle",c)}function cl(t){return(cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sl(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ll(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ll(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ll(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fl(){return(fl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function pl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function yl(t,e,r){return e&&dl(t.prototype,e),r&&dl(t,r),t}function hl(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&vl(t,e)}function vl(t,e){return(vl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function gl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Ol(t);if(e){var o=Ol(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return bl(this,r)}}function bl(t,e){if(e&&("object"===cl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ml(t)}function ml(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ol(t){return(Ol=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function wl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _l,jl=function(t){hl(r,t);var e=gl(r);function r(){var t;return pl(this,r),wl(ml(t=e.call(this)),"dragHandler",void 0),wl(ml(t),"onDraging",(function(e){var r=e.event,n=t.props,o=n.graphModel,i=n.bezierModel,a=n.type,u=o.getPointByClient({x:r.clientX,y:r.clientY}).canvasOverlayPosition,c=u.x,s=u.y;i.updateAdjustAnchor({x:c,y:s},a)})),wl(ml(t),"onDragEnd",(function(){t.props.bezierModel.isDragging=!1})),t.dragHandler=new jc({onDraging:t.onDraging,onDragEnd:t.onDragEnd}),t}return yl(r,[{key:"render",value:function(){var t=this,e=this.props.position,r=e.x,n=e.y,o=this.props.bezierModel.getEdgeStyle().adjustAnchor;return Object(Q.g)(ul,fl({className:"lf-bezier-adjust-anchor",x:r,y:n},o,{onMouseDown:function(e){t.dragHandler.handleMouseDown(e)}}))}}]),r}(Q.a),El=km(rl=function(t){hl(r,t);var e=gl(r);function r(){return pl(this,r),e.apply(this,arguments)}return yl(r,[{key:"getBezierAdjust",value:function(t,e){var r=t.path,n=t.id,o=sl(tc(r),4),i=o[0],a=o[1],u=o[2],c=o[3],s=t.getEdgeStyle().adjustLine,l=[];return l.push(Object(Q.g)(ks,fl({x1:i.x,y1:i.y,x2:a.x,y2:a.y},s))),l.push(Object(Q.g)(jl,{position:a,bezierModel:t,graphModel:e,key:"".concat(n,"_ePre"),type:"sNext"})),l.push(Object(Q.g)(ks,fl({x1:c.x,y1:c.y,x2:u.x,y2:u.y},s))),l.push(Object(Q.g)(jl,{position:u,bezierModel:t,graphModel:e,key:"".concat(n,"_sNext"),type:"ePre"})),l}},{key:"selectedBezierEdge",value:function(){for(var t=this.props.graphModel,e=t.edges,r=[],n=0;n<e.length;n++){var o=e[n];o.isSelected&&o.modelType===Qn.BEZIER_EDGE&&o.draggable&&r.push(this.getBezierAdjust(o,t))}return r}},{key:"render",value:function(){return Object(Q.g)("g",{className:"lf-bezier-adjust"},this.selectedBezierEdge())}}]),r}(Q.a))||rl;function xl(t){return(xl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Sl(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function kl(t,e){return(kl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Al(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Tl(t);if(e){var o=Tl(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Dl(this,r)}}function Dl(t,e){if(e&&("object"===xl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Tl(t){return(Tl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ml,Nl=km(_l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&kl(t,e)}(i,t);var e,r,n,o=Al(i);function i(){return Sl(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"render",value:function(){var t=this.props.graphModel.transformModel.getTransformStyle().transform,e=this.props.children;return Object(Q.g)("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:"100%",height:"100%",className:"modification-overlay"},Object(Q.g)("g",{transform:t},e))}}])&&Pl(e.prototype,r),n&&Pl(e,n),i}(Q.a))||_l;function Cl(t){return(Cl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rl(){return(Rl=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Il(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ll(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function zl(t,e){return(zl=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Bl(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Xl(t);if(e){var o=Xl(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Hl(this,r)}}function Hl(t,e){if(e&&("object"===Cl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Xl(t){return(Xl=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ul=km(Ml=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&zl(t,e)}(i,t);var e,r,n,o=Bl(i);function i(){return Il(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getComponent",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas-overlay",n=this.props.getView,o=n(t.type);return Object(Q.g)(o,{key:t.id,model:t,graphModel:e,overlay:r})}},{key:"render",value:function(){var t=this,e=this.props,r=e.graphModel,n=e.tool,o=e.options,i=e.dnd,a=e.snaplineModel,u={};o.width&&(u.width="".concat(r.width,"px")),o.height&&(u.height="".concat(r.height,"px"));var c=r.fakerNode,s=r.editConfigModel.adjustEdge;return Object(Q.g)("div",{className:"lf-graph",style:u},Object(Q.g)(Kc,{graphModel:r,dnd:i},Object(Q.g)("g",{className:"lf-base"},nn(r.sortElements,(function(e){return t.getComponent(e,r)}))),c?this.getComponent(c,r):""),Object(Q.g)(Nl,{graphModel:r},Object(Q.g)(nl,{graphModel:r}),s?Object(Q.g)(El,{graphModel:r}):"",o.isSilentMode||!1===o.snapline?"":Object(Q.g)(Hs,{snaplineModel:a})),Object(Q.g)(os,{graphModel:r,tool:n}),o.background&&Object(Q.g)(ds,{background:o.background}),o.grid&&Object(Q.g)(js,Rl({},o.grid,{graphModel:r})))}}])&&Ll(e.prototype,r),n&&Ll(e,n),i}(Q.a))||Ml;function Gl(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Fl(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Gl(Object(r),!0).forEach((function(e){Vl(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gl(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Yl(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Vl(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Wl=function(){function t(e){var r=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Vl(this,"nodeConfig",void 0),Vl(this,"lf",void 0),Vl(this,"fakerNode",void 0),Vl(this,"stopDrag",(function(){r.nodeConfig=null,window.document.removeEventListener("mouseup",r.stopDrag)})),Vl(this,"dragEnter",(function(t){r.nodeConfig&&!r.fakerNode&&(r.fakerNode=r.lf.createFakerNode(Fl(Fl({},r.nodeConfig),r.clientToLocalPoint({x:t.clientX,y:t.clientY}))))})),Vl(this,"onDragOver",(function(t){if(t.preventDefault(),r.fakerNode){var e=r.clientToLocalPoint({x:t.clientX,y:t.clientY}),n=e.x,o=e.y;r.fakerNode.moveTo(n,o);var i=r.fakerNode.getData();r.lf.setNodeSnapLine(i),r.lf.graphModel.eventCenter.emit(eo.NODE_DND_DRAG,{data:i})}return!1})),Vl(this,"onDragLeave",(function(){r.fakerNode&&(r.lf.removeNodeSnapLine(),r.lf.graphModel.removeFakerNode(),r.fakerNode=null)})),Vl(this,"onDrop",(function(t){if(r.lf.graphModel&&t&&r.nodeConfig){var e=r.lf.addNode(Fl(Fl({},r.nodeConfig),r.clientToLocalPoint({x:t.clientX,y:t.clientY})));t.preventDefault(),t.stopPropagation(),r.nodeConfig=null,r.lf.removeNodeSnapLine(),r.lf.graphModel.removeFakerNode(),r.fakerNode=null;var n=e.getData();r.lf.graphModel.eventCenter.emit(eo.NODE_DND_ADD,{data:n})}}));var n=e.lf;this.lf=n}var e,r,n;return e=t,(r=[{key:"clientToLocalPoint",value:function(t){var e=t.x,r=t.y,n=Fr(this.lf.options,["grid","size"]),o=this.lf.graphModel.getPointByClient({x:e,y:r}).canvasOverlayPosition,i=o.x,a=o.y;return{x:ji(i,n),y:ji(a,n)}}},{key:"startDrag",value:function(t){this.nodeConfig=t,window.document.addEventListener("mouseup",this.stopDrag)}},{key:"eventMap",value:function(){return{onMouseEnter:this.dragEnter,onMouseOver:this.dragEnter,onMouseMove:this.onDragOver,onMouseLeave:this.onDragLeave,onMouseUp:this.onDrop}}}])&&Yl(e.prototype,r),n&&Yl(e,n),t}();function Kl(t){var e=t.container,r=t.grid,n=t.width,o=t.height;if(!e)throw new Error(" container ");if("string"==typeof n||"string"==typeof o)throw new Error("widthheight");return r&&(t.grid=wn({size:20,type:"dot",visible:!0,config:{color:"#ababab",thickness:1}},r)),wn({},ql,t)}var $l,Zl,ql={background:!1,grid:!1,textEdit:!0,disabledTools:[]};function Jl(t){return(Jl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ql(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return tf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tf(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ef(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function rf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ef(Object(r),!0).forEach((function(e){yf(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ef(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function nf(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function of(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function af(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function uf(){return(uf="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=cf(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function cf(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=df(t)););return t}function sf(t,e){return(sf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lf(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=df(t);if(e){var o=df(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ff(this,r)}}function ff(t,e){if(e&&("object"===Jl(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return pf(t)}function pf(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function df(t){return(df=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function yf(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hf(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var vf=(Zl=hf(($l=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&sf(t,e)}(i,t);var e,r,n,o=lf(i);function i(){var t;of(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return yf(pf(t=o.call.apply(o,[this].concat(r))),"modelType",Qn.BEZIER_EDGE),nf(pf(t),"path",Zl,pf(t)),t}return e=i,(r=[{key:"initEdgeData",value:function(t){this.offset=100,uf(df(i.prototype),"initEdgeData",this).call(this,t)}},{key:"getEdgeStyle",value:function(){var t=this.graphModel.theme.bezier;return rf(rf({},uf(df(i.prototype),"getEdgeStyle",this).call(this)),ii(t))}},{key:"getTextPosition",value:function(){if(this.pointsList&&this.pointsList.length>0){var t=0,e=0;return this.pointsList.forEach((function(r){var n=r.x,o=r.y;t+=n,e+=o})),{x:t/this.pointsList.length,y:e/this.pointsList.length}}return{x:(this.startPoint.x+this.endPoint.x)/2,y:(this.startPoint.y+this.endPoint.y)/2}}},{key:"getData",value:function(){var t=uf(df(i.prototype),"getData",this).call(this),e=this.pointsList.map((function(t){return{x:t.x,y:t.y}}));return rf(rf({},t),{},{pointsList:e})}},{key:"getControls",value:function(){var t=this.startPoint,e=this.endPoint;return Qu({start:t,end:e,sourceNode:this.sourceNode,targetNode:this.targetNode,offset:this.offset})}},{key:"getPath",value:function(t){var e=Ql(t,4),r=e[0],n=e[1],o=e[2],i=e[3];return"M ".concat(r.x," ").concat(r.y,"\n    C ").concat(n.x," ").concat(n.y,",\n    ").concat(o.x," ").concat(o.y,",\n    ").concat(i.x," ").concat(i.y)}},{key:"initPoints",value:function(){this.pointsList.length>0?this.path=this.getPath(this.pointsList):this.updatePoints()}},{key:"updatePoints",value:function(){var t=this.getControls(),e=t.sNext,r=t.ePre;this.updatePath(e,r)}},{key:"updatePath",value:function(t,e){var r={x:this.startPoint.x,y:this.startPoint.y},n={x:this.endPoint.x,y:this.endPoint.y};if(!t||!e){var o=this.getControls();t=o.sNext,e=o.ePre}this.pointsList=[r,t,e,n],this.path=this.getPath(this.pointsList)}},{key:"updateStartPoint",value:function(t){this.startPoint=t,this.updatePoints()}},{key:"updateEndPoint",value:function(t){this.endPoint=t,this.updatePoints()}},{key:"moveStartPoint",value:function(t,e){this.startPoint.x+=t,this.startPoint.y+=e;var r=Ql(this.pointsList,3),n=r[1],o=r[2];n.x+=t,n.y+=e,this.updatePath(n,o)}},{key:"moveEndPoint",value:function(t,e){this.endPoint.x+=t,this.endPoint.y+=e;var r=Ql(this.pointsList,3),n=r[1],o=r[2];o.x+=t,o.y+=e,this.updatePath(n,o)}},{key:"updateAdjustAnchor",value:function(t,e){"sNext"===e?this.pointsList[1]=t:"ePre"===e&&(this.pointsList[2]=t),this.path=this.getPath(this.pointsList),this.setText(Object.assign({},this.text,this.textPosition))}},{key:"getAdjustStart",value:function(){return this.pointsList[0]||this.startPoint}},{key:"getAdjustEnd",value:function(){var t=this.pointsList;return t[t.length-1]||this.endPoint}},{key:"updateAfterAdjustStartAndEnd",value:function(t){var e=t.startPoint,r=t.endPoint,n=t.sourceNode,o=t.targetNode,i=Qu({start:e,end:r,sourceNode:n,targetNode:o,offset:this.offset}),a=i.sNext,u=i.ePre;this.pointsList=[e,a,u,r],this.initPoints()}}])&&af(e.prototype,r),n&&af(e,n),i}(Ba)).prototype,"path",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),hf($l.prototype,"initPoints",[o.k],Object.getOwnPropertyDescriptor($l.prototype,"initPoints"),$l.prototype),hf($l.prototype,"updatePoints",[o.k],Object.getOwnPropertyDescriptor($l.prototype,"updatePoints"),$l.prototype),hf($l.prototype,"updateStartPoint",[o.k],Object.getOwnPropertyDescriptor($l.prototype,"updateStartPoint"),$l.prototype),hf($l.prototype,"updateEndPoint",[o.k],Object.getOwnPropertyDescriptor($l.prototype,"updateEndPoint"),$l.prototype),hf($l.prototype,"moveStartPoint",[o.k],Object.getOwnPropertyDescriptor($l.prototype,"moveStartPoint"),$l.prototype),hf($l.prototype,"moveEndPoint",[o.k],Object.getOwnPropertyDescriptor($l.prototype,"moveEndPoint"),$l.prototype),hf($l.prototype,"updateAdjustAnchor",[o.k],Object.getOwnPropertyDescriptor($l.prototype,"updateAdjustAnchor"),$l.prototype),hf($l.prototype,"getAdjustStart",[o.k],Object.getOwnPropertyDescriptor($l.prototype,"getAdjustStart"),$l.prototype),hf($l.prototype,"getAdjustEnd",[o.k],Object.getOwnPropertyDescriptor($l.prototype,"getAdjustEnd"),$l.prototype),hf($l.prototype,"updateAfterAdjustStartAndEnd",[o.k],Object.getOwnPropertyDescriptor($l.prototype,"updateAfterAdjustStartAndEnd"),$l.prototype),$l);var gf,bf,mf,Of,wf,_f,jf,Ef,xf,Sf,Pf,kf,Af,Df,Tf,Mf,Nf,Cf,Rf=function(t){return null==t};function If(t){return(If="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Lf(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return zf(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zf(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return a=t.done,t},e:function(t){u=!0,i=t},f:function(){try{a||null==r.return||r.return()}finally{if(u)throw i}}}}function zf(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Bf(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Hf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Bf(Object(r),!0).forEach((function(e){Gf(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Bf(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Xf(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Uf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gf(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ff(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Yf,Vf,Wf=(bf=Ff((gf=function(){function t(e,r){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Gf(this,"id",zi()),Xf(this,"type",bf,this),Xf(this,"x",mf,this),Xf(this,"y",Of,this),Xf(this,"text",wf,this),Xf(this,"properties",_f,this),Xf(this,"_width",jf,this),Xf(this,"_height",Ef,this),Xf(this,"anchorsOffset",xf,this),Xf(this,"isSelected",Sf,this),Xf(this,"isHovered",Pf,this),Xf(this,"isDragging",kf,this),Xf(this,"isHitable",Af,this),Xf(this,"draggable",Df,this),Xf(this,"visible",Tf,this),Gf(this,"graphModel",void 0),Xf(this,"zIndex",Mf,this),Xf(this,"state",Nf,this),Xf(this,"autoToFront",Cf,this),Gf(this,"BaseType",to.NODE),Gf(this,"modelType",Qn.NODE),Gf(this,"additionStateData",void 0),Gf(this,"targetRules",[]),Gf(this,"sourceRules",[]),Gf(this,"moveRules",[]),Gf(this,"hasSetTargetRules",!1),Gf(this,"hasSetSourceRules",!1),this.graphModel=r,this.initNodeData(e),this.setAttributes()}var e,r,n;return e=t,(r=[{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}},{key:"incoming",get:function(){return{nodes:this.graphModel.getNodeIncomingNode(this.id),edges:this.graphModel.getNodeIncomingEdge(this.id)}}},{key:"outgoing",get:function(){return{nodes:this.graphModel.getNodeOutgoingNode(this.id),edges:this.graphModel.getNodeOutgoingEdge(this.id)}}},{key:"initNodeData",value:function(t){if(t.properties||(t.properties={}),!t.id){var e=this.graphModel.idGenerator,r=e&&e(t.type);r&&(t.id=r);var n=this.createId();n&&(t.id=n)}this.formatText(t),wn(this,function(t){return Vn(t,["id","type","x","y","text","properties"])}(t)),this.graphModel.overlapMode===ao.INCREASE&&(this.zIndex=t.zIndex||Ta())}},{key:"setAttributes",value:function(){}},{key:"createId",value:function(){return null}},{key:"formatText",value:function(t){t.text||(t.text={value:"",x:t.x,y:t.y,draggable:!1,editable:!0}),t.text&&"string"==typeof t.text?t.text={value:t.text,x:t.x,y:t.y,draggable:!1,editable:!0}:t.text&&void 0===t.text.editable&&(t.text.editable=!0)}},{key:"getData",value:function(){var t=this.text,e=t.x,r=t.y,n=t.value,i=this.properties;Object(o.x)(i)&&(i=Object(o.I)(i));var a={id:this.id,type:this.type,x:this.x,y:this.y,properties:i};return this.graphModel.overlapMode===ao.INCREASE&&(a.zIndex=this.zIndex),n&&(a.text={x:e,y:r,value:n}),a}},{key:"getHistoryData",value:function(){return this.getData()}},{key:"getProperties",value:function(){return Object(o.I)(this.properties)}},{key:"getNodeStyle",value:function(){return Hf({},this.graphModel.theme.baseNode)}},{key:"getTextStyle",value:function(){var t=this.graphModel.theme.nodeText;return ii(t)}},{key:"getAnchorStyle",value:function(t){var e=this.graphModel.theme.anchor;return ii(e)}},{key:"getAnchorLineStyle",value:function(){var t=this.graphModel.theme.anchorLine;return ii(t)}},{key:"getOutlineStyle",value:function(){var t=this.graphModel.theme.outline;return ii(t)}},{key:"isAllowConnectedAsSource",value:function(t,e,r){var n=this.hasSetSourceRules?this.sourceRules:this.getConnectedSourceRules();this.hasSetSourceRules=!0;for(var o,i=!0,a=0;a<n.length;a++){var u=n[a];if(!u.validate.call(this,this,t,e,r)){i=!1,o=u.message;break}}return{isAllPass:i,msg:o}}},{key:"getConnectedSourceRules",value:function(){return this.sourceRules}},{key:"isAllowConnectedAsTarget",value:function(t,e,r){var n=this.hasSetTargetRules?this.targetRules:this.getConnectedTargetRules();this.hasSetTargetRules=!0;for(var o,i=!0,a=0;a<n.length;a++){var u=n[a];if(!u.validate.call(this,t,this,e,r)){i=!1,o=u.message;break}}return{isAllPass:i,msg:o}}},{key:"isAllowMoveNode",value:function(t,e){var r,n=!0,o=!0,i=Lf(this.moveRules.concat(this.graphModel.nodeMoveRules));try{for(i.s();!(r=i.n()).done;){var a=(0,r.value)(this,t,e);if(!a)return!1;if("object"===If(a)){var u=a;if(!1===u.x&&!1===u.y)return!1;n=n&&u.x,o=o&&u.y}}}catch(t){i.e(t)}finally{i.f()}return{x:n,y:o}}},{key:"getConnectedTargetRules",value:function(){return this.targetRules}},{key:"getAnchorsByOffset",value:function(){var t=this.anchorsOffset,e=this.id,r=this.x,n=this.y;return t&&t.length>0?t.map((function(t,o){return t.length?(t=t,{id:"".concat(e,"_").concat(o),x:r+t[0],y:n+t[1]}):Hf(Hf({},t=t),{},{x:r+t.x,y:n+t.y,id:t.id||"".concat(e,"_").concat(o)})})):this.getDefaultAnchor()}},{key:"getDefaultAnchor",value:function(){return[]}},{key:"getBounds",value:function(){return{x1:this.x-this.width/2,y1:this.y-this.height/2,x2:this.x+this.width/2,y2:this.y+this.height/2}}},{key:"anchors",get:function(){return this.getAnchorsByOffset()}},{key:"getAnchorInfo",value:function(t){if(!Rf(t))for(var e=0;e<this.anchors.length;e++){var r=this.anchors[e];if(r.id===t)return r}}},{key:"addNodeMoveRules",value:function(t){this.moveRules.includes(t)||this.moveRules.push(t)}},{key:"move",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=!1,o=!1;if(r)n=!0,o=!0;else{var i=this.isAllowMoveNode(t,e);"boolean"==typeof i?(n=i,o=i):(n=i.x,o=i.y)}if(n){var a=this.x+t;this.x=a,this.text&&this.moveText(t,0)}if(o){var u=this.y+e;this.y=u,this.text&&this.moveText(0,e)}return n||o}},{key:"moveTo",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t-this.x,o=e-this.y;return!(!r&&!this.isAllowMoveNode(n,o)||(this.text&&this.text&&this.moveText(n,o),this.x=t,this.y=e,0))}},{key:"moveText",value:function(t,e){var r=this.text,n=r.x,o=r.y,i=r.value,a=r.draggable,u=r.editable;this.text={value:i,editable:u,draggable:a,x:n+t,y:o+e}}},{key:"updateText",value:function(t){this.text=Hf(Hf({},this.text),{},{value:t})}},{key:"setSelected",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isSelected=t}},{key:"setHovered",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHovered=t}},{key:"setHitable",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.isHitable=t}},{key:"setElementState",value:function(t,e){this.state=t,this.additionStateData=e}},{key:"setProperty",value:function(t,e){this.properties=Hf(Hf({},this.properties),{},Gf({},t,ka(e))),this.setAttributes()}},{key:"setProperties",value:function(t){this.properties=Hf(Hf({},this.properties),ka(t)),this.setAttributes()}},{key:"setZIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.zIndex=t}},{key:"updateAttributes",value:function(t){wn(this,t)}}])&&Uf(e.prototype,r),n&&Uf(e,n),t}()).prototype,"type",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),mf=Ff(gf.prototype,"x",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Of=Ff(gf.prototype,"y",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),wf=Ff(gf.prototype,"text",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{value:"",x:0,y:0,draggable:!1,editable:!0}}}),_f=Ff(gf.prototype,"properties",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),jf=Ff(gf.prototype,"_width",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 100}}),Ef=Ff(gf.prototype,"_height",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 80}}),xf=Ff(gf.prototype,"anchorsOffset",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Sf=Ff(gf.prototype,"isSelected",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Pf=Ff(gf.prototype,"isHovered",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),kf=Ff(gf.prototype,"isDragging",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Af=Ff(gf.prototype,"isHitable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Df=Ff(gf.prototype,"draggable",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Tf=Ff(gf.prototype,"visible",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Mf=Ff(gf.prototype,"zIndex",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Nf=Ff(gf.prototype,"state",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),Cf=Ff(gf.prototype,"autoToFront",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ff(gf.prototype,"incoming",[o.m],Object.getOwnPropertyDescriptor(gf.prototype,"incoming"),gf.prototype),Ff(gf.prototype,"outgoing",[o.m],Object.getOwnPropertyDescriptor(gf.prototype,"outgoing"),gf.prototype),Ff(gf.prototype,"addNodeMoveRules",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"addNodeMoveRules"),gf.prototype),Ff(gf.prototype,"move",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"move"),gf.prototype),Ff(gf.prototype,"moveTo",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"moveTo"),gf.prototype),Ff(gf.prototype,"moveText",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"moveText"),gf.prototype),Ff(gf.prototype,"updateText",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"updateText"),gf.prototype),Ff(gf.prototype,"setSelected",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"setSelected"),gf.prototype),Ff(gf.prototype,"setHovered",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"setHovered"),gf.prototype),Ff(gf.prototype,"setHitable",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"setHitable"),gf.prototype),Ff(gf.prototype,"setElementState",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"setElementState"),gf.prototype),Ff(gf.prototype,"setProperty",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"setProperty"),gf.prototype),Ff(gf.prototype,"setProperties",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"setProperties"),gf.prototype),Ff(gf.prototype,"setZIndex",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"setZIndex"),gf.prototype),Ff(gf.prototype,"updateAttributes",[o.k],Object.getOwnPropertyDescriptor(gf.prototype,"updateAttributes"),gf.prototype),gf);function Kf(t){return(Kf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Zf(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?$f(Object(r),!0).forEach((function(e){up(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function qf(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function Jf(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Qf(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function tp(){return(tp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=ep(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function ep(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=ap(t)););return t}function rp(t,e){return(rp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function np(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ap(t);if(e){var o=ap(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return op(this,r)}}function op(t,e){if(e&&("object"===Kf(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ip(t)}function ip(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ap(t){return(ap=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function up(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cp(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var sp,lp,fp,pp=(Vf=cp((Yf=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rp(t,e)}(i,t);var e,r,n,o=np(i);function i(){var t;Jf(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return up(ip(t=o.call.apply(o,[this].concat(r))),"modelType",Qn.CIRCLE_NODE),qf(ip(t),"r",Vf,ip(t)),t}return e=i,(r=[{key:"width",get:function(){return 2*this.r}},{key:"height",get:function(){return 2*this.r}},{key:"getNodeStyle",value:function(){var t=tp(ap(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.circle;return Zf(Zf({},t),ii(e))}},{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,r=this.r;return[{x:t,y:e-r,id:"".concat(this.id,"_0")},{x:t+r,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+r,id:"".concat(this.id,"_2")},{x:t-r,y:e,id:"".concat(this.id,"_3")}]}}])&&Qf(e.prototype,r),n&&Qf(e,n),i}(Wf)).prototype,"r",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),cp(Yf.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(Yf.prototype,"width"),Yf.prototype),cp(Yf.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(Yf.prototype,"height"),Yf.prototype),Yf);r(123);function dp(t){return(dp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function yp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return hp(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hp(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hp(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function gp(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?vp(Object(r),!0).forEach((function(e){kp(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function bp(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function mp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Op(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function wp(){return(wp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=_p(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function _p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Pp(t)););return t}function jp(t,e){return(jp=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ep(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Pp(t);if(e){var o=Pp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return xp(this,r)}}function xp(t,e){if(e&&("object"===dp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Sp(t)}function Sp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pp(t){return(Pp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function kp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ap(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Dp,Tp,Mp,Np=(lp=Ap((sp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&jp(t,e)}(i,t);var e,r,n,o=Ep(i);function i(){var t;mp(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return kp(Sp(t=o.call.apply(o,[this].concat(r))),"modelType",Qn.DIAMOND_NODE),bp(Sp(t),"rx",lp,Sp(t)),bp(Sp(t),"ry",fp,Sp(t)),t}return e=i,(r=[{key:"getNodeStyle",value:function(){var t=wp(Pp(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.diamond;return gp(gp({},t),ii(e))}},{key:"points",get:function(){var t=this.x,e=this.y,r=this.rx,n=this.ry;return[[t,e-n],[t+r,e],[t,e+n],[t-r,e]]}},{key:"pointsPosition",get:function(){return this.points.map((function(t){return{x:t[0],y:t[1]}}))}},{key:"width",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(r){var n=yp(r,1)[0];n<t&&(t=n),n>e&&(e=n)})),e-t}},{key:"height",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(r){var n=yp(r,2)[1];n<t&&(t=n),n>e&&(e=n)})),e-t}},{key:"getDefaultAnchor",value:function(){var t=this;return this.points.map((function(e,r){var n=yp(e,2);return{x:n[0],y:n[1],id:"".concat(t.id,"_").concat(r)}}))}}])&&Op(e.prototype,r),n&&Op(e,n),i}(Wf)).prototype,"rx",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),fp=Ap(sp.prototype,"ry",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 50}}),Ap(sp.prototype,"points",[o.m],Object.getOwnPropertyDescriptor(sp.prototype,"points"),sp.prototype),Ap(sp.prototype,"pointsPosition",[o.m],Object.getOwnPropertyDescriptor(sp.prototype,"pointsPosition"),sp.prototype),Ap(sp.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(sp.prototype,"width"),sp.prototype),Ap(sp.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(sp.prototype,"height"),sp.prototype),sp);function Cp(t){return(Cp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rp(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Ip(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Rp(Object(r),!0).forEach((function(e){Wp(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rp(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Lp(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function zp(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Bp(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Hp(){return(Hp="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=Xp(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function Xp(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Vp(t)););return t}function Up(t,e){return(Up=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Gp(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Vp(t);if(e){var o=Vp(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Fp(this,r)}}function Fp(t,e){if(e&&("object"===Cp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Yp(t)}function Yp(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vp(t){return(Vp=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Wp(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kp(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var $p,Zp,qp=(Tp=Kp((Dp=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Up(t,e)}(i,t);var e,r,n,o=Gp(i);function i(){var t;zp(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Wp(Yp(t=o.call.apply(o,[this].concat(r))),"modelType",Qn.ELLIPSE_NODE),Lp(Yp(t),"rx",Tp,Yp(t)),Lp(Yp(t),"ry",Mp,Yp(t)),t}return e=i,(r=[{key:"getNodeStyle",value:function(){var t=Hp(Vp(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.ellipse;return Ip(Ip({},t),ii(e))}},{key:"width",get:function(){return 2*this.rx}},{key:"height",get:function(){return 2*this.ry}},{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,r=this.rx,n=this.ry;return[{x:t,y:e-n,id:"".concat(this.id,"_0")},{x:t+r,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+n,id:"".concat(this.id,"_2")},{x:t-r,y:e,id:"".concat(this.id,"_3")}]}}])&&Bp(e.prototype,r),n&&Bp(e,n),i}(Wf)).prototype,"rx",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 30}}),Mp=Kp(Dp.prototype,"ry",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 45}}),Kp(Dp.prototype,"width",[o.m],Object.getOwnPropertyDescriptor(Dp.prototype,"width"),Dp.prototype),Kp(Dp.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(Dp.prototype,"height"),Dp.prototype),Dp);function Jp(t){return(Jp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qp(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return td(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return td(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function td(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ed(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function rd(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ed(Object(r),!0).forEach((function(e){dd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ed(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function nd(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function od(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function id(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ad(){return(ad="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=ud(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function ud(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=pd(t)););return t}function cd(t,e){return(cd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=pd(t);if(e){var o=pd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ld(this,r)}}function ld(t,e){if(e&&("object"===Jp(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fd(t)}function fd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pd(t){return(pd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dd(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yd(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var hd,vd,gd=(Zp=yd(($p=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cd(t,e)}(i,t);var e,r,n,o=sd(i);function i(){var t;od(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return dd(fd(t=o.call.apply(o,[this].concat(r))),"modelType",Qn.POLYGON_NODE),nd(fd(t),"points",Zp,fd(t)),t}return e=i,(r=[{key:"getNodeStyle",value:function(){var t=ad(pd(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.polygon;return rd(rd({},t),ii(e))}},{key:"pointsPosition",get:function(){var t=this.x,e=this.y,r=this.width,n=this.height;return this.points.map((function(o){return{x:o[0]+t-r/2,y:o[1]+e-n/2}}))}},{key:"width",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(r){var n=Qp(r,1)[0];n<t&&(t=n),n>e&&(e=n)})),e-t}},{key:"height",get:function(){var t=Number.MAX_SAFE_INTEGER,e=Number.MIN_SAFE_INTEGER;return this.points.forEach((function(r){var n=Qp(r,2)[1];n<t&&(t=n),n>e&&(e=n)})),e-t}},{key:"getDefaultAnchor",value:function(){var t=this,e=this.x,r=this.y,n=this.width,o=this.height;return this.points.map((function(i,a){var u=Qp(i,2),c=u[0],s=u[1];return{x:e+c-n/2,y:r+s-o/2,id:"".concat(t.id,"_").concat(a)}}))}}])&&id(e.prototype,r),n&&id(e,n),i}(Wf)).prototype,"points",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[[50,0],[100,50],[50,100],[0,50]]}}),yd($p.prototype,"pointsPosition",[o.m],Object.getOwnPropertyDescriptor($p.prototype,"pointsPosition"),$p.prototype),yd($p.prototype,"width",[o.m],Object.getOwnPropertyDescriptor($p.prototype,"width"),$p.prototype),yd($p.prototype,"height",[o.m],Object.getOwnPropertyDescriptor($p.prototype,"height"),$p.prototype),$p);function bd(t){return(bd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function md(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Od(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?md(Object(r),!0).forEach((function(e){Td(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):md(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function wd(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function _d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ed(){return(Ed="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=xd(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function xd(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Dd(t)););return t}function Sd(t,e){return(Sd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Pd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Dd(t);if(e){var o=Dd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return kd(this,r)}}function kd(t,e){if(e&&("object"===bd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ad(t)}function Ad(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dd(t){return(Dd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Td(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Md,Nd=(vd=function(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}((hd=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Sd(t,e)}(i,t);var e,r,n,o=Pd(i);function i(){var t;_d(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Td(Ad(t=o.call.apply(o,[this].concat(r))),"modelType",Qn.RECT_NODE),wd(Ad(t),"radius",vd,Ad(t)),t}return e=i,(r=[{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,r=this.width,n=this.height;return[{x:t,y:e-n/2,id:"".concat(this.id,"_0")},{x:t+r/2,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+n/2,id:"".concat(this.id,"_2")},{x:t-r/2,y:e,id:"".concat(this.id,"_3")}]}},{key:"getNodeStyle",value:function(){var t=Ed(Dd(i.prototype),"getNodeStyle",this).call(this),e=this.graphModel.theme.rect;return Od(Od({},t),ii(e))}}])&&jd(e.prototype,r),n&&jd(e,n),i}(Wf)).prototype,"radius",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),hd);function Cd(t){return(Cd="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rd(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Id(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Rd(Object(r),!0).forEach((function(e){Vd(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rd(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ld(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Bd(){return(Bd="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,r){var n=Hd(t,e);if(n){var o=Object.getOwnPropertyDescriptor(n,e);return o.get?o.get.call(arguments.length<3?t:r):o.value}}).apply(this,arguments)}function Hd(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=Yd(t)););return t}function Xd(t,e){return(Xd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ud(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Yd(t);if(e){var o=Yd(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Gd(this,r)}}function Gd(t,e){if(e&&("object"===Cd(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Fd(t)}function Fd(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yd(t){return(Yd=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vd(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wd(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var Kd=(Wd((Md=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xd(t,e)}(i,t);var e,r,n,o=Ud(i);function i(){var t;Ld(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Vd(Fd(t=o.call.apply(o,[this].concat(r))),"modelType",Qn.TEXT_NODE),t}return e=i,(r=[{key:"getTextStyle",value:function(){var t=Bd(Yd(i.prototype),"getTextStyle",this).call(this),e=this.graphModel.theme.text;return Id(Id({},t),ii(e))}},{key:"width",get:function(){var t=String(this.text.value).split(/[\r\n]/g),e=this.getTextStyle().fontSize;return ja({rows:t,fontSize:e,rowsLength:t.length}).width}},{key:"height",get:function(){var t=String(this.text.value).split(/[\r\n]/g),e=this.getTextStyle().fontSize;return ja({rows:t,fontSize:e,rowsLength:t.length}).height}}])&&zd(e.prototype,r),n&&zd(e,n),i}(Wf)).prototype,"width",[o.m],Object.getOwnPropertyDescriptor(Md.prototype,"width"),Md.prototype),Wd(Md.prototype,"height",[o.m],Object.getOwnPropertyDescriptor(Md.prototype,"height"),Md.prototype),Md);function $d(t){return($d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Zd(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qd(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Jd(t,e){return(Jd=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Qd(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ry(t);if(e){var o=ry(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ty(this,r)}}function ty(t,e){if(e&&("object"===$d(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return ey(t)}function ey(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ry(t){return(ry=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ny(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var oy,iy,ay,uy,cy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Jd(t,e)}(i,t);var e,r,n,o=Qd(i);function i(){var t;Zd(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return ny(ey(t=o.call.apply(o,[this].concat(r))),"modelType",Qn.HTML_NODE),t}return e=i,(r=[{key:"getDefaultAnchor",value:function(){var t=this.x,e=this.y,r=this.width,n=this.height;return[{x:t,y:e-n/2,id:"".concat(this.id,"_0")},{x:t+r/2,y:e,id:"".concat(this.id,"_1")},{x:t,y:e+n/2,id:"".concat(this.id,"_2")},{x:t-r/2,y:e,id:"".concat(this.id,"_3")}]}}])&&qd(e.prototype,r),n&&qd(e,n),i}(Wf);function sy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function ly(t,e,r,n){r&&Object.defineProperty(t,e,{enumerable:r.enumerable,configurable:r.configurable,writable:r.writable,value:r.initializer?r.initializer.call(n):void 0})}function fy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function py(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dy(t,e,r,n,o){var i={};return Object.keys(n).forEach((function(t){i[t]=n[t]})),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=r.slice().reverse().reduce((function(r,n){return n(t,e,r)||r}),i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(t,e,i),i=null),i}var yy=(iy=dy((oy=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),py(this,"graphModel",void 0),ly(this,"isShowHorizontal",iy,this),ly(this,"isShowVertical",ay,this),ly(this,"position",uy,this),this.isShowHorizontal=!1,this.isShowVertical=!1,this.position={x:0,y:0},this.graphModel=e}var e,r,n;return e=t,(r=[{key:"getStyle",value:function(){return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?sy(Object(r),!0).forEach((function(e){py(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sy(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({},this.graphModel.theme.snapline)}},{key:"getCenterSnapLine",value:function(t,e){for(var r=t.x,n=t.y,o=!1,i=!1,a=0;a<e.length;a++){var u=e[a];if(u.id!==t.id&&(r===u.x&&(o=!0),n===u.y&&(i=!0),o&&i))break}return{isShowVertical:o,isShowHorizontal:i,position:{x:r,y:n}}}},{key:"getHorizontalSnapline",value:function(t,e){var r,n,o=!1,i=t.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)n=ha(a);else{var u=this.graphModel.getNodeModelById(i);n=ha(u)}}for(var c=0;c<e.length;c++){var s=e[c];if(s.id!==t.id){var l=ha(s);if(l.minY===n.minY||l.maxY===n.minY){o=!0,r=n.minY;break}if(l.minY===n.maxY||l.maxY===n.maxY){o=!0,r=n.maxY;break}}}return wn({isShowHorizontal:o,position:{y:r}})}},{key:"getVerticalSnapline",value:function(t,e){var r,n,o=!1,i=t.id;if(i){var a=this.graphModel.fakerNode;if(a&&a.id===i)n=ha(a);else{var u=this.graphModel.getNodeModelById(i);n=ha(u)}}for(var c=0;c<e.length;c++){var s=e[c];if(s.id!==t.id){var l=ha(s);if(l.minX===n.minX||l.maxX===n.minX){o=!0,r=n.minX;break}if(l.minX===n.maxX||l.maxX===n.maxX){o=!0,r=n.maxX;break}}}return wn({isShowVertical:o,position:{x:r}})}},{key:"getSnapLinePosition",value:function(t,e){var r=this.getCenterSnapLine(t,e),n=r.isShowHorizontal,o=r.isShowVertical;if(!n){var i=this.getHorizontalSnapline(t,e);i.isShowHorizontal&&(r.isShowHorizontal=i.isShowHorizontal,r.position.y=i.position.y)}if(!o){var a=this.getVerticalSnapline(t,e);a.isShowVertical&&(r.isShowVertical=a.isShowVertical,r.position.x=a.position.x)}return r}},{key:"setSnaplineInfo",value:function(t){var e=t.isShowHorizontal,r=t.isShowVertical,n=t.position;this.position=n,this.isShowHorizontal=e,this.isShowVertical=r}},{key:"clearSnapline",value:function(){this.position={x:0,y:0},this.isShowHorizontal=!1,this.isShowVertical=!1}},{key:"setNodeSnapLine",value:function(t){var e=this.graphModel.nodes,r=this.getSnapLinePosition(t,e);this.setSnaplineInfo(r)}}])&&fy(e.prototype,r),n&&fy(e,n),t}()).prototype,"isShowHorizontal",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ay=dy(oy.prototype,"isShowVertical",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),uy=dy(oy.prototype,"position",[o.C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),dy(oy.prototype,"clearSnapline",[o.k],Object.getOwnPropertyDescriptor(oy.prototype,"clearSnapline"),oy.prototype),dy(oy.prototype,"setNodeSnapLine",[o.k],Object.getOwnPropertyDescriptor(oy.prototype,"setNodeSnapLine"),oy.prototype),oy);function hy(t){return(hy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vy(){return(vy=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function gy(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function by(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gy(Object(r),!0).forEach((function(e){Py(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gy(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function my(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Oy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oy(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Oy(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _y(t,e){return(_y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function jy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Sy(t);if(e){var o=Sy(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ey(this,r)}}function Ey(t,e){if(e&&("object"===hy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return xy(t)}function xy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sy(t){return(Sy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Py(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var ky=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_y(t,e)}(i,t);var e,r,n,o=jy(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Py(xy(t=o.call(this)),"preTargetNode",void 0),Py(xy(t),"sourceRuleResults",void 0),Py(xy(t),"targetRuleResults",void 0),Py(xy(t),"dragHandler",void 0),Py(xy(t),"t",void 0),Py(xy(t),"onDragStart",(function(e){var r=e.event,n=t.props,o=n.anchorData,i=n.nodeModel,a=n.graphModel,u=a.overlapMode;a.selectNodeById(i.id),u!==ao.INCREASE&&i.autoToFront&&a.toFront(i.id),a.eventCenter.emit(eo.ANCHOR_DRAGSTART,{data:o,e:r,nodeModel:i}),t.setState({startX:o.x,startY:o.y,endX:o.x,endY:o.y})})),Py(xy(t),"onDraging",(function(e){var r=e.event,n=t.props,o=n.graphModel,i=n.nodeModel,a=n.anchorData,u=o.transformModel,c=o.eventCenter,s=o.width,l=o.height,f=o.editConfigModel,p=r.clientX,d=r.clientY,y=o.getPointByClient({x:p,y:d}),h=y.domOverlayPosition,v=h.x,g=h.y,b=y.canvasOverlayPosition,m=b.x,O=b.y;t.t&&clearInterval(t.t);var w=[];v<10?w=[10,0]:v+10>s?w=[-10,0]:g<10?w=[0,10]:g+10>l&&(w=[0,-10]),t.setState({endX:m,endY:O,draging:!0}),t.moveAnchorEnd(m,O),w.length>0&&!f.stopMoveGraph&&(t.t=setInterval((function(){var e=my(w,2),r=e[0],n=e[1];u.translate(r,n);var o=t.state,i=o.endX,a=o.endY;t.setState({endX:i-r,endY:a-n}),t.moveAnchorEnd(i-r,a-n)}),50)),c.emit(eo.ANCHOR_DRAG,{data:a,e:r,nodeModel:i})})),Py(xy(t),"onDragEnd",(function(e){t.t&&clearInterval(t.t),t.checkEnd(),t.setState({startX:0,startY:0,endX:0,endY:0,draging:!1}),t.sourceRuleResults.clear(),t.targetRuleResults.clear();var r=t.props,n=r.graphModel,o=r.nodeModel,i=r.anchorData;n.eventCenter.emit(eo.ANCHOR_DROP,{data:i,e:e,nodeModel:o})})),Py(xy(t),"checkEnd",(function(){var e=t.props,r=e.graphModel,n=e.nodeModel,o=e.anchorData,i=o.x,a=o.y,u=o.id,c=r.edgeType,s=t.state,l=s.endX,f=s.endY,p=s.draging,d=sa({x:l,y:f},r);if(t.preTargetNode&&t.preTargetNode.state!==qn.DEFAULT&&t.preTargetNode.setElementState(qn.DEFAULT),p&&d&&d.node){var y=d.node,h=d.anchor.id,v="".concat(n.id,"_").concat(y.id,"_").concat(h,"_").concat(u),g=t.sourceRuleResults.get(v)||{},b=g.isAllPass,m=g.msg,O=t.targetRuleResults.get(v)||{},w=O.isAllPass,_=O.msg;if(b&&w)y.setElementState(qn.DEFAULT),r.addEdge({type:c,sourceNodeId:n.id,sourceAnchorId:u,startPoint:{x:i,y:a},targetNodeId:d.node.id,targetAnchorId:d.anchor.id,endPoint:{x:d.anchor.x,y:d.anchor.y}});else{var j=y.getData();r.eventCenter.emit(eo.CONNECTION_NOT_ALLOWED,{data:j,msg:_||m})}}})),t.sourceRuleResults=new Map,t.targetRuleResults=new Map,t.state={startX:0,startY:0,endX:0,endY:0,draging:!1},t.dragHandler=new jc({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd}),t}return e=i,(r=[{key:"getAnchorShape",value:function(){var t=this.props,e=t.anchorData,r=t.style,n=t.node.getAnchorShape(e);if(n)return n;var o=e.x,i=e.y,a=by(by({},r),r.hover);return Object(Q.g)("g",null,Object(Q.g)(ul,vy({className:"lf-node-anchor-hover"},a,{x:o,y:i})),Object(Q.g)(ul,vy({className:"lf-node-anchor"},r,{x:o,y:i})))}},{key:"moveAnchorEnd",value:function(t,e){var r=this.props,n=r.graphModel,o=r.nodeModel,i=r.anchorData,a=sa({x:t,y:e},n);if(a){var u=a.node,c=a.anchor.id;if(this.preTargetNode&&this.preTargetNode!==a.node&&this.preTargetNode.setElementState(qn.DEFAULT),i.id===c)return;this.preTargetNode=u;var s="".concat(o.id,"_").concat(u.id,"_").concat(c,"_").concat(i.id);if(!this.targetRuleResults.has(s)){var l=a.anchor,f=o.isAllowConnectedAsSource(u,i,l),p=u.isAllowConnectedAsTarget(o,i,l);this.sourceRuleResults.set(s,Ea(f)),this.targetRuleResults.set(s,Ea(p))}var d=this.sourceRuleResults.get(s).isAllPass,y=this.targetRuleResults.get(s).isAllPass;d&&y?u.setElementState(qn.ALLOW_CONNECT):u.setElementState(qn.NOT_ALLOW_CONNECT)}else this.preTargetNode&&this.preTargetNode.state!==qn.DEFAULT&&this.preTargetNode.setElementState(qn.DEFAULT)}},{key:"isShowLine",value:function(){var t=this.state,e=t.startX,r=t.startY,n=t.endX,o=t.endY;return pa(e,r,n,o)>10}},{key:"render",value:function(){var t=this,e=this.state,r=e.startX,n=e.startY,o=e.endX,i=e.endY,a=this.props,u=a.anchorData.edgeAddable,c=a.edgeStyle;return Object(Q.g)("g",{className:"lf-anchor"},Object(Q.g)("g",{onMouseDown:function(e){!1!==u&&t.dragHandler.handleMouseDown(e)}},this.getAnchorShape()),this.isShowLine()&&Object(Q.g)(ks,vy({x1:r,y1:n,x2:o,y2:i},c,{"pointer-events":"none"})))}}])&&wy(e.prototype,r),n&&wy(e,n),i}(Q.a);r(60);function Ay(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Dy(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ay(Object(r),!0).forEach((function(e){Ty(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ay(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Ty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function My(t){return(My="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ny(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Cy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Cy(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cy(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ry(t){var e=t.x,r=void 0===e?0:e,n=t.y,o=void 0===n?0:n,i=t.value,a=t.fontSize,u=t.fill,c=void 0===u?"currentColor":u,s=t.overflowMode,l=void 0===s?"default":s,f=t.textWidth,p=void 0===f?"":f,d=t.model,y={textAnchor:"middle","dominant-baseline":"middle",x:r,y:o,fill:c};if(Object.entries(t).forEach((function(t){var e=Ny(t,2),r=e[0],n=e[1];"object"!==My(n)&&(y[r]=n)})),i){var h=String(i).split(/[\r\n]/g),v=h.length;if("default"!==l){var g=d.BaseType,b=d.modelType;if(g===to.NODE&&b!==Qn.TEXT_NODE||g===to.EDGE&&p)return function(t){var e=t.value,r=t.fontSize,n=t.model,o=t.fontFamily,i=void 0===o?"":o,a=t.lineHeight,u=t.wrapPadding,c=void 0===u?"0, 0":u,s=t.overflowMode,l=t.x,f=t.y,p=n.width,d=n.textHeight,y=t.textWidth||p,h=String(e).split(/[\r\n]/g),v=h.length,g=_a({rows:h,style:{fontSize:"".concat(r,"px"),width:"".concat(y,"px"),fontFamily:i,lineHeight:a,padding:c},rowsLength:v,className:"lf-get-text-height"}),b=n.height>g?n.height:g;d&&(b=d);var m="ellipsis"===s;return Object(Q.g)("g",null,Object(Q.g)("foreignObject",{width:y,height:b,x:l-y/2,y:f-b/2},Object(Q.g)("div",{className:"lf-node-text-auto-wrap",style:{minHeight:b,width:y,padding:c}},Object(Q.g)("div",{className:m?"lf-node-text-ellipsis-content":"lf-node-text-auto-wrap-content",style:Dy({},t)},h.map((function(t){return Object(Q.g)("div",{className:"lf-node-text--auto-wrap-inner"},t)}))))))}(t)}if(v>1){var m=h.map((function(t,e){var n=(e-(v-1)/2)*(a+2);return Object(Q.g)("tspan",{className:"lf-text-tspan",x:r,y:o+n},t)}));return Object(Q.g)("text",y,m)}return Object(Q.g)("text",y,i)}}function Iy(t){return(Iy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ly(){return(Ly=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function zy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return By(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return By(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function By(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hy(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Xy(t,e){return(Xy=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Uy(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Yy(t);if(e){var o=Yy(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Gy(this,r)}}function Gy(t,e){if(e&&("object"===Iy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Fy(t)}function Fy(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Yy(t){return(Yy=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Vy(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Wy=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Xy(t,e)}(i,t);var e,r,n,o=Uy(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Vy(Fy(e=o.call(this)),"dragHandler",void 0),Vy(Fy(e),"sumDeltaX",0),Vy(Fy(e),"sumDeltaY",0),Vy(Fy(e),"stepDrag",void 0),Vy(Fy(e),"onDraging",(function(t){var r=t.deltaX,n=t.deltaY,o=e.props,i=o.model,a=zy(o.graphModel.transformModel.fixDeltaXY(r,n),2),u=a[0],c=a[1];i.moveText(u,c)})),Vy(Fy(e),"dblClickHandler",(function(){e.props.editable&&e.props.model.setElementState(qn.TEXT_EDIT)})),Vy(Fy(e),"mouseDownHandle",(function(t){var r=e.props,n=r.draggable,o=r.graphModel.editConfigModel.nodeTextDraggable;(n||o)&&e.stepDrag.handleMouseDown(t)}));var r=t.model,n=t.draggable;return e.stepDrag=new jc({onDraging:e.onDraging,step:1,model:r,isStopPropagation:n}),e}return e=i,(r=[{key:"getShape",value:function(){var t=this.props,e=t.model,r=t.graphModel,n=e.text,o=r.editConfigModel,i=n.value,a=n.x,u=n.y,c=n.editable,s=n.draggable,l={x:a,y:u,className:"",value:i};c?l.className="lf-element-text":s||o.nodeTextDraggable?l.className="lf-text-draggable":l.className="lf-text-disabled";var f=e.getTextStyle();return Object(Q.g)(Ry,Ly({},l,f,{model:e}))}},{key:"render",value:function(){if(this.props.model.text)return Object(Q.g)("g",{onMouseDown:this.mouseDownHandle,onDblClick:this.dblClickHandler},this.getShape())}}])&&Hy(e.prototype,r),n&&Hy(e,n),i}(Q.a),Ky=null!==window.navigator.userAgent.match(/MSIE|Trident/),$y=new Map,Zy=function(t){var e=$y.get(t);e&&(window.cancelAnimationFrame(e),$y.delete(t))};function qy(t){return(qy="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jy(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Qy(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Qy(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qy(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function th(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function eh(t,e){return(eh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function rh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=ih(t);if(e){var o=ih(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return nh(this,r)}}function nh(t,e){if(e&&("object"===qy(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return oh(t)}function oh(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ih(t){return(ih=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ah(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var uh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&eh(t,e)}(i,t);var e,r,n,o=rh(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),ah(oh(e=o.call(this)),"t",void 0),ah(oh(e),"moveOffset",void 0),ah(oh(e),"stepDrag",void 0),ah(oh(e),"contextMenuTime",void 0),ah(oh(e),"startTime",void 0),ah(oh(e),"clickTimer",void 0),ah(oh(e),"onDragStart",(function(t){var r=t.event,n=r.clientX,o=r.clientY,i=e.props,a=i.model,u=i.graphModel.getPointByClient({x:n,y:o}).canvasOverlayPosition,c=u.x,s=u.y;e.moveOffset={x:a.x-c,y:a.y-s}})),ah(oh(e),"onDraging",(function(t){var r=t.event,n=e.props,o=n.model,i=n.graphModel,a=i.editConfigModel,u=i.transformModel,c=i.width,s=i.height,l=i.gridSize;o.isDragging=!0;var f=r.clientX,p=r.clientY,d=i.getPointByClient({x:f,y:p}).canvasOverlayPosition,y=d.x,h=d.y,v=Jy(u.CanvasPointToHtmlPoint([y,h]),2),g=v[0],b=v[1];if(!(g<0||b<0||g>c||b>s)){y+=e.moveOffset.x,h+=e.moveOffset.y;var m,O,w,_=Jy(u.CanvasPointToHtmlPoint([y-o.width/2,h-o.height/2]),2),j=_[0],E=_[1],x=Jy(u.CanvasPointToHtmlPoint([y+o.width/2,h+o.height/2]),2),S=x[0],P=x[1],k=Math.max(l,20),A=[];j<0?A=[k,0]:S>i.width?A=[-k,0]:E<0?A=[0,k]:P>i.height&&(A=[0,-k]),e.t&&Zy(e.t),A.length>0&&!a.stopMoveGraph?e.t=(m=function(){var t=Jy(A,2),e=t[0],r=t[1];u.translate(e,r),i.moveNode(o.id,-e/u.SCALE_X,-r/u.SCALE_X)},O=zi(),w=window.requestAnimationFrame((function t(){if(m(),$y.get(O)){var e=window.requestAnimationFrame(t);$y.set(O,e)}})),$y.set(O,w),O):i.moveNode2Coordinate(o.id,y,h)}})),ah(oh(e),"onDragEnd",(function(){e.t&&Zy(e.t),e.props.model.isDragging=!1})),ah(oh(e),"handleClick",(function(t){if(e.startTime&&!((new Date).getTime()-e.startTime>200)){var r=e.props,n=r.model,o=r.graphModel,i={data:n.getData(),e:t,position:o.getPointByClient({x:t.clientX,y:t.clientY})},a=2===t.button,u=2===t.detail;if(!a){var c=o.editConfigModel;o.selectNodeById(n.id,Ai(t,c)),e.toFront(),u?(c.nodeTextEdit&&n.text.editable&&(n.setSelected(!1),o.setElementStateById(n.id,qn.TEXT_EDIT)),o.eventCenter.emit(eo.NODE_DBCLICK,i)):(o.eventCenter.emit(eo.ELEMENT_CLICK,i),o.eventCenter.emit(eo.NODE_CLICK,i))}}})),ah(oh(e),"handleContextMenu",(function(t){t.preventDefault();var r=e.props,n=r.model,o=r.graphModel,i=n.getData(),a=o.getPointByClient({x:t.clientX,y:t.clientY});o.setElementStateById(n.id,qn.SHOW_MENU,a.domOverlayPosition),o.selectNodeById(n.id),o.eventCenter.emit(eo.NODE_CONTEXTMENU,{data:i,e:t,position:a}),e.toFront()})),ah(oh(e),"handleMouseDown",(function(t){var r=e.props,n=r.model,o=r.graphModel;e.toFront(),e.startTime=(new Date).getTime(),o.editConfigModel.adjustNodePosition&&n.draggable&&e.stepDrag&&e.stepDrag.handleMouseDown(t)})),ah(oh(e),"setHoverON",(function(t){if(!e.state.isHovered){e.setState({isHovered:!0});var r=e.props,n=r.model,o=r.graphModel,i=n.getData();n.setHovered(!0),o.eventCenter.emit(eo.NODE_MOUSEENTER,{data:i,e:t})}})),ah(oh(e),"setHoverOFF",(function(t){e.setState({isHovered:!1});var r=e.props,n=r.model,o=r.graphModel,i=n.getData();n.setHovered(!1),o.eventCenter.emit(eo.NODE_MOUSELEAVE,{data:i,e:t})})),ah(oh(e),"onMouseOut",(function(t){Ky&&e.setHoverOFF(t)}));var r=t.graphModel,n=r.gridSize,a=r.eventCenter,u=t.model;return e.stepDrag=new jc({onDragStart:e.onDragStart,onDraging:e.onDraging,onDragEnd:e.onDragEnd,step:n,eventType:"NODE",isStopPropagation:!1,eventCenter:a,model:u}),e.state={isHovered:!1},e}return e=i,n=[{key:"getModel",value:function(t){return t}}],(r=[{key:"getAnchorShape",value:function(t){return null}},{key:"getAnchors",value:function(){var t=this,e=this.props,r=e.model,n=e.graphModel,o=r.isSelected,i=r.isHitable,a=r.isDragging,u=this.state.isHovered;if(i&&(o||u)&&!a){var c=r.getAnchorLineStyle();return nn(r.anchors,(function(e,o){var i=r.getAnchorStyle(e);return Object(Q.g)(ky,{anchorData:e,node:t,style:i,edgeStyle:c,anchorIndex:o,nodeModel:r,graphModel:n,setHoverOFF:t.setHoverOFF})}))}return[]}},{key:"getText",value:function(){var t=this.props,e=t.model,r=t.graphModel;if(e.state===qn.TEXT_EDIT)return"";if(e.text){var n=r.editConfigModel,o=!1;return(e.text.draggable||n.nodeTextDraggable)&&(o=!0),Object(Q.g)(Wy,{editable:n.nodeTextEdit&&e.text.editable,model:e,graphModel:r,draggable:o})}}},{key:"getStateClassName",value:function(){var t=this.props.model,e=t.state,r=t.isDraging,n="lf-node";switch(e){case qn.ALLOW_CONNECT:n+=" lf-node-allow";break;case qn.NOT_ALLOW_CONNECT:n+=" lf-node-not-allow";break;default:n+=" lf-node-default"}return r&&(n+=" lf-isDragging"),n}},{key:"toFront",value:function(){var t=this.props,e=t.model,r=t.graphModel;r.overlapMode!==ao.INCREASE&&e.autoToFront&&r.toFront(e.id)}},{key:"render",value:function(){var t,e=this.props,r=e.model,n=e.graphModel,o=n.editConfigModel,i=o.hideAnchors,a=o.adjustNodePosition,u=n.gridSize,c=n.transformModel.SCALE_X,s=r.isHitable,l=r.draggable,f=Object(Q.g)("g",{className:"lf-node-content"},this.getShape(),this.getText(),i?null:this.getAnchors());return s?(a&&l&&this.stepDrag.setStep(u*c),t=Object(Q.g)("g",{className:this.getStateClassName(),onMouseDown:this.handleMouseDown,onMouseUp:this.handleClick,onMouseEnter:this.setHoverON,onMouseOver:this.setHoverON,onMouseLeave:this.setHoverOFF,onMouseOut:this.onMouseOut,onContextMenu:this.handleContextMenu},f)):t=Object(Q.g)("g",{className:this.getStateClassName()},f),t}}])&&th(e.prototype,r),n&&th(e,n),i}(Q.a);function ch(t){return(ch="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function sh(){return(sh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function lh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ph(t,e){return(ph=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function dh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=hh(t);if(e){var o=hh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return yh(this,r)}}function yh(t,e){if(e&&("object"===ch(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function hh(t){return(hh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var vh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ph(t,e)}(i,t);var e,r,n,o=dh(i);function i(){return lh(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getShape",value:function(){var t=this.props.model,e=t.getNodeStyle();return Object(Q.g)(Fs,sh({},e,{x:t.x,y:t.y,width:t.width,height:t.height,radius:t.radius}))}}])&&fh(e.prototype,r),n&&fh(e,n),i}(uh);function gh(t){return(gh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function bh(){return(bh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function mh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Oh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function wh(t,e){return(wh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _h(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Eh(t);if(e){var o=Eh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return jh(this,r)}}function jh(t,e){if(e&&("object"===gh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Eh(t){return(Eh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var xh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wh(t,e)}(i,t);var e,r,n,o=_h(i);function i(){return mh(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getShape",value:function(){var t=this.props.model,e=t.x,r=t.y,n=t.r,o=t.getNodeStyle();return Object(Q.g)(ul,bh({},o,{x:e,y:r,r:n}))}}])&&Oh(e.prototype,r),n&&Oh(e,n),i}(uh);function Sh(t){return(Sh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ph(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return kh(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return kh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function kh(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ah(t){var e=t.points,r=t.className,n={fill:"transparent",fillOpacity:1,strokeWidth:1,stroke:"#000",strokeOpacity:1,points:""};return Object.entries(t).forEach((function(t){var e=Ph(t,2),r=e[0],o=e[1];"object"!==Sh(o)&&(n[r]=o)})),n.className=r?"lf-basic-shape ".concat(r):"lf-basic-shape",n.points=e.map((function(t){return t.join(",")})).join(" "),Object(Q.g)("polygon",n)}function Dh(t){return(Dh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Th(){return(Th=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Mh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ch(t,e){return(Ch=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Lh(t);if(e){var o=Lh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ih(this,r)}}function Ih(t,e){if(e&&("object"===Dh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Lh(t){return(Lh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var zh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Ch(t,e)}(i,t);var e,r,n,o=Rh(i);function i(){return Mh(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getShape",value:function(){var t=this.props.model,e=t.x,r=t.y,n=t.width,o=t.height,i=t.points,a=t.getNodeStyle(),u={transform:"matrix(1 0 0 1 ".concat(e-n/2," ").concat(r-o/2,")")};return Object(Q.g)("g",u,Object(Q.g)(Ah,Th({},a,{points:i,x:e,y:r})))}}])&&Nh(e.prototype,r),n&&Nh(e,n),i}(uh);function Bh(t){return(Bh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Hh(){return(Hh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Xh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Uh(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Gh(t,e){return(Gh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Fh(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Vh(t);if(e){var o=Vh(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Yh(this,r)}}function Yh(t,e){if(e&&("object"===Bh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Vh(t){return(Vh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Wh=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Gh(t,e)}(i,t);var e,r,n,o=Fh(i);function i(){return Xh(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getShape",value:function(){var t=this.props.model,e=t.getNodeStyle();return Object(Q.g)("g",null,Object(Q.g)(Ah,Hh({},e,{points:t.points,x:t.x,y:t.y})))}}])&&Uh(e.prototype,r),n&&Uh(e,n),i}(uh);function Kh(t){return(Kh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function $h(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Zh(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zh(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Zh(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function qh(t){var e=t.x,r=void 0===e?0:e,n=t.y,o=void 0===n?0:n,i=t.rx,a=void 0===i?4:i,u=t.ry,c=void 0===u?4:u,s=t.className,l={cx:r,cy:o,rx:a,ry:c,fill:"transparent",fillOpacity:1,strokeWidth:"1",stroke:"#000",strokeOpacity:1};return Object.entries(t).forEach((function(t){var e=$h(t,2),r=e[0],n=e[1];"object"!==Kh(n)&&(l[r]=n)})),l.className=s?"lf-basic-shape ".concat(s):"lf-basic-shape",Object(Q.g)("ellipse",l)}function Jh(t){return(Jh="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qh(){return(Qh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function tv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ev(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function rv(t,e){return(rv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function nv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=iv(t);if(e){var o=iv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ov(this,r)}}function ov(t,e){if(e&&("object"===Jh(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function iv(t){return(iv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var av=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&rv(t,e)}(i,t);var e,r,n,o=nv(i);function i(){return tv(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getShape",value:function(){var t=this.props.model,e=t.getNodeStyle();return Object(Q.g)(qh,Qh({},e,{x:t.x,y:t.y,rx:t.rx,ry:t.ry}))}}])&&ev(e.prototype,r),n&&ev(e,n),i}(uh);function uv(t){return(uv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function cv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function sv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?cv(Object(r),!0).forEach((function(e){lv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function lv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function dv(t,e){return(dv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function yv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=vv(t);if(e){var o=vv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return hv(this,r)}}function hv(t,e){if(e&&("object"===uv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function vv(t){return(vv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var gv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&dv(t,e)}(i,t);var e,r,n,o=yv(i);function i(){return fv(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getBackgroud",value:function(){var t=this.props.model,e=t.getTextStyle(),r=t.text;if(r&&r.value&&e.background&&"transparnet"!==e.background.fill){var n=r.x,o=r.y,i=t.width,a=t.height,u=sv(sv({},e.background),{},{x:n,y:o-1,width:i,height:a});return Object(Q.g)(Fs,u)}}},{key:"getShape",value:function(){return Object(Q.g)("g",null,this.getBackgroud())}}])&&pv(e.prototype,r),n&&pv(e,n),i}(uh);function bv(t){return(bv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function mv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ov(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function wv(t,e){return(wv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _v(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=xv(t);if(e){var o=xv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return jv(this,r)}}function jv(t,e){if(e&&("object"===bv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Ev(t)}function Ev(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xv(t){return(xv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Sv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Pv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wv(t,e)}(i,t);var e,r,n,o=_v(i);function i(){var t;mv(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Sv(Ev(t=o.call.apply(o,[this].concat(r))),"ref",void 0),Sv(Ev(t),"currrentProperties",void 0),Sv(Ev(t),"preProperties",void 0),Sv(Ev(t),"setRef",(function(e){t.ref=e})),t}return e=i,(r=[{key:"rootEl",get:function(){return this.ref}},{key:"setHtml",value:function(t){t.appendChild(document.createElement("div"))}},{key:"shouldUpdate",value:function(){if(!this.preProperties||this.preProperties!==this.currrentProperties)return this.preProperties=this.currrentProperties,!0}},{key:"componentDidMount",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"componentDidUpdate",value:function(){this.shouldUpdate()&&this.setHtml(this.rootEl)}},{key:"getShape",value:function(){var t=this.props.model,e=t.x,r=t.y,n=t.height,o=t.width;return this.currrentProperties=JSON.stringify(t.properties),Object(Q.g)("foreignObject",{x:e-o/2,y:r-n/2,width:o,height:n,ref:this.setRef})}}])&&Ov(e.prototype,r),n&&Ov(e,n),i}(uh);function kv(t){return(kv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Av(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Dv(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Dv(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dv(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Tv=function(t){var e={d:""};return Object.entries(t).forEach((function(t){var r=Av(t,2),n=r[0],o=r[1];"object"!==kv(o)&&(e[n]=o)})),Object(Q.g)("path",e)};function Mv(t){return(Mv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Nv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Cv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rv(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Iv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Lv(t,e){return(Lv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function zv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Hv(t);if(e){var o=Hv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Bv(this,r)}}function Bv(t,e){if(e&&("object"===Mv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Hv(t){return(Hv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Xv=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Lv(t,e)}(i,t);var e,r,n,o=zv(i);function i(){return Rv(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getArrowAttributes",value:function(){var t=this.props,e=t.arrowInfo,r=t.style,n=e.start,o=e.end,i={start:n,end:o,offset:r.offset,verticalLength:r.verticalLength,type:"end"},a=Ou(i),u=a.leftX,c=a.leftY,s=a.rightX,l=a.rightY;return function(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Nv(Object(r),!0).forEach((function(e){Cv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}({d:"M".concat(u," ").concat(c," L").concat(o.x," ").concat(o.y," L").concat(s," ").concat(l," z")},r)}},{key:"getShape",value:function(){var t=this.getArrowAttributes(),e=t.d,r=t.strokeWidth,n=t.stroke,o=t.fill;return Object(Q.g)(Tv,{d:e,fill:o,strokeWidth:r,stroke:n})}},{key:"render",value:function(){return Object(Q.g)("g",{className:"lf-arrow"},this.getShape())}}])&&Iv(e.prototype,r),n&&Iv(e,n),i}(Q.a);function Uv(t){return(Uv="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Gv(){return(Gv=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Fv(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Yv(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Fv(Object(r),!0).forEach((function(e){Jv(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Fv(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Vv(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Wv(t,e){return(Wv=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Kv(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=qv(t);if(e){var o=qv(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return $v(this,r)}}function $v(t,e){if(e&&("object"===Uv(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Zv(t)}function Zv(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qv(t){return(qv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Jv(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Qv,tg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Wv(t,e)}(i,t);var e,r,n,o=Kv(i);function i(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Jv(Zv(e=o.call(this,t)),"setHoverON",(function(){e.setState({isHoverd:!0})})),Jv(Zv(e),"setHoverOFF",(function(){e.setState({isHoverd:!1})})),e.state={isHoverd:!1},e}return e=i,(r=[{key:"getBackgroud",value:function(){var t=this.props.model,e=t.getTextStyle(),r=t.text,n=e.background||{};if(this.state.isHoverd&&e.hover&&e.hover.background&&(n=Yv(Yv({},n),e.hover.background)),r&&r.value&&"transparnet"!==n.fill){var o,i=e.fontSize,a=e.overflowMode,u=e.lineHeight,c=e.wrapPadding,s=e.textWidth,l=r.value,f=r.x,p=r.y,d=String(l).split(/[\r\n]/g),y=d.length;if("autoWrap"===a&&s){var h=_a({rows:d,style:{fontSize:"".concat(i,"px"),width:"".concat(s,"px"),lineHeight:u,padding:c},rowsLength:y,className:"lf-get-text-height"});o=Yv(Yv({},n),{},{x:f-1,y:p-1,width:s,height:h})}else{var v=0;d&&d.forEach((function(t){var e=Ju(t);v=e>v?e:v}));var g=ja({rows:d,fontSize:i,rowsLength:y}),b=g.width,m=g.height;o=Yv(Yv({},n),{},{x:f-1,y:p-1,width:b,height:m})}return Object(Q.g)(Fs,o)}}},{key:"getShape",value:function(){var t=this.props.model,e=t.text,r=e.value,n=e.x,o=e.y;if(r){var i=Yv({x:n,y:o,className:"lf-element-text",value:r},t.getTextStyle());return Object(Q.g)("g",{className:"lf-line-text",onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getBackgroud(),Object(Q.g)(Ry,Gv({},i,{model:t})))}}}])&&Vv(e.prototype,r),n&&Vv(e,n),i}(Wy);function eg(t){return(eg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rg(){return(rg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ng(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function og(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ng(Object(r),!0).forEach((function(e){dg(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ng(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function ig(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return ag(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ag(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ag(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ug(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function cg(t,e){return(cg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function sg(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=pg(t);if(e){var o=pg(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return lg(this,r)}}function lg(t,e){if(e&&("object"===eg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return fg(t)}function fg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pg(t){return(pg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}!function(t){t.SOURCE="SOURCE",t.TARGET="TARGET"}(Qv||(Qv={}));var yg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cg(t,e)}(i,t);var e,r,n,o=sg(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),dg(fg(t=o.call(this)),"dragHandler",void 0),dg(fg(t),"oldEdge",void 0),dg(fg(t),"preTargetNode",void 0),dg(fg(t),"targetRuleResults",void 0),dg(fg(t),"sourceRuleResults",void 0),dg(fg(t),"onDragStart",(function(){var e=t.props,r=e.x,n=e.y,o=e.edgeModel,i=o.startPoint,a=o.endPoint,u=o.pointsList;t.oldEdge={startPoint:i,endPoint:a,pointsList:u},t.setState({endX:r,endY:n,draging:!0}),o.isHitable=!1})),dg(fg(t),"onDraging",(function(e){var r=e.deltaX,n=e.deltaY,o=t.state,i=o.endX,a=o.endY,u=t.props,c=u.graphModel,s=u.type,l=ig(c.transformModel.moveCanvasPointByHtml([i,a],r,n),2),f=l[0],p=l[1];t.setState({endX:f,endY:p,draging:!0});var d=t.props.edgeModel,y=sa({x:i,y:a},c);if(y&&y.node&&t.isAllowAdjust(y)){var h,v=d.startPoint,g=d.endPoint,b=d.sourceNode,m=d.targetNode;s===Qv.SOURCE?h={startPoint:{x:y.anchor.x,y:y.anchor.y},endPoint:{x:g.x,y:g.y},sourceNode:y.node,targetNode:m}:s===Qv.TARGET&&(h={startPoint:{x:v.x,y:v.y},endPoint:{x:y.anchor.x,y:y.anchor.y},sourceNode:b,targetNode:y.node}),d.updateAfterAdjustStartAndEnd(h)}else s===Qv.SOURCE?d.updateStartPoint({x:f,y:p}):s===Qv.TARGET&&d.updateEndPoint({x:f,y:p})})),dg(fg(t),"onDragEnd",(function(){var e;t.setState({draging:!1});var r=t.props,n=r.graphModel,o=r.edgeModel,i=r.type;o.isHitable=!0;var a=t.state,u=a.endX,c=a.endY,s=a.draging,l=sa({x:u,y:c},n);if(s){if(l&&l.node&&t.isAllowAdjust(l)){var f,p=o.getData(),d=og(og({},p),{},{sourceAnchorId:"",targetAnchorId:"",text:(null==p||null===(f=p.text)||void 0===f?void 0:f.value)||""});i===Qv.SOURCE?d=og(og({},d),{},{sourceNodeId:l.node.id,sourceAnchorId:l.anchor.id,startPoint:{x:l.anchor.x,y:l.anchor.y},targetNodeId:o.targetNodeId,endPoint:og({},o.endPoint)}):i===Qv.TARGET&&(d=og(og({},d),{},{sourceNodeId:o.sourceNodeId,startPoint:og({},o.startPoint),targetNodeId:l.node.id,targetAnchorId:l.anchor.id,endPoint:{x:l.anchor.x,y:l.anchor.y}})),n.deleteEdgeById(o.id);var y=n.addEdge(og({},d));n.eventCenter.emit(eo.EDGE_EXCHANGE_NODE,{data:{newEdge:y.getData(),oldEdge:o.getData()}})}else t.recoveryEdge();null===(e=t.preTargetNode)||void 0===e||e.setElementState(qn.DEFAULT)}})),dg(fg(t),"recoveryEdge",(function(){var e=t.props.edgeModel,r=t.oldEdge,n=r.startPoint,o=r.endPoint,i=r.pointsList;e.updateStartPoint(n),e.updateEndPoint(o),e.modelType!==Qn.LINE_EDGE&&(e.pointsList=i,e.initPoints())})),dg(fg(t),"getAdjustPointStyle",(function(){return t.props.graphModel.theme.edgeAdjust})),t.state={draging:!1,endX:0,endY:0},t.targetRuleResults=new Map,t.sourceRuleResults=new Map,t.dragHandler=sc({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd}),t}return e=i,(r=[{key:"isAllowAdjust",value:function(t){var e=this.props,r=e.edgeModel,n=(r.id,r.sourceNode),o=r.targetNode,i=r.sourceAnchorId,a=r.targetAnchorId,u=e.type,c=null,s=null,l=null,f=null;if(u===Qv.SOURCE?(c=t.node,s=o,l=t.anchor,f=o.getAnchorInfo(a)):(c=n,s=t.node,f=t.anchor,l=n.getAnchorInfo(i)),this.preTargetNode&&this.preTargetNode!==t.node&&this.preTargetNode.setElementState(qn.DEFAULT),this.preTargetNode=t.node,f.id===l.id)return!1;var p="".concat(c.id,"_").concat(s.id,"_").concat(l.id,"_").concat(f.id);if(!this.targetRuleResults.has(p)){var d=c.isAllowConnectedAsSource(s,l,f),y=s.isAllowConnectedAsTarget(c,l,f);this.sourceRuleResults.set(p,Ea(d)),this.targetRuleResults.set(p,Ea(y))}var h=this.sourceRuleResults.get(p).isAllPass,v=this.targetRuleResults.get(p).isAllPass,g=h&&v?qn.ALLOW_CONNECT:qn.NOT_ALLOW_CONNECT;return u===Qv.SOURCE?c.setElementState(g):s.setElementState(g),h&&v}},{key:"render",value:function(){var t=this.props,e=t.x,r=t.y,n=this.state.draging,o=this.getAdjustPointStyle();return Object(Q.g)("g",null,Object(Q.g)(ul,rg({className:"lf-edge-adjust-point"},o,{x:e,y:r,onMouseDown:this.dragHandler,"pointer-events":n?"none":""})))}}])&&ug(e.prototype,r),n&&ug(e,n),i}(Q.a);function hg(t){return(hg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vg(){return(vg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function gg(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function bg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?gg(Object(r),!0).forEach((function(e){Sg(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gg(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function mg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Og(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function wg(t,e){return(wg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=xg(t);if(e){var o=xg(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return jg(this,r)}}function jg(t,e){if(e&&("object"===hg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Eg(t)}function Eg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xg(t){return(xg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Sg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Pg=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&wg(t,e)}(i,t);var e,r,n,o=_g(i);function i(){var t;mg(this,i);for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return Sg(Eg(t=o.call.apply(o,[this].concat(r))),"startTime",void 0),Sg(Eg(t),"contextMenuTime",void 0),Sg(Eg(t),"clickTimer",void 0),Sg(Eg(t),"handleHover",(function(e,r){var n=t.props,o=n.model,i=n.graphModel.eventCenter;o.setHovered(e);var a=e?eo.EDGE_MOUSEENTER:eo.EDGE_MOUSELEAVE,u=o.getData();i.emit(a,{data:u,e:r})})),Sg(Eg(t),"setHoverON",(function(e){t.handleHover(!0,e)})),Sg(Eg(t),"setHoverOFF",(function(e){t.handleHover(!1,e)})),Sg(Eg(t),"handleContextMenu",(function(e){e.preventDefault(),t.contextMenuTime=(new Date).getTime(),t.clickTimer&&clearTimeout(t.clickTimer);var r=t.props,n=r.model,o=r.graphModel,i=o.getPointByClient({x:e.clientX,y:e.clientY});o.setElementStateById(n.id,qn.SHOW_MENU,i.domOverlayPosition),t.toFront(),o.selectEdgeById(n.id);var a=null==n?void 0:n.getData();o.eventCenter.emit(eo.EDGE_CONTEXTMENU,{data:a,e:e,position:i})})),Sg(Eg(t),"handleMouseDown",(function(e){e.stopPropagation(),t.startTime=(new Date).getTime()})),Sg(Eg(t),"handleMouseUp",(function(e){if(t.startTime&&!((new Date).getTime()-t.startTime>200||2===e.button)){var r=2===e.detail,n=t.props,o=n.model,i=n.graphModel,a=null==o?void 0:o.getData(),u=i.getPointByClient({x:e.clientX,y:e.clientY});if(r){var c=i.editConfigModel,s=i.textEditElement;if(s&&s.id===o.id&&i.setElementStateById(o.id,qn.DEFAULT),c.edgeTextEdit&&o.text.editable&&i.setElementStateById(o.id,qn.TEXT_EDIT),o.modelType===Qn.POLYLINE_EDGE){var l=o,f=i.getPointByClient({x:e.x,y:e.y}).canvasOverlayPosition,p=f.x,d=f.y,y=rc({x:p,y:d},l.points);l.dbClickPosition=y}i.eventCenter.emit(eo.EDGE_DBCLICK,{data:a,e:e,position:u})}else i.eventCenter.emit(eo.ELEMENT_CLICK,{data:a,e:e,position:u}),i.eventCenter.emit(eo.EDGE_CLICK,{data:a,e:e,position:u});var h=i.editConfigModel;i.selectEdgeById(o.id,Ai(e,h)),t.toFront()}})),Sg(Eg(t),"getIsDraging",(function(){return!1})),t}return e=i,(r=[{key:"getShape",value:function(){}},{key:"getTextStyle",value:function(){}},{key:"getText",value:function(){var t=this.props,e=t.model,r=t.graphModel;if(e.state===qn.TEXT_EDIT)return"";var n=!1,o=r.editConfigModel;return(e.text.draggable||o.edgeTextDraggable)&&(n=!0),Object(Q.g)(tg,{editable:o.edgeTextEdit&&e.text.editable,model:e,graphModel:r,draggable:n})}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=t.startPoint,r=t.endPoint,n=t.isSelected;return{start:e,end:r,hover:this.state.hover,isSelected:n}}},{key:"getArrowStyle",value:function(){var t=this.props,e=t.model,r=t.graphModel,n=e.getEdgeStyle(),o=r.theme.arrow;return bg(bg({},n),{},{fill:n.stroke},o)}},{key:"getArrow",value:function(){var t=this.getArrowInfo(),e=t.start,r=t.end;if(e&&r&&(e.x!==r.x||e.y!==r.y)){var n=this.getArrowStyle();return Object(Q.g)(Xv,{arrowInfo:t,style:n})}}},{key:"getAdjustPoints",value:function(){var t=this.props,e=t.model,r=t.graphModel,n=e.getAdjustStart(),o=e.getAdjustEnd();return Object(Q.g)("g",null,Object(Q.g)(yg,vg({type:"SOURCE"},n,{edgeModel:e,graphModel:r})),Object(Q.g)(yg,vg({type:"TARGET"},o,{edgeModel:e,graphModel:r})))}},{key:"getAnimation",value:function(){}},{key:"getAppendWidth",value:function(){return Object(Q.g)("g",null)}},{key:"getAppend",value:function(){return Object(Q.g)("g",{className:"lf-edge-append"},this.getAppendWidth())}},{key:"toFront",value:function(){var t=this.props,e=t.graphModel,r=t.model;e.overlapMode!==ao.INCREASE&&e.toFront(r.id)}},{key:"render",value:function(){var t=this.props,e=t.model,r=e.isSelected,n=e.isHitable,o=t.graphModel,i=this.getIsDraging(),a=o.editConfigModel.adjustEdgeStartAndEnd,u=o.animation,c=r&&u.edge&&1===o.getSelectElements().edges.length;return Object(Q.g)("g",null,Object(Q.g)("g",{className:n?"lf-edge":"lf-edge pointer-none",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onContextMenu:this.handleContextMenu,onMouseOver:this.setHoverON,onMouseEnter:this.setHoverON,onMouseLeave:this.setHoverOFF},this.getShape(),this.getAppend(),c&&this.getAnimation(),this.getText(),this.getArrow()),a&&r&&!i?this.getAdjustPoints():"")}}])&&Og(e.prototype,r),n&&Og(e,n),i}(Q.a);function kg(t){return(kg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ag(){return(Ag=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Dg(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Mg(t,e){return(Mg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Ng(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Rg(t);if(e){var o=Rg(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Cg(this,r)}}function Cg(t,e){if(e&&("object"===kg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function Rg(t){return(Rg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var Ig=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Mg(t,e)}(i,t);var e,r,n,o=Ng(i);function i(){return Dg(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getEdge",value:function(){var t=this.props.model,e=t.startPoint,r=t.endPoint,n=t.getEdgeStyle();return Object(Q.g)(ks,Ag({},n,{x1:e.x,y1:e.y,x2:r.x,y2:r.y}))}},{key:"getShape",value:function(){return Object(Q.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var t=this.props.model,e=t.getAnimation(),r=e.stroke,n=e.className,o=e.strokeDasharray,i=t.startPoint,a=t.endPoint,u=t.getEdgeStyle();return Object(Q.g)("g",null,Object(Q.g)(ks,Ag({},u,{x1:i.x,y1:i.y,x2:a.x,y2:a.y,className:n,strokeDasharray:o,stroke:r})))}},{key:"getAppendWidth",value:function(){var t=this.props.model,e=function(t){var e,r=t.start,n=t.end;if(r.x===n.x&&r.y===n.y)e="";else{var o={start:r,end:n,offset:10,verticalLength:5},i=Ou(_u(_u({},o),{},{type:"start"})),a=Ou(_u(_u({},o),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY," \n    L").concat(i.rightX," ").concat(i.rightY," \n    L").concat(a.rightX," ").concat(a.rightY,"\n    L").concat(a.leftX," ").concat(a.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}({start:t.startPoint,end:t.endPoint}),r=e.d,n=e.strokeWidth,o=e.fill,i=e.strokeDasharray,a=e.stroke;return Object(Q.g)(Tv,{d:r,fill:o,strokeWidth:n,stroke:a,strokeDasharray:i})}}])&&Tg(e.prototype,r),n&&Tg(e,n),i}(Pg);function Lg(t){return(Lg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function zg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Bg(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Bg(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Bg(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Hg=function(t){var e={points:"",fill:"none"};return Object.entries(t).forEach((function(t){var r=zg(t,2),n=r[0],o=r[1];"object"!==Lg(o)&&(e[n]=o)})),Object(Q.g)("polyline",e)};function Xg(t){return(Xg="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Ug(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Gg(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Ug(Object(r),!0).forEach((function(e){Qg(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ug(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Fg(){return(Fg=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function Yg(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Vg(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vg(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Vg(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Wg(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Kg(t,e){return(Kg=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function $g(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Jg(t);if(e){var o=Jg(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Zg(this,r)}}function Zg(t,e){if(e&&("object"===Xg(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return qg(t)}function qg(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jg(t){return(Jg=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Qg(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var tb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Kg(t,e)}(i,t);var e,r,n,o=$g(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Qg(qg(t=o.call(this)),"drag",void 0),Qg(qg(t),"isDraging",void 0),Qg(qg(t),"appendInfo",void 0),Qg(qg(t),"dragHandler",void 0),Qg(qg(t),"onDragStart",(function(){t.props.model.dragAppendStart()})),Qg(qg(t),"onDraging",(function(e){var r=e.deltaX,n=e.deltaY,o=t.props,i=o.model,a=o.graphModel;t.isDraging=!0;var u=a.transformModel,c=a.editConfigModel,s=Yg(u.fixDeltaXY(r,n),2),l=s[0],f=s[1],p=i,d=c.adjustEdgeMiddle;t.appendInfo=d?p.dragAppendSimple(t.appendInfo,{x:l,y:f}):p.dragAppend(t.appendInfo,{x:l,y:f})})),Qg(qg(t),"onDragEnd",(function(){var e=t.props,r=e.model,n=e.graphModel.eventCenter,o=r;o.dragAppendEnd(),t.isDraging=!1,t.appendInfo=void 0,n.emit(eo.EDGE_ADJUST,{data:o.getData()})})),Qg(qg(t),"beforeDragStart",(function(e,r){r.dragAble&&t.dragHandler(e),t.appendInfo=r})),Qg(qg(t),"getIsDraging",(function(){return t.isDraging})),t.drag=sc({onDragStart:t.onDragStart,onDraging:t.onDraging,onDragEnd:t.onDragEnd,isStopPropagation:!1}),t}return e=i,(r=[{key:"getEdge",value:function(){var t=this.props.model,e=t.getEdgeStyle();return Object(Q.g)(Hg,Fg({points:t.points},e))}},{key:"getShape",value:function(){return Object(Q.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var t=this.props.model,e=t.getAnimation(),r=e.stroke,n=e.className,o=e.strokeDasharray,i=t.getEdgeStyle();return Object(Q.g)("g",null,Object(Q.g)(Hg,Fg({points:t.points},i,{className:n,strokeDasharray:o,stroke:r})))}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=t.points,r=t.isSelected,n={start:null,end:null,hover:this.state.hover,isSelected:r},o=$u(e);return o.length>=2&&(n.start=o[o.length-2],n.end=o[o.length-1]),n}},{key:"getAppendAttributes",value:function(t){var e,r=t.start,n=t.end;if(r.x===n.x&&r.y===n.y)e="";else{var o={start:r,end:n,offset:10,verticalLength:5},i=Ou(Gg(Gg({},o),{},{type:"start"})),a=Ou(Gg(Gg({},o),{},{type:"end"}));e="M".concat(i.leftX," ").concat(i.leftY," \n      L").concat(i.rightX," ").concat(i.rightY," \n      L").concat(a.rightX," ").concat(a.rightY,"\n      L").concat(a.leftX," ").concat(a.leftY," z")}return{d:e,fill:"transparent",stroke:"transparent",strokeWidth:1,strokeDasharray:"4, 4"}}},{key:"getAppendShape",value:function(t){var e=this.getAppendAttributes(t),r=e.d,n=e.strokeWidth,o=e.fill,i=e.strokeDasharray,a=e.stroke;return Object(Q.g)(Tv,{d:r,fill:o,strokeWidth:n,stroke:a,strokeDasharray:i})}},{key:"getAppendWidth",value:function(){for(var t=this,e=this.props,r=e.model,n=e.graphModel,o=r.pointsList,i=r.draggable,a=[],u=o.length,c=function(e){var r="lf-polyline-append",c={start:{x:o[e].x,y:o[e].y},end:{x:o[e+1].x,y:o[e+1].y},startIndex:e,endIndex:e+1,direction:"",dragAble:!0},s=Object(Q.g)("g",{className:r},t.getAppendShape(c)),l=n.editConfigModel,f=l.adjustEdge,p=l.adjustEdgeMiddle;if(f&&i){t.dragHandler=t.drag;var d=c.startIndex,y=c.endIndex,h=p&&(0===d||y===u-1);c.dragAble=!h,c.start.x===c.end.x?(c.dragAble&&(r+="-ew-resize"),c.direction=ro.VERTICAL):c.start.y===c.end.y&&(c.dragAble&&(r+="-ns-resize"),c.direction=ro.HORIZONTAL),s=Object(Q.g)("g",{className:t.isDraging?"lf-dragging":"lf-drag-able",onMouseDown:function(e){return t.beforeDragStart(e,c)}},Object(Q.g)("g",{className:r},t.getAppendShape(c)))}else t.dragHandler=function(){};a.push(s)},s=0;s<u-1;s++)c(s);return Object(Q.g)("g",null,a)}}])&&Wg(e.prototype,r),n&&Wg(e,n),i}(Pg);function eb(t){return(eb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return nb(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return nb(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nb(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ob(){return(ob=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function ib(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ab(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function ub(t,e){return(ub=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function cb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=lb(t);if(e){var o=lb(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return sb(this,r)}}function sb(t,e){if(e&&("object"===eb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function lb(t){return(lb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var fb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&ub(t,e)}(i,t);var e,r,n,o=cb(i);function i(){return ib(this,i),o.apply(this,arguments)}return e=i,(r=[{key:"getEdge",value:function(){var t=this.props.model,e=t.getEdgeStyle();return Object(Q.g)(Tv,ob({d:t.path},e))}},{key:"getShape",value:function(){return Object(Q.g)("g",null,this.getEdge())}},{key:"getAnimation",value:function(){var t=this.props.model,e=t.getAnimation(),r=e.stroke,n=e.className,o=e.strokeDasharray,i=t.getEdgeStyle();return Object(Q.g)("g",null,Object(Q.g)(Tv,ob({d:t.path},i,{className:n,strokeDasharray:o,stroke:r})))}},{key:"getAppendWidth",value:function(){var t=this.props.model.path;return Object(Q.g)(Tv,{d:t,strokeWidth:10,stroke:"transparent",fill:"none"})}},{key:"getArrowInfo",value:function(){var t=this.props.model,e=this.state.hover,r=t,n=r.path,o=r.isSelected,i=rb(function(t){var e=tc(t);return[e[2],e[3]]}(n),2);return{start:i[0],end:i[1],hover:e,isSelected:o}}}])&&ab(e.prototype,r),n&&ab(e,n),i}(Pg);var pb=function(t,e){return _r(t,e)};var db=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0},yb=function(){return ht.a.Date.now()},hb=/\s/;var vb=function(t){for(var e=t.length;e--&&hb.test(t.charAt(e)););return e},gb=/^\s+/;var bb=function(t){return t?t.slice(0,vb(t)+1).replace(gb,""):t},mb=/^[-+]0x[0-9a-f]+$/i,Ob=/^0b[01]+$/i,wb=/^0o[0-7]+$/i,_b=parseInt;var jb=function(t){if("number"==typeof t)return t;if(kr(t))return NaN;if(St(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=St(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=bb(t);var r=Ob.test(t);return r||wb.test(t)?_b(t.slice(2),r?2:8):mb.test(t)?NaN:+t},Eb=Math.max,xb=Math.min;var Sb=function(t,e,r){var n,o,i,a,u,c,s=0,l=!1,f=!1,p=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function d(e){var r=n,i=o;return n=o=void 0,s=e,a=t.apply(i,r)}function y(t){return s=t,u=setTimeout(v,e),l?d(t):a}function h(t){var r=t-c;return void 0===c||r>=e||r<0||f&&t-s>=i}function v(){var t=yb();if(h(t))return g(t);u=setTimeout(v,function(t){var r=e-(t-c);return f?xb(r,i-(t-s)):r}(t))}function g(t){return u=void 0,p&&n?d(t):(n=o=void 0,a)}function b(){var t=yb(),r=h(t);if(n=arguments,o=this,c=t,r){if(void 0===u)return y(c);if(f)return clearTimeout(u),u=setTimeout(v,e),d(c)}return void 0===u&&(u=setTimeout(v,e)),a}return e=jb(e)||0,St(r)&&(l=!!r.leading,i=(f="maxWait"in r)?Eb(jb(r.maxWait)||0,e):i,p="trailing"in r?!!r.trailing:p),b.cancel=function(){void 0!==u&&clearTimeout(u),s=0,n=c=o=u=void 0},b.flush=function(){return void 0===u?a:g(yb())},b},Pb=r(157);function kb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Ab(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Db,Tb,Mb,Nb=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Ab(this,"undos",[]),Ab(this,"redos",[]),Ab(this,"callbacks",[]),Ab(this,"stopWatch",null),Ab(this,"curData",null),Ab(this,"maxSize",50),Ab(this,"waitTime",100),Ab(this,"eventCenter",void 0),this.eventCenter=e}var e,r,n;return e=t,(r=[{key:"add",value:function(t){pb(db(this.undos),t)||(this.undos.push(t),pb(this.curData,t)||(this.redos=[]),this.eventCenter.emit(eo.HISTORY_CHANGE,{data:{undos:this.undos,redos:this.redos,undoAble:this.undos.length>1,redoAble:this.redos.length>0}}),this.undos.length>this.maxSize&&this.undos.shift())}},{key:"undoAble",value:function(){return this.undos.length>1}},{key:"undo",value:function(){if(this.undoAble()){var t=this.undos.pop();this.redos.push(t);var e=this.undos.pop();return this.curData=ii(e),e}}},{key:"redoAble",value:function(){return this.redos.length>0}},{key:"redo",value:function(){if(this.redoAble()){var t=this.redos.pop();return this.curData=ii(t),t}}},{key:"watch",value:function(t){var e=this;this.stopWatch&&this.stopWatch(),this.undos.push(t.modelToGraphData()),this.stopWatch=Object(Pb.a)(t,Sb((function(){var r=t.modelToHistoryData();r&&e.add(r)}),this.waitTime))}}])&&kb(e.prototype,r),n&&kb(e,n),t}();function Cb(t){return(Cb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Rb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||function(t,e){if(!t)return;if("string"==typeof t)return Ib(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ib(t,e)}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ib(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Lb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function zb(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?Lb(Object(r),!0).forEach((function(e){Yb(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lb(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function Bb(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Hb(t,e){return(Hb=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Xb(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Fb(t);if(e){var o=Fb(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ub(this,r)}}function Ub(t,e){if(e&&("object"===Cb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return Gb(t)}function Gb(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Fb(t){return(Fb=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Yb(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Vb,Wb,Kb,$b=km((Mb=Tb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Hb(t,e)}(i,t);var e,r,n,o=Xb(i);function i(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),Yb(Gb(t=o.call(this)),"ref",Object(Q.f)()),Yb(Gb(t),"__prevText",{type:"",text:"",id:""}),Yb(Gb(t),"keyupHandler",(function(e){var r=t.props.graphModel.textEditElement;"Enter"===e.key&&e.altKey&&r.setElementState(0)})),Yb(Gb(t),"inputHandler",(function(e){var r=e.target.innerText,n=t.props.graphModel.textEditElement;t.__prevText={type:n.type,text:r.replace(/(\r\n)+$|(\n)+$/,""),id:n.id}})),t.state={style:{left:0,top:0}},t}return e=i,n=[{key:"getDerivedStateFromProps",value:function(t){var e,r=t.graphModel,n=r.transformModel,o=r.theme,i=r.textEditElement;if(i){var a;if(null===(a=i.text)||void 0===a||!a.value)if(i.BaseType===to.EDGE){var u=(i=i).text,c=i.textPosition,s=c.x,l=c.y;u.x=s,u.y=l,i.setText(u)}else i=i;var f={resize:"auto",whiteSpace:"normal",wordBreak:"break-all"};if(i.BaseType===to.EDGE){var p=o.edgeText,d=p.overflowMode,y=p.lineHeight,h=p.wrapPadding,v=p.textWidth;v&&"autoWrap"===d&&(e=zb(zb({},f),{},{width:v,minWidth:v,lineHeight:y,padding:h}))}else if(i.BaseType===to.NODE){var g=o.nodeText,b=g.overflowMode,m=g.lineHeight,O=g.wrapPadding,w=g.textWidth,_=i,j=_.width,E=_.modelType;(E!==Qn.TEXT_NODE&&"autoWrap"===b||E===Qn.TEXT_NODE&&w)&&(e=zb(zb({},f),{},{width:w||j,minWidth:w||j,lineHeight:m,padding:O}))}var x=i.text,S=x.x,P=x.y,k=Rb(n.CanvasPointToHtmlPoint([S,P]),2);return{style:zb({left:k[0],top:k[1]},e)}}}}],(r=[{key:"componentDidMount",value:function(){this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current));var t=this.props.graphModel,e=t.eventCenter,r=t.editConfigModel,n=r.edgeTextEdit,o=r.nodeTextEdit;(n||o)&&e.on("".concat(eo.GRAPH_TRANSFORM,",").concat(eo.NODE_CLICK,",").concat(eo.BLANK_CLICK," "),(function(){t.textEditElement&&t.textEditElement.setElementState(qn.DEFAULT)}))}},{key:"componentDidUpdate",value:function(){var t=this.props.graphModel;if(this.ref.current&&(this.ref.current.focus(),this.placeCaretAtEnd(this.ref.current)),""!==this.__prevText.id){var e=this.__prevText,r=e.text,n=e.id;t.updateText(n,r),t.eventCenter.emit(eo.TEXT_UPDATE,zb({},this.__prevText)),this.__prevText.id="",this.__prevText.text="",this.__prevText.type=""}}},{key:"placeCaretAtEnd",value:function(t){if(void 0!==window.getSelection&&void 0!==document.createRange){var e=document.createRange();e.selectNodeContents(t),e.collapse(!1);var r=window.getSelection();r.removeAllRanges(),r.addRange(e)}}},{key:"render",value:function(){var t,e=this.props.graphModel.textEditElement,r=this.state.style;return e?Object(Q.g)("div",{contentEditable:!0,className:"lf-text-input",style:r,ref:this.ref,key:e.id,onKeyUp:this.keyupHandler,onInput:this.inputHandler},null===(t=e.text)||void 0===t?void 0:t.value):null}}])&&Bb(e.prototype,r),n&&Bb(e,n),i}(Q.a),Yb(Tb,"toolName","textEdit"),Db=Mb))||Db,Zb=function(t){return t.modelType===Qn.LINE_EDGE?function(t){var e=t.startPoint,r=t.endPoint,n=(e.x+r.x)/2,o=(e.y+r.y)/2,i=Math.abs(e.x-r.x)+10,a=Math.abs(e.y-r.y)+10;return{x:n-i/2,y:o-a/2,x1:n+i/2,y1:o+a/2}}(t):t.modelType===Qn.POLYLINE_EDGE?function(t){var e=t.points,r=$u(e),n=Nu(r,8),o=n.x,i=n.y,a=n.width,u=n.height;return{x:o-a/2,y:i-u/2,x1:o+a/2,y1:i+u/2}}(t):t.modelType===Qn.BEZIER_EDGE?function(t){var e=t.path,r=tc(e),n=Nu(r,8),o=n.x,i=n.y,a=n.width,u=n.height;return{x:o-a/2,y:i-u/2,x1:o+a/2,y1:i+u/2}}(t):void 0};function qb(t){return(qb="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Jb(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,u=!1;try{for(r=r.call(t);!(a=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);a=!0);}catch(t){u=!0,o=t}finally{try{a||null==r.return||r.return()}finally{if(u)throw o}}return i}(t,e)||tm(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Qb(t){return function(t){if(Array.isArray(t))return em(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||tm(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function tm(t,e){if(t){if("string"==typeof t)return em(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?em(t,e):void 0}}function em(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function nm(t,e){return(nm=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function om(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=um(t);if(e){var o=um(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return im(this,r)}}function im(t,e){if(e&&("object"===qb(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return am(t)}function am(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function um(t){return(um=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function cm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var sm=km((Kb=Wb=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&nm(t,e)}(i,t);var e,r,n,o=om(i);function i(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,i),cm(am(e=o.call(this)),"stepDrag",void 0),cm(am(e),"handleMouseDown",(function(t){e.stepDrag.handleMouseDown(t)})),cm(am(e),"onDraging",(function(t){var r=t.deltaX,n=t.deltaY,o=e.props.graphModel,i=o.getSelectElements(!0);o.moveNodes(i.nodes.map((function(t){return t.id})),r,n)})),cm(am(e),"handleContextMenu",(function(t){t.preventDefault();var r=e.props,n=r.graphModel,o=r.graphModel,i=o.eventCenter,a=o.selectElements,u=n.getPointByClient({x:t.clientX,y:t.clientY}),c={nodes:[],edges:[]};Qb(a.values()).forEach((function(t){t.BaseType===to.NODE&&c.nodes.push(t.getData()),t.BaseType===to.EDGE&&c.edges.push(t.getData())})),i.emit(eo.SELECTION_CONTEXTMENU,{data:c,e:t,position:u})}));var r=t.graphModel,n=r.gridSize,a=r.eventCenter;return e.stepDrag=new jc({onDraging:e.onDraging,step:n,eventType:"SELECTION",eventCenter:a}),e}return e=i,(r=[{key:"render",value:function(){var t=this.props.graphModel,e=t.selectElements,r=t.transformModel;if(!(e.size<=1)){var n=Number.MAX_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,i=Number.MIN_SAFE_INTEGER,a=Number.MIN_SAFE_INTEGER;e.forEach((function(t){var e={x:0,y:0,x1:0,y1:0};t.BaseType===to.NODE&&(e=function(t){var e=t.x,r=t.y,n=t.width,o=t.height;return{x:e-n/2,y:r-o/2,x1:e+n/2,y1:r+o/2}}(t)),t.BaseType===to.EDGE&&(e=Zb(t)),n=Math.min(n,e.x),o=Math.min(o,e.y),i=Math.max(i,e.x1),a=Math.max(a,e.y1)}));var u=Jb(r.CanvasPointToHtmlPoint([n,o]),2);n=u[0],o=u[1];var c=Jb(r.CanvasPointToHtmlPoint([i,a]),2);i=c[0],a=c[1];var s={left:"".concat(n-10,"px"),top:"".concat(o-10,"px"),width:"".concat(i-n+20,"px"),height:"".concat(a-o+20,"px")};return Object(Q.g)("div",{className:"lf-multiple-select",style:s,onMouseDown:this.handleMouseDown,onContextMenu:this.handleContextMenu})}}}])&&rm(e.prototype,r),n&&rm(e,n),i}(Q.a),cm(Wb,"toolName","multipleSelect"),Vb=Kb))||Vb;function lm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function fm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var pm=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),fm(this,"tools",void 0),fm(this,"components",void 0),fm(this,"toolMap",new Map),fm(this,"instance",void 0),this.instance=e,this.isDisabledTool($b.toolName)||this.registerTool($b.toolName,$b),this.isDisabledTool(sm.toolName)||this.registerTool(sm.toolName,sm)}var e,r,n;return e=t,(r=[{key:"isDisabledTool",value:function(t){return-1!==this.instance.options.disabledTools.indexOf(t)}},{key:"registerTool",value:function(t,e){this.toolMap.set(t,e)}},{key:"getTools",value:function(){return Array.from(this.toolMap.values())}},{key:"getInstance",value:function(){return this.instance}}])&&lm(e.prototype,r),n&&lm(e,n),t}(),dm=r(158),ym=r.n(dm);function hm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function vm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var gm=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),vm(this,"mousetrap",void 0),vm(this,"options",void 0),vm(this,"target",void 0),e.keyboard||(e.keyboard={enabled:!1}),this.options=e;var r=e.lf;this.target=r.container,this.mousetrap=new ym.a(this.target),e.keyboard.enabled&&this.enable(!0)}var e,r,n;return e=t,(r=[{key:"initShortcuts",value:function(){var t=this,e=this.options.keyboard.shortcuts;if(e)if(Se(e))e.forEach((function(e){var r=e.keys,n=e.callback,o=e.action;return t.on(r,n,o)}));else{var r=e.keys,n=e.callback,o=e.action;this.on(r,n,o)}}},{key:"on",value:function(t,e,r){this.mousetrap.bind(this.getKeys(t),e,r)}},{key:"disabled",get:function(){return!0!==this.options.keyboard.enabled}},{key:"off",value:function(t,e){this.mousetrap.unbind(this.getKeys(t),e)}},{key:"enable",value:function(t){(this.disabled||t)&&(this.options.keyboard.enabled=!0,this.target instanceof HTMLElement&&(this.target.setAttribute("tabindex","-1"),this.target.style.outline="none"))}},{key:"disable",value:function(){this.disabled||(this.options.keyboard.enabled=!1,this.target instanceof HTMLElement&&this.target.removeAttribute("tabindex"))}},{key:"getKeys",value:function(t){var e=this;return(Array.isArray(t)?t:[t]).map((function(t){return e.formatkey(t)}))}},{key:"formatkey",value:function(t){return t.toLowerCase().replace(/\s/g,"").replace("delete","del").replace("cmd","command")}}])&&hm(e.prototype,r),n&&hm(e,n),t}(),bm=gm,mm=null;function Om(t,e){return t.x+=e,t.y+=e,t.text&&(t.text.x+=e,t.text.y+=e),t}function wm(t,e){return t.startPoint&&(t.startPoint.x+=e,t.startPoint.y+=e),t.endPoint&&(t.endPoint.x+=e,t.endPoint.y+=e),t.pointsList&&t.pointsList.length>0&&t.pointsList.forEach((function(t){t.x+=e,t.y+=e})),t.text&&(t.text.x+=e,t.text.y+=e),t}function _m(t){return(_m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function jm(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function Em(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?jm(Object(r),!0).forEach((function(e){Sm(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jm(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function xm(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function Sm(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Pm=function(){function t(e){var r,n,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),Sm(this,"container",void 0),Sm(this,"width",void 0),Sm(this,"height",void 0),Sm(this,"graphModel",void 0),Sm(this,"history",void 0),Sm(this,"viewMap",new Map),Sm(this,"tool",void 0),Sm(this,"keyboard",void 0),Sm(this,"dnd",void 0),Sm(this,"options",void 0),Sm(this,"snaplineModel",void 0),Sm(this,"components",[]),Sm(this,"plugins",void 0),Sm(this,"extension",{}),Sm(this,"adapterIn",void 0),Sm(this,"adapterOut",void 0),Sm(this,"getView",(function(t){return o.viewMap.get(t)})),e=Kl(e),this.options=e,this.container=e.container,this.plugins=e.plugins,this.graphModel=new Lc(Em({},e)),this.tool=new pm(this),this.history=new Nb(this.graphModel.eventCenter),this.dnd=new Wl({lf:this}),this.keyboard=new bm({lf:this,keyboard:e.keyboard}),e.isSilentMode||!1===e.snapline||(this.snaplineModel=new yy(this.graphModel),r=this.graphModel.eventCenter,n=this.snaplineModel,r.on("node:mousemove",(function(t){var e=t.data;n.setNodeSnapLine(e)})),r.on("node:mouseup",(function(){n.clearSnapline()}))),function(t,e){var r=t.keyboard,n=r.options.keyboard;r.on(["cmd + c","ctrl + c"],(function(){if(n.enabled&&!e.textEditElement){var r=t.options.guards,o=e.getSelectElements(!1);return r&&r.beforeClone&&!r.beforeClone(o)?(mm=null,!1):((mm=o).nodes.forEach((function(t){return Om(t,40)})),mm.edges.forEach((function(t){return wm(t,40)})),!1)}})),r.on(["cmd + v","ctrl + v"],(function(){if(n.enabled&&!e.textEditElement){if(mm&&(mm.nodes||mm.edges)){t.clearSelectElements();var r=t.addElements(mm);if(!r)return;r.nodes.forEach((function(e){return t.selectElementById(e.id,!0)})),r.edges.forEach((function(e){return t.selectElementById(e.id,!0)})),mm.nodes.forEach((function(t){return Om(t,40)})),mm.edges.forEach((function(t){return wm(t,40)}))}return!1}})),r.on(["cmd + z","ctrl + z"],(function(){if(n.enabled&&!e.textEditElement)return t.undo(),!1})),r.on(["cmd + y","ctrl + y"],(function(){if(n.enabled&&!e.textEditElement)return t.redo(),!1})),r.on(["backspace"],(function(){if(n.enabled&&!e.textEditElement){var r=e.getSelectElements(!0);return t.clearSelectElements(),r.edges.forEach((function(e){return t.deleteEdge(e.id)})),r.nodes.forEach((function(e){return t.deleteNode(e.id)})),!1}}))}(this,this.graphModel),this.keyboard.initShortcuts(),this.defaultRegister(),this.installPlugins(e.disabledPlugins)}var e,r,n;return e=t,n=[{key:"use",value:function(t){var e=t.pluginName;e||(console.warn("".concat(t.name||t.constructor.name,"pluginName!")),e=t.name);var r=this.extensions.get(e);r&&r.destroy&&r.destroy(),this.extensions.set(e,t)}}],(r=[{key:"register",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("string"==typeof t){var n={BaseEdge:Pg,BaseEdgeModel:za,BaseNode:uh,BaseNodeModel:Wf,RectNode:vh,RectNodeModel:Nd,CircleNode:xh,CircleNodeModel:pp,PolygonNode:zh,PolygonNodeModel:gd,TextNode:gv,TextNodeModel:Kd,LineEdge:Ig,LineEdgeModel:eu,DiamondNode:Wh,DiamondNodeModel:Np,PolylineEdge:tb,PolylineEdgeModel:mu,BezierEdge:fb,BezierEdgeModel:vf,EllipseNode:av,EllipseNodeModel:qp,HtmlNode:Pv,HtmlNodeModel:cy,h:Q.g,type:t};this.viewMap.forEach((function(t){var e=t.extendKey;e&&(n[e]=t)})),this.graphModel.modelMap.forEach((function(t){var e=t.extendKey;e&&(n[e]=t)}));var o=e(n),i=o.view,a=o.model,u=i;r&&!u.isObervered&&(u.isObervered=!0,u=J(u)),this.setView(t,u),this.graphModel.setModel(t,a)}else this.registerElement(t)}},{key:"registerElement",value:function(t){var e=t.view;!1===t.isObserverView||e.isObervered||(e.isObervered=!0,e=J(e)),this.setView(t.type,e),this.graphModel.setModel(t.type,t.model)}},{key:"defaultRegister",value:function(){this.registerElement({view:vh,model:Nd,type:"rect"}),this.registerElement({type:"circle",view:xh,model:pp}),this.registerElement({type:"polygon",view:zh,model:gd}),this.registerElement({type:"line",view:Ig,model:eu}),this.registerElement({type:"polyline",view:tb,model:mu}),this.registerElement({type:"bezier",view:fb,model:vf}),this.registerElement({type:"text",view:gv,model:Kd}),this.registerElement({type:"ellipse",view:av,model:qp}),this.registerElement({type:"diamond",view:Wh,model:Np}),this.registerElement({type:"html",view:Pv,model:cy})}},{key:"selectElementById",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.graphModel.selectElementById(t,e),e||this.graphModel.toFront(t)}},{key:"focusOn",value:function(t){var e=this.graphModel.transformModel,r=t.coordinate,n=t.id;if(!r){var o=this.getNodeModelById(n);o&&(r=o.getData());var i=this.getEdgeModelById(n);i&&(r=i.textPosition)}var a=r,u=a.x,c=a.y;e.focusOn(u,c,this.graphModel.width,this.graphModel.height)}},{key:"setTheme",value:function(t){this.graphModel.setTheme(t)}},{key:"resize",value:function(t,e){this.options.width=null!=t?t:this.options.width,this.options.height=null!=e?e:this.options.height,this.graphModel.resize(t,e)}},{key:"setDefaultEdgeType",value:function(t){this.graphModel.setDefaultEdgeType(t)}},{key:"updateText",value:function(t,e){this.graphModel.updateText(t,e)}},{key:"deleteElement",value:function(t){var e,r,n,o=this.getModelById(t);return!!o&&null!==(r=null===(n=(Sm(e={},to.NODE,this.deleteNode),Sm(e,to.EDGE,this.deleteEdge),e)[o.BaseType])||void 0===n?void 0:n.call(this,t))&&void 0!==r&&r}},{key:"getModelById",value:function(t){return this.graphModel.getElement(t)}},{key:"getDataById",value:function(t){return this.graphModel.getElement(t).getData()}},{key:"changeNodeType",value:function(t,e){this.graphModel.changeNodeType(t,e)}},{key:"changeEdgeType",value:function(t,e){this.graphModel.changeEdgeType(t,e)}},{key:"getNodeEdges",value:function(t){return this.graphModel.getNodeEdges(t)}},{key:"addNode",value:function(t){return this.graphModel.addNode(t)}},{key:"deleteNode",value:function(t){var e=this.graphModel.getNodeModelById(t);if(!e)return!1;var r=e.getData(),n=this.options.guards,o=!n||!n.beforeDelete||n.beforeDelete(r);return o&&this.graphModel.deleteNode(t),o}},{key:"cloneNode",value:function(t){var e=this.graphModel.getNodeModelById(t).getData(),r=this.options.guards;if(!r||!r.beforeClone||r.beforeClone(e))return this.graphModel.cloneNode(t)}},{key:"changeNodeId",value:function(t,e){return this.graphModel.changeNodeId(t,e)}},{key:"getNodeModelById",value:function(t){return this.graphModel.getNodeModelById(t)}},{key:"getNodeDataById",value:function(t){return this.graphModel.getNodeModelById(t).getData()}},{key:"addEdge",value:function(t){return this.graphModel.addEdge(t)}},{key:"deleteEdge",value:function(t){var e=this.options.guards,r=this.graphModel.edgesMap[t];if(!r)return!1;var n=r.model.getData(),o=!e||!e.beforeDelete||e.beforeDelete(n);return o&&this.graphModel.deleteEdgeById(t),o}},{key:"deleteEdgeByNodeId",value:function(t){var e=t.sourceNodeId,r=t.targetNodeId;e&&r?this.graphModel.deleteEdgeBySourceAndTarget(e,r):e?this.graphModel.deleteEdgeBySource(e):r&&this.graphModel.deleteEdgeByTarget(r)}},{key:"changeEdgeId",value:function(t,e){return this.graphModel.changeEdgeId(t,e)}},{key:"getEdgeModelById",value:function(t){var e;return null===(e=this.graphModel.edgesMap[t])||void 0===e?void 0:e.model}},{key:"getEdgeModels",value:function(t){var e=this.graphModel.edges,r=t.sourceNodeId,n=t.targetNodeId;if(r&&n){var o=[];return e.forEach((function(t){t.sourceNodeId===r&&t.targetNodeId===n&&o.push(t)})),o}if(r){var i=[];return e.forEach((function(t){t.sourceNodeId===r&&i.push(t)})),i}if(n){var a=[];return e.forEach((function(t){t.targetNodeId===n&&a.push(t)})),a}return[]}},{key:"getEdgeDataById",value:function(t){var e;return null===(e=this.getEdgeModelById(t))||void 0===e?void 0:e.getData()}},{key:"getNodeIncomingEdge",value:function(t){return this.graphModel.getNodeIncomingEdge(t)}},{key:"getNodeOutgoingEdge",value:function(t){return this.graphModel.getNodeOutgoingEdge(t)}},{key:"getNodeIncomingNode",value:function(t){return this.graphModel.getNodeIncomingNode(t)}},{key:"getNodeOutgoingNode",value:function(t){return this.graphModel.getNodeOutgoingNode(t)}},{key:"editText",value:function(t){this.graphModel.editText(t)}},{key:"setProperties",value:function(t,e){var r;null===(r=this.graphModel.getElement(t))||void 0===r||r.setProperties(ka(e))}},{key:"getProperties",value:function(t){var e;return null===(e=this.graphModel.getElement(t))||void 0===e?void 0:e.getProperties()}},{key:"toFront",value:function(t){this.graphModel.toFront(t)}},{key:"setElementZIndex",value:function(t,e){return this.graphModel.setElementZIndex(t,e)}},{key:"addElements",value:function(t){for(var e=this,r=t.nodes,n=t.edges,o={},i={nodes:[],edges:[]},a=0;a<r.length;a++){var u=r[a],c=u.id,s=this.addNode(u);if(!s)return;c&&(o[c]=s.id),i.nodes.push(s)}return n.forEach((function(t){var r=t.sourceNodeId,n=t.targetNodeId;o[r]&&(t.sourceNodeId=o[r]),o[n]&&(t.targetNodeId=o[n]);var a=e.graphModel.addEdge(t);i.edges.push(a)})),i}},{key:"getAreaElement",value:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return this.graphModel.getAreaElement(t,e,r,n).map((function(t){return t.getData()}))}},{key:"getSelectElements",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.graphModel.getSelectElements(t)}},{key:"clearSelectElements",value:function(){this.graphModel.clearSelectElements()}},{key:"getGraphData",value:function(){var t=this.graphModel.modelToGraphData();return this.adapterOut?this.adapterOut(t):t}},{key:"getGraphRawData",value:function(){return this.graphModel.modelToGraphData()}},{key:"clearData",value:function(){this.graphModel.clearData()}},{key:"updateEditConfig",value:function(t){this.graphModel.editConfigModel.updateEditConfig(t)}},{key:"getEditConfig",value:function(){return this.graphModel.editConfigModel.getConfig()}},{key:"getPointByClient",value:function(t,e){return this.graphModel.getPointByClient({x:t,y:e})}},{key:"undo",value:function(){if(this.history.undoAble()){var t=ka(this.history.undo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"redo",value:function(){if(this.history.redoAble()){var t=ka(this.history.redo());this.clearSelectElements(),this.graphModel.graphDataToModel(t)}}},{key:"zoom",value:function(t,e){return this.graphModel.transformModel.zoom(t,e)}},{key:"resetZoom",value:function(){this.graphModel.transformModel.resetZoom()}},{key:"setZoomMiniSize",value:function(t){this.graphModel.transformModel.setZoomMiniSize(t)}},{key:"setZoomMaxSize",value:function(t){this.graphModel.transformModel.setZoomMaxSize(t)}},{key:"getTransform",value:function(){var t=this.graphModel.transformModel;return{SCALE_X:t.SCALE_X,SCALE_Y:t.SCALE_Y,TRANSLATE_X:t.TRANSLATE_X,TRANSLATE_Y:t.TRANSLATE_Y}}},{key:"translate",value:function(t,e){this.graphModel.transformModel.translate(t,e)}},{key:"resetTranslate",value:function(){var t=this.graphModel.transformModel,e=t.TRANSLATE_X,r=t.TRANSLATE_Y;this.translate(-e,-r)}},{key:"translateCenter",value:function(){this.graphModel.translateCenter()}},{key:"fitView",value:function(t){this.graphModel.fitView(t)}},{key:"on",value:function(t,e){this.graphModel.eventCenter.on(t,e)}},{key:"off",value:function(t,e){this.graphModel.eventCenter.off(t,e)}},{key:"once",value:function(t,e){this.graphModel.eventCenter.once(t,e)}},{key:"emit",value:function(t,e){this.graphModel.eventCenter.emit(t,e)}},{key:"installPlugins",value:function(){var e,r=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=null!==(e=this.plugins)&&void 0!==e?e:t.extensions;o.forEach((function(t){var e=t.pluginName||t.name;-1===n.indexOf(e)&&r.installPlugin(t)}))}},{key:"installPlugin",value:function(e){if("object"===_m(e)){var r=e.install,n=e.render;return r&&r.call(e,this,t),n&&this.components.push(n.bind(e)),void(this.extension[e.pluginName]=e)}var o=e,i=new o({lf:this,LogicFlow:t});i.render&&this.components.push(i.render.bind(i)),this.extension[o.pluginName]=i}},{key:"updateAttributes",value:function(t,e){this.graphModel.updateAttributes(t,e)}},{key:"createFakerNode",value:function(t){var e=this.graphModel.modelMap.get(t.type);if(e){var r=new e(Em(Em({},t),{},{virtual:!0}),this.graphModel);return this.graphModel.setFakerNode(r),r}console.warn("".concat(t.type,""))}},{key:"removeFakerNode",value:function(){this.graphModel.removeFakerNode()}},{key:"setNodeSnapLine",value:function(t){this.snaplineModel&&this.snaplineModel.setNodeSnapLine(t)}},{key:"removeNodeSnapLine",value:function(){this.snaplineModel&&this.snaplineModel.clearSnapline()}},{key:"setView",value:function(t,e){this.viewMap.set(t,e)}},{key:"render",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.adapterIn&&(t=this.adapterIn(t)),this.graphModel.graphDataToModel(ka(t)),this.options.isSilentMode||!1===this.options.history||this.history.watch(this.graphModel),Object(Q.j)(Object(Q.g)(Ul,{getView:this.getView,tool:this.tool,options:this.options,dnd:this.dnd,snaplineModel:this.snaplineModel,graphModel:this.graphModel}),this.container),this.emit(eo.GRAPH_RENDERED,this.graphModel.modelToGraphData())}}])&&xm(e.prototype,r),n&&xm(e,n),t}();function km(t){return J(t)}Sm(Pm,"extensions",new Map);e.default=Pm}])}));