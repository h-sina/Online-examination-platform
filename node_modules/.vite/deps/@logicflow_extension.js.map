{
  "version": 3,
  "sources": ["dep:@logicflow_extension", "../../@logicflow/extension/es/index.js", "../../@logicflow/extension/es/bpmn/index.js", "../../@logicflow/extension/es/bpmn/events/StartEvent.js", "../../@logicflow/extension/es/bpmn/getBpmnId.js", "../../ids/node_modules/hat/index.js", "../../ids/index.js", "../../@logicflow/extension/es/bpmn/events/EndEvent.js", "../../@logicflow/extension/es/bpmn/gateways/ExclusiveGateway.js", "../../@logicflow/extension/es/bpmn/tasks/UserTask.js", "../../@logicflow/extension/es/bpmn/tasks/ServiceTask.js", "../../@logicflow/extension/es/bpmn/flow/SequenceFlow.js", "../../@logicflow/extension/es/bpmn/constant.js", "../../@logicflow/extension/es/tools/snapshot/index.js", "../../@logicflow/extension/es/bpmn-adapter/index.js", "../../@logicflow/extension/es/bpmn-adapter/bpmnIds.js", "../../@logicflow/extension/es/bpmn-adapter/json2xml.js", "../../@logicflow/extension/es/bpmn-adapter/xml2json.js", "../../@logicflow/extension/es/turbo-adapter/index.js", "../../@logicflow/extension/es/insert-node-in-polyline/index.js", "../../@logicflow/extension/es/insert-node-in-polyline/edge.js", "../../@logicflow/extension/es/components/control/index.js", "../../@logicflow/extension/es/components/menu/index.js", "../../@logicflow/extension/es/components/context-menu/index.js", "../../@logicflow/extension/es/components/dnd-panel/index.js", "../../@logicflow/extension/es/components/selection-select/index.js", "../../@logicflow/extension/es/components/mini-map/index.js", "../../@logicflow/extension/es/materials/curved-edge/index.js", "../../@logicflow/extension/es/materials/group/index.js", "../../@logicflow/extension/es/materials/group/GroupNode.js", "../../@logicflow/extension/es/NodeResize/index.js", "../../@logicflow/extension/es/NodeResize/Node/RectResize.js", "../../@logicflow/extension/es/NodeResize/Control/ControlGroup.js", "../../preact/src/constants.js", "../../preact/src/util.js", "../../preact/src/options.js", "../../preact/src/create-element.js", "../../preact/src/component.js", "../../preact/src/create-context.js", "../../preact/src/diff/children.js", "../../preact/src/diff/props.js", "../../preact/src/diff/index.js", "../../preact/src/render.js", "../../preact/src/clone-element.js", "../../preact/src/diff/catch-error.js", "../../@logicflow/extension/es/NodeResize/Control/Control.js", "../../@logicflow/extension/es/NodeResize/BasicShape/Rect.js", "../../@logicflow/extension/es/NodeResize/Control/Util.js", "../../@logicflow/extension/es/NodeResize/Node/EllipseResize.js", "../../@logicflow/extension/es/NodeResize/Node/DiamondResize.js", "../../@logicflow/extension/es/NodeResize/BasicShape/Polygon.js", "../../@logicflow/extension/es/NodeResize/Node/HtmlResize.js", "../../@logicflow/extension/es/tools/flow-path/index.js", "../../@logicflow/extension/es/tools/auto-layout/index.js"],
  "sourcesContent": ["\nexport * from \"./node_modules/@logicflow/extension/es/index.js\"", "export * from './bpmn';\n// export * from './~mindmap';\nexport * from './tools/snapshot';\nexport * from './bpmn-adapter';\nexport * from './turbo-adapter';\nexport * from './insert-node-in-polyline';\nexport * from './components/control';\nexport * from './components/menu';\nexport * from './components/context-menu';\nexport * from './components/dnd-panel';\nexport * from './components/selection-select';\nexport * from './components/mini-map';\nexport * from './materials/curved-edge';\nexport * from './materials/group';\nexport * from './NodeResize';\nexport * from './tools/flow-path';\nexport * from './tools/auto-layout';\nexport * from './bpmn-adapter/xml2json';\nexport * from './bpmn-adapter/json2xml';\n", "// import LogicFlow from '@logicflow/core';\nimport StartEvent, { StartEventModel, StartEventView } from './events/StartEvent';\nimport EndEvent, { EndEventView, EndEventModel } from './events/EndEvent';\nimport ExclusiveGateway, { ExclusiveGatewayView, ExclusiveGatewayModel } from './gateways/ExclusiveGateway';\nimport UserTask, { UserTaskView, UserTaskModel } from './tasks/UserTask';\nimport ServiceTask, { ServiceTaskView, ServiceTaskModel } from './tasks/ServiceTask';\nimport SequenceFlow, { SequenceFlowView, SequenceFlowModel } from './flow/SequenceFlow';\nimport { theme } from './constant';\n// todo: name\nvar BpmnElement = /** @class */ (function () {\n    function BpmnElement(_a) {\n        var lf = _a.lf;\n        lf.setTheme(theme);\n        lf.register(StartEvent);\n        lf.register(EndEvent);\n        lf.register(ExclusiveGateway);\n        lf.register(UserTask);\n        lf.register(ServiceTask);\n        // \u652F\u6301\u81EA\u5B9A\u4E49bpmn\u5143\u7D20\u7684\u8FB9\n        if (!lf.options.customBpmnEdge) {\n            lf.register(SequenceFlow);\n            lf.setDefaultEdgeType('bpmn:sequenceFlow');\n        }\n    }\n    BpmnElement.pluginName = 'bpmnElement';\n    return BpmnElement;\n}());\nexport { BpmnElement, StartEventModel, StartEventView, EndEventView, EndEventModel, ExclusiveGatewayView, ExclusiveGatewayModel, UserTaskView, UserTaskModel, ServiceTaskView, ServiceTaskModel, SequenceFlowView, SequenceFlowModel, };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { CircleNode, CircleNodeModel } from '@logicflow/core';\nimport { getBpmnId } from '../getBpmnId';\nvar StartEventModel = /** @class */ (function (_super) {\n    __extends(StartEventModel, _super);\n    function StartEventModel(data, graphModel) {\n        var _this = this;\n        if (!data.id) {\n            data.id = \"Event_\" + getBpmnId();\n        }\n        if (!data.text) {\n            data.text = '';\n        }\n        if (data.text && typeof data.text === 'string') {\n            data.text = {\n                value: data.text,\n                x: data.x,\n                y: data.y + 40,\n            };\n        }\n        // fix: \u4E0D\u80FD\u76F4\u63A5\u5168\u90E8\u52A0\uFF0C\u4F1A\u5BFC\u81F4\u4E0B\u8F7D\u540E\u518D\u6B21\u4E0A\u4F20\uFF0C\u4F4D\u7F6E\u9519\u8BEF\u3002\n        // data.text.y += 40;\n        _this = _super.call(this, data, graphModel) || this;\n        return _this;\n    }\n    StartEventModel.prototype.setAttributes = function () {\n        this.r = 18;\n    };\n    StartEventModel.prototype.getConnectedTargetRules = function () {\n        var rules = _super.prototype.getConnectedTargetRules.call(this);\n        var notAsTarget = {\n            message: '\u8D77\u59CB\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u7EC8\u70B9',\n            validate: function () { return false; },\n        };\n        rules.push(notAsTarget);\n        return rules;\n    };\n    StartEventModel.extendKey = 'StartEventModel';\n    return StartEventModel;\n}(CircleNodeModel));\nvar StartEventView = /** @class */ (function (_super) {\n    __extends(StartEventView, _super);\n    function StartEventView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    StartEventView.extendKey = 'StartEventNode';\n    return StartEventView;\n}(CircleNode));\nvar StartEvent = {\n    type: 'bpmn:startEvent',\n    view: StartEventView,\n    model: StartEventModel,\n};\nexport { StartEventModel, StartEventView };\nexport default StartEvent;\n", "import Ids from 'ids';\nvar ids = new Ids([32, 32, 1]);\nexport function getBpmnId() {\n    return ids.next();\n}\n", "var hat = module.exports = function (bits, base) {\n    if (!base) base = 16;\n    if (bits === undefined) bits = 128;\n    if (bits <= 0) return '0';\n    \n    var digits = Math.log(Math.pow(2, bits)) / Math.log(base);\n    for (var i = 2; digits === Infinity; i *= 2) {\n        digits = Math.log(Math.pow(2, bits / i)) / Math.log(base) * i;\n    }\n    \n    var rem = digits - Math.floor(digits);\n    \n    var res = '';\n    \n    for (var i = 0; i < Math.floor(digits); i++) {\n        var x = Math.floor(Math.random() * base).toString(base);\n        res = x + res;\n    }\n    \n    if (rem) {\n        var b = Math.pow(base, rem);\n        var x = Math.floor(Math.random() * b).toString(base);\n        res = x + res;\n    }\n    \n    var parsed = parseInt(res, base);\n    if (parsed !== Infinity && parsed >= Math.pow(2, bits)) {\n        return hat(bits, base)\n    }\n    else return res;\n};\n\nhat.rack = function (bits, base, expandBy) {\n    var fn = function (data) {\n        var iters = 0;\n        do {\n            if (iters ++ > 10) {\n                if (expandBy) bits += expandBy;\n                else throw new Error('too many ID collisions, use more bits')\n            }\n            \n            var id = hat(bits, base);\n        } while (Object.hasOwnProperty.call(hats, id));\n        \n        hats[id] = data;\n        return id;\n    };\n    var hats = fn.hats = {};\n    \n    fn.get = function (id) {\n        return fn.hats[id];\n    };\n    \n    fn.set = function (id, value) {\n        fn.hats[id] = value;\n        return fn;\n    };\n    \n    fn.bits = bits || 128;\n    fn.base = base || 16;\n    return fn;\n};\n", "import hat from 'hat';\n\n\n/**\n * Create a new id generator / cache instance.\n *\n * You may optionally provide a seed that is used internally.\n *\n * @param {Seed} seed\n */\nexport default function Ids(seed) {\n\n  if (!(this instanceof Ids)) {\n    return new Ids(seed);\n  }\n\n  seed = seed || [ 128, 36, 1 ];\n  this._seed = seed.length ? hat.rack(seed[0], seed[1], seed[2]) : seed;\n}\n\n/**\n * Generate a next id.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.next = function(element) {\n  return this._seed(element || true);\n};\n\n/**\n * Generate a next id with a given prefix.\n *\n * @param {Object} [element] element to bind the id to\n *\n * @return {String} id\n */\nIds.prototype.nextPrefixed = function(prefix, element) {\n  var id;\n\n  do {\n    id = prefix + this.next(true);\n  } while (this.assigned(id));\n\n  // claim {prefix}{random}\n  this.claim(id, element);\n\n  // return\n  return id;\n};\n\n/**\n * Manually claim an existing id.\n *\n * @param {String} id\n * @param {String} [element] element the id is claimed by\n */\nIds.prototype.claim = function(id, element) {\n  this._seed.set(id, element || true);\n};\n\n/**\n * Returns true if the given id has already been assigned.\n *\n * @param  {String} id\n * @return {Boolean}\n */\nIds.prototype.assigned = function(id) {\n  return this._seed.get(id) || false;\n};\n\n/**\n * Unclaim an id.\n *\n * @param  {String} id the id to unclaim\n */\nIds.prototype.unclaim = function(id) {\n  delete this._seed.hats[id];\n};\n\n\n/**\n * Clear all claimed ids.\n */\nIds.prototype.clear = function() {\n\n  var hats = this._seed.hats,\n      id;\n\n  for (id in hats) {\n    this.unclaim(id);\n  }\n};", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { CircleNode, CircleNodeModel, h } from '@logicflow/core';\nimport { getBpmnId } from '../getBpmnId';\nvar EndEventModel = /** @class */ (function (_super) {\n    __extends(EndEventModel, _super);\n    function EndEventModel(data, graphModel) {\n        var _this = this;\n        if (!data.id) {\n            data.id = \"Event_\" + getBpmnId();\n        }\n        if (!data.text) {\n            data.text = '';\n        }\n        if (data.text && typeof data.text === 'string') {\n            data.text = {\n                value: data.text,\n                x: data.x,\n                y: data.y + 40,\n            };\n        }\n        _this = _super.call(this, data, graphModel) || this;\n        return _this;\n    }\n    EndEventModel.prototype.setAttributes = function () {\n        this.r = 18;\n    };\n    EndEventModel.prototype.getConnectedSourceRules = function () {\n        var rules = _super.prototype.getConnectedSourceRules.call(this);\n        var notAsSource = {\n            message: '\u7ED3\u675F\u8282\u70B9\u4E0D\u80FD\u4F5C\u4E3A\u8FB9\u7684\u8D77\u70B9',\n            validate: function () { return false; },\n        };\n        rules.push(notAsSource);\n        return rules;\n    };\n    EndEventModel.extendKey = 'EndEventModel';\n    return EndEventModel;\n}(CircleNodeModel));\nvar EndEventView = /** @class */ (function (_super) {\n    __extends(EndEventView, _super);\n    function EndEventView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EndEventView.prototype.getAnchorStyle = function () {\n        return {\n            visibility: 'hidden',\n        };\n    };\n    EndEventView.prototype.getShape = function () {\n        var model = this.props.model;\n        var style = model.getNodeStyle();\n        var x = model.x, y = model.y, r = model.r;\n        var outCircle = _super.prototype.getShape.call(this);\n        return h('g', {}, outCircle, h('circle', __assign(__assign({}, style), { cx: x, cy: y, r: r - 5 })));\n    };\n    EndEventView.extendKey = 'EndEventView';\n    return EndEventView;\n}(CircleNode));\nvar EndEvent = {\n    type: 'bpmn:endEvent',\n    view: EndEventView,\n    model: EndEventModel,\n};\nexport { EndEventView, EndEventModel };\nexport default EndEvent;\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { h, PolygonNode, PolygonNodeModel } from '@logicflow/core';\nimport { getBpmnId } from '../getBpmnId';\nvar ExclusiveGatewayModel = /** @class */ (function (_super) {\n    __extends(ExclusiveGatewayModel, _super);\n    function ExclusiveGatewayModel(data, graphModel) {\n        var _this = this;\n        if (!data.id) {\n            data.id = \"Gateway_\" + getBpmnId();\n        }\n        if (!data.text) {\n            data.text = '';\n        }\n        if (data.text && typeof data.text === 'string') {\n            data.text = {\n                value: data.text,\n                x: data.x,\n                y: data.y + 40,\n            };\n        }\n        _this = _super.call(this, data, graphModel) || this;\n        _this.points = [\n            [25, 0],\n            [50, 25],\n            [25, 50],\n            [0, 25],\n        ];\n        return _this;\n    }\n    ExclusiveGatewayModel.extendKey = 'ExclusiveGatewayModel';\n    return ExclusiveGatewayModel;\n}(PolygonNodeModel));\nvar ExclusiveGatewayView = /** @class */ (function (_super) {\n    __extends(ExclusiveGatewayView, _super);\n    function ExclusiveGatewayView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ExclusiveGatewayView.prototype.getShape = function () {\n        var model = this.props.model;\n        var x = model.x, y = model.y, width = model.width, height = model.height, points = model.points;\n        var style = model.getNodeStyle();\n        return h('g', {\n            transform: \"matrix(1 0 0 1 \" + (x - width / 2) + \" \" + (y - height / 2) + \")\",\n        }, h('polygon', __assign(__assign({}, style), { x: x,\n            y: y,\n            points: points })), h('path', __assign({ d: 'm 16,15 7.42857142857143,9.714285714285715 -7.42857142857143,9.714285714285715 3.428571428571429,0 5.714285714285715,-7.464228571428572 5.714285714285715,7.464228571428572 3.428571428571429,0 -7.42857142857143,-9.714285714285715 7.42857142857143,-9.714285714285715 -3.428571428571429,0 -5.714285714285715,7.464228571428572 -5.714285714285715,-7.464228571428572 -3.428571428571429,0 z' }, style)));\n    };\n    ExclusiveGatewayView.extendKey = 'ExclusiveGatewayNode';\n    return ExclusiveGatewayView;\n}(PolygonNode));\nvar ExclusiveGateway = {\n    type: 'bpmn:exclusiveGateway',\n    view: ExclusiveGatewayView,\n    model: ExclusiveGatewayModel,\n};\nexport { ExclusiveGatewayView, ExclusiveGatewayModel };\nexport default ExclusiveGateway;\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { h, RectNode, RectNodeModel } from '@logicflow/core';\nimport { getBpmnId } from '../getBpmnId';\nvar UserTaskModel = /** @class */ (function (_super) {\n    __extends(UserTaskModel, _super);\n    function UserTaskModel(data, graphModel) {\n        var _this = this;\n        if (!data.id) {\n            data.id = \"Activity_\" + getBpmnId();\n        }\n        _this = _super.call(this, data, graphModel) || this;\n        return _this;\n    }\n    UserTaskModel.extendKey = 'UserTaskModel';\n    return UserTaskModel;\n}(RectNodeModel));\nvar UserTaskView = /** @class */ (function (_super) {\n    __extends(UserTaskView, _super);\n    function UserTaskView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    UserTaskView.prototype.getLabelShape = function () {\n        var model = this.props.model;\n        var x = model.x, y = model.y, width = model.width, height = model.height;\n        var style = model.getNodeStyle();\n        return h('svg', {\n            x: x - width / 2 + 5,\n            y: y - height / 2 + 5,\n            width: 25,\n            height: 25,\n            viewBox: '0 0 1274 1024',\n        }, h('path', {\n            fill: style.stroke,\n            d: 'M655.807326 287.35973m-223.989415 0a218.879 218.879 0 1 0 447.978829 0 218.879 218.879 0 1 0-447.978829 0ZM1039.955839 895.482975c-0.490184-212.177424-172.287821-384.030443-384.148513-384.030443-211.862739 0-383.660376 171.85302-384.15056 384.030443L1039.955839 895.482975z',\n        }));\n    };\n    UserTaskView.prototype.getShape = function () {\n        var model = this.props.model;\n        var x = model.x, y = model.y, width = model.width, height = model.height, radius = model.radius;\n        var style = model.getNodeStyle();\n        // todo: \u5C06basic-shape\u5BF9\u5916\u66B4\u9732\uFF0C\u5728\u8FD9\u91CC\u53EF\u4EE5\u76F4\u63A5\u7528\u3002\u73B0\u5728\u7EAF\u624B\u5199\u6709\u70B9\u9EBB\u70E6\u3002\n        return h('g', {}, [\n            h('rect', __assign(__assign({}, style), { x: x - width / 2, y: y - height / 2, rx: radius, ry: radius, width: width,\n                height: height })),\n            this.getLabelShape(),\n        ]);\n    };\n    UserTaskView.extendKey = 'UserTaskNode';\n    return UserTaskView;\n}(RectNode));\nvar UserTask = {\n    type: 'bpmn:userTask',\n    view: UserTaskView,\n    model: UserTaskModel,\n};\nexport { UserTaskView, UserTaskModel };\nexport default UserTask;\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { h, RectNodeModel, RectNode } from '@logicflow/core';\nimport { getBpmnId } from '../getBpmnId';\nvar ServiceTaskModel = /** @class */ (function (_super) {\n    __extends(ServiceTaskModel, _super);\n    function ServiceTaskModel(data, graphModel) {\n        var _this = this;\n        if (!data.id) {\n            data.id = \"Activity_\" + getBpmnId();\n        }\n        _this = _super.call(this, data, graphModel) || this;\n        return _this;\n    }\n    ServiceTaskModel.extendKey = 'ServiceTaskModel';\n    return ServiceTaskModel;\n}(RectNodeModel));\nvar ServiceTaskView = /** @class */ (function (_super) {\n    __extends(ServiceTaskView, _super);\n    function ServiceTaskView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    ServiceTaskView.prototype.getLabelShape = function () {\n        var model = this.props.model;\n        var x = model.x, y = model.y, width = model.width, height = model.height;\n        var style = model.getNodeStyle();\n        return h('svg', {\n            x: x - width / 2 + 5,\n            y: y - height / 2 + 5,\n            width: 30,\n            height: 30,\n            viewBox: '0 0 1274 1024',\n        }, h('path', {\n            fill: style.stroke,\n            d: 'M882.527918 434.149934c-2.234901-5.303796-7.311523-8.853645-13.059434-9.138124l-61.390185-3.009544c-6.635117-20.973684-15.521508-41.175795-26.513864-60.282968l42.051745-47.743374c4.308119-4.889357 4.955872-12.004405 1.602498-17.59268-46.384423-77.30362-103.969956-101.422947-106.400309-102.410438-5.332449-2.170432-11.432377-1.090844-15.693424 2.77009L654.674467 240.664222c-17.004279-8.654101-35.092239-15.756869-53.995775-21.210068l-3.26537-66.490344c-0.280386-5.747911-3.833305-10.824533-9.134031-13.059434-1.683339-0.709151-30.193673-12.391215-76.866668-12.051477-46.672996-0.339738-75.18333 11.342326-76.866668 12.051477-5.300726 2.234901-8.853645 7.311523-9.134031 13.059434l-3.26537 66.490344c-18.903535 5.453199-36.991496 12.555967-53.995775 21.210068l-48.450479-43.922349c-4.261047-3.860934-10.360975-4.940522-15.693424-2.77009-2.430352 0.98749-60.015885 25.106818-106.400309 102.410438-3.353374 5.588275-2.705622 12.703323 1.602498 17.59268l42.051745 47.743374c-10.992355 19.107173-19.878746 39.309284-26.513864 60.282968l-61.390185 3.009544c-5.747911 0.284479-10.824533 3.834328-13.059434 9.138124-1.01512 2.415003-24.687262 60.190871-2.822278 147.651828 1.583055 6.324032 7.072069 10.893094 13.57518 11.308557 5.892197 0.37146 11.751648 0.523933 17.419741 0.667196 14.498202 0.372483 28.193109 0.723477 40.908712 4.63353 4.212952 1.294482 6.435573 8.270361 9.349949 18.763342 1.287319 4.640694 2.617617 9.43693 4.484128 14.010085 1.794879 4.393054 3.75758 8.570189 5.66093 12.607132 1.302669 2.765997 2.529613 5.380544 3.689019 8.018627 2.986007 6.803963 2.682086 9.773598 2.578732 10.349719-3.061732 3.672646-6.391571 7.238868-9.91379 11.015891-1.810229 1.943258-3.680832 3.949962-5.523807 5.980201l-22.560832 24.8909c-3.865028 4.261047-4.940522 10.365068-2.774183 15.693424 0.991584 2.426259 25.102724 60.011792 102.414531 106.400309 5.588275 3.353374 12.703323 2.701528 17.591657-1.603521l23.476691-20.682042c2.346441-2.061962 4.64888-4.336772 6.875594-6.534833 9.05319-8.93858 14.018272-12.95608 17.73185-11.576663 3.305279 1.222851 6.907317 3.166109 10.720156 5.228071 3.325745 1.794879 6.764054 3.650133 10.465352 5.288446 6.016017 2.662643 12.120039 4.688789 18.019399 6.65149 6.827499 2.266623 13.279445 4.409426 18.819624 7.275707 1.518586 0.782829 1.926886 0.994654 2.358721 7.830339 0.726547 11.496845 1.25048 23.276123 1.753947 34.672684 0.264013 5.900384 0.528026 11.803837 0.815575 17.700127 0.284479 5.743818 3.833305 10.82044 9.138124 13.05534 1.654686 0.698918 29.371958 12.063757 74.869175 12.063757 0.328481 0 3.65832 0 3.986801 0 45.497217 0 73.214489-11.364839 74.869175-12.063757 5.304819-2.234901 8.853645-7.311523 9.138124-13.05534 0.287549-5.89629 0.551562-11.799744 0.815575-17.700127 0.503467-11.396561 1.027399-23.175839 1.753947-34.672684 0.431835-6.835685 0.840134-7.04751 2.358721-7.830339 5.54018-2.866281 11.992125-5.009084 18.819624-7.275707 5.89936-1.962701 12.003382-3.988848 18.019399-6.65149 3.701299-1.638313 7.139607-3.493567 10.465352-5.288446 3.812839-2.061962 7.414877-4.00522 10.720156-5.228071 3.713578-1.379417 8.67866 2.638083 17.73185 11.576663 2.226714 2.198062 4.529153 4.472871 6.875594 6.534833l23.476691 20.682042c4.888334 4.305049 12.003382 4.956895 17.591657 1.603521 77.311807-46.388517 101.422947-103.97405 102.414531-106.400309 2.166339-5.328355 1.090844-11.432377-2.774183-15.693424l-22.560832-24.8909c-1.842974-2.030239-3.713578-4.036943-5.523807-5.980201-3.52222-3.777023-6.852058-7.343245-9.91379-11.015891-0.103354-0.576121-0.407276-3.545756 2.578732-10.349719 1.159406-2.638083 2.38635-5.252631 3.689019-8.018627 1.90335-4.036943 3.866051-8.214079 5.66093-12.607132 1.866511-4.573155 3.196809-9.369392 4.484128-14.010085 2.914376-10.492982 5.136997-17.46886 9.349949-18.763342 12.715603-3.910053 26.41051-4.261047 40.908712-4.63353 5.668093-0.143263 11.527544-0.295735 17.419741-0.667196 6.503111-0.415462 11.992125-4.984524 13.57518-11.308557C907.21518 494.340805 883.543038 436.564937 882.527918 434.149934zM643.49894 643.761929c-35.280528 35.280528-82.191954 54.711066-132.086317 54.711066s-96.806813-19.430538-132.086317-54.711066c-35.280528-35.279504-54.711066-82.191954-54.711066-132.086317 0-49.894364 19.430538-96.80272 54.711066-132.082224 35.283598-35.284621 82.191954-54.711066 132.086317-54.711066s96.80579 19.426445 132.086317 54.711066c35.279504 35.279504 54.711066 82.187861 54.711066 132.082224C698.210006 561.569976 678.782537 608.482425 643.49894 643.761929z',\n        }));\n    };\n    ServiceTaskView.prototype.getShape = function () {\n        var model = this.props.model;\n        var x = model.x, y = model.y, width = model.width, height = model.height, radius = model.radius;\n        var style = model.getNodeStyle();\n        return h('g', {}, [\n            h('rect', __assign({ x: x - width / 2, y: y - height / 2, rx: radius, ry: radius, width: width,\n                height: height }, style)),\n            this.getLabelShape(),\n        ]);\n    };\n    ServiceTaskView.extendKey = 'ServiceTaskNode';\n    return ServiceTaskView;\n}(RectNode));\nvar ServiceTask = {\n    type: 'bpmn:serviceTask',\n    view: ServiceTaskView,\n    model: ServiceTaskModel,\n};\nexport { ServiceTaskView, ServiceTaskModel };\nexport default ServiceTask;\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { PolylineEdge, PolylineEdgeModel } from '@logicflow/core';\nimport { getBpmnId } from '../getBpmnId';\nvar SequenceFlowModel = /** @class */ (function (_super) {\n    __extends(SequenceFlowModel, _super);\n    function SequenceFlowModel(data, graphModel) {\n        var _this = this;\n        if (!data.id) {\n            data.id = \"Flow_\" + getBpmnId();\n        }\n        _this = _super.call(this, data, graphModel) || this;\n        return _this;\n    }\n    SequenceFlowModel.extendKey = 'SequenceFlowModel';\n    return SequenceFlowModel;\n}(PolylineEdgeModel));\nvar SequenceFlowView = /** @class */ (function (_super) {\n    __extends(SequenceFlowView, _super);\n    function SequenceFlowView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    SequenceFlowView.extendKey = 'SequenceFlowEdge';\n    return SequenceFlowView;\n}(PolylineEdge));\nvar SequenceFlow = {\n    type: 'bpmn:sequenceFlow',\n    view: SequenceFlowView,\n    model: SequenceFlowModel,\n};\nexport { SequenceFlowView, SequenceFlowModel };\nexport default SequenceFlow;\n", "export var StartEventConfig = {\n    width: 40,\n    height: 40,\n};\nexport var EndEventConfig = {\n    width: 40,\n    height: 40,\n};\nexport var ExclusiveGatewayConfig = {\n    width: 40,\n    height: 40,\n};\nexport var ServiceTaskConfig = {\n    width: 100,\n    height: 80,\n};\nexport var UserTaskConfig = {\n    width: 100,\n    height: 80,\n};\nexport var theme = {\n    rect: {\n        radius: 5,\n        stroke: 'rgb(24, 125, 255)',\n    },\n    circle: {\n        r: 18,\n        stroke: 'rgb(24, 125, 255)',\n    },\n    polygon: {\n        stroke: 'rgb(24, 125, 255)',\n    },\n    polyline: {\n        stroke: 'rgb(24, 125, 255)',\n        hoverStroke: 'rgb(24, 125, 255)',\n        selectedStroke: 'rgb(24, 125, 255)',\n    },\n    edgeText: {\n        background: {\n            fill: 'white',\n            height: 14,\n            stroke: 'transparent',\n            radius: 3,\n        },\n    },\n};\n", "/**\n * \u5FEB\u7167\u63D2\u4EF6\uFF0C\u751F\u6210\u89C6\u56FE\n */\nvar Snapshot = {\n    pluginName: 'snapshot',\n    install: function (lf) {\n        var _this = this;\n        this.lf = lf;\n        /* \u4E0B\u8F7D\u5FEB\u7167 */\n        lf.getSnapshot = function (fileName, backgroundColor) {\n            _this.offsetX = Number.MAX_SAFE_INTEGER;\n            _this.offsetY = Number.MAX_SAFE_INTEGER;\n            _this.fileName = fileName || \"logic-flow.\" + Date.now() + \".png\";\n            var svgRootElement = _this.getSvgRootElement(lf);\n            _this.downloadSvg(svgRootElement, _this.fileName, backgroundColor);\n        };\n        /* \u83B7\u53D6Blob\u5BF9\u8C61\uFF0C\u7528\u6237\u56FE\u7247\u4E0A\u4F20 */\n        lf.getSnapshotBlob = function (backgroundColor) {\n            _this.offsetX = Number.MAX_SAFE_INTEGER;\n            _this.offsetY = Number.MAX_SAFE_INTEGER;\n            var svgRootElement = _this.getSvgRootElement(lf);\n            return _this.getBlob(svgRootElement, backgroundColor);\n        };\n        /* \u83B7\u53D6Base64\u5BF9\u8C61\uFF0C\u7528\u6237\u56FE\u7247\u4E0A\u4F20 */\n        lf.getSnapshotBase64 = function (backgroundColor) {\n            _this.offsetX = Number.MAX_SAFE_INTEGER;\n            _this.offsetY = Number.MAX_SAFE_INTEGER;\n            var svgRootElement = _this.getSvgRootElement(lf);\n            return _this.getBase64(svgRootElement, backgroundColor);\n        };\n    },\n    /* \u83B7\u53D6svgRoot\u5BF9\u8C61 */\n    getSvgRootElement: function (lf) {\n        var _this = this;\n        lf.graphModel.nodes.forEach(function (item) {\n            var x = item.x, width = item.width, y = item.y, height = item.height;\n            var offsetX = x - width / 2;\n            var offsetY = y - height / 2;\n            if (offsetX < _this.offsetX) {\n                _this.offsetX = offsetX - 5;\n            }\n            if (offsetY < _this.offsetY) {\n                _this.offsetY = offsetY - 5;\n            }\n        });\n        lf.graphModel.edges.forEach(function (edge) {\n            if (edge.pointsList) {\n                edge.pointsList.forEach(function (point) {\n                    var x = point.x, y = point.y;\n                    if (x < _this.offsetX) {\n                        _this.offsetX = x - 5;\n                    }\n                    if (y < _this.offsetY) {\n                        _this.offsetY = y - 5;\n                    }\n                });\n            }\n        });\n        var svgRootElement = lf.container.querySelector('.lf-canvas-overlay');\n        return svgRootElement;\n    },\n    triggerDownload: function (imgURI) {\n        var evt = new MouseEvent('click', {\n            view: window,\n            bubbles: false,\n            cancelable: true,\n        });\n        var a = document.createElement('a');\n        a.setAttribute('download', this.fileName);\n        a.setAttribute('href', imgURI);\n        a.setAttribute('target', '_blank');\n        a.dispatchEvent(evt);\n    },\n    removeAnchor: function (element) {\n        var childNodes = element.childNodes;\n        var childLength = element.childNodes && element.childNodes.length;\n        for (var i = 0; i < childLength; i++) {\n            var child = childNodes[i];\n            var classList = (child.classList && Array.from(child.classList)) || [];\n            if (classList.indexOf('lf-anchor') > -1) {\n                element.removeChild(element.childNodes[i]);\n                childLength--;\n                i--;\n            }\n        }\n    },\n    /* \u4E0B\u8F7D\u56FE\u7247 */\n    downloadSvg: function (svg, fileName, backgroundColor) {\n        var _this = this;\n        this.getCanvasData(svg, backgroundColor).then(function (canvas) {\n            var imgURI = canvas\n                .toDataURL('image/png')\n                .replace('image/png', 'image/octet-stream');\n            _this.triggerDownload(imgURI, fileName);\n        });\n    },\n    /* \u83B7\u53D6base64\u5BF9\u8C61 */\n    getBase64: function (svg, backgroundColor) {\n        var _this = this;\n        return new Promise(function (resolve) {\n            _this.getCanvasData(svg, backgroundColor).then(function (canvas) {\n                var base64 = canvas.toDataURL('image/png');\n                // \u8F93\u51FA\u56FE\u7247\u6570\u636E\u4EE5\u53CA\u56FE\u7247\u5BBD\u9AD8\n                resolve({ data: base64, width: canvas.width, height: canvas.height });\n            });\n        });\n    },\n    /* \u83B7\u53D6Blob\u5BF9\u8C61 */\n    getBlob: function (svg, backgroundColor) {\n        var _this = this;\n        return new Promise(function (resolve) {\n            _this.getCanvasData(svg, backgroundColor).then(function (canvas) {\n                canvas.toBlob(function (blob) {\n                    // \u8F93\u51FA\u56FE\u7247\u6570\u636E\u4EE5\u53CA\u56FE\u7247\u5BBD\u9AD8\n                    resolve({ data: blob, width: canvas.width, height: canvas.height });\n                }, 'image/png');\n            });\n        });\n    },\n    getClassRules: function () {\n        var rules = '';\n        var styleSheets = document.styleSheets;\n        for (var i = 0; i < styleSheets.length; i++) {\n            var sheet = styleSheets[i];\n            for (var j = 0; j < sheet.cssRules.length; j++) {\n                rules += sheet.cssRules[j].cssText;\n            }\n        }\n        return rules;\n    },\n    // \u83B7\u53D6\u56FE\u7247\u751F\u6210\u4E2D\u4E2D\u95F4\u4EA7\u7269canvas\u5BF9\u8C61\uFF0C\u7528\u6237\u8F6C\u6362\u4E3A\u5176\u4ED6\u9700\u8981\u7684\u683C\u5F0F\n    getCanvasData: function (svg, backgroundColor) {\n        var _this = this;\n        var copy = svg.cloneNode(true);\n        var graph = copy.lastChild;\n        var childLength = graph.childNodes && graph.childNodes.length;\n        if (childLength) {\n            for (var i = 0; i < childLength; i++) {\n                var lfLayer = graph.childNodes[i];\n                // \u53EA\u4FDD\u7559\u5305\u542B\u8282\u70B9\u548C\u8FB9\u7684\u57FA\u7840\u56FE\u5C42\u8FDB\u884C\u4E0B\u8F7D\uFF0C\u5176\u4ED6\u56FE\u5C42\u5220\u9664\n                var layerClassList = lfLayer.classList && Array.from(lfLayer.classList);\n                if (layerClassList && layerClassList.indexOf('lf-base') < 0) {\n                    graph.removeChild(graph.childNodes[i]);\n                    childLength--;\n                    i--;\n                }\n                else {\n                    // \u5220\u9664\u951A\u70B9\n                    var lfBase = graph.childNodes[i];\n                    lfBase && lfBase.childNodes.forEach(function (item) {\n                        var element = item;\n                        _this.removeAnchor(element.firstChild);\n                    });\n                }\n            }\n        }\n        // offset\u503C\u52A010\uFF0C\u4FDD\u8BC1\u56FE\u5F62\u4E0D\u4F1A\u7D27\u8D34\u7740\u4E0B\u8F7D\u56FE\u7247\u7684\u5DE6\u8FB9\u548C\u4E0A\u8FB9\n        copy.lastChild.style.transform = \"matrix(1, 0, 0, 1, \" + (-this.offsetX + 10) + \", \" + (-this.offsetY + 10) + \")\";\n        var dpr = window.devicePixelRatio || 1;\n        var canvas = document.createElement('canvas');\n        /*\n        \u4E3A\u4E86\u8BA1\u7B97\u771F\u5B9E\u5BBD\u9AD8\u9700\u8981\u53D6\u56FE\u7684\u771F\u5B9Edom\n        \u771F\u5B9Edom\u5B58\u5728\u7F29\u653E\u5F71\u54CD\u5176\u5BBD\u9AD8\u6570\u503C\n        \u5728\u5F97\u5230\u771F\u5B9E\u5BBD\u9AD8\u540E\u9664\u4EE5\u7F29\u653E\u6BD4\u4F8B\u5373\u53EF\u5F97\u5230\u6B63\u5E38\u5BBD\u9AD8\n        */\n        var base = document.getElementsByClassName('lf-base')[0];\n        var bbox = base.getBoundingClientRect();\n        var graphModel = this.lf.graphModel;\n        var transformModel = graphModel.transformModel;\n        var SCALE_X = transformModel.SCALE_X, SCALE_Y = transformModel.SCALE_Y;\n        var bboxWidth = Math.ceil(bbox.width / SCALE_X);\n        var bboxHeight = Math.ceil(bbox.height / SCALE_Y);\n        // width,height \u503C\u52A040\uFF0C\u4FDD\u8BC1\u56FE\u5F62\u4E0D\u4F1A\u7D27\u8D34\u7740\u4E0B\u8F7D\u56FE\u7247\u7684\u53F3\u8FB9\u548C\u4E0B\u8FB9\n        canvas.style.width = bboxWidth + \"px\";\n        canvas.style.height = bboxHeight + \"px\";\n        canvas.width = bboxWidth * dpr + 80;\n        canvas.height = bboxHeight * dpr + 80;\n        var ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, canvas.width, canvas.height);\n        ctx.scale(dpr, dpr);\n        // \u5982\u679C\u6709\u80CC\u666F\u8272\uFF0C\u8BBE\u7F6E\u6D41\u7A0B\u56FE\u5BFC\u51FA\u7684\u80CC\u666F\u8272\n        if (backgroundColor) {\n            ctx.fillStyle = backgroundColor;\n            ctx.fillRect(0, 0, bboxWidth * dpr + 80, bboxHeight * dpr + 80);\n        }\n        else {\n            ctx.clearRect(0, 0, bboxWidth, bboxHeight);\n        }\n        var img = new Image();\n        var style = document.createElement('style');\n        style.innerHTML = this.getClassRules();\n        var foreignObject = document.createElement('foreignObject');\n        foreignObject.appendChild(style);\n        copy.appendChild(foreignObject);\n        return new Promise(function (resolve) {\n            img.onload = function () {\n                ctx.drawImage(img, 0, 0);\n                resolve(canvas);\n            };\n            /*\n            \u56E0\u4E3Asvg\u4E2D\u5B58\u5728dom\u5B58\u653E\u5728foreignObject\u5143\u7D20\u4E2D\n            SVG\u56FE\u5F62\u8F6C\u6210img\u5BF9\u8C61\n            todo: \u4F1A\u5BFC\u81F4\u4E00\u4E9B\u6E05\u6670\u5EA6\u95EE\u9898\u8FD9\u4E2A\u9700\u8981\u518D\u89E3\u51B3\n            */\n            var svg2Img = \"data:image/svg+xml;charset=utf-8,\" + new XMLSerializer().serializeToString(copy);\n            var imgSrc = svg2Img.replace(/\\n/g, '').replace(/\\t/g, '').replace(/#/g, '%23');\n            img.src = imgSrc;\n        });\n    },\n};\nexport default Snapshot;\nexport { Snapshot, };\n", "var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { getBpmnId } from './bpmnIds';\nimport { lfJson2Xml } from './json2xml';\nimport { lfXml2Json } from './xml2json';\nimport { ExclusiveGatewayConfig, StartEventConfig, EndEventConfig, ServiceTaskConfig, UserTaskConfig, } from '../bpmn/constant';\nvar BpmnElements;\n(function (BpmnElements) {\n    BpmnElements[\"START\"] = \"bpmn:startEvent\";\n    BpmnElements[\"END\"] = \"bpmn:endEvent\";\n    BpmnElements[\"GATEWAY\"] = \"bpmn:exclusiveGateway\";\n    BpmnElements[\"USER\"] = \"bpmn:userTask\";\n    BpmnElements[\"SYSTEM\"] = \"bpmn:serviceTask\";\n    BpmnElements[\"FLOW\"] = \"bpmn:sequenceFlow\";\n})(BpmnElements || (BpmnElements = {}));\nvar defaultAttrs = ['-name', '-id', 'bpmn:incoming', 'bpmn:outgoing', '-sourceRef', '-targetRef'];\n/**\n * \u5C06\u666E\u901Ajson\u8F6C\u6362\u4E3Axmljson\n * xmljson\u4E2Dproperity\u4F1A\u4EE5\u201C-\u201D\u5F00\u5934\n * \u5982\u679C\u6CA1\u6709\u201C-\u201D\u8868\u793A\u4E3A\u5B50\u8282\u70B9\n */\nfunction toXmlJson(json) {\n    var xmlJson = {};\n    Object.entries(json).forEach(function (_a) {\n        var _b = __read(_a, 2), key = _b[0], value = _b[1];\n        if (typeof value !== 'object') {\n            if (key.indexOf('-') === 0) { // \u5982\u679C\u672C\u6765\u5C31\u662F\u201C-\u201D\u5F00\u5934\u7684\u4E86\uFF0C\u90A3\u5C31\u4E0D\u5904\u7406\u4E86\u3002\n                xmlJson[key] = value;\n            }\n            else {\n                xmlJson[\"-\" + key] = value;\n            }\n        }\n        else {\n            xmlJson[key] = toXmlJson(value);\n        }\n    });\n    return xmlJson;\n}\n/**\n * \u5C06xmlJson\u8F6C\u6362\u4E3A\u666E\u901A\u7684json\uFF0C\u5728\u5185\u90E8\u4F7F\u7528\u3002\n */\nfunction toNormalJson(xmlJson) {\n    var json = {};\n    Object.entries(xmlJson).forEach(function (_a) {\n        var _b = __read(_a, 2), key = _b[0], value = _b[1];\n        if (typeof value === 'string') {\n            if (key.indexOf('-') === 0) { // \u5982\u679C\u672C\u6765\u5C31\u662F\u201C-\u201D\u5F00\u5934\u7684\u4E86\uFF0C\u90A3\u5C31\u4E0D\u5904\u7406\u4E86\u3002\n                json[key.substr(1)] = value;\n            }\n            else {\n                json[key] = value;\n            }\n        }\n        else if (typeof value === 'object') {\n            json[key] = toNormalJson(value);\n        }\n        else {\n            json[key] = value;\n        }\n    });\n    return json;\n}\n/**\n * \u8BBE\u7F6Ebpmn process\u4FE1\u606F\n * \u76EE\u6807\u683C\u5F0F\u8BF7\u53C2\u8003examples/bpmn.json\n * bpmn\u56E0\u4E3A\u662F\u9ED8\u8BA4\u57FA\u4E8Exml\u683C\u5F0F\u7684\uFF0C\u5176\u7279\u70B9\u4E0Ejson\u5B58\u5728\u5DEE\u5F02\u3002\n * 1) \u5982\u679C\u662Fxml\u7684\u5C5E\u6027\uFF0Cjson\u4E2D\u5C5E\u6027\u7528'-'\u5F00\u5934\n * 2\uFF09\u5982\u679C\u53EA\u6709\u4E00\u4E2A\u5B50\u5143\u7D20\uFF0Cjson\u4E2D\u8868\u793A\u4E3A\u6B63\u5E38\u5C5E\u6027\n * 3\uFF09\u5982\u679C\u662F\u591A\u4E2A\u5B50\u5143\u7D20\uFF0Cjson\u4E2D\u4F7F\u7528\u6570\u7EC4\u5B58\u50A8\n */\nfunction convertLf2ProcessData(bpmnProcessData, data) {\n    var nodeMap = new Map();\n    data.nodes.forEach(function (node) {\n        var _a;\n        var processNode = {\n            '-id': node.id,\n        };\n        if ((_a = node.text) === null || _a === void 0 ? void 0 : _a.value) {\n            processNode['-name'] = node.text.value;\n        }\n        if (node.properties) {\n            var properties = toXmlJson(node.properties);\n            Object.assign(processNode, properties);\n        }\n        nodeMap.set(node.id, processNode);\n        if (!bpmnProcessData[node.type]) {\n            bpmnProcessData[node.type] = processNode; // \u5982\u679C\u53EA\u6709\u4E00\u4E2A\u5B50\u5143\u7D20\uFF0Cjson\u4E2D\u8868\u793A\u4E3A\u6B63\u5E38\u5C5E\u6027\n        }\n        else if (Array.isArray(bpmnProcessData[node.type])) { // \u5982\u679C\u662F\u591A\u4E2A\u5B50\u5143\u7D20\uFF0Cjson\u4E2D\u4F7F\u7528\u6570\u7EC4\u5B58\u50A8\n            bpmnProcessData[node.type].push(processNode);\n        }\n        else { // \u5982\u679C\u662F\u591A\u4E2A\u5B50\u5143\u7D20\uFF0Cjson\u4E2D\u4F7F\u7528\u6570\u7EC4\u5B58\u50A8\n            bpmnProcessData[node.type] = [\n                bpmnProcessData[node.type],\n                processNode,\n            ];\n        }\n    });\n    var sequenceFlow = data.edges.map(function (edge) {\n        var _a, _b;\n        var targetNode = nodeMap.get(edge.targetNodeId);\n        // @see https://github.com/didi/LogicFlow/issues/325\n        // \u9700\u8981\u4FDD\u8BC1incomming\u5728outgoing\u4E4B\u524D\n        if (!targetNode['bpmn:incoming']) {\n            targetNode['bpmn:incoming'] = edge.id;\n        }\n        else if (Array.isArray(targetNode['bpmn:incoming'])) {\n            targetNode['bpmn:incoming'].push(edge.id);\n        }\n        else {\n            targetNode['bpmn:incoming'] = [\n                targetNode['bpmn:incoming'],\n                edge.id,\n            ];\n        }\n        var sourceNode = nodeMap.get(edge.sourceNodeId);\n        if (!sourceNode['bpmn:outgoing']) {\n            sourceNode['bpmn:outgoing'] = edge.id;\n        }\n        else if (Array.isArray(sourceNode['bpmn:outgoing'])) {\n            sourceNode['bpmn:outgoing'].push(edge.id);\n        }\n        else { // \u5B57\u7B26\u4E32\u8F6C\u6570\u7EC4\n            sourceNode['bpmn:outgoing'] = [\n                sourceNode['bpmn:outgoing'],\n                edge.id,\n            ];\n        }\n        var edgeConfig = {\n            '-id': edge.id,\n            '-sourceRef': edge.sourceNodeId,\n            '-targetRef': edge.targetNodeId,\n        };\n        if ((_a = edge.text) === null || _a === void 0 ? void 0 : _a.value) {\n            edgeConfig['-name'] = (_b = edge.text) === null || _b === void 0 ? void 0 : _b.value;\n        }\n        if (edge.properties) {\n            var properties = toXmlJson(edge.properties);\n            Object.assign(edgeConfig, properties);\n        }\n        return edgeConfig;\n    });\n    bpmnProcessData[BpmnElements.FLOW] = sequenceFlow;\n}\n/**\n * adapterOut \u8BBE\u7F6Ebpmn diagram\u4FE1\u606F\n */\nfunction convertLf2DiagramData(bpmnDiagramData, data) {\n    bpmnDiagramData['bpmndi:BPMNEdge'] = data.edges.map(function (edge) {\n        var _a;\n        var edgeId = edge.id;\n        var pointsList = edge.pointsList.map(function (_a) {\n            var x = _a.x, y = _a.y;\n            return ({ '-x': x, '-y': y });\n        });\n        var diagramData = {\n            '-id': edgeId + \"_di\",\n            '-bpmnElement': edgeId,\n            'di:waypoint': pointsList,\n        };\n        if ((_a = edge.text) === null || _a === void 0 ? void 0 : _a.value) {\n            diagramData['bpmndi:BPMNLabel'] = {\n                'dc:Bounds': {\n                    '-x': edge.text.x - (edge.text.value.length * 10) / 2,\n                    '-y': edge.text.y - 7,\n                    '-width': edge.text.value.length * 10,\n                    '-height': 14,\n                },\n            };\n        }\n        return diagramData;\n    });\n    bpmnDiagramData['bpmndi:BPMNShape'] = data.nodes.map(function (node) {\n        var _a;\n        var nodeId = node.id;\n        var width = 100;\n        var height = 80;\n        var x = node.x, y = node.y;\n        // bpmn\u5750\u6807\u662F\u57FA\u4E8E\u5DE6\u4E0A\u89D2\uFF0CLogicFlow\u57FA\u4E8E\u4E2D\u5FC3\u70B9\uFF0C\u6B64\u5904\u5904\u7406\u4E00\u4E0B\u3002\n        var shapeConfig = BpmnAdapter.shapeConfigMap.get(node.type);\n        if (shapeConfig) {\n            width = shapeConfig.width;\n            height = shapeConfig.height;\n        }\n        x -= width / 2;\n        y -= height / 2;\n        var diagramData = {\n            '-id': nodeId + \"_di\",\n            '-bpmnElement': nodeId,\n            'dc:Bounds': {\n                '-x': x,\n                '-y': y,\n                '-width': width,\n                '-height': height,\n            },\n        };\n        if ((_a = node.text) === null || _a === void 0 ? void 0 : _a.value) {\n            diagramData['bpmndi:BPMNLabel'] = {\n                'dc:Bounds': {\n                    '-x': node.text.x - (node.text.value.length * 10) / 2,\n                    '-y': node.text.y - 7,\n                    '-width': node.text.value.length * 10,\n                    '-height': 14,\n                },\n            };\n        }\n        return diagramData;\n    });\n}\n/**\n * \u5C06bpmn\u6570\u636E\u8F6C\u6362\u4E3ALogicFlow\u5185\u90E8\u80FD\u8BC6\u522B\u6570\u636E\n */\nfunction convertBpmn2LfData(bpmnData) {\n    var nodes = [];\n    var edges = [];\n    var definitions = bpmnData['bpmn:definitions'];\n    if (definitions) {\n        var process_1 = definitions['bpmn:process'];\n        Object.keys(process_1).forEach(function (key) {\n            if (key.indexOf('bpmn:') === 0) {\n                var value = process_1[key];\n                if (key === BpmnElements.FLOW) {\n                    var bpmnEdges = definitions['bpmndi:BPMNDiagram']['bpmndi:BPMNPlane']['bpmndi:BPMNEdge'];\n                    edges = getLfEdges(value, bpmnEdges);\n                }\n                else {\n                    var shapes = definitions['bpmndi:BPMNDiagram']['bpmndi:BPMNPlane']['bpmndi:BPMNShape'];\n                    nodes = nodes.concat(getLfNodes(value, shapes, key));\n                }\n            }\n        });\n    }\n    return {\n        nodes: nodes,\n        edges: edges,\n    };\n}\nfunction getLfNodes(value, shapes, key) {\n    var nodes = [];\n    if (Array.isArray(value)) { // \u6570\u7EC4\n        value.forEach(function (val) {\n            var shapeValue;\n            if (Array.isArray(shapes)) {\n                shapeValue = shapes.find(function (shape) { return shape['-bpmnElement'] === val['-id']; });\n            }\n            else {\n                shapeValue = shapes;\n            }\n            var node = getNodeConfig(shapeValue, key, val);\n            nodes.push(node);\n        });\n    }\n    else {\n        var shapeValue = void 0;\n        if (Array.isArray(shapes)) {\n            shapeValue = shapes.find(function (shape) { return shape['-bpmnElement'] === value['-id']; });\n        }\n        else {\n            shapeValue = shapes;\n        }\n        var node = getNodeConfig(shapeValue, key, value);\n        nodes.push(node);\n    }\n    return nodes;\n}\nfunction getNodeConfig(shapeValue, type, processValue) {\n    var x = Number(shapeValue['dc:Bounds']['-x']);\n    var y = Number(shapeValue['dc:Bounds']['-y']);\n    var name = processValue['-name'];\n    var shapeConfig = BpmnAdapter.shapeConfigMap.get(type);\n    if (shapeConfig) {\n        x += shapeConfig.width / 2;\n        y += shapeConfig.height / 2;\n    }\n    var properties;\n    // \u5224\u65AD\u662F\u5426\u5B58\u5728\u989D\u5916\u7684\u5C5E\u6027\uFF0C\u5C06\u989D\u5916\u7684\u5C5E\u6027\u653E\u5230properties\u4E2D\n    Object.entries(processValue).forEach(function (_a) {\n        var _b = __read(_a, 2), key = _b[0], value = _b[1];\n        if (defaultAttrs.indexOf(key) === -1) {\n            if (!properties)\n                properties = {};\n            properties[key] = value;\n        }\n    });\n    if (properties) {\n        properties = toNormalJson(properties);\n    }\n    var text;\n    if (name) {\n        text = {\n            x: x,\n            y: y,\n            value: name,\n        };\n        // \u81EA\u5B9A\u4E49\u6587\u672C\u4F4D\u7F6E\n        if (shapeValue['bpmndi:BPMNLabel'] && shapeValue['bpmndi:BPMNLabel']['dc:Bounds']) {\n            var textBounds = shapeValue['bpmndi:BPMNLabel']['dc:Bounds'];\n            text.x = Number(textBounds['-x']) + Number(textBounds['-width']) / 2;\n            text.y = Number(textBounds['-y']) + Number(textBounds['-height']) / 2;\n        }\n    }\n    var nodeConfig = {\n        id: shapeValue['-bpmnElement'],\n        type: type,\n        x: x,\n        y: y,\n        properties: properties,\n    };\n    if (text) {\n        nodeConfig.text = text;\n    }\n    return nodeConfig;\n}\nfunction getLfEdges(value, bpmnEdges) {\n    var edges = [];\n    if (Array.isArray(value)) {\n        value.forEach(function (val) {\n            var edgeValue;\n            if (Array.isArray(bpmnEdges)) {\n                edgeValue = bpmnEdges.find(function (edge) { return edge['-bpmnElement'] === val['-id']; });\n            }\n            else {\n                edgeValue = bpmnEdges;\n            }\n            edges.push(getEdgeConfig(edgeValue, val));\n        });\n    }\n    else {\n        var edgeValue = void 0;\n        if (Array.isArray(bpmnEdges)) {\n            edgeValue = bpmnEdges.find(function (edge) { return edge['-bpmnElement'] === value['-id']; });\n        }\n        else {\n            edgeValue = bpmnEdges;\n        }\n        edges.push(getEdgeConfig(edgeValue, value));\n    }\n    return edges;\n}\nfunction getEdgeConfig(edgeValue, processValue) {\n    var text;\n    var textVal = processValue['-name'];\n    if (textVal) {\n        var textBounds = edgeValue['bpmndi:BPMNLabel']['dc:Bounds'];\n        // \u5982\u679C\u8FB9\u6587\u672C\u6362\u884C\uFF0C\u5219\u5176\u504F\u79FB\u91CF\u5E94\u8BE5\u662F\u6700\u957F\u4E00\u884C\u7684\u4F4D\u7F6E\n        var textLength_1 = 0;\n        textVal.split('\\n').forEach(function (textSpan) {\n            if (textLength_1 < textSpan.length) {\n                textLength_1 = textSpan.length;\n            }\n        });\n        text = {\n            value: textVal,\n            x: Number(textBounds['-x']) + (textLength_1 * 10) / 2,\n            y: Number(textBounds['-y']) + 7,\n        };\n    }\n    var properties;\n    // \u5224\u65AD\u662F\u5426\u5B58\u5728\u989D\u5916\u7684\u5C5E\u6027\uFF0C\u5C06\u989D\u5916\u7684\u5C5E\u6027\u653E\u5230properties\u4E2D\n    Object.entries(processValue).forEach(function (_a) {\n        var _b = __read(_a, 2), key = _b[0], value = _b[1];\n        if (defaultAttrs.indexOf(key) === -1) {\n            if (!properties)\n                properties = {};\n            properties[key] = value;\n        }\n    });\n    if (properties) {\n        properties = toNormalJson(properties);\n    }\n    var edge = {\n        id: processValue['-id'],\n        type: BpmnElements.FLOW,\n        pointsList: edgeValue['di:waypoint'].map(function (point) { return ({\n            x: Number(point['-x']),\n            y: Number(point['-y']),\n        }); }),\n        sourceNodeId: processValue['-sourceRef'],\n        targetNodeId: processValue['-targetRef'],\n        properties: properties,\n    };\n    if (text) {\n        edge.text = text;\n    }\n    return edge;\n}\nvar BpmnAdapter = {\n    pluginName: 'bpmn-adapter',\n    install: function (lf) {\n        lf.adapterIn = this.adapterIn;\n        lf.adapterOut = this.adapterOut;\n    },\n    shapeConfigMap: new Map(),\n    setCustomShape: function (key, val) {\n        this.shapeConfigMap.set(key, val);\n    },\n    adapterOut: function (data) {\n        var bpmnProcessData = {\n            '-id': \"Process_\" + getBpmnId(),\n            '-isExecutable': 'false',\n        };\n        convertLf2ProcessData(bpmnProcessData, data);\n        var bpmnDiagramData = {\n            '-id': 'BPMNPlane_1',\n            '-bpmnElement': bpmnProcessData['-id'],\n        };\n        convertLf2DiagramData(bpmnDiagramData, data);\n        var bpmnData = {\n            'bpmn:definitions': {\n                '-id': \"Definitions_\" + getBpmnId(),\n                '-xmlns:xsi': 'http://www.w3.org/2001/XMLSchema-instance',\n                '-xmlns:bpmn': 'http://www.omg.org/spec/BPMN/20100524/MODEL',\n                '-xmlns:bpmndi': 'http://www.omg.org/spec/BPMN/20100524/DI',\n                '-xmlns:dc': 'http://www.omg.org/spec/DD/20100524/DC',\n                '-xmlns:di': 'http://www.omg.org/spec/DD/20100524/DI',\n                '-targetNamespace': 'http://bpmn.io/schema/bpmn',\n                '-exporter': 'bpmn-js (https://demo.bpmn.io)',\n                '-exporterVersion': '7.3.0',\n                'bpmn:process': bpmnProcessData,\n                'bpmndi:BPMNDiagram': {\n                    '-id': 'BPMNDiagram_1',\n                    'bpmndi:BPMNPlane': bpmnDiagramData,\n                },\n            },\n        };\n        return bpmnData;\n    },\n    adapterIn: function (bpmnData) {\n        if (bpmnData) {\n            return convertBpmn2LfData(bpmnData);\n        }\n    },\n};\nBpmnAdapter.shapeConfigMap.set(BpmnElements.START, {\n    width: StartEventConfig.width,\n    height: StartEventConfig.height,\n});\nBpmnAdapter.shapeConfigMap.set(BpmnElements.END, {\n    width: EndEventConfig.width,\n    height: EndEventConfig.height,\n});\nBpmnAdapter.shapeConfigMap.set(BpmnElements.GATEWAY, {\n    width: ExclusiveGatewayConfig.width,\n    height: ExclusiveGatewayConfig.height,\n});\nBpmnAdapter.shapeConfigMap.set(BpmnElements.SYSTEM, {\n    width: ServiceTaskConfig.width,\n    height: ServiceTaskConfig.height,\n});\nBpmnAdapter.shapeConfigMap.set(BpmnElements.USER, {\n    width: UserTaskConfig.width,\n    height: UserTaskConfig.height,\n});\nvar BpmnXmlAdapter = {\n    pluginName: 'bpmnXmlAdapter',\n    install: function (lf) {\n        lf.adapterIn = this.adapterXmlIn;\n        lf.adapterOut = this.adapterXmlOut;\n    },\n    adapterXmlIn: function (bpmnData) {\n        var json = lfXml2Json(bpmnData);\n        return BpmnAdapter.adapterIn(json);\n    },\n    adapterXmlOut: function (data) {\n        var outData = BpmnAdapter.adapterOut(data);\n        return lfJson2Xml(outData);\n    },\n};\nexport { BpmnAdapter, BpmnXmlAdapter, };\nexport default BpmnAdapter;\n", "import Ids from 'ids';\nvar ids = new Ids([32, 32, 1]);\nexport function getBpmnId() {\n    return ids.next();\n}\n", "/**\n * This work is licensed under Creative Commons GNU LGPL License.\n * License:\n * Version: 0.9\n * Author:  Stefan Goessner/2006\n * Web:     http://goessner.net/\n */\nfunction addIndSpace(ind, deep) {\n    for (var i = 0; i < deep; i++) {\n        ind += '  ';\n    }\n    return ind;\n}\nfunction toXml(v, name, ind, deep) {\n    var xml = \"\";\n    if (v instanceof Array) {\n        for (var i = 0, n = v.length; i < n; i++) {\n            xml += addIndSpace(ind, deep) + toXml(v[i], name, ind, deep + 1);\n        }\n    }\n    else if (typeof (v) == \"object\") {\n        var hasChild = false;\n        xml += addIndSpace(ind, deep) + \"<\" + name;\n        for (var m in v) {\n            if (m.charAt(0) == \"-\")\n                xml += \" \" + m.substr(1) + \"=\\\"\" + v[m].toString() + \"\\\"\";\n            else\n                hasChild = true;\n        }\n        xml += hasChild ? \">\" : \" />\";\n        if (hasChild) {\n            for (var m in v) {\n                if (m == \"#text\")\n                    xml += v[m];\n                else if (m == \"#cdata\")\n                    xml += \"<![CDATA[\" + v[m] + \"]]>\";\n                else if (m.charAt(0) != \"-\")\n                    xml += toXml(v[m], m, ind, deep + 1);\n            }\n            xml += addIndSpace(ind, deep) + \"</\" + name + \">\";\n        }\n        else {\n            // xml += addIndSpace(ind, deep);\n        }\n    }\n    else {\n        xml += addIndSpace(ind, deep) + \"<\" + name + \">\" + v.toString() + \"</\" + name + \">\";\n    }\n    return xml;\n}\n;\nfunction lfJson2Xml(o) {\n    var xmlStr = \"\";\n    for (var m in o) {\n        xmlStr += toXml(o[m], m, \"\\t\\n\", 0);\n    }\n    return xmlStr;\n}\nexport { lfJson2Xml };\n", "// @ts-nocheck\n// ========================================================================  \n//  XML.ObjTree -- XML source code from/to JavaScript object like E4X  \n// ========================================================================  \nvar XML = function () { };\n//  constructor  \nXML.ObjTree = function () {\n    return this;\n};\n//  class variables  \nXML.ObjTree.VERSION = \"0.23\";\n//  object prototype  \nXML.ObjTree.prototype.xmlDecl = '<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\\n';\nXML.ObjTree.prototype.attr_prefix = '-';\n//  method: parseXML( xmlsource )  \nXML.ObjTree.prototype.parseXML = function (xml) {\n    var root;\n    if (window.DOMParser) {\n        var xmldom = new DOMParser();\n        //      xmldom.async = false;           // DOMParser is always sync-mode  \n        var dom = xmldom.parseFromString(xml, \"application/xml\");\n        if (!dom)\n            return;\n        root = dom.documentElement;\n    }\n    else if (window.ActiveXObject) {\n        xmldom = new ActiveXObject('Microsoft.XMLDOM');\n        xmldom.async = false;\n        xmldom.loadXML(xml);\n        root = xmldom.documentElement;\n    }\n    if (!root)\n        return;\n    return this.parseDOM(root);\n};\n//  method: parseHTTP( url, options, callback )  \nXML.ObjTree.prototype.parseHTTP = function (url, options, callback) {\n    var myopt = {};\n    for (var key in options) {\n        myopt[key] = options[key]; // copy object  \n    }\n    if (!myopt.method) {\n        if (typeof (myopt.postBody) == \"undefined\" &&\n            typeof (myopt.postbody) == \"undefined\" &&\n            typeof (myopt.parameters) == \"undefined\") {\n            myopt.method = \"get\";\n        }\n        else {\n            myopt.method = \"post\";\n        }\n    }\n    if (callback) {\n        myopt.asynchronous = true; // async-mode  \n        var __this = this;\n        var __func = callback;\n        var __save = myopt.onComplete;\n        myopt.onComplete = function (trans) {\n            var tree;\n            if (trans && trans.responseXML && trans.responseXML.documentElement) {\n                tree = __this.parseDOM(trans.responseXML.documentElement);\n            }\n            __func(tree, trans);\n            if (__save)\n                __save(trans);\n        };\n    }\n    else {\n        myopt.asynchronous = false; // sync-mode  \n    }\n    var trans;\n    if (typeof (HTTP) != \"undefined\" && HTTP.Request) {\n        myopt.uri = url;\n        var req = new HTTP.Request(myopt); // JSAN  \n        if (req)\n            trans = req.transport;\n    }\n    else if (typeof (Ajax) != \"undefined\" && Ajax.Request) {\n        var req = new Ajax.Request(url, myopt); // ptorotype.js  \n        if (req)\n            trans = req.transport;\n    }\n    if (callback)\n        return trans;\n    if (trans && trans.responseXML && trans.responseXML.documentElement) {\n        return this.parseDOM(trans.responseXML.documentElement);\n    }\n};\n//  method: parseDOM( documentroot )  \nXML.ObjTree.prototype.parseDOM = function (root) {\n    if (!root)\n        return;\n    this.__force_array = {};\n    if (this.force_array) {\n        for (var i = 0; i < this.force_array.length; i++) {\n            this.__force_array[this.force_array[i]] = 1;\n        }\n    }\n    var json = this.parseElement(root); // parse root node  \n    if (this.__force_array[root.nodeName]) {\n        json = [json];\n    }\n    if (root.nodeType != 11) { // DOCUMENT_FRAGMENT_NODE  \n        var tmp = {};\n        tmp[root.nodeName] = json; // root nodeName  \n        json = tmp;\n    }\n    return json;\n};\n//  method: parseElement( element )  \nXML.ObjTree.prototype.parseElement = function (elem) {\n    //  COMMENT_NODE  \n    if (elem.nodeType == 7) {\n        return;\n    }\n    //  TEXT_NODE CDATA_SECTION_NODE  \n    if (elem.nodeType == 3 || elem.nodeType == 4) {\n        var bool = elem.nodeValue.match(/[^\\x00-\\x20]/);\n        if (bool == null)\n            return; // ignore white spaces  \n        return elem.nodeValue;\n    }\n    var retval;\n    var cnt = {};\n    //  parse attributes  \n    if (elem.attributes && elem.attributes.length) {\n        retval = {};\n        for (var i = 0; i < elem.attributes.length; i++) {\n            var key = elem.attributes[i].nodeName;\n            if (typeof (key) != \"string\")\n                continue;\n            var val = elem.attributes[i].nodeValue;\n            if (!val)\n                continue;\n            key = this.attr_prefix + key;\n            if (typeof (cnt[key]) == \"undefined\")\n                cnt[key] = 0;\n            cnt[key]++;\n            this.addNode(retval, key, cnt[key], val);\n        }\n    }\n    //  parse child nodes (recursive)  \n    if (elem.childNodes && elem.childNodes.length) {\n        var textonly = true;\n        if (retval)\n            textonly = false; // some attributes exists  \n        for (var i = 0; i < elem.childNodes.length && textonly; i++) {\n            var ntype = elem.childNodes[i].nodeType;\n            if (ntype == 3 || ntype == 4)\n                continue;\n            textonly = false;\n        }\n        if (textonly) {\n            if (!retval)\n                retval = \"\";\n            for (var i = 0; i < elem.childNodes.length; i++) {\n                retval += elem.childNodes[i].nodeValue;\n            }\n        }\n        else {\n            if (!retval)\n                retval = {};\n            for (var i = 0; i < elem.childNodes.length; i++) {\n                var key = elem.childNodes[i].nodeName;\n                if (typeof (key) != \"string\")\n                    continue;\n                var val = this.parseElement(elem.childNodes[i]);\n                if (!val)\n                    continue;\n                if (typeof (cnt[key]) == \"undefined\")\n                    cnt[key] = 0;\n                cnt[key]++;\n                this.addNode(retval, key, cnt[key], val);\n            }\n        }\n    }\n    return retval;\n};\n//  method: addNode( hash, key, count, value )  \nXML.ObjTree.prototype.addNode = function (hash, key, cnts, val) {\n    if (this.__force_array[key]) {\n        if (cnts == 1)\n            hash[key] = [];\n        hash[key][hash[key].length] = val; // push  \n    }\n    else if (cnts == 1) { // 1st sibling  \n        hash[key] = val;\n    }\n    else if (cnts == 2) { // 2nd sibling  \n        hash[key] = [hash[key], val];\n    }\n    else { // 3rd sibling and more  \n        hash[key][hash[key].length] = val;\n    }\n};\n//  method: writeXML( tree )  \nXML.ObjTree.prototype.writeXML = function (tree) {\n    var xml = this.hash_to_xml(null, tree);\n    return this.xmlDecl + xml;\n};\n//  method: hash_to_xml( tagName, tree )  \nXML.ObjTree.prototype.hash_to_xml = function (name, tree) {\n    var elem = [];\n    var attr = [];\n    for (var key in tree) {\n        if (!tree.hasOwnProperty(key))\n            continue;\n        var val = tree[key];\n        if (key.charAt(0) != this.attr_prefix) {\n            if (typeof (val) == \"undefined\" || val == null) {\n                elem[elem.length] = \"<\" + key + \" />\";\n            }\n            else if (typeof (val) == \"object\" && val.constructor == Array) {\n                elem[elem.length] = this.array_to_xml(key, val);\n            }\n            else if (typeof (val) == \"object\") {\n                elem[elem.length] = this.hash_to_xml(key, val);\n            }\n            else {\n                elem[elem.length] = this.scalar_to_xml(key, val);\n            }\n        }\n        else {\n            attr[attr.length] = \" \" + (key.substring(1)) + '=\"' + (this.xml_escape(val)) + '\"';\n        }\n    }\n    var jattr = attr.join(\"\");\n    var jelem = elem.join(\"\");\n    if (typeof (name) == \"undefined\" || name == null) {\n        // no tag  \n    }\n    else if (elem.length > 0) {\n        if (jelem.match(/\\n/)) {\n            jelem = \"<\" + name + jattr + \">\\n\" + jelem + \"</\" + name + \">\\n\";\n        }\n        else {\n            jelem = \"<\" + name + jattr + \">\" + jelem + \"</\" + name + \">\\n\";\n        }\n    }\n    else {\n        jelem = \"<\" + name + jattr + \" />\\n\";\n    }\n    return jelem;\n};\n//  method: array_to_xml( tagName, array )  \nXML.ObjTree.prototype.array_to_xml = function (name, array) {\n    var out = [];\n    for (var i = 0; i < array.length; i++) {\n        var val = array[i];\n        if (typeof (val) == \"undefined\" || val == null) {\n            out[out.length] = \"<\" + name + \" />\";\n        }\n        else if (typeof (val) == \"object\" && val.constructor == Array) {\n            out[out.length] = this.array_to_xml(name, val);\n        }\n        else if (typeof (val) == \"object\") {\n            out[out.length] = this.hash_to_xml(name, val);\n        }\n        else {\n            out[out.length] = this.scalar_to_xml(name, val);\n        }\n    }\n    return out.join(\"\");\n};\n//  method: scalar_to_xml( tagName, text )  \nXML.ObjTree.prototype.scalar_to_xml = function (name, text) {\n    if (name == \"#text\") {\n        return this.xml_escape(text);\n    }\n    else {\n        return \"<\" + name + \">\" + this.xml_escape(text) + \"</\" + name + \">\\n\";\n    }\n};\n//  method: xml_escape( text )  \nXML.ObjTree.prototype.xml_escape = function (text) {\n    return text.replace(/&/g, '&').replace(/</g, '<').replace(/>/g, '>').replace(/\"/g, '\"');\n};\n/*\n// ========================================================================\n\n=head1 NAME\n\nXML.ObjTree -- XML source code from/to JavaScript object like E4X\n\n=head1 SYNOPSIS\n\nvar xotree = new XML.ObjTree();\nvar tree1 = {\nroot: {\nnode: \"Hello, World!\"\n}\n};\nvar xml1 = xotree.writeXML( tree1 );        // object tree to XML source\nalert( \"xml1: \"+xml1 );\n\nvar xml2 = '<?xml version=\"1.0\"?><response><error>0</error></response>';\nvar tree2 = xotree.parseXML( xml2 );        // XML source to object tree\nalert( \"error: \"+tree2.response.error );\n\n=head1 DESCRIPTION\n\nXML.ObjTree class is a parser/generater between XML source code\nand JavaScript object like E4X, ECMAScript for XML.\nThis is a JavaScript version of the XML::TreePP module for Perl.\nThis also works as a wrapper for XMLHTTPRequest and successor to JKL.ParseXML class\nwhen this is used with prototype.js or JSAN's HTTP.Request class.\n\n=head2 JavaScript object tree format\n\nA sample XML source:\n\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<family name=\"Kawasaki\">\n<father>Yasuhisa</father>\n<mother>Chizuko</mother>\n<children>\n<girl>Shiori</girl>\n<boy>Yusuke</boy>\n<boy>Kairi</boy>\n</children>\n</family>\n\nIts JavaScript object tree like JSON/E4X:\n\n{\n'family': {\n'-name':    'Kawasaki',\n'father':   'Yasuhisa',\n'mother':   'Chizuko',\n'children': {\n'girl': 'Shiori'\n'boy': [\n'Yusuke',\n'Kairi'\n]\n}\n}\n};\n\nEach elements are parsed into objects:\n\ntree.family.father;             # the father's given name.\n\nPrefix '-' is inserted before every attributes' name.\n\ntree.family[\"-name\"];           # this family's family name\n\nA array is used because this family has two boys.\n\ntree.family.children.boy[0];    # first boy's name\ntree.family.children.boy[1];    # second boy's name\ntree.family.children.girl;      # (girl has no other sisiters)\n\n=head1 METHODS\n\n=head2 xotree = new XML.ObjTree()\n\nThis constructor method returns a new XML.ObjTree object.\n\n=head2 xotree.force_array = [ \"rdf:li\", \"item\", \"-xmlns\" ];\n\nThis property allows you to specify a list of element names\nwhich should always be forced into an array representation.\nThe default value is null, it means that context of the elements\nwill determine to make array or to keep it scalar.\n\n=head2 xotree.attr_prefix = '@';\n\nThis property allows you to specify a prefix character which is\ninserted before each attribute names.\nInstead of default prefix '-', E4X-style prefix '@' is also available.\nThe default character is '-'.\nOr set '@' to access attribute values like E4X, ECMAScript for XML.\nThe length of attr_prefix must be just one character and not be empty.\n\n=head2 tree = xotree.parseXML( xmlsrc );\n\nThis method loads an XML document using the supplied string\nand returns its JavaScript object converted.\n\n=head2 tree = xotree.parseDOM( domnode );\n\nThis method parses a DOM tree (ex. responseXML.documentElement)\nand returns its JavaScript object converted.\n\n=head2 tree = xotree.parseHTTP( url, options );\n\nThis method loads a XML file from remote web server\nand returns its JavaScript object converted.\nXMLHTTPRequest's synchronous mode is always used.\nThis mode blocks the process until the response is completed.\n\nFirst argument is a XML file's URL\nwhich must exist in the same domain as parent HTML file's.\nCross-domain loading is not available for security reasons.\n\nSecond argument is options' object which can contains some parameters:\nmethod, postBody, parameters, onLoading, etc.\n\nThis method requires JSAN's L<HTTP.Request> class or prototype.js's Ajax.Request class.\n\n=head2 xotree.parseHTTP( url, options, callback );\n\nIf a callback function is set as third argument,\nXMLHTTPRequest's asynchronous mode is used.\n\nThis mode calls a callback function with XML file's JavaScript object converted\nafter the response is completed.\n\n=head2 xmlsrc = xotree.writeXML( tree );\n\nThis method parses a JavaScript object tree\nand returns its XML source generated.\n\n=head1 EXAMPLES\n\n=head2 Text node and attributes\n\nIf a element has both of a text node and attributes\nor both of a text node and other child nodes,\ntext node's value is moved to a special node named \"#text\".\n\nvar xotree = new XML.ObjTree();\nvar xmlsrc = '<span class=\"author\">Kawasaki Yusuke</span>';\nvar tree = xotree.parseXML( xmlsrc );\nvar class = tree.span[\"-class\"];        # attribute\nvar name  = tree.span[\"#text\"];         # text node\n\n=head2 parseHTTP() method with HTTP-GET and sync-mode\n\nHTTP/Request.js or prototype.js must be loaded before calling this method.\n\nvar xotree = new XML.ObjTree();\nvar url = \"http://example.com/index.html\";\nvar tree = xotree.parseHTTP( url );\nxotree.attr_prefix = '@';                   // E4X-style\nalert( tree.html[\"@lang\"] );\n\nThis code shows C<lang=\"\"> attribute from a X-HTML source code.\n\n=head2 parseHTTP() method with HTTP-POST and async-mode\n\nThird argument is a callback function which is called on onComplete.\n\nvar xotree = new XML.ObjTree();\nvar url = \"http://example.com/mt-tb.cgi\";\nvar opts = {\npostBody:   \"title=...&excerpt=...&url=...&blog_name=...\"\n};\nvar func = function ( tree ) {\nalert( tree.response.error );\n};\nxotree.parseHTTP( url, opts, func );\n\nThis code send a trackback ping and shows its response code.\n\n=head2 Simple RSS reader\n\nThis is a RSS reader which loads RDF file and displays all items.\n\nvar xotree = new XML.ObjTree();\nxotree.force_array = [ \"rdf:li\", \"item\" ];\nvar url = \"http://example.com/news-rdf.xml\";\nvar func = function( tree ) {\nvar elem = document.getElementById(\"rss_here\");\nfor( var i=0; i<tree[\"rdf:RDF\"].item.length; i++ ) {\nvar divtag = document.createElement( \"div\" );\nvar atag = document.createElement( \"a\" );\natag.href = tree[\"rdf:RDF\"].item[i].link;\nvar title = tree[\"rdf:RDF\"].item[i].title;\nvar tnode = document.createTextNode( title );\natag.appendChild( tnode );\ndivtag.appendChild( atag );\nelem.appendChild( divtag );\n}\n};\nxotree.parseHTTP( url, {}, func );\n\n=head2  XML-RPC using writeXML, prototype.js and parseDOM\n\nIf you wish to use prototype.js's Ajax.Request class by yourself:\n\nvar xotree = new XML.ObjTree();\nvar reqtree = {\nmethodCall: {\nmethodName: \"weblogUpdates.ping\",\nparams: {\nparam: [\n{ value: \"Kawa.net xp top page\" },  // 1st param\n{ value: \"http://www.kawa.net/\" }   // 2nd param\n]\n}\n}\n};\nvar reqxml = xotree.writeXML( reqtree );       // JS-Object to XML code\nvar url = \"http://example.com/xmlrpc\";\nvar func = function( req ) {\nvar resdom = req.responseXML.documentElement;\nxotree.force_array = [ \"member\" ];\nvar restree = xotree.parseDOM( resdom );   // XML-DOM to JS-Object\nalert( restree.methodResponse.params.param.value.struct.member[0].value.string );\n};\nvar opt = {\nmethod:         \"post\",\npostBody:       reqxml,\nasynchronous:   true,\nonComplete:     func\n};\nnew Ajax.Request( url, opt );\n\n=head1 AUTHOR\n\nYusuke Kawasaki http://www.kawa.net/\n=head1 COPYRIGHT AND LICENSE\n\nCopyright (c) 2005-2006 Yusuke Kawasaki. All rights reserved.\nThis program is free software; you can redistribute it and/or\nmodify it under the Artistic license. Or whatever license I choose,\nwhich I will do instead of keeping this documentation like it is.\n\n=cut\n// ========================================================================\n*/\nvar lfXml2Json = function (xmlData) {\n    return new XML.ObjTree().parseXML(xmlData);\n};\nexport { lfXml2Json, };\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar TurboType;\n(function (TurboType) {\n    TurboType[TurboType[\"SEQUENCE_FLOW\"] = 1] = \"SEQUENCE_FLOW\";\n    TurboType[TurboType[\"START_EVENT\"] = 2] = \"START_EVENT\";\n    TurboType[TurboType[\"END_EVENT\"] = 3] = \"END_EVENT\";\n    TurboType[TurboType[\"USER_TASK\"] = 4] = \"USER_TASK\";\n    // SERVICE_TASK = 5, \u6682\u4E0D\u652F\u6301\n    TurboType[TurboType[\"EXCLUSIVE_GATEWAY\"] = 6] = \"EXCLUSIVE_GATEWAY\";\n})(TurboType || (TurboType = {}));\n// \u8F6C\u6362Turbo\u8BC6\u522B\u7684\u7C7B\u578B\nfunction getTurboType(type) {\n    switch (type) {\n        case 'bpmn:sequenceFlow':\n            return TurboType.SEQUENCE_FLOW;\n        case 'bpmn:startEvent':\n            return TurboType.START_EVENT;\n        case 'bpmn:endEvent':\n            return TurboType.END_EVENT;\n        case 'bpmn:userTask':\n            return TurboType.USER_TASK;\n        // case 'bpmn:serviceTask':\n        //   return TurboType.SERVICE_TASK;\n        case 'bpmn:exclusiveGateway':\n            return TurboType.EXCLUSIVE_GATEWAY;\n        default:\n            return type;\n    }\n}\n// \u5C06LogicFlow\u4E2D\u7684Node\u6570\u636E\u8F6C\u6362\u4E3ATurbo\u5143\u7D20\u6570\u636E\nfunction convertNodeToTurboElement(node) {\n    var id = node.id, type = node.type, x = node.x, y = node.y, _a = node.text, text = _a === void 0 ? '' : _a, properties = node.properties;\n    return {\n        incoming: [],\n        outgoing: [],\n        dockers: [],\n        type: getTurboType(node.type),\n        properties: __assign(__assign({}, properties), { name: (text && text.value) || '', x: x,\n            y: y,\n            text: text, logicFlowType: type }),\n        key: id,\n    };\n}\n// \u5C06LogicFlow\u4E2D\u7684Eedg\u6570\u636E\u8F6C\u6362\u4E3ATurbo\u5143\u7D20\u6570\u636E\nfunction convertEdgeToTurboElement(edge) {\n    var id = edge.id, type = edge.type, sourceNodeId = edge.sourceNodeId, targetNodeId = edge.targetNodeId, startPoint = edge.startPoint, endPoint = edge.endPoint, pointsList = edge.pointsList, _a = edge.text, text = _a === void 0 ? '' : _a, properties = edge.properties;\n    return {\n        incoming: [sourceNodeId],\n        outgoing: [targetNodeId],\n        type: getTurboType(type),\n        dockers: [],\n        properties: __assign(__assign({}, properties), { name: (text && text.value) || '', text: text,\n            startPoint: startPoint,\n            endPoint: endPoint,\n            pointsList: pointsList, logicFlowType: type }),\n        key: id,\n    };\n}\n// \u5C06LogicFlow\u4E2D\u6570\u636E\u8F6C\u6362\u4E3ATurbo\u6570\u636E\nexport function toTurboData(data) {\n    var nodeMap = new Map();\n    var turboData = {\n        flowElementList: [],\n    };\n    data.nodes.forEach(function (node) {\n        var flowElement = convertNodeToTurboElement(node);\n        turboData.flowElementList.push(flowElement);\n        nodeMap.set(node.id, flowElement);\n    });\n    data.edges.forEach(function (edge) {\n        var flowElement = convertEdgeToTurboElement(edge);\n        var sourceElement = nodeMap.get(edge.sourceNodeId);\n        sourceElement.outgoing.push(flowElement.key);\n        var targetElement = nodeMap.get(edge.targetNodeId);\n        targetElement.incoming.push(flowElement.key);\n        turboData.flowElementList.push(flowElement);\n    });\n    return turboData;\n}\n// \u5C06Turbo\u5143\u7D20\u6570\u636E\u8F6C\u6362\u4E3ALogicFlow\u4E2D\u7684Eedg\u6570\u636E\nfunction convertFlowElementToEdge(element) {\n    var incoming = element.incoming, outgoing = element.outgoing, properties = element.properties, key = element.key;\n    var text = properties.text, startPoint = properties.startPoint, endPoint = properties.endPoint, pointsList = properties.pointsList, logicFlowType = properties.logicFlowType;\n    var edge = {\n        id: key,\n        type: logicFlowType,\n        sourceNodeId: incoming[0],\n        targetNodeId: outgoing[0],\n        text: text,\n        startPoint: startPoint,\n        endPoint: endPoint,\n        pointsList: pointsList,\n        properties: {},\n    };\n    // \u8FD9\u79CD\u8F6C\u6362\u65B9\u5F0F\uFF0C\u5728\u81EA\u5B9A\u4E49\u5C5E\u6027\u4E2D\u4E0D\u80FD\u4E0EexcludeProperties\u4E2D\u7684\u5C5E\u6027\u91CD\u540D\uFF0C\u5426\u5219\u5C06\u5728\u8F6C\u6362\u8FC7\u7A0B\u4E2D\u4E22\u5931\n    var excludeProperties = ['startPoint', 'endPoint', 'pointsList', 'text', 'logicFlowType'];\n    Object.keys(element.properties).forEach(function (property) {\n        if (excludeProperties.indexOf(property) === -1) {\n            edge.properties[property] = element.properties[property];\n        }\n    });\n    return edge;\n}\n// \u5C06Turbo\u5143\u7D20\u6570\u636E\u8F6C\u6362\u4E3ALogicFlow\u4E2D\u7684Node\u6570\u636E\nfunction convertFlowElementToNode(element) {\n    var properties = element.properties, key = element.key;\n    var x = properties.x, y = properties.y, text = properties.text, logicFlowType = properties.logicFlowType;\n    var node = {\n        id: key,\n        type: logicFlowType,\n        x: x,\n        y: y,\n        text: text,\n        properties: {},\n    };\n    // \u8FD9\u79CD\u8F6C\u6362\u65B9\u5F0F\uFF0C\u5728\u81EA\u5B9A\u4E49\u5C5E\u6027\u4E2D\u4E0D\u80FD\u4E0EexcludeProperties\u4E2D\u7684\u5C5E\u6027\u91CD\u540D\uFF0C\u5426\u5219\u5C06\u5728\u8F6C\u6362\u8FC7\u7A0B\u4E2D\u4E22\u5931\n    var excludeProperties = ['x', 'y', 'text', 'logicFlowType'];\n    Object.keys(element.properties).forEach(function (property) {\n        if (excludeProperties.indexOf(property) === -1) {\n            node.properties[property] = element.properties[property];\n        }\n    });\n    return node;\n}\n// \u5C06Turbo\u5143\u7D20\u6570\u636E\u8F6C\u6362\u4E3ALogicFlow\u6570\u636E\nexport function toLogicflowData(data) {\n    var lfData = {\n        nodes: [],\n        edges: [],\n    };\n    var list = data.flowElementList;\n    list && list.length > 0 && list.forEach(function (element) {\n        if (element.type === TurboType.SEQUENCE_FLOW) {\n            var edge = convertFlowElementToEdge(element);\n            lfData.edges.push(edge);\n        }\n        else {\n            var node = convertFlowElementToNode(element);\n            lfData.nodes.push(node);\n        }\n    });\n    return lfData;\n}\nvar TurboAdapter = {\n    pluginName: 'turboAdapter',\n    install: function (lf) {\n        lf.adapterIn = this.adapterIn;\n        lf.adapterOut = this.adapterOut;\n    },\n    shapeConfigMap: new Map(),\n    setCustomShape: function (key, val) {\n        this.shapeConfigMap.set(key, val);\n    },\n    adapterOut: function (logicflowData) {\n        if (logicflowData) {\n            return toTurboData(logicflowData);\n        }\n    },\n    adapterIn: function (turboData) {\n        if (turboData) {\n            return toLogicflowData(turboData);\n        }\n    },\n};\nexport { TurboAdapter };\nexport default TurboAdapter;\n", "var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { isNodeInSegement } from './edge';\nvar InsertNodeInPolyline = /** @class */ (function () {\n    function InsertNodeInPolyline(_a) {\n        var lf = _a.lf;\n        this._lf = lf;\n        this.dndAdd = true;\n        this.dropAdd = true;\n        this.eventHandler();\n    }\n    InsertNodeInPolyline.prototype.eventHandler = function () {\n        var _this = this;\n        // \u76D1\u542C\u4E8B\u4EF6\n        if (this.dndAdd) {\n            this._lf.on('node:dnd-add', function (_a) {\n                var data = _a.data;\n                _this.insetNode(data);\n            });\n        }\n        if (this.dropAdd) {\n            this._lf.on('node:drop', function (_a) {\n                var data = _a.data;\n                var edges = _this._lf.graphModel.edges;\n                var id = data.id;\n                var pureNode = true;\n                for (var i = 0; i < edges.length; i++) {\n                    if (edges[i].sourceNodeId === id || edges[i].targetNodeId === id) {\n                        pureNode = false;\n                        break;\n                    }\n                }\n                if (pureNode) {\n                    _this.insetNode(data);\n                }\n            });\n        }\n    };\n    InsertNodeInPolyline.prototype.insetNode = function (nodeData) {\n        var edges = this._lf.graphModel.edges;\n        var nodeModel = this._lf.getNodeModelById(nodeData.id);\n        for (var i = 0; i < edges.length; i++) {\n            // eslint-disable-next-line max-len\n            var _a = isNodeInSegement(nodeModel, edges[i]), crossIndex = _a.crossIndex, crossPoints = _a.crossPoints;\n            if (crossIndex >= 0) {\n                var _b = edges[i], sourceNodeId = _b.sourceNodeId, targetNodeId = _b.targetNodeId, id = _b.id, type = _b.type, pointsList = _b.pointsList;\n                this._lf.addEdge({\n                    type: type,\n                    sourceNodeId: sourceNodeId,\n                    targetNodeId: nodeData.id,\n                    pointsList: __spread(pointsList.slice(0, crossIndex), [crossPoints.startCrossPoint]),\n                });\n                this._lf.addEdge({\n                    type: type,\n                    sourceNodeId: nodeData.id,\n                    targetNodeId: targetNodeId,\n                    pointsList: __spread([crossPoints.endCrossPoint], pointsList.slice(crossIndex)),\n                });\n                this._lf.deleteEdge(id);\n                break;\n            }\n        }\n    };\n    InsertNodeInPolyline.pluginName = 'insertNodeInPolyline';\n    return InsertNodeInPolyline;\n}());\nexport { InsertNodeInPolyline };\nexport default InsertNodeInPolyline;\n", "// \u8FD9\u4E2A\u91CC\u9762\u7684\u51FD\u6570\u6709\u4E9B\u5728core\u4E2D\u5DF2\u7ECF\u5B58\u5728\uFF0C\u4E3A\u4E86\u89E3\u8026\u5173\u7CFB\uFF0C\u6CA1\u6709\u5F15\u7528\nvar SegmentDirection;\n(function (SegmentDirection) {\n    SegmentDirection[\"HORIZONTAL\"] = \"horizontal\";\n    SegmentDirection[\"VERTICAL\"] = \"vertical\";\n})(SegmentDirection || (SegmentDirection = {}));\n/* \u5224\u65AD\u4E00\u4E2A\u70B9\u662F\u5426\u5728\u7EBF\u6BB5\u4E2D\n\u5165\u53C2\u70B9\uFF1Apoint, \u7EBF\u6BB5\u8D77\u7EC8\u70B9\uFF0Cstart,end,\n\u8FD4\u56DE\u503C\uFF1A \u5728\u7EBF\u6BB5\u4E2Dtrue\uFF0C\u5426\u5219false\n*/\nexport var isInSegment = function (point, start, end) {\n    var x = point.x, y = point.y;\n    return (x - start.x) * (x - end.x) <= 0\n        && (y - start.y) * (y - end.y) <= 0;\n};\n/* \u83B7\u53D6\u8282\u70B9bbox */\nvar getNodeBBox = function (node) {\n    var x = node.x, y = node.y, width = node.width, height = node.height;\n    var bBox = {\n        minX: x - width / 2,\n        minY: y - height / 2,\n        maxX: x + width / 2,\n        maxY: y + height / 2,\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        centerX: x,\n        centerY: y,\n    };\n    return bBox;\n};\n/* \u5224\u65AD\u7EBF\u6BB5\u7684\u65B9\u5411 */\nvar segmentDirection = function (start, end) {\n    var direction;\n    if (start.x === end.x) {\n        direction = SegmentDirection.VERTICAL;\n    }\n    else if (start.y === end.y) {\n        direction = SegmentDirection.HORIZONTAL;\n    }\n    return direction;\n};\n// \u8282\u70B9\u662F\u591F\u5728\u7EBF\u6BB5\u5185\uFF0C\u6C42\u51FA\u8282\u70B9\u4E0E\u7EBF\u6BB5\u7684\u4EA4\u70B9\nexport var corssPointInSegement = function (node, start, end) {\n    var bBox = getNodeBBox(node);\n    var direction = segmentDirection(start, end);\n    var maxX = Math.max(start.x, end.x);\n    var minX = Math.min(start.x, end.x);\n    var maxY = Math.max(start.y, end.y);\n    var minY = Math.min(start.y, end.y);\n    var x = node.x, y = node.y, width = node.width, height = node.height;\n    if (direction === SegmentDirection.HORIZONTAL) {\n        // \u540C\u4E00\u6C34\u5E73\u7EBF\n        if (start.y === y && maxX >= bBox.maxX && minX <= bBox.minX) {\n            return {\n                startCrossPoint: {\n                    x: start.x > end.x ? x + (width / 2) : x - (width / 2),\n                    y: y,\n                },\n                endCrossPoint: {\n                    x: start.x > end.x ? x - (width / 2) : x + (width / 2),\n                    y: y,\n                },\n            };\n        }\n    }\n    else if (direction === SegmentDirection.VERTICAL) {\n        // \u540C\u4E00\u5782\u76F4\u7EBF\n        if (start.x === node.x && maxY >= bBox.maxY && minY <= bBox.minY) {\n            return {\n                startCrossPoint: {\n                    x: x,\n                    y: start.y > end.y ? y + (height / 2) : y - (height / 2),\n                },\n                endCrossPoint: {\n                    x: x,\n                    y: start.y > end.y ? y - (height / 2) : y + (height / 2),\n                },\n            };\n        }\n    }\n};\n// \u8282\u70B9\u662F\u5426\u5728\u7EBF\u6BB5\u5185\n// eslint-disable-next-line max-len\nexport var isNodeInSegement = function (node, polyline) {\n    var x = node.x, y = node.y;\n    var pointsList = polyline.pointsList;\n    for (var i = 0; i < pointsList.length - 1; i++) {\n        if (isInSegment({ x: x, y: y }, pointsList[i], pointsList[i + 1])) {\n            var bBoxCross = corssPointInSegement(node, pointsList[i], pointsList[i + 1]);\n            if (bBoxCross) {\n                return {\n                    crossIndex: i + 1,\n                    crossPoints: bBoxCross,\n                };\n            }\n        }\n    }\n    return {\n        crossIndex: -1,\n        crossPoints: {\n            startCrossPoint: { x: 0, y: 0 },\n            endCrossPoint: { x: 0, y: 0 },\n        },\n    };\n};\n", "var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar Control = /** @class */ (function () {\n    function Control(_a) {\n        var _this = this;\n        var lf = _a.lf;\n        this.controlItems = [\n            {\n                key: 'zoom-out',\n                iconClass: 'lf-control-zoomOut',\n                title: '\u7F29\u5C0F\u6D41\u7A0B\u56FE',\n                text: '\u7F29\u5C0F',\n                onClick: function () {\n                    _this.lf.zoom(false);\n                },\n            },\n            {\n                key: 'zoom-in',\n                iconClass: 'lf-control-zoomIn',\n                title: '\u653E\u5927\u6D41\u7A0B\u56FE',\n                text: '\u653E\u5927',\n                onClick: function () {\n                    _this.lf.zoom(true);\n                },\n            },\n            {\n                key: 'reset',\n                iconClass: 'lf-control-fit',\n                title: '\u6062\u590D\u6D41\u7A0B\u539F\u6709\u5C3A\u5BF8',\n                text: '\u9002\u5E94',\n                onClick: function () {\n                    _this.lf.resetZoom();\n                },\n            },\n            {\n                key: 'undo',\n                iconClass: 'lf-control-undo',\n                title: '\u56DE\u5230\u4E0A\u4E00\u6B65',\n                text: '\u4E0A\u4E00\u6B65',\n                onClick: function () {\n                    _this.lf.undo();\n                },\n            },\n            {\n                key: 'redo',\n                iconClass: 'lf-control-redo',\n                title: '\u79FB\u5230\u4E0B\u4E00\u6B65',\n                text: '\u4E0B\u4E00\u6B65',\n                onClick: function () {\n                    _this.lf.redo();\n                },\n            },\n        ];\n        this.lf = lf;\n    }\n    Control.prototype.render = function (lf, domContainer) {\n        this.destroy();\n        var toolEl = this.getControlTool();\n        this.toolEl = toolEl;\n        domContainer.appendChild(toolEl);\n        this.domContainer = domContainer;\n    };\n    Control.prototype.destroy = function () {\n        if (this.domContainer && this.toolEl && this.domContainer.contains(this.toolEl)) {\n            this.domContainer.removeChild(this.toolEl);\n        }\n    };\n    Control.prototype.addItem = function (item) {\n        this.controlItems.push(item);\n    };\n    Control.prototype.removeItem = function (key) {\n        var index = this.controlItems.findIndex(function (item) { return item.key === key; });\n        return this.controlItems.splice(index, 1)[0];\n    };\n    Control.prototype.getControlTool = function () {\n        var _this = this;\n        var NORMAL = 'lf-control-item';\n        var DISABLED = 'lf-control-item disabled';\n        var controlTool = document.createElement('div');\n        var controlElements = [];\n        controlTool.className = 'lf-control';\n        this.controlItems.forEach(function (item) {\n            var itemContainer = document.createElement('div');\n            var icon = document.createElement('i');\n            var text = document.createElement('span');\n            itemContainer.className = DISABLED;\n            item.onClick && (itemContainer.onclick = item.onClick.bind(null, _this.lf));\n            item.onMouseEnter && (itemContainer.onmouseenter = item.onMouseEnter.bind(null, _this.lf));\n            item.onMouseLeave && (itemContainer.onmouseleave = item.onMouseLeave.bind(null, _this.lf));\n            icon.className = item.iconClass;\n            text.className = 'lf-control-text';\n            text.title = item.title;\n            text.innerText = item.text;\n            itemContainer.append(icon, text);\n            switch (item.text) {\n                case '\u4E0A\u4E00\u6B65':\n                    _this.lf.on('history:change', function (_a) {\n                        var undoAble = _a.data.undoAble;\n                        itemContainer.className = undoAble ? NORMAL : DISABLED;\n                    });\n                    break;\n                case '\u4E0B\u4E00\u6B65':\n                    _this.lf.on('history:change', function (_a) {\n                        var redoAble = _a.data.redoAble;\n                        itemContainer.className = redoAble ? NORMAL : DISABLED;\n                    });\n                    break;\n                default:\n                    itemContainer.className = NORMAL;\n                    break;\n            }\n            controlElements.push(itemContainer);\n        });\n        controlTool.append.apply(controlTool, __spread(controlElements));\n        return controlTool;\n    };\n    Control.pluginName = 'control';\n    return Control;\n}());\nexport default Control;\nexport { Control };\n", "var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nvar DefalutNodeMenuKey = 'lf:defaultNodeMenu';\nvar DefalutEdgeMenuKey = 'lf:defaultEdgeMenu';\nvar DefalutGraphMenuKey = 'lf:defaultGraphMenu';\nvar DefalutSelectionMenuKey = 'lf:defaultSelectionMenu';\nvar Menu = /** @class */ (function () {\n    function Menu(_a) {\n        var _this = this;\n        var lf = _a.lf;\n        this.__menuDOM = document.createElement('ul');\n        this.lf = lf;\n        this.menuTypeMap = new Map();\n        this.init();\n        this.lf.setMenuConfig = function (config) {\n            _this.setMenuConfig(config);\n        };\n        this.lf.addMenuConfig = function (config) {\n            _this.addMenuConfig(config);\n        };\n        this.lf.setMenuByType = function (config) {\n            _this.setMenuByType(config);\n        };\n    }\n    /**\n     * \u521D\u59CB\u5316\u8BBE\u7F6E\u9ED8\u8BA4\u5185\u7F6E\u83DC\u5355\u680F\n     */\n    Menu.prototype.init = function () {\n        var _this = this;\n        var defalutNodeMenu = [\n            {\n                text: '\u5220\u9664',\n                callback: function (node) {\n                    _this.lf.deleteNode(node.id);\n                },\n            },\n            {\n                text: '\u7F16\u8F91\u6587\u672C',\n                callback: function (node) {\n                    _this.lf.graphModel.editText(node.id);\n                },\n            },\n            {\n                text: '\u590D\u5236',\n                callback: function (node) {\n                    _this.lf.cloneNode(node.id);\n                },\n            },\n        ];\n        this.menuTypeMap.set(DefalutNodeMenuKey, defalutNodeMenu);\n        var defaultEdgeMenu = [\n            {\n                text: '\u5220\u9664',\n                callback: function (edge) {\n                    _this.lf.deleteEdge(edge.id);\n                },\n            },\n            {\n                text: '\u7F16\u8F91\u6587\u672C',\n                callback: function (edge) {\n                    _this.lf.graphModel.editText(edge.id);\n                },\n            },\n        ];\n        this.menuTypeMap.set(DefalutEdgeMenuKey, defaultEdgeMenu);\n        this.menuTypeMap.set(DefalutGraphMenuKey, []);\n        var DefalutSelectionMenu = [\n            {\n                text: '\u5220\u9664',\n                callback: function (elements) {\n                    _this.lf.clearSelectElements();\n                    elements.edges.forEach(function (edge) { return _this.lf.deleteEdge(edge.id); });\n                    elements.nodes.forEach(function (node) { return _this.lf.deleteNode(node.id); });\n                },\n            },\n        ];\n        this.menuTypeMap.set(DefalutSelectionMenuKey, DefalutSelectionMenu);\n    };\n    Menu.prototype.render = function (lf, container) {\n        var _this = this;\n        this.__container = container;\n        this.__currentData = null; // \u5F53\u524D\u5C55\u793A\u7684\u83DC\u5355\u6240\u5C5E\u5143\u7D20\u7684model\u6570\u636E\n        this.__menuDOM.className = 'lf-menu';\n        container.appendChild(this.__menuDOM);\n        // \u5C06\u9009\u9879\u7684click\u4E8B\u4EF6\u59D4\u6258\u81F3menu\u5BB9\u5668\n        // \u5728\u6355\u83B7\u9636\u6BB5\u62E6\u622A\u5E76\u6267\u884C\n        this.__menuDOM.addEventListener('click', function (event) {\n            event.stopPropagation();\n            var target = event.target;\n            // \u83DC\u5355\u6709\u591A\u5C42dom\uFF0C\u9700\u8981\u7CBE\u786E\u83B7\u53D6\u83DC\u5355\u9879\u6240\u5BF9\u5E94\u7684dom\n            // \u9664\u83DC\u5355\u9879dom\u5916\uFF0C\u5E94\u8003\u8651\u4E24\u79CD\u60C5\u51B5\n            // 1. \u83DC\u5355\u9879\u7684\u5B50\u5143\u7D20 2. \u83DC\u5355\u5916\u5C42\u5BB9\u5668\n            while (Array.from(target.classList).indexOf('lf-menu-item') === -1 && Array.from(target.classList).indexOf('lf-menu') === -1) {\n                target = target.parentElement;\n            }\n            if (Array.from(target.classList).indexOf('lf-menu-item') > -1) {\n                // \u5982\u679C\u70B9\u51FB\u533A\u57DF\u5728\u83DC\u5355\u9879\u5185\n                target.onclickCallback(_this.__currentData);\n                // \u70B9\u51FB\u540E\u9690\u85CFmenu\n                _this.__menuDOM.style.display = 'none';\n                _this.__currentData = null;\n            }\n            else {\n                // \u5982\u679C\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\n                console.warn('\u70B9\u51FB\u533A\u57DF\u4E0D\u5728\u83DC\u5355\u9879\u5185\uFF0C\u8BF7\u68C0\u67E5\u4EE3\u7801\uFF01');\n            }\n        }, true);\n        // \u901A\u8FC7\u4E8B\u4EF6\u63A7\u5236\u83DC\u5355\u7684\u663E\u793A\u548C\u9690\u85CF\n        this.lf.on('node:contextmenu', function (_a) {\n            var data = _a.data, position = _a.position;\n            var _b = position.domOverlayPosition, x = _b.x, y = _b.y;\n            var id = data.id;\n            var model = _this.lf.graphModel.getNodeModelById(id);\n            var menuList = [];\n            var typeMenus = _this.menuTypeMap.get(model.type);\n            // \u5982\u679C\u5355\u4E2A\u8282\u70B9\u81EA\u5B9A\u4E49\u4E86\u8282\u70B9\uFF0C\u4EE5\u5355\u4E2A\u8282\u70B9\u81EA\u5B9A\u4E49\u4E3A\u51C6\n            if (model && model.menu && Array.isArray(model.menu)) {\n                menuList = model.menu;\n            }\n            else if (typeMenus) { // \u5982\u679C\u5B9A\u4E49\u5F53\u524D\u8282\u70B9\u7C7B\u578B\u7684\u5143\u7D20\n                menuList = typeMenus;\n            }\n            else { // \u6700\u540E\u53D6\u5168\u5C40\u9ED8\u8BA4\n                menuList = _this.menuTypeMap.get(DefalutNodeMenuKey);\n            }\n            _this.__currentData = data;\n            _this.showMenu(x, y, menuList);\n        });\n        this.lf.on('edge:contextmenu', function (_a) {\n            var data = _a.data, position = _a.position;\n            var _b = position.domOverlayPosition, x = _b.x, y = _b.y;\n            var id = data.id;\n            var model = _this.lf.graphModel.getEdgeModelById(id);\n            var menuList = [];\n            var typeMenus = _this.menuTypeMap.get(model.type);\n            // \u5982\u679C\u5355\u4E2A\u8282\u70B9\u81EA\u5B9A\u4E49\u4E86\u8FB9\n            if (model && model.menu && Array.isArray(model.menu)) {\n                menuList = model.menu;\n            }\n            else if (typeMenus) { // \u5982\u679C\u5B9A\u4E49\u5F53\u524D\u8FB9\u7C7B\u578B\u7684\u5143\u7D20\n                menuList = typeMenus;\n            }\n            else { // \u6700\u540E\u53D6\u5168\u5C40\u9ED8\u8BA4\n                menuList = _this.menuTypeMap.get(DefalutEdgeMenuKey);\n            }\n            _this.__currentData = data;\n            _this.showMenu(x, y, menuList);\n        });\n        this.lf.on('blank:contextmenu', function (_a) {\n            var position = _a.position;\n            var menuList = _this.menuTypeMap.get(DefalutGraphMenuKey);\n            var _b = position.domOverlayPosition, x = _b.x, y = _b.y;\n            _this.showMenu(x, y, menuList);\n        });\n        this.lf.on('selection:contextmenu', function (_a) {\n            var data = _a.data, position = _a.position;\n            var menuList = _this.menuTypeMap.get(DefalutSelectionMenuKey);\n            var _b = position.domOverlayPosition, x = _b.x, y = _b.y;\n            _this.__currentData = data;\n            _this.showMenu(x, y, menuList);\n        });\n        this.lf.on('node:mousedown', function () {\n            _this.__menuDOM.style.display = 'none';\n        });\n        this.lf.on('edge:click', function () {\n            _this.__menuDOM.style.display = 'none';\n        });\n        this.lf.on('blank:click', function () {\n            _this.__menuDOM.style.display = 'none';\n        });\n    };\n    Menu.prototype.destroy = function () {\n        var _a;\n        (_a = this === null || this === void 0 ? void 0 : this.__container) === null || _a === void 0 ? void 0 : _a.removeChild(this.__menuDOM);\n        this.__menuDOM = null;\n    };\n    Menu.prototype.showMenu = function (x, y, menuList) {\n        if (!menuList || !menuList.length)\n            return;\n        var menu = this.__menuDOM;\n        // \u83DC\u5355\u5BB9\u5668\u4E0D\u53D8\uFF0C\u9700\u8981\u5148\u6E05\u7A7A\u5185\u90E8\u7684\u83DC\u5355\u9879\n        menu.innerHTML = '';\n        menu.append.apply(menu, __spread(this.__getMenuDom(menuList)));\n        // \u83DC\u5355\u4E2D\u6CA1\u6709\u9879\uFF0C\u4E0D\u663E\u793A\n        if (!menu.children.length)\n            return;\n        menu.style.display = 'block';\n        menu.style.top = y + \"px\";\n        menu.style.left = x + \"px\";\n    };\n    /**\n     * \u8BBE\u7F6E\u6307\u5B9A\u7C7B\u578B\u5143\u7D20\u7684\u83DC\u5355\n     */\n    Menu.prototype.setMenuByType = function (config) {\n        if (!config.type || !config.menu) {\n            return;\n        }\n        this.menuTypeMap.set(config.type, config.menu);\n    };\n    /**\n     * \u83B7\u53D6 Menu DOM\n     * @param list \u83DC\u5355\u9879\n     * @return \u83DC\u5355\u9879 DOM\n     */\n    Menu.prototype.__getMenuDom = function (list) {\n        var menuList = [];\n        list && list.length > 0 && list.forEach(function (item) {\n            var element = document.createElement('li');\n            if (item.className) {\n                element.className = \"lf-menu-item \" + item.className;\n            }\n            else {\n                element.className = 'lf-menu-item';\n            }\n            if (item.icon === true) {\n                var icon = document.createElement('span');\n                icon.className = 'lf-menu-item-icon';\n                element.appendChild(icon);\n            }\n            var text = document.createElement('span');\n            text.className = 'lf-menu-item-text';\n            if (item.text) {\n                text.innerText = item.text;\n            }\n            element.appendChild(text);\n            element.onclickCallback = item.callback;\n            menuList.push(element);\n        });\n        return menuList;\n    };\n    // \u590D\u5199\u83DC\u5355\n    Menu.prototype.setMenuConfig = function (config) {\n        if (!config) {\n            return;\n        }\n        // node\n        config.nodeMenu !== undefined\n            && this.menuTypeMap.set(DefalutNodeMenuKey, config.nodeMenu ? config.nodeMenu : []);\n        // edge\n        config.edgeMenu !== undefined\n            && this.menuTypeMap.set(DefalutEdgeMenuKey, config.edgeMenu ? config.edgeMenu : []);\n        // graph\n        config.graphMenu !== undefined\n            && this.menuTypeMap.set(DefalutGraphMenuKey, config.graphMenu ? config.graphMenu : []);\n    };\n    // \u5728\u9ED8\u8BA4\u83DC\u5355\u540E\u9762\u8FFD\u52A0\u83DC\u5355\u9879\n    Menu.prototype.addMenuConfig = function (config) {\n        if (!config) {\n            return;\n        }\n        // \u8FFD\u52A0\u9879\u65F6\uFF0C\u53EA\u652F\u6301\u6570\u7EC4\u7C7B\u578B\uFF0C\u5BF9false\u4E0D\u505A\u64CD\u4F5C\n        if (Array.isArray(config.nodeMenu)) {\n            var menuList = this.menuTypeMap.get(DefalutNodeMenuKey);\n            this.menuTypeMap.set(DefalutNodeMenuKey, menuList.concat(config.nodeMenu));\n        }\n        if (Array.isArray(config.edgeMenu)) {\n            var menuList = this.menuTypeMap.get(DefalutEdgeMenuKey);\n            this.menuTypeMap.set(DefalutEdgeMenuKey, menuList.concat(config.edgeMenu));\n        }\n        if (Array.isArray(config.graphMenu)) {\n            var menuList = this.menuTypeMap.get(DefalutGraphMenuKey);\n            this.menuTypeMap.set(DefalutGraphMenuKey, menuList.concat(config.graphMenu));\n        }\n    };\n    /**\n     * @deprecated\n     * \u590D\u5199\u6DFB\u52A0\n     */\n    Menu.prototype.changeMenuItem = function (type, config) {\n        if (type === 'add')\n            this.addMenuConfig(config);\n        else if (type === 'reset')\n            this.setMenuConfig(config);\n        else {\n            throw new Error('The first parameter of changeMenuConfig should be \\'add\\' or \\'reset\\'');\n        }\n    };\n    Menu.pluginName = 'menu';\n    return Menu;\n}());\nexport default Menu;\nexport { Menu, };\n", "var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar COMMON_TYPE_KEY = 'menu-common';\nvar NEXT_X_DISTANCE = 200;\nvar NEXT_Y_DISTANCE = 100;\nvar ContextMenu = /** @class */ (function () {\n    function ContextMenu(_a) {\n        var _this = this;\n        var lf = _a.lf;\n        this.menuTypeMap = new Map();\n        this.listenDelete = function () {\n            _this.hideContextMenu();\n        };\n        this.lf = lf;\n        this.__menuDOM = document.createElement('div');\n        this.__menuDOM.className = 'lf-inner-context';\n        this.menuTypeMap.set(COMMON_TYPE_KEY, []);\n        this.lf.setContextMenuByType = function (type, menus) {\n            _this.setContextMenuByType(type, menus);\n        };\n        this.lf.setContextMenuItems = function (menus) {\n            _this.setContextMenuItems(menus);\n        };\n        this.lf.showContextMenu = function (data) {\n            _this.showContextMenu(data);\n        };\n        this.lf.hideContextMenu = function () {\n            _this.hideContextMenu();\n        };\n    }\n    ContextMenu.prototype.render = function (lf, container) {\n        var _this = this;\n        this.container = container;\n        lf.on('node:click', function (_a) {\n            var data = _a.data;\n            _this._activeData = data;\n            _this.createContextMenu();\n        });\n        lf.on('edge:click', function (_a) {\n            var data = _a.data;\n            // \u83B7\u53D6\u53F3\u4E0A\u89D2\u5750\u6807\n            _this._activeData = data;\n            _this.createContextMenu();\n        });\n        lf.on('blank:click', function () {\n            _this.hideContextMenu();\n        });\n    };\n    ContextMenu.prototype.setContextMenuByType = function (type, menus) {\n        this.menuTypeMap.set(type, menus);\n    };\n    /**\n     * \u9690\u85CF\u83DC\u5355\n     */\n    ContextMenu.prototype.hideContextMenu = function () {\n        this.__menuDOM.innerHTML = '';\n        this.__menuDOM.style.display = 'none';\n        if (this.isShow) {\n            this.container.removeChild(this.__menuDOM);\n        }\n        this.lf.off('node:delete,edge:delete,node:drag,graph:transform', this.listenDelete);\n        this.isShow = false;\n    };\n    /**\n     * \u663E\u793A\u6307\u5B9A\u5143\u7D20\u83DC\u5355\n     * @param data \u8282\u70B9id\u3001\u8282\u70B9\u7C7B\u578B\u3001\u83DC\u5355\u4F4D\u7F6E\n     */\n    ContextMenu.prototype.showContextMenu = function (data) {\n        if (!data || !data.id) {\n            console.warn('\u8BF7\u68C0\u67E5\u4F20\u5165\u7684\u53C2\u6570');\n            return;\n        }\n        this._activeData = data;\n        this.createContextMenu();\n    };\n    ContextMenu.prototype.setContextMenuItems = function (menus) {\n        this.menuTypeMap.set(COMMON_TYPE_KEY, menus);\n    };\n    /**\n     * \u83B7\u53D6\u65B0\u83DC\u5355\u4F4D\u7F6E\n     */\n    ContextMenu.prototype.getContextMenuPosition = function () {\n        var data = this._activeData;\n        var Model = this.lf.graphModel.getElement(data.id);\n        if (!Model) {\n            console.warn(\"\\u627E\\u4E0D\\u5230\\u5143\\u7D20\" + data.id);\n            return;\n        }\n        var x;\n        var y;\n        if (Model.BaseType === 'edge') {\n            x = Number.MIN_SAFE_INTEGER;\n            y = Number.MAX_SAFE_INTEGER;\n            var edgeData = Model.getData();\n            x = Math.max(edgeData.startPoint.x, x);\n            y = Math.min(edgeData.startPoint.y, y);\n            x = Math.max(edgeData.endPoint.x, x);\n            y = Math.min(edgeData.endPoint.y, y);\n            if (edgeData.pointsList) {\n                edgeData.pointsList.forEach(function (point) {\n                    x = Math.max(point.x, x);\n                    y = Math.min(point.y, y);\n                });\n            }\n        }\n        if (Model.BaseType === 'node') {\n            x = data.x + Model.width / 2;\n            y = data.y - Model.height / 2;\n        }\n        return this.lf.graphModel.transformModel.CanvasPointToHtmlPoint([x, y]);\n    };\n    ContextMenu.prototype.createContextMenu = function () {\n        var _this = this;\n        var isSilentMode = this.lf.options.isSilentMode;\n        // \u9759\u9ED8\u6A21\u5F0F\u4E0D\u663E\u793A\u83DC\u5355\n        if (isSilentMode) {\n            return;\n        }\n        var items = this.menuTypeMap.get(this._activeData.type) || [];\n        items = items.concat(this.menuTypeMap.get(COMMON_TYPE_KEY));\n        var menus = document.createDocumentFragment();\n        items.forEach(function (item) {\n            var menuItem = document.createElement('div');\n            menuItem.className = 'lf-context-item';\n            var img = document.createElement('img');\n            img.src = item.icon;\n            img.className = 'lf-context-img';\n            if (item.className) {\n                menuItem.className = menuItem.className + \" \" + item.className;\n            }\n            img.addEventListener('click', function () {\n                _this.hideContextMenu();\n                if (item.callback) {\n                    item.callback(_this._activeData);\n                }\n                else {\n                    _this.addNode({\n                        sourceId: _this._activeData.id,\n                        x: _this._activeData.x,\n                        y: _this._activeData.y,\n                        properties: item.properties,\n                        type: item.type,\n                    });\n                }\n            });\n            menuItem.appendChild(img);\n            menus.appendChild(menuItem);\n        });\n        this.__menuDOM.innerHTML = '';\n        this.__menuDOM.appendChild(menus);\n        this.showMenu();\n    };\n    ContextMenu.prototype.addNode = function (node, y) {\n        var isDeep = y !== undefined;\n        if (y === undefined) {\n            y = node.y;\n        }\n        var nodeModel = this.lf.getNodeModelById(node.sourceId);\n        var leftTopX = node.x - nodeModel.width + NEXT_X_DISTANCE;\n        var leftTopY = y - node.y / 2 - 20;\n        var rightBottomX = node.x + nodeModel.width + NEXT_X_DISTANCE;\n        var rightBottomY = y + node.y / 2 + 20;\n        var exsitElements = this.lf.getAreaElement([leftTopX, leftTopY], [rightBottomX, rightBottomY]);\n        if (exsitElements.length) {\n            y = y + NEXT_Y_DISTANCE;\n            this.addNode(node, y);\n            return;\n        }\n        var newNode = this.lf.addNode({\n            type: node.type,\n            x: node.x + 200,\n            y: y,\n            properties: node.properties,\n        });\n        var startPoint;\n        var endPoint;\n        if (isDeep) {\n            startPoint = {\n                x: node.x,\n                y: node.y + nodeModel.height / 2,\n            };\n            endPoint = {\n                x: newNode.x - newNode.width / 2,\n                y: newNode.y,\n            };\n        }\n        this.lf.addEdge({\n            sourceNodeId: node.sourceId,\n            targetNodeId: newNode.id,\n            startPoint: startPoint,\n            endPoint: endPoint,\n        });\n    };\n    ContextMenu.prototype.showMenu = function () {\n        var _a = __read(this.getContextMenuPosition(), 2), x = _a[0], y = _a[1];\n        this.__menuDOM.style.display = 'flex';\n        this.__menuDOM.style.top = y + \"px\";\n        this.__menuDOM.style.left = x + 10 + \"px\";\n        this.container.appendChild(this.__menuDOM);\n        // \u83DC\u5355\u663E\u793A\u7684\u65F6\u5019\uFF0C\u76D1\u542C\u5220\u9664\uFF0C\u540C\u65F6\u9690\u85CF\n        !this.isShow && this.lf.on('node:delete,edge:delete,node:drag,graph:transform', this.listenDelete);\n        this.isShow = true;\n    };\n    ContextMenu.pluginName = 'contextMenu';\n    return ContextMenu;\n}());\nexport default ContextMenu;\nexport { ContextMenu, };\n", "var DndPanel = /** @class */ (function () {\n    function DndPanel(_a) {\n        var _this = this;\n        var lf = _a.lf;\n        this.lf = lf;\n        this.lf.setPatternItems = function (shapeList) {\n            _this.setPatternItems(shapeList);\n        };\n    }\n    DndPanel.prototype.render = function (lf, domContainer) {\n        var _this = this;\n        this.destroy();\n        if (!this.shapeList || this.shapeList.length === 0) {\n            // \u9996\u6B21render\u540E\u5931\u8D25\u540E\uFF0C\u540E\u7EED\u8C03\u7528setPatternItems\u652F\u6301\u6E32\u67D3\n            this.domContainer = domContainer;\n            return;\n        }\n        this.panelEl = document.createElement('div');\n        this.panelEl.className = 'lf-dndpanel';\n        this.shapeList.forEach(function (shapeItem) {\n            _this.panelEl.appendChild(_this.createDndItem(shapeItem));\n        });\n        domContainer.appendChild(this.panelEl);\n        this.domContainer = domContainer;\n    };\n    DndPanel.prototype.destroy = function () {\n        if (this.domContainer && this.panelEl && this.domContainer.contains(this.panelEl)) {\n            this.domContainer.removeChild(this.panelEl);\n        }\n    };\n    DndPanel.prototype.setPatternItems = function (shapeList) {\n        this.shapeList = shapeList;\n        // \u652F\u6301\u6E32\u67D3\u540E\u91CD\u65B0\u8BBE\u7F6E\u62D6\u62FD\u9762\u677F\n        if (this.domContainer) {\n            this.render(this.lf, this.domContainer);\n        }\n    };\n    DndPanel.prototype.createDndItem = function (shapeItem) {\n        var _this = this;\n        var el = document.createElement('div');\n        el.className = shapeItem.className ? \"lf-dnd-item \" + shapeItem.className : 'lf-dnd-item';\n        var shape = document.createElement('div');\n        shape.className = 'lf-dnd-shape';\n        if (shapeItem.icon) {\n            shape.style.backgroundImage = \"url(\" + shapeItem.icon + \")\";\n        }\n        el.appendChild(shape);\n        if (shapeItem.label) {\n            var text = document.createElement('div');\n            text.innerText = shapeItem.label;\n            text.className = 'lf-dnd-text';\n            el.appendChild(text);\n        }\n        el.onmousedown = function () {\n            if (shapeItem.type) {\n                _this.lf.dnd.startDrag({\n                    type: shapeItem.type,\n                    properties: shapeItem.properties,\n                    text: shapeItem.text,\n                });\n            }\n            if (shapeItem.callback) {\n                shapeItem.callback(_this.lf, _this.domContainer);\n            }\n        };\n        return el;\n    };\n    DndPanel.pluginName = 'dndPanel';\n    return DndPanel;\n}());\nexport { DndPanel, };\n", "var SelectionSelect = /** @class */ (function () {\n    function SelectionSelect(_a) {\n        var _this = this;\n        var lf = _a.lf;\n        this.__disabled = false;\n        this.isDefalutStopMoveGraph = false;\n        this.isWholeNode = true;\n        this.isWholeEdge = true;\n        this.__draw = function (ev) {\n            var _a = _this.lf.getPointByClient(ev.clientX, ev.clientY).domOverlayPosition, x1 = _a.x, y1 = _a.y;\n            _this.endPoint = { x: x1, y: y1 };\n            var _b = _this.startPoint, x = _b.x, y = _b.y;\n            var style = _this.wrapper.style;\n            var left = x;\n            var top = y;\n            var width = x1 - x;\n            var height = y1 - y;\n            if (x1 < x) {\n                left = x1;\n                width = x - x1;\n            }\n            if (y1 < y) {\n                top = y1;\n                height = y - y1;\n            }\n            style.left = left + \"px\";\n            style.top = top + \"px\";\n            style.width = width + \"px\";\n            style.height = height + \"px\";\n        };\n        this.__drawOff = function () {\n            document.removeEventListener('mousemove', _this.__draw);\n            document.removeEventListener('mouseup', _this.__drawOff);\n            _this.__domContainer.removeChild(_this.wrapper);\n            var _a = _this.startPoint, x = _a.x, y = _a.y;\n            var _b = _this.endPoint, x1 = _b.x, y1 = _b.y;\n            // \u9009\u533A\u592A\u5C0F\u7684\u60C5\u51B5\u5C31\u5FFD\u7565\n            if (Math.abs(x1 - x) < 10 && Math.abs(y1 - y) < 10) {\n                return;\n            }\n            var lt = [Math.min(x, x1), Math.min(y, y1)];\n            var rt = [Math.max(x, x1), Math.max(y, y1)];\n            var elements = _this.lf.getAreaElement(lt, rt, _this.isWholeEdge, _this.isWholeNode);\n            elements.forEach(function (element) {\n                _this.lf.selectElementById(element.id, true);\n            });\n            _this.lf.emit('selection:selected', elements);\n        };\n        this.lf = lf;\n        // \u521D\u59CB\u5316isDefalutStopMoveGraph\u53D6\u503C\n        var stopMoveGraph = lf.getEditConfig().stopMoveGraph;\n        this.isDefalutStopMoveGraph = stopMoveGraph;\n        lf.openSelectionSelect = function () {\n            _this.openSelectionSelect();\n        };\n        lf.closeSelectionSelect = function () {\n            _this.closeSelectionSelect();\n        };\n    }\n    SelectionSelect.prototype.render = function (lf, domContainer) {\n        var _this = this;\n        this.__domContainer = domContainer;\n        lf.on('blank:mousedown', function (_a) {\n            var e = _a.e;\n            var config = lf.getEditConfig();\n            // \u9F20\u6807\u63A7\u5236\u6EDA\u52A8\u79FB\u52A8\u753B\u5E03\u7684\u65F6\u5019\uFF0C\u4E0D\u80FD\u9009\u533A\u3002\n            if (!config.stopMoveGraph || _this.__disabled) {\n                return;\n            }\n            var _b = lf.getPointByClient(e.clientX, e.clientY).domOverlayPosition, x = _b.x, y = _b.y;\n            _this.startPoint = { x: x, y: y };\n            _this.endPoint = { x: x, y: y };\n            var wrapper = document.createElement('div');\n            wrapper.className = 'lf-selection-select';\n            wrapper.style.top = _this.startPoint.y + \"px\";\n            wrapper.style.left = _this.startPoint.x + \"px\";\n            domContainer.appendChild(wrapper);\n            _this.wrapper = wrapper;\n            document.addEventListener('mousemove', _this.__draw);\n            document.addEventListener('mouseup', _this.__drawOff);\n        });\n    };\n    /**\n     * \u8BBE\u7F6E\u9009\u4E2D\u7684\u7075\u654F\u5EA6\n     * @param isWholeEdge \u662F\u5426\u8981\u8FB9\u7684\u8D77\u70B9\u7EC8\u70B9\u90FD\u5728\u9009\u533A\u8303\u56F4\u624D\u7B97\u9009\u4E2D\u3002\u9ED8\u8BA4true\n     * @param isWholeNode \u662F\u5426\u8981\u8282\u70B9\u7684\u5168\u90E8\u70B9\u90FD\u5728\u9009\u533A\u8303\u56F4\u624D\u7B97\u9009\u4E2D\u3002\u9ED8\u8BA4true\n     */\n    SelectionSelect.prototype.setSelectionSense = function (isWholeEdge, isWholeNode) {\n        if (isWholeEdge === void 0) { isWholeEdge = true; }\n        if (isWholeNode === void 0) { isWholeNode = true; }\n        this.isWholeEdge = isWholeEdge;\n        this.isWholeNode = isWholeNode;\n    };\n    /**\n     * \u5F00\u542F\u9009\u533A\n     */\n    SelectionSelect.prototype.openSelectionSelect = function () {\n        var stopMoveGraph = this.lf.getEditConfig().stopMoveGraph;\n        if (!stopMoveGraph) {\n            this.isDefalutStopMoveGraph = false;\n            this.lf.updateEditConfig({\n                stopMoveGraph: true,\n            });\n        }\n        this.open();\n    };\n    /**\n     * \u5173\u95ED\u9009\u533A\n     */\n    SelectionSelect.prototype.closeSelectionSelect = function () {\n        if (!this.isDefalutStopMoveGraph) {\n            this.lf.updateEditConfig({\n                stopMoveGraph: false,\n            });\n        }\n        this.close();\n    };\n    SelectionSelect.prototype.open = function () {\n        this.__disabled = false;\n    };\n    SelectionSelect.prototype.close = function () {\n        this.__disabled = true;\n    };\n    SelectionSelect.pluginName = 'selectionSelect';\n    return SelectionSelect;\n}());\nexport { SelectionSelect };\n", "var __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar MiniMap = /** @class */ (function () {\n    function MiniMap(_a) {\n        var _this = this;\n        var lf = _a.lf, LogicFlow = _a.LogicFlow;\n        this.__lf = null;\n        this.__container = null;\n        this.__miniMapWrap = null;\n        this.__miniMapContainer = null;\n        this.__lfMap = null;\n        this.__viewport = null;\n        this.__width = 150;\n        this.__height = 220;\n        this.__miniMapWidth = 450;\n        this.__miniMapHeight = 660;\n        this.__viewPortTop = 0;\n        this.__viewPortLeft = 0;\n        this.__startPosition = null;\n        this.__viewPortScale = 1;\n        this.__viewPortWidth = 150;\n        this.__viewPortHeight = 75;\n        this.__resetDataX = 0;\n        this.__resetDataY = 0;\n        this.__LogicFlow = null;\n        this.__isShow = false;\n        this.__disabledPlugins = ['miniMap', 'control', 'selectionSelect'];\n        /**\n         * \u663E\u793Amini map\n         */\n        this.show = function (leftPosition, topPosition) {\n            _this.__setView();\n            if (!_this.__isShow) {\n                _this.__createMiniMap(leftPosition, topPosition);\n            }\n            _this.__isShow = true;\n        };\n        /**\n         * \u9690\u85CFmini map\n         */\n        this.hide = function () {\n            if (_this.__isShow) {\n                _this.__removeMiniMap();\n            }\n            _this.__isShow = false;\n        };\n        this.__startDrag = function (e) {\n            document.addEventListener('mousemove', _this.__drag);\n            document.addEventListener('mouseup', _this.__drop);\n            _this.__startPosition = {\n                x: e.x,\n                y: e.y,\n            };\n        };\n        this.__drag = function (e) {\n            var viewStyle = _this.__viewport.style;\n            _this.__viewPortTop += e.y - _this.__startPosition.y;\n            _this.__viewPortLeft += e.x - _this.__startPosition.x;\n            viewStyle.top = _this.__viewPortTop + \"px\";\n            viewStyle.left = _this.__viewPortLeft + \"px\";\n            _this.__startPosition = {\n                x: e.x,\n                y: e.y,\n            };\n            var centerX = (_this.__viewPortLeft + _this.__viewPortWidth / 2)\n                / _this.__viewPortScale;\n            var centerY = (_this.__viewPortTop + _this.__viewPortHeight / 2)\n                / _this.__viewPortScale;\n            _this.__lf.focusOn({\n                coordinate: {\n                    x: centerX + _this.__resetDataX,\n                    y: centerY + _this.__resetDataY,\n                },\n            });\n        };\n        this.__drop = function () {\n            document.removeEventListener('mousemove', _this.__drag);\n            document.removeEventListener('mouseup', _this.__drop);\n        };\n        this.__lf = lf;\n        this.__miniMapWidth = lf.graphModel.width;\n        this.__miniMapHeight = (lf.graphModel.width * 220) / 150;\n        this.__LogicFlow = LogicFlow;\n        this.__init();\n    }\n    MiniMap.prototype.render = function (lf, container) {\n        var _this = this;\n        this.__container = container;\n        this.__lf.on('history:change', function () {\n            if (_this.__isShow) {\n                _this.__setView();\n            }\n        });\n    };\n    MiniMap.prototype.init = function (option) {\n        this.__disabledPlugins = this.__disabledPlugins.concat(option.disabledPlugins || []);\n    };\n    MiniMap.prototype.__init = function () {\n        var miniMapWrap = document.createElement('div');\n        miniMapWrap.className = 'lf-mini-map-graph';\n        miniMapWrap.style.width = this.__width + \"px\";\n        miniMapWrap.style.height = this.__height + \"px\";\n        this.__lfMap = new this.__LogicFlow({\n            width: this.__lf.graphModel.width,\n            height: (this.__lf.graphModel.width * 220) / 150,\n            container: miniMapWrap,\n            isSilentMode: true,\n            stopZoomGraph: true,\n            stopScrollGraph: true,\n            stopMoveGraph: true,\n            hideAnchors: true,\n            hoverOutline: false,\n            disabledPlugins: this.__disabledPlugins,\n        });\n        // minimap\u4E2D\u7981\u7528adapter\u3002\n        this.__lfMap.adapterIn = function (a) { return a; };\n        this.__lfMap.adapterOut = function (a) { return a; };\n        this.__miniMapWrap = miniMapWrap;\n        this.__createViewPort();\n    };\n    MiniMap.prototype.__createMiniMap = function (left, top) {\n        var miniMapContainer = document.createElement('div');\n        var miniMapWrap = this.__miniMapWrap;\n        miniMapContainer.appendChild(miniMapWrap);\n        if (typeof left !== 'undefined' && typeof top !== 'undefined') {\n            miniMapContainer.style.left = left + \"px\";\n            miniMapContainer.style.top = top + \"px\";\n        }\n        miniMapContainer.style.position = 'absolute';\n        miniMapContainer.className = 'lf-mini-map';\n        this.__container.appendChild(miniMapContainer);\n        this.__miniMapWrap.appendChild(this.__viewport);\n        var header = document.createElement('div');\n        header.className = 'lf-mini-map-header';\n        header.innerText = '\u5BFC\u822A';\n        miniMapContainer.appendChild(header);\n        var close = document.createElement('span');\n        close.className = 'lf-mini-map-close';\n        close.addEventListener('click', this.hide);\n        miniMapContainer.appendChild(close);\n        this.__miniMapContainer = miniMapContainer;\n    };\n    MiniMap.prototype.__removeMiniMap = function () {\n        this.__container.removeChild(this.__miniMapContainer);\n    };\n    /**\n     * \u8BA1\u7B97\u6240\u6709\u56FE\u5F62\u4E00\u8D77\uFF0C\u5360\u9886\u7684\u533A\u57DF\u8303\u56F4\u3002\n     * @param data\n     */\n    MiniMap.prototype.__getBounds = function (data) {\n        var left = 0;\n        var right = this.__miniMapWidth;\n        var top = 0;\n        var bottom = this.__miniMapHeight;\n        var nodes = data.nodes;\n        if (nodes && nodes.length > 0) {\n            // \u56E0\u4E3A\u83B7\u53D6\u7684\u8282\u70B9\u4E0D\u77E5\u9053\u771F\u5B9E\u7684\u5BBD\u9AD8\uFF0C\u8FD9\u91CC\u9700\u8981\u8865\u5145\u4E00\u70B9\u6570\u503C\n            nodes.forEach(function (_a) {\n                var x = _a.x, y = _a.y, _b = _a.width, width = _b === void 0 ? 200 : _b, _c = _a.height, height = _c === void 0 ? 200 : _c;\n                var nodeLeft = x - width / 2;\n                var noderight = x + width / 2;\n                var nodeTop = y - height / 2;\n                var nodeBottom = y + height / 2;\n                left = nodeLeft < left ? nodeLeft : left;\n                right = noderight > right ? noderight : right;\n                top = nodeTop < top ? nodeTop : top;\n                bottom = nodeBottom > bottom ? nodeBottom : bottom;\n            });\n        }\n        return {\n            left: left,\n            top: top,\n            bottom: bottom,\n            right: right,\n        };\n    };\n    /**\n     * \u5C06\u8D1F\u503C\u7684\u5E73\u79FB\u8F6C\u6362\u4E3A\u6B63\u503C\u3002\n     * \u4FDD\u8BC1\u6E32\u67D3\u7684\u65F6\u5019\uFF0Cminimap\u80FD\u5B8C\u5168\u5C55\u793A\u3002\n     * \u83B7\u53D6\u5C06\u753B\u5E03\u6240\u6709\u5143\u7D20\u5E73\u79FB\u52300\uFF0C0\u5F00\u59CB\u65F6\uFF0C\u6240\u6709\u8282\u70B9\u6570\u636E\n     */\n    MiniMap.prototype.__resetData = function (data) {\n        var nodes = data.nodes, edges = data.edges;\n        var left = 0;\n        var top = 0;\n        if (nodes && nodes.length > 0) {\n            // \u56E0\u4E3A\u83B7\u53D6\u7684\u8282\u70B9\u4E0D\u77E5\u9053\u771F\u5B9E\u7684\u5BBD\u9AD8\uFF0C\u8FD9\u91CC\u9700\u8981\u8865\u5145\u4E00\u70B9\u6570\u503C\n            nodes.forEach(function (_a) {\n                var x = _a.x, y = _a.y, _b = _a.width, width = _b === void 0 ? 200 : _b, _c = _a.height, height = _c === void 0 ? 200 : _c;\n                var nodeLeft = x - width / 2;\n                var nodeTop = y - height / 2;\n                left = nodeLeft < left ? nodeLeft : left;\n                top = nodeTop < top ? nodeTop : top;\n            });\n            if (left < 0 || top < 0) {\n                this.__resetDataX = left;\n                this.__resetDataY = top;\n                nodes.forEach(function (node) {\n                    node.x = node.x - left;\n                    node.y = node.y - top;\n                    if (node.text) {\n                        node.text.x = node.text.x - left;\n                        node.text.y = node.text.y - top;\n                    }\n                });\n                edges.forEach(function (edge) {\n                    if (edge.startPoint) {\n                        edge.startPoint.x = edge.startPoint.x - left;\n                        edge.startPoint.y = edge.startPoint.y - top;\n                    }\n                    if (edge.endPoint) {\n                        edge.endPoint.x = edge.endPoint.x - left;\n                        edge.endPoint.y = edge.endPoint.y - top;\n                    }\n                    if (edge.text) {\n                        edge.text.x = edge.text.x - left;\n                        edge.text.y = edge.text.y - top;\n                    }\n                    if (edge.pointsList) {\n                        edge.pointsList.forEach(function (point) {\n                            point.x = point.x - left;\n                            point.y = point.y - top;\n                        });\n                    }\n                });\n            }\n        }\n        return data;\n    };\n    /**\n     * \u663E\u793A\u5BFC\u822A\n     * \u663E\u793A\u89C6\u53E3\u8303\u56F4\n     * 1. \u57FA\u4E8E\u753B\u5E03\u7684\u8303\u56F4\u6BD4\u4F8B\uFF0C\u8BBE\u7F6E\u89C6\u53E3\u8303\u56F4\u6BD4\u4F8B\u3002\u5BBD\u5EA6\u9ED8\u8BA4\u4E3A\u5BFC\u822A\u5BBD\u5EA6\u3002\n     */\n    MiniMap.prototype.__setView = function () {\n        var e_1, _a;\n        // 1. \u83B7\u53D6\u5230\u56FE\u4E2D\u6240\u6709\u7684\u8282\u70B9\u4E2D\u7684\u4F4D\u7F6E\uFF0C\u5C06\u5176\u504F\u79FB\u5230\u539F\u70B9\u5F00\u59CB\uFF08\u907F\u514D\u8282\u70B9\u4F4D\u7F6E\u4E3A\u8D1F\u7684\u65F6\u5019\u65E0\u6CD5\u5C55\u793A\u95EE\u9898\uFF09\u3002\n        var data = this.__resetData(this.__lf.getGraphRawData());\n        // \u7531\u4E8E\u968F\u65F6\u90FD\u4F1A\u6709\u65B0\u8282\u70B9\u6CE8\u518C\u8FDB\u6765\uFF0C\u9700\u8981\u540C\u6B65\u5C06\u6CE8\u518C\u7684\n        var viewMap = this.__lf.viewMap;\n        var modelMap = this.__lf.graphModel.modelMap;\n        var minimapViewMap = this.__lfMap.viewMap;\n        try {\n            // todo: no-restricted-syntax\n            for (var _b = __values(viewMap.keys()), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var key = _c.value;\n                if (!minimapViewMap.has(key)) {\n                    this.__lfMap.setView(key, viewMap.get(key));\n                    this.__lfMap.graphModel.modelMap.set(key, modelMap.get(key));\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        this.__lfMap.render(data);\n        // 2. \u5C06\u504F\u79FB\u540E\u7684\u6570\u636E\u6E32\u67D3\u5230minimap\u753B\u5E03\u4E0A\n        // 3. \u8BA1\u7B97\u51FA\u6240\u6709\u8282\u70B9\u5728\u4E00\u8D77\u7684\u8FB9\u754C\u3002\n        var _d = this.__getBounds(data), left = _d.left, top = _d.top, right = _d.right, bottom = _d.bottom;\n        // 4. \u8BA1\u7B97\u6240\u6709\u8282\u70B9\u7684\u8FB9\u754C\u4E0Eminimap\u770B\u677F\u7684\u8FB9\u754C\u7684\u6BD4\u4F8B.\n        var realWidthScale = this.__width / (right - left);\n        var realHeightScale = this.__height / (bottom - top);\n        // 5. \u53D6\u6BD4\u4F8B\u6700\u5C0F\u7684\u503C\uFF0C\u5C06\u6E32\u67D3\u7684\u753B\u5E03\u7F29\u5C0F\u5BF9\u5E94\u6BD4\u4F8B\u3002\n        var innerStyle = this.__miniMapWrap.firstChild.style;\n        var scale = Math.min(realWidthScale, realHeightScale);\n        innerStyle.transform = \"matrix(\" + scale + \", 0, 0, \" + scale + \", 0, 0)\";\n        innerStyle.transformOrigin = 'left top';\n        innerStyle.height = bottom - Math.min(top, 0) + \"px\";\n        innerStyle.width = right - Math.min(left, 0) + \"px\";\n        this.__viewPortScale = scale;\n        this.__setViewPort(scale, {\n            left: left,\n            top: top,\n            right: right,\n            bottom: bottom,\n        });\n    };\n    // \u8BBE\u7F6E\u89C6\u53E3\n    MiniMap.prototype.__setViewPort = function (scale, _a) {\n        var left = _a.left, right = _a.right, top = _a.top, bottom = _a.bottom;\n        var viewStyle = this.__viewport.style;\n        viewStyle.width = this.__width - 4 + \"px\";\n        viewStyle.height = (this.__width - 4) / (this.__lf.graphModel.width / this.__lf.graphModel.height) + \"px\";\n        // top\n        var _b = this.__lf.getTransform(), TRANSLATE_X = _b.TRANSLATE_X, TRANSLATE_Y = _b.TRANSLATE_Y;\n        var realWidth = right - left;\n        // \u89C6\u53E3\u5B9E\u9645\u5BBD = \u89C6\u53E3\u9ED8\u8BA4\u5BBD / (\u6240\u6709\u5143\u7D20\u4E00\u8D77\u5360\u636E\u7684\u771F\u5B9E\u5BBD / \u7ED8\u5E03\u5BBD)\n        var realViewPortWidth = (this.__width - 4) / (realWidth / this.__lf.graphModel.width);\n        // \u89C6\u53E3\u5B9E\u9645\u9AD8 = \u89C6\u53E3\u5B9E\u9645\u5BBD / (\u7ED8\u5E03\u5BBD / \u7ED8\u5E03\u9AD8)\n        var graphRatio = (this.__lf.graphModel.width / this.__lf.graphModel.height);\n        var realViewPortHeight = realViewPortWidth / graphRatio;\n        this.__viewPortTop = TRANSLATE_Y > 0 ? 0 : -TRANSLATE_Y * scale;\n        this.__viewPortLeft = -TRANSLATE_X * scale;\n        this.__viewPortWidth = realViewPortWidth;\n        this.__viewPortHeight = realViewPortHeight;\n        viewStyle.top = this.__viewPortTop + \"px\";\n        viewStyle.left = this.__viewPortLeft + \"px\";\n        viewStyle.width = realViewPortWidth + \"px\";\n        viewStyle.height = realViewPortHeight + \"px\";\n    };\n    // \u9884\u89C8\u89C6\u7A97\n    MiniMap.prototype.__createViewPort = function () {\n        var div = document.createElement('div');\n        div.className = 'lf-minimap-viewport';\n        div.addEventListener('mousedown', this.__startDrag);\n        this.__viewport = div;\n    };\n    MiniMap.pluginName = 'miniMap';\n    return MiniMap;\n}());\nexport default MiniMap;\nexport { MiniMap };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimport { PolylineEdge, PolylineEdgeModel, h } from '@logicflow/core';\nvar CurvedEdgeView = /** @class */ (function (_super) {\n    __extends(CurvedEdgeView, _super);\n    function CurvedEdgeView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    CurvedEdgeView.prototype.getEdge = function () {\n        var _a = this.props.model.getEdgeStyle(), strokeWidth = _a.strokeWidth, stroke = _a.stroke, strokeDashArray = _a.strokeDashArray;\n        var points = this.props.model.points;\n        var points2 = points.split(' ').map(function (p) { return p.split(',').map(function (a) { return Number(a); }); });\n        var _b = __read(points2[0], 2), startX = _b[0], startY = _b[1];\n        var d = \"M\" + startX + \" \" + startY;\n        // 1) \u5982\u679C\u4E00\u4E2A\u70B9\u4E0D\u4E3A\u5F00\u59CB\u548C\u7ED3\u675F\uFF0C\u5219\u5728\u8FD9\u4E2A\u70B9\u7684\u524D\u540E\u589E\u52A0\u5F27\u5EA6\u5F00\u59CB\u548C\u7ED3\u675F\u70B9\u3002\n        // 2) \u5224\u65AD\u8FD9\u4E2A\u70B9\u4E0E\u524D\u4E00\u4E2A\u70B9\u7684\u5750\u6807\n        //    \u5982\u679Cx\u76F8\u540C\u5219\u524D\u4E00\u4E2A\u70B9\u7684x\u4E5F\u4E0D\u53D8\uFF0C\n        //    y\u4E3A\uFF08\u8FD9\u4E2A\u70B9\u7684y \u5927\u4E8E\u524D\u4E00\u4E2A\u70B9\u7684y, \u5219 \u4E3A \u8FD9\u4E2A\u70B9\u7684y - 5\uFF1B\u5C0F\u4E8E\u524D\u4E00\u4E2A\u70B9\u7684y, \u5219\u4E3A\u8FD9\u4E2A\u70B9\u7684y+5\uFF09\n        //    \u540C\u7406\uFF0C\u5224\u65AD\u8FD9\u4E2A\u70B9\u4E0E\u540E\u4E00\u4E2A\u70B9\u7684x,y\u662F\u5426\u76F8\u540C\uFF0C\u5982\u679Cx\u76F8\u540C\uFF0C\u5219y\u8FDB\u884C\u52A0\u51CF\uFF0C\u5982\u679Cy\u76F8\u540C\uFF0C\u5219x\u8FDB\u884C\u52A0\u51CF\n        // todo: \u597D\u4E11\uFF0C\u770B\u770B\u600E\u4E48\u4F18\u5316\u4E0B\n        var space = 5;\n        for (var i = 1; i < points2.length - 1; i++) {\n            var _c = __read(points2[i - 1], 2), preX = _c[0], preY = _c[1];\n            var _d = __read(points2[i], 2), currentX = _d[0], currentY = _d[1];\n            var _e = __read(points2[i + 1], 2), nextX = _e[0], nextY = _e[1];\n            if (currentX === preX && currentY !== preY) {\n                var y = currentY > preY ? currentY - space : currentY + space;\n                d = d + \" L \" + currentX + \" \" + y;\n            }\n            if (currentY === preY && currentX !== preX) {\n                var x = currentX > preX ? currentX - space : currentX + space;\n                d = d + \" L \" + x + \" \" + currentY;\n            }\n            d = d + \" Q \" + currentX + \" \" + currentY;\n            if (currentX === nextX && currentY !== nextY) {\n                var y = currentY > nextY ? currentY - space : currentY + space;\n                d = d + \" \" + currentX + \" \" + y;\n            }\n            if (currentY === nextY && currentX !== nextX) {\n                var x = currentX > nextX ? currentX - space : currentX + space;\n                d = d + \" \" + x + \" \" + currentY;\n            }\n        }\n        var _f = __read(points2[points2.length - 1], 2), endX = _f[0], endY = _f[1];\n        d = d + \" L \" + endX + \" \" + endY;\n        return h('path', {\n            d: d,\n            strokeWidth: strokeWidth,\n            stroke: stroke,\n            fill: 'none',\n            strokeDashArray: strokeDashArray,\n        });\n    };\n    CurvedEdgeView.extendKey = 'curvedEdge';\n    return CurvedEdgeView;\n}(PolylineEdge));\nvar CurvedEdgeModel = /** @class */ (function (_super) {\n    __extends(CurvedEdgeModel, _super);\n    function CurvedEdgeModel() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return CurvedEdgeModel;\n}(PolylineEdgeModel));\nvar CurvedEdge = {\n    pluginName: 'curved-edge',\n    curvedSpace: 5,\n    init: function (_a) {\n        var curvedSpace = _a.curvedSpace;\n        CurvedEdge.curvedSpace = curvedSpace;\n    },\n    install: function (lf) {\n        lf.register({\n            type: 'curved-edge',\n            view: CurvedEdgeView,\n            model: CurvedEdgeModel,\n        });\n    },\n};\nexport default CurvedEdge;\nexport { CurvedEdge, };\n", "var __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport GroupNode from './GroupNode';\nvar Group = /** @class */ (function () {\n    function Group(_a) {\n        var _this = this;\n        var lf = _a.lf;\n        this.nodeGroupMap = new Map();\n        this.graphRendered = function (data) {\n            // \u5982\u679C\u8282\u70B9\n            if (data && data.nodes) {\n                data.nodes.forEach(function (node) {\n                    if (node.children) {\n                        node.children.forEach(function (nodeId) {\n                            _this.nodeGroupMap.set(nodeId, node.id);\n                        });\n                    }\n                });\n            }\n        };\n        this.appendNodeToGrop = function (_a) {\n            var data = _a.data;\n            // \u5982\u679C\u8FD9\u4E2A\u8282\u70B9\u4E4B\u524D\u5DF2\u7ECF\u5728group\u4E2D\u4E86\uFF0C\u5219\u5C06\u5176\u4ECE\u4E4B\u524D\u7684group\u4E2D\u79FB\u9664\n            var preGroupId = _this.nodeGroupMap.get(data.id);\n            if (preGroupId) {\n                var preGroup = _this.lf.getNodeModelById(preGroupId);\n                preGroup.removeChild(data.id);\n                _this.nodeGroupMap.delete(data.id);\n                preGroup.setAllowAppendChild(false);\n            }\n            // \u7136\u540E\u518D\u5224\u65AD\u8FD9\u4E2A\u8282\u70B9\u662F\u5426\u5728\u67D0\u4E2Agroup\u4E2D\uFF0C\u5982\u679C\u5728\uFF0C\u5219\u5C06\u5176\u6DFB\u52A0\u5230\u5BF9\u5E94\u7684group\u4E2D\n            var bounds = _this.lf.getNodeModelById(data.id).getBounds();\n            var group = _this.getGroup(bounds);\n            if (!group)\n                return;\n            if (data.id !== group.id) {\n                group.addChild(data.id);\n                _this.nodeGroupMap.set(data.id, group.id);\n                group.setAllowAppendChild(false);\n            }\n            else if (data.children && data.children.length > 0) {\n                // \u8868\u793A\u5F53\u524D\u6DFB\u52A0\u7684\u8282\u70B9\u662F\u4E00\u4E2A\u65B0\u589E\u7684group\n                data.children.forEach(function (nodeId) {\n                    _this.nodeGroupMap.set(nodeId, data.id);\n                });\n            }\n        };\n        this.deleteGroupChild = function (_a) {\n            var data = _a.data;\n            var groupId = _this.nodeGroupMap.get(data.id);\n            if (groupId) {\n                var group = _this.lf.getNodeModelById(groupId);\n                group.removeChild(data.id);\n                _this.nodeGroupMap.delete(data.id);\n            }\n        };\n        this.setActiveGroup = function (_a) {\n            var data = _a.data;\n            var nodeModel = _this.lf.getNodeModelById(data.id);\n            if (nodeModel.isGroup)\n                return;\n            var bounds = nodeModel.getBounds();\n            var newGroup = _this.getGroup(bounds);\n            if (newGroup || newGroup !== _this.activeGroup) {\n                if (_this.activeGroup) {\n                    _this.activeGroup.setAllowAppendChild(false);\n                }\n                if (newGroup) {\n                    _this.activeGroup = newGroup;\n                    _this.activeGroup.setAllowAppendChild(true);\n                }\n            }\n        };\n        lf.register(GroupNode);\n        this.lf = lf;\n        lf.graphModel.addNodeMoveRules(function (model, deltaX, deltaY) {\n            if (model.isGroup) { // \u5982\u679C\u79FB\u52A8\u7684\u662F\u5206\u7EC4\uFF0C\u90A3\u4E48\u5206\u7EC4\u7684\u5B50\u8282\u70B9\u4E5F\u8DDF\u7740\u79FB\u52A8\u3002\n                lf.graphModel.moveNodes(__spread(model.children), deltaX, deltaY, true);\n                return true;\n            }\n            var groupModel = lf.getNodeModelById(_this.nodeGroupMap.get(model.id));\n            if (groupModel && groupModel.isRestrict) { // \u5982\u679C\u79FB\u52A8\u7684\u8282\u70B9\u5B58\u5728\u5206\u7EC4\u4E2D\uFF0C\u4E14\u8FD9\u4E2A\u5206\u7EC4\u7981\u6B62\u5B50\u8282\u70B9\u79FB\u51FA\u53BB\u3002\n                var _a = model.getBounds(), x1 = _a.x1, y1 = _a.y1, x2 = _a.x2, y2 = _a.y2;\n                var r = groupModel.isAllowMoveTo({\n                    x1: x1 + deltaX,\n                    y1: y1 + deltaY,\n                    x2: x2 + deltaX,\n                    y2: y2 + deltaY,\n                });\n                return r;\n            }\n            return true;\n        });\n        lf.graphModel.group = this;\n        lf.on('node:add', this.appendNodeToGrop);\n        lf.on('node:delete', this.deleteGroupChild);\n        lf.on('node:drop', this.appendNodeToGrop);\n        lf.on('node:dnd-drag', this.setActiveGroup);\n        lf.on('node:drag', this.setActiveGroup);\n        lf.on('graph:rendered', this.graphRendered);\n    }\n    /**\n     * \u83B7\u53D6\u81EA\u5B9A\u4F4D\u7F6E\u5176\u6240\u5C5E\u5206\u7EC4\n     */\n    Group.prototype.getGroup = function (bounds) {\n        var nodes = this.lf.graphModel.nodes;\n        for (var i = 0; i < nodes.length; i++) {\n            var model = nodes[i];\n            if (model.isGroup && model.isInRange(bounds)) {\n                return model;\n            }\n        }\n    };\n    /**\n     * \u83B7\u53D6\u67D0\u4E2A\u8282\u70B9\u6240\u5C5E\u7684groupModel\n     */\n    Group.prototype.getNodeGroup = function (nodeId) {\n        var groupId = this.nodeGroupMap.get(nodeId);\n        if (groupId) {\n            return this.lf.getNodeModelById(groupId);\n        }\n    };\n    Group.pluginName = 'group';\n    return Group;\n}());\nexport { Group, GroupNode, };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { h } from '@logicflow/core';\nimport { RectResize } from '../../NodeResize';\nvar defaultWidth = 500;\nvar defaultHeight = 300;\nvar GroupNodeModel = /** @class */ (function (_super) {\n    __extends(GroupNodeModel, _super);\n    function GroupNodeModel() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.isGroup = true;\n        _this.unfoldedWidth = defaultWidth;\n        _this.unfoldedHight = defaultHeight;\n        return _this;\n    }\n    GroupNodeModel.prototype.initNodeData = function (data) {\n        var _this = this;\n        _super.prototype.initNodeData.call(this, data);\n        var children = [];\n        if (Array.isArray(data.children)) {\n            children = data.children;\n        }\n        // \u521D\u59CB\u5316\u7EC4\u7684\u5B50\u8282\u70B9\n        this.children = new Set(children);\n        this.width = defaultWidth;\n        this.height = defaultHeight;\n        this.foldedWidth = 80;\n        this.foldedHeight = 60;\n        // todo: \u53C2\u8003bpmn.js, \u5206\u7EC4\u548C\u672A\u52A0\u5165\u5206\u7EC4\u7684\u8282\u70B9\u91CD\u5408\u65F6\uFF0C\u672A\u52A0\u5165\u5206\u7EC4\u7684\u8282\u70B9\u5728\u5206\u7EC4\u4E4B\u4E0B\u3002\u65B9\u4FBF\u6807\u8BC6\u3002\n        this.zIndex = -1;\n        this.radius = 0;\n        this.text.editable = false;\n        this.text.draggable = false;\n        this.isRestrict = false;\n        this.resizable = false;\n        this.autoToFront = false;\n        this.foldable = false;\n        if (this.properties.isFolded === undefined) {\n            this.properties.isFolded = false;\n        }\n        this.isFolded = this.properties.isFolded;\n        // fixme: \u867D\u7136\u9ED8\u8BA4\u4FDD\u5B58\u7684\u5206\u7EC4\u4E0D\u4F1A\u6536\u8D77\uFF0C\u4F46\u662F\u5982\u679C\u91CD\u5199\u4FDD\u5B58\u6570\u636E\u5206\u7EC4\u4E86\uFF0C\n        // \u6B64\u5904\u4EE3\u7801\u4F1A\u5BFC\u81F4\u591A\u4E00\u4E2Ahistory\u8BB0\u5F55\n        setTimeout(function () {\n            _this.isFolded && _this.foldGroup(_this.isFolded);\n        });\n        // this.foldGroup(this.isFolded);\n    };\n    GroupNodeModel.prototype.getResizeOutlineStyle = function () {\n        var style = _super.prototype.getResizeOutlineStyle.call(this);\n        style.stroke = 'none';\n        return style;\n    };\n    /**\n     * \u6298\u53E0\u5206\u7EC4\n     * 1. \u6298\u53E0\u5206\u7EC4\u7684\u5BBD\u9AD8\n     * 2. \u5904\u7406\u5206\u7EC4\u5B50\u8282\u70B9\n     * 3. \u5904\u7406\u8FDE\u7EBF\n     */\n    GroupNodeModel.prototype.foldGroup = function (isFolded) {\n        var _this = this;\n        this.setProperty('isFolded', isFolded);\n        this.isFolded = isFolded;\n        // step 1\n        if (isFolded) {\n            this.x = this.x - this.width / 2 + this.foldedWidth / 2;\n            this.y = this.y - this.height / 2 + this.foldedHeight / 2;\n            this.unfoldedWidth = this.width;\n            this.unfoldedHight = this.height;\n            this.width = this.foldedWidth;\n            this.height = this.foldedHeight;\n        }\n        else {\n            this.width = this.unfoldedWidth;\n            this.height = this.unfoldedHight;\n            this.x = this.x + this.width / 2 - this.foldedWidth / 2;\n            this.y = this.y + this.height / 2 - this.foldedHeight / 2;\n        }\n        // step 2\n        var allEdges = this.incoming.edges.concat(this.outgoing.edges);\n        this.children.forEach(function (elementId) {\n            var nodeModel = _this.graphModel.getElement(elementId);\n            nodeModel.visible = !isFolded;\n            allEdges = allEdges.concat(nodeModel.incoming.edges.concat(nodeModel.outgoing.edges));\n        });\n        // step 3\n        this.foldEdge(isFolded, allEdges);\n    };\n    GroupNodeModel.prototype.getAnchorStyle = function (anchorInfo) {\n        var style = _super.prototype.getAnchorStyle.call(this, anchorInfo);\n        style.stroke = 'transparent';\n        style.fill = 'transparent';\n        style.hover.fill = 'transparent';\n        style.hover.stroke = 'transparent';\n        return style;\n    };\n    /**\n     * \u6298\u53E0\u5206\u7EC4\u7684\u65F6\u5019\uFF0C\u5904\u7406\u5206\u7EC4\u81EA\u8EAB\u7684\u8FDE\u7EBF\u548C\u5206\u7EC4\u5185\u90E8\u5B50\u8282\u70B9\u4E0A\u7684\u8FDE\u7EBF\n     * \u8FB9\u7684\u5206\u7C7B\uFF1A\n     *   - \u865A\u62DF\u8FB9\uFF1A\u5206\u7EC4\u88AB\u6536\u8D77\u65F6\uFF0C\u8868\u793A\u5206\u7EC4\u672C\u8EAB\u4E0E\u5916\u90E8\u8282\u70B9\u5173\u7CFB\u7684\u8FB9\u3002\n     *   - \u771F\u5B9E\u8FB9\uFF1A\u5206\u7EC4\u672C\u8EAB\u6216\u8005\u5206\u7EC4\u5185\u90E8\u8282\u70B9\u4E0E\u5916\u90E8\u8282\u70B9\u8282\u70B9\uFF08\u975E\u6536\u8D77\u5206\u7EC4\uFF09\u5173\u7CFB\u7684\u8FB9\u3002\n     * \u5982\u679C\u4E00\u4E2A\u5206\u7EC4\uFF0C\u672C\u8EAB\u4E0E\u5916\u90E8\u8282\u70B9\u6709M\u6761\u8FDE\u7EBF\uFF0C\u4E14\u5185\u90E8N\u4E2A\u5B50\u8282\u70B9\u4E0E\u5916\u90E8\u8282\u70B9\u6709\u8FDE\u7EBF\uFF0C\u90A3\u4E48\u8FD9\u4E2A\u5206\u7EC4\u6536\u8D77\u65F6\u4F1A\u751F\u6210M+N\u6761\u8FDE\u7EBF\u3002\n     * \u6298\u53E0\u5206\u7EC4\u65F6\uFF1A\n     *   - \u539F\u6709\u7684\u865A\u62DF\u8FB9\u5220\u9664\uFF1B\n     *   - \u521B\u5EFA\u4E00\u4E2A\u865A\u62DF\u8FB9\uFF1B\n     *   - \u771F\u5B9E\u8FB9\u5219\u9690\u85CF\uFF1B\n     * \u5C55\u5F00\u5206\u7EC4\u662F\uFF1A\n     *   - \u539F\u6709\u7684\u865A\u62DF\u8FB9\u5220\u9664\uFF1B\n     *   - \u5982\u679C\u76EE\u5916\u90E8\u70B9\u662F\u6536\u8D77\u7684\u5206\u7EC4\uFF0C\u5219\u521B\u5EFA\u865A\u62DF\u8FB9\uFF1B\n     *   - \u5982\u679C\u5916\u90E8\u8282\u70B9\u662F\u666E\u901A\u8282\u70B9\uFF0C\u5219\u663E\u793A\u771F\u5B9E\u8FB9\uFF1B\n     */\n    GroupNodeModel.prototype.foldEdge = function (isFolded, allEdges) {\n        var _this = this;\n        allEdges.forEach(function (edgeModel, index) {\n            var id = edgeModel.id, sourceNodeId = edgeModel.sourceNodeId, targetNodeId = edgeModel.targetNodeId, startPoint = edgeModel.startPoint, endPoint = edgeModel.endPoint, type = edgeModel.type, properties = edgeModel.properties, text = edgeModel.text;\n            var data = {\n                id: id + \"__\" + index,\n                sourceNodeId: sourceNodeId,\n                targetNodeId: targetNodeId,\n                startPoint: startPoint,\n                endPoint: endPoint,\n                type: type,\n                properties: properties,\n                text: text === null || text === void 0 ? void 0 : text.value,\n            };\n            if (edgeModel.virtual) {\n                _this.graphModel.deleteEdgeById(edgeModel.id);\n            }\n            var targetNodeIdGroup = _this.graphModel.group.getNodeGroup(targetNodeId);\n            // \u8003\u8651\u76EE\u6807\u8282\u70B9\u672C\u6765\u5C31\u662F\u5206\u7EC4\u7684\u60C5\u51B5\n            if (!targetNodeIdGroup) {\n                targetNodeIdGroup = _this.graphModel.getNodeModelById(targetNodeId);\n            }\n            var sourceNodeIdGroup = _this.graphModel.group.getNodeGroup(sourceNodeId);\n            if (!sourceNodeIdGroup) {\n                sourceNodeIdGroup = _this.graphModel.getNodeModelById(sourceNodeId);\n            }\n            // \u6298\u53E0\u65F6\uFF0C\u5904\u7406\u672A\u88AB\u9690\u85CF\u7684\u8FB9\u7684\u903B\u8F91\n            if (isFolded && edgeModel.visible !== false) {\n                // \u9700\u8981\u786E\u8BA4\u6B64\u5206\u7EC4\u8282\u70B9\u662F\u65B0\u8FDE\u7EBF\u7684\u8D77\u70B9\u8FD8\u662F\u7EC8\u70B9\n                // \u521B\u5EFA\u4E00\u4E2A\u865A\u62DF\u8FB9\uFF0C\u865A\u62DF\u8FB9\u76F8\u5BF9\u771F\u5B9E\u8FB9\uFF0C\u8D77\u70B9\u6216\u8005\u7EC8\u70B9\u4ECE\u4E00\u8D77\u5206\u7EC4\u5185\u90E8\u7684\u8282\u70B9\u6210\u4E3A\u4E86\u5206\u7EC4\uFF0C\n                // \u5982\u679C\u9700\u8981\u88AB\u9690\u85CF\u7684\u8FB9\u7684\u8D77\u70B9\u5728\u9700\u8981\u6298\u53E0\u7684\u5206\u7EC4\u4E2D\uFF0C\u90A3\u4E48\u8BBE\u7F6E\u865A\u62DF\u8FB9\u7684\u5F00\u59CB\u8282\u70B9\u4E3A\u6B64\u5206\u7EC4\n                if (_this.children.has(sourceNodeId) || _this.id === sourceNodeId) {\n                    data.startPoint = undefined;\n                    data.sourceNodeId = _this.id;\n                }\n                else {\n                    data.endPoint = undefined;\n                    data.targetNodeId = _this.id;\n                }\n                // \u5982\u679C\u8FB9\u7684\u8D77\u70B9\u548C\u7EC8\u70B9\u90FD\u5728\u5206\u7EC4\u5185\u90E8\uFF0C\u5219\u4E0D\u521B\u5EFA\u65B0\u7684\u865A\u62DF\u8FB9\n                if (targetNodeIdGroup.id !== _this.id || sourceNodeIdGroup.id !== _this.id) {\n                    _this.createVirtualEdge(data);\n                }\n                edgeModel.visible = false;\n            }\n            // \u5C55\u5F00\u65F6\uFF0C\u5904\u7406\u88AB\u9690\u85CF\u7684\u8FB9\u7684\u903B\u8F91\n            if (!isFolded && edgeModel.visible === false) {\n                // \u5C55\u5F00\u5206\u7EC4\u65F6\uFF1A\u5224\u65AD\u771F\u5B9E\u8FB9\u7684\u8D77\u70B9\u548C\u7EC8\u70B9\u662F\u5426\u6709\u4EFB\u4E00\u8282\u70B9\u5728\u5DF2\u6298\u53E0\u5206\u7EC4\u4E2D\uFF0C\u5982\u679C\u4E0D\u662F\uFF0C\u5219\u663E\u793A\u771F\u5B9E\u8FB9\u3002\u5982\u679C\u662F\uFF0C\u8FD9\u4FEE\u6539\u8FD9\u4E2A\u8FB9\u7684\u5BF9\u5E94\u76EE\u6807\u8282\u70B9id\u6765\u521B\u5EFA\u865A\u62DF\u8FB9\u3002\n                if (targetNodeIdGroup && targetNodeIdGroup.isGroup && targetNodeIdGroup.isFolded) {\n                    data.targetNodeId = targetNodeIdGroup.id;\n                    data.endPoint = undefined;\n                    _this.createVirtualEdge(data);\n                }\n                else if (sourceNodeIdGroup && sourceNodeIdGroup.isGroup && sourceNodeIdGroup.isFolded) {\n                    data.sourceNodeId = sourceNodeIdGroup.id;\n                    data.startPoint = undefined;\n                    _this.createVirtualEdge(data);\n                }\n                else {\n                    edgeModel.visible = true;\n                }\n            }\n        });\n    };\n    GroupNodeModel.prototype.createVirtualEdge = function (edgeData) {\n        edgeData.pointsList = undefined;\n        var model = this.graphModel.addEdge(edgeData);\n        model.virtual = true;\n        // \u5F3A\u5236\u4E0D\u4FDD\u5B58group\u8FDE\u7EBF\u6570\u636E\n        model.getData = function () { return null; };\n        model.text.editable = false;\n        model.isFoldedEdge = true;\n    };\n    GroupNodeModel.prototype.isInRange = function (_a) {\n        var x1 = _a.x1, y1 = _a.y1, x2 = _a.x2, y2 = _a.y2;\n        return x1 >= (this.x - this.width / 2)\n            && x2 <= (this.x + this.width / 2)\n            && y1 >= (this.y - this.height / 2)\n            && y2 <= (this.y + this.height / 2);\n    };\n    GroupNodeModel.prototype.isAllowMoveTo = function (_a) {\n        var x1 = _a.x1, y1 = _a.y1, x2 = _a.x2, y2 = _a.y2;\n        return {\n            x: x1 >= (this.x - this.width / 2) && x2 <= (this.x + this.width / 2),\n            y: y1 >= (this.y - this.height / 2) && y2 <= (this.y + this.height / 2),\n        };\n    };\n    GroupNodeModel.prototype.setAllowAppendChild = function (isAllow) {\n        this.setProperty('groupAddable', isAllow);\n    };\n    /**\n     * \u6DFB\u52A0\u5206\u7EC4\u5B50\u8282\u70B9\n     * @param id \u8282\u70B9id\n     */\n    GroupNodeModel.prototype.addChild = function (id) {\n        this.children.add(id);\n    };\n    /**\n     * \u5220\u9664\u5206\u7EC4\u5B50\u8282\u70B9\n     * @param id \u8282\u70B9id\n     */\n    GroupNodeModel.prototype.removeChild = function (id) {\n        this.children.delete(id);\n    };\n    GroupNodeModel.prototype.getAddableOutlineStyle = function () {\n        return {\n            stroke: '#FEB663',\n            strokeWidth: 2,\n            strokeDasharray: '4 4',\n            fill: 'transparent',\n        };\n    };\n    GroupNodeModel.prototype.getData = function () {\n        var data = _super.prototype.getData.call(this);\n        data.children = __spread(this.children);\n        var properties = data.properties;\n        delete properties.groupAddable;\n        delete properties.isFolded;\n        return data;\n    };\n    GroupNodeModel.prototype.getHistoryData = function () {\n        var data = _super.prototype.getData.call(this);\n        data.children = __spread(this.children);\n        var properties = data.properties;\n        delete properties.groupAddable;\n        if (properties.isFolded) { // \u5982\u679C\u5206\u7EC4\u88AB\u6298\u53E0\n            data.x = data.x + this.unfoldedWidth / 2 - this.foldedWidth / 2;\n            data.y = data.y + this.unfoldedHight / 2 - this.foldedHeight / 2;\n        }\n        return data;\n    };\n    return GroupNodeModel;\n}(RectResize.model));\nvar GroupNode = /** @class */ (function (_super) {\n    __extends(GroupNode, _super);\n    function GroupNode() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    GroupNode.prototype.getControlGroup = function () {\n        var _a = this.props.model, resizable = _a.resizable, properties = _a.properties;\n        return resizable && !properties.isFolded ? _super.prototype.getControlGroup.call(this) : null;\n    };\n    GroupNode.prototype.getAddedableShape = function () {\n        var _a = this.props.model, width = _a.width, height = _a.height, x = _a.x, y = _a.y, radius = _a.radius, properties = _a.properties;\n        if (!properties.groupAddable)\n            return null;\n        var strokeWidth = this.props.model.getNodeStyle().strokeWidth;\n        var style = this.props.model.getAddableOutlineStyle();\n        var newWidth = width + strokeWidth + 8;\n        var newHeight = height + strokeWidth + 8;\n        return h('rect', __assign(__assign({}, style), { width: newWidth, height: newHeight, x: x - newWidth / 2, y: y - newHeight / 2, rx: radius, ry: radius }));\n    };\n    GroupNode.prototype.getFoldIcon = function () {\n        var model = this.props.model;\n        var foldX = model.x - model.width / 2 + 5;\n        var foldY = model.y - model.height / 2 + 5;\n        if (!model.foldable)\n            return null;\n        var iconIcon = h('path', {\n            fill: 'none',\n            stroke: '#818281',\n            strokeWidth: 2,\n            'pointer-events': 'none',\n            d: model.properties.isFolded\n                ? \"M \" + (foldX + 3) + \",\" + (foldY + 6) + \" \" + (foldX + 11) + \",\" + (foldY + 6) + \" M\" + (foldX + 7) + \",\" + (foldY + 2) + \" \" + (foldX + 7) + \",\" + (foldY + 10)\n                : \"M \" + (foldX + 3) + \",\" + (foldY + 6) + \" \" + (foldX + 11) + \",\" + (foldY + 6) + \" \",\n        });\n        return h('g', {}, [\n            h('rect', {\n                height: 12,\n                width: 14,\n                rx: 2,\n                ry: 2,\n                strokeWidth: 1,\n                fill: '#F4F5F6',\n                stroke: '#CECECE',\n                cursor: 'pointer',\n                x: model.x - model.width / 2 + 5,\n                y: model.y - model.height / 2 + 5,\n                onClick: function () {\n                    model.foldGroup(!model.properties.isFolded);\n                },\n            }),\n            iconIcon,\n        ]);\n    };\n    GroupNode.prototype.getResizeShape = function () {\n        return h('g', {}, [\n            this.getAddedableShape(),\n            _super.prototype.getResizeShape.call(this),\n            this.getFoldIcon(),\n        ]);\n    };\n    return GroupNode;\n}(RectResize.view));\nexport default {\n    type: 'group',\n    view: GroupNode,\n    model: GroupNodeModel,\n};\n", "import RectResize from './Node/RectResize';\nimport EllipseResize from './Node/EllipseResize';\nimport DiamondResize from './Node/DiamondResize';\nimport HtmlResize from './Node/HtmlResize';\nvar NodeResize = {\n    pluginName: 'nodeResize',\n    // \u62D6\u52A8step\n    step: 0,\n    install: function (lf) {\n        lf.register({\n            type: RectResize.type,\n            view: RectResize.view,\n            model: RectResize.model,\n        });\n        lf.register({\n            type: EllipseResize.type,\n            view: EllipseResize.view,\n            model: EllipseResize.model,\n        });\n        lf.register({\n            type: DiamondResize.type,\n            view: DiamondResize.view,\n            model: DiamondResize.model,\n        });\n        lf.register({\n            type: HtmlResize.type,\n            view: HtmlResize.view,\n            model: HtmlResize.model,\n        });\n    },\n};\nexport default NodeResize;\nexport { NodeResize, RectResize, EllipseResize, DiamondResize, HtmlResize, };\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { h, RectNode, RectNodeModel } from '@logicflow/core';\nimport ControlGroup from '../Control/ControlGroup';\nvar RectResizeModel = /** @class */ (function (_super) {\n    __extends(RectResizeModel, _super);\n    function RectResizeModel(data, graphModel) {\n        var _this = _super.call(this, data, graphModel) || this;\n        var nodeSize = _this.properties.nodeSize;\n        if (nodeSize) {\n            _this.width = nodeSize.width;\n            _this.height = nodeSize.height;\n        }\n        return _this;\n    }\n    RectResizeModel.prototype.initNodeData = function (data) {\n        _super.prototype.initNodeData.call(this, data);\n        this.minWidth = 30;\n        this.minHeight = 30;\n        this.maxWidth = 2000;\n        this.maxHeight = 2000;\n    };\n    RectResizeModel.prototype.getOutlineStyle = function () {\n        var style = _super.prototype.getOutlineStyle.call(this);\n        style.stroke = 'none';\n        if (style.hover) {\n            style.hover.stroke = 'none';\n        }\n        return style;\n    };\n    RectResizeModel.prototype.getResizeOutlineStyle = function () {\n        return {\n            fill: 'none',\n            stroke: 'transparent',\n            strokeWidth: 1,\n            strokeDasharray: '3,3',\n        };\n    };\n    RectResizeModel.prototype.getControlPointStyle = function () {\n        return {\n            width: 7,\n            height: 7,\n            fill: '#FFFFFF',\n            stroke: '#000000',\n        };\n    };\n    RectResizeModel.prototype.resize = function (deltaX, deltaY) {\n        console.log(deltaX, deltaY);\n    };\n    return RectResizeModel;\n}(RectNodeModel));\nvar RectResizeView = /** @class */ (function (_super) {\n    __extends(RectResizeView, _super);\n    function RectResizeView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    RectResizeView.prototype.getControlGroup = function () {\n        var _a = this.props, model = _a.model, graphModel = _a.graphModel;\n        return (h(ControlGroup, { model: model, graphModel: graphModel }));\n    };\n    // getResizeShape\u7ED8\u5236\u56FE\u5F62\uFF0C\u529F\u80FD\u7B49\u540C\u4E8E\u57FA\u7840\u77E9\u5F62\u7684getShape\u529F\u80FD\uFF0C\u53EF\u4EE5\u901A\u8FC7\u590D\u5199\u6B64\u65B9\u6CD5\uFF0C\u8FDB\u884C\u8282\u70B9\u81EA\u5B9A\u4E49\n    RectResizeView.prototype.getResizeShape = function () {\n        return _super.prototype.getShape.call(this);\n    };\n    RectResizeView.prototype.getShape = function () {\n        var isSelected = this.props.model.isSelected;\n        return (h(\"g\", null,\n            this.getResizeShape(),\n            isSelected ? this.getControlGroup() : ''));\n    };\n    return RectResizeView;\n}(RectNode));\nvar RectResize = {\n    type: 'rect',\n    view: RectResizeView,\n    model: RectResizeModel,\n};\nexport default RectResize;\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { h, Component } from 'preact';\nimport Control from './Control';\nimport Rect from '../BasicShape/Rect';\nvar ControlGroup = /** @class */ (function (_super) {\n    __extends(ControlGroup, _super);\n    function ControlGroup() {\n        var _this = _super.call(this) || this;\n        _this.state = {};\n        return _this;\n    }\n    ControlGroup.prototype.getResizeControl = function () {\n        var _a = this.props, model = _a.model, graphModel = _a.graphModel;\n        var x = model.x, y = model.y, width = model.width, height = model.height;\n        var box = {\n            minX: x - width / 2,\n            minY: y - height / 2,\n            maxX: x + width / 2,\n            maxY: y + height / 2,\n        };\n        var minX = box.minX, minY = box.minY, maxX = box.maxX, maxY = box.maxY;\n        var controlList = [\n            // \u5DE6\u4E0A\u89D2\n            {\n                x: minX,\n                y: minY,\n            },\n            // \u53F3\u4E0A\u89D2\n            {\n                x: maxX,\n                y: minY,\n            },\n            // \u53F3\u4E0B\u89D2\n            {\n                x: maxX,\n                y: maxY,\n            },\n            // \u5DE6\u4E0B\u89D2\n            {\n                x: minX,\n                y: maxY,\n            },\n        ];\n        return controlList.map(function (control, index) { return (h(Control, __assign({ index: index }, control, { model: model, graphModel: graphModel }))); });\n    };\n    // \u4E00\u822C\u8282\u70B9\u88AB\u9009\u4E2D\u4E86\u4F1A\u6709outline, \u5148\u4E0D\u7528\u8FD9\u4E2A\n    ControlGroup.prototype.getGroupSolid = function () {\n        var model = this.props.model;\n        var x = model.x, y = model.y, width = model.width, height = model.height;\n        var style = model.getResizeOutlineStyle();\n        return (h(Rect, __assign({ fill: \"none\" }, style, { x: x, y: y, width: width, height: height })));\n    };\n    ControlGroup.prototype.render = function () {\n        return (h(\"g\", { className: \"lf-resize-control\" },\n            this.getGroupSolid(),\n            this.getResizeControl()));\n    };\n    return ControlGroup;\n}(Component));\nexport default ControlGroup;\n", "export const EMPTY_OBJ = {};\nexport const EMPTY_ARR = [];\nexport const IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;\n", "import { EMPTY_ARR } from \"./constants\";\n\n/**\n * Assign properties from `props` to `obj`\n * @template O, P The obj and props types\n * @param {O} obj The object to copy properties to\n * @param {P} props The object to copy properties from\n * @returns {O & P}\n */\nexport function assign(obj, props) {\n\t// @ts-ignore We change the type of `obj` to be `O & P`\n\tfor (let i in props) obj[i] = props[i];\n\treturn /** @type {O & P} */ (obj);\n}\n\n/**\n * Remove a child node from its parent if attached. This is a workaround for\n * IE11 which doesn't support `Element.prototype.remove()`. Using this function\n * is smaller than including a dedicated polyfill.\n * @param {Node} node The node to remove\n */\nexport function removeNode(node) {\n\tlet parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nexport const slice = EMPTY_ARR.slice;\n", "import { _catchError } from './diff/catch-error';\n\n/**\n * The `option` object can potentially contain callback functions\n * that are called during various stages of our renderer. This is the\n * foundation on which all our addons like `preact/debug`, `preact/compat`,\n * and `preact/hooks` are based on. See the `Options` type in `internal.d.ts`\n * for a full list of available option hooks (most editors/IDEs allow you to\n * ctrl+click or cmd+click on mac the type definition below).\n * @type {import('./internal').Options}\n */\nconst options = {\n\t_catchError\n};\n\nexport default options;\n", "import { slice } from './util';\nimport options from './options';\n\nlet vnodeId = 0;\n\n/**\n * Create an virtual node (used for JSX)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * constructor for this virtual node\n * @param {object | null | undefined} [props] The properties of the virtual node\n * @param {Array<import('.').ComponentChildren>} [children] The children of the virtual node\n * @returns {import('./internal').VNode}\n */\nexport function createElement(type, props, children) {\n\tlet normalizedProps = {},\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\t// If a Component VNode, check for and apply defaultProps\n\t// Note: type may be undefined in development, must never error here.\n\tif (typeof type == 'function' && type.defaultProps != null) {\n\t\tfor (i in type.defaultProps) {\n\t\t\tif (normalizedProps[i] === undefined) {\n\t\t\t\tnormalizedProps[i] = type.defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn createVNode(type, normalizedProps, key, ref, null);\n}\n\n/**\n * Create a VNode (used internally by Preact)\n * @param {import('./internal').VNode[\"type\"]} type The node name or Component\n * Constructor for this virtual node\n * @param {object | string | number | null} props The properties of this virtual node.\n * If this virtual node represents a text node, this is the text of the node (string or number).\n * @param {string | number | null} key The key for this virtual node, used when\n * diffing it against its children\n * @param {import('./internal').VNode[\"ref\"]} ref The ref property that will\n * receive a reference to its created child\n * @returns {import('./internal').VNode}\n */\nexport function createVNode(type, props, key, ref, original) {\n\t// V8 seems to be better at detecting type shapes if the object is allocated from the same call site\n\t// Do not inline into createElement and coerceToVNode!\n\tconst vnode = {\n\t\ttype,\n\t\tprops,\n\t\tkey,\n\t\tref,\n\t\t_children: null,\n\t\t_parent: null,\n\t\t_depth: 0,\n\t\t_dom: null,\n\t\t// _nextDom must be initialized to undefined b/c it will eventually\n\t\t// be set to dom.nextSibling which can return `null` and it is important\n\t\t// to be able to distinguish between an uninitialized _nextDom and\n\t\t// a _nextDom that has been set to `null`\n\t\t_nextDom: undefined,\n\t\t_component: null,\n\t\t_hydrating: null,\n\t\tconstructor: undefined,\n\t\t_original: original == null ? ++vnodeId : original\n\t};\n\n\t// Only invoke the vnode hook if this was *not* a direct copy:\n\tif (original == null && options.vnode != null) options.vnode(vnode);\n\n\treturn vnode;\n}\n\nexport function createRef() {\n\treturn { current: null };\n}\n\nexport function Fragment(props) {\n\treturn props.children;\n}\n\n/**\n * Check if a the argument is a valid Preact VNode.\n * @param {*} vnode\n * @returns {vnode is import('./internal').VNode}\n */\nexport const isValidElement = vnode =>\n\tvnode != null && vnode.constructor === undefined;\n", "import { assign } from './util';\nimport { diff, commitRoot } from './diff/index';\nimport options from './options';\nimport { Fragment } from './create-element';\n\n/**\n * Base Component class. Provides `setState()` and `forceUpdate()`, which\n * trigger rendering\n * @param {object} props The initial component props\n * @param {object} context The initial context from parent components'\n * getChildContext\n */\nexport function Component(props, context) {\n\tthis.props = props;\n\tthis.context = context;\n}\n\n/**\n * Update component state and schedule a re-render.\n * @this {import('./internal').Component}\n * @param {object | ((s: object, p: object) => object)} update A hash of state\n * properties to update with new values or a function that given the current\n * state and props returns a new partial state\n * @param {() => void} [callback] A function to be called once component state is\n * updated\n */\nComponent.prototype.setState = function(update, callback) {\n\t// only clone state when copying to nextState the first time.\n\tlet s;\n\tif (this._nextState != null && this._nextState !== this.state) {\n\t\ts = this._nextState;\n\t} else {\n\t\ts = this._nextState = assign({}, this.state);\n\t}\n\n\tif (typeof update == 'function') {\n\t\t// Some libraries like `immer` mark the current state as readonly,\n\t\t// preventing us from mutating it, so we need to clone it. See #2716\n\t\tupdate = update(assign({}, s), this.props);\n\t}\n\n\tif (update) {\n\t\tassign(s, update);\n\t}\n\n\t// Skip update if updater function returned null\n\tif (update == null) return;\n\n\tif (this._vnode) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Immediately perform a synchronous re-render of the component\n * @this {import('./internal').Component}\n * @param {() => void} [callback] A function to be called after component is\n * re-rendered\n */\nComponent.prototype.forceUpdate = function(callback) {\n\tif (this._vnode) {\n\t\t// Set render mode so that we can differentiate where the render request\n\t\t// is coming from. We need this because forceUpdate should never call\n\t\t// shouldComponentUpdate\n\t\tthis._force = true;\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t}\n};\n\n/**\n * Accepts `props` and `state`, and returns a new Virtual DOM tree to build.\n * Virtual DOM is generally constructed via [JSX](http://jasonformat.com/wtf-is-jsx).\n * @param {object} props Props (eg: JSX attributes) received from parent\n * element/component\n * @param {object} state The component's current state\n * @param {object} context Context object, as returned by the nearest\n * ancestor's `getChildContext()`\n * @returns {import('./index').ComponentChildren | void}\n */\nComponent.prototype.render = Fragment;\n\n/**\n * @param {import('./internal').VNode} vnode\n * @param {number | null} [childIndex]\n */\nexport function getDomSibling(vnode, childIndex) {\n\tif (childIndex == null) {\n\t\t// Use childIndex==null as a signal to resume the search from the vnode's sibling\n\t\treturn vnode._parent\n\t\t\t? getDomSibling(vnode._parent, vnode._parent._children.indexOf(vnode) + 1)\n\t\t\t: null;\n\t}\n\n\tlet sibling;\n\tfor (; childIndex < vnode._children.length; childIndex++) {\n\t\tsibling = vnode._children[childIndex];\n\n\t\tif (sibling != null && sibling._dom != null) {\n\t\t\t// Since updateParentDomPointers keeps _dom pointer correct,\n\t\t\t// we can rely on _dom to tell us if this subtree contains a\n\t\t\t// rendered DOM node, and what the first rendered DOM node is\n\t\t\treturn sibling._dom;\n\t\t}\n\t}\n\n\t// If we get here, we have not found a DOM node in this vnode's children.\n\t// We must resume from this vnode's sibling (in it's parent _children array)\n\t// Only climb up and search the parent if we aren't searching through a DOM\n\t// VNode (meaning we reached the DOM parent of the original vnode that began\n\t// the search)\n\treturn typeof vnode.type == 'function' ? getDomSibling(vnode) : null;\n}\n\n/**\n * Trigger in-place re-rendering of a component.\n * @param {import('./internal').Component} component The component to rerender\n */\nfunction renderComponent(component) {\n\tlet vnode = component._vnode,\n\t\toldDom = vnode._dom,\n\t\tparentDom = component._parentDom;\n\n\tif (parentDom) {\n\t\tlet commitQueue = [];\n\t\tconst oldVNode = assign({}, vnode);\n\t\toldVNode._original = vnode._original + 1;\n\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tvnode,\n\t\t\toldVNode,\n\t\t\tcomponent._globalContext,\n\t\t\tparentDom.ownerSVGElement !== undefined,\n\t\t\tvnode._hydrating != null ? [oldDom] : null,\n\t\t\tcommitQueue,\n\t\t\toldDom == null ? getDomSibling(vnode) : oldDom,\n\t\t\tvnode._hydrating\n\t\t);\n\t\tcommitRoot(commitQueue, vnode);\n\n\t\tif (vnode._dom != oldDom) {\n\t\t\tupdateParentDomPointers(vnode);\n\t\t}\n\t}\n}\n\n/**\n * @param {import('./internal').VNode} vnode\n */\nfunction updateParentDomPointers(vnode) {\n\tif ((vnode = vnode._parent) != null && vnode._component != null) {\n\t\tvnode._dom = vnode._component.base = null;\n\t\tfor (let i = 0; i < vnode._children.length; i++) {\n\t\t\tlet child = vnode._children[i];\n\t\t\tif (child != null && child._dom != null) {\n\t\t\t\tvnode._dom = vnode._component.base = child._dom;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn updateParentDomPointers(vnode);\n\t}\n}\n\n/**\n * The render queue\n * @type {Array<import('./internal').Component>}\n */\nlet rerenderQueue = [];\n\n/**\n * Asynchronously schedule a callback\n * @type {(cb: () => void) => void}\n */\n/* istanbul ignore next */\n// Note the following line isn't tree-shaken by rollup cuz of rollup/rollup#2566\nconst defer =\n\ttypeof Promise == 'function'\n\t\t? Promise.prototype.then.bind(Promise.resolve())\n\t\t: setTimeout;\n\n/*\n * The value of `Component.debounce` must asynchronously invoke the passed in callback. It is\n * important that contributors to Preact can consistently reason about what calls to `setState`, etc.\n * do, and when their effects will be applied. See the links below for some further reading on designing\n * asynchronous APIs.\n * * [Designing APIs for Asynchrony](https://blog.izs.me/2013/08/designing-apis-for-asynchrony)\n * * [Callbacks synchronous and asynchronous](https://blog.ometer.com/2011/07/24/callbacks-synchronous-and-asynchronous/)\n */\n\nlet prevDebounce;\n\n/**\n * Enqueue a rerender of a component\n * @param {import('./internal').Component} c The component to rerender\n */\nexport function enqueueRender(c) {\n\tif (\n\t\t(!c._dirty &&\n\t\t\t(c._dirty = true) &&\n\t\t\trerenderQueue.push(c) &&\n\t\t\t!process._rerenderCount++) ||\n\t\tprevDebounce !== options.debounceRendering\n\t) {\n\t\tprevDebounce = options.debounceRendering;\n\t\t(prevDebounce || defer)(process);\n\t}\n}\n\n/** Flush the render queue by rerendering all queued components */\nfunction process() {\n\tlet queue;\n\twhile ((process._rerenderCount = rerenderQueue.length)) {\n\t\tqueue = rerenderQueue.sort((a, b) => a._vnode._depth - b._vnode._depth);\n\t\trerenderQueue = [];\n\t\t// Don't update `renderCount` yet. Keep its value non-zero to prevent unnecessary\n\t\t// process() calls from getting scheduled while `queue` is still being consumed.\n\t\tqueue.some(c => {\n\t\t\tif (c._dirty) renderComponent(c);\n\t\t});\n\t}\n}\nprocess._rerenderCount = 0;\n", "import { enqueueRender } from './component';\n\nexport let i = 0;\n\nexport function createContext(defaultValue, contextId) {\n\tcontextId = '__cC' + i++;\n\n\tconst context = {\n\t\t_id: contextId,\n\t\t_defaultValue: defaultValue,\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tConsumer(props, contextValue) {\n\t\t\t// return props.children(\n\t\t\t// \tcontext[contextId] ? context[contextId].props.value : defaultValue\n\t\t\t// );\n\t\t\treturn props.children(contextValue);\n\t\t},\n\t\t/** @type {import('./internal').FunctionComponent} */\n\t\tProvider(props) {\n\t\t\tif (!this.getChildContext) {\n\t\t\t\tlet subs = [];\n\t\t\t\tlet ctx = {};\n\t\t\t\tctx[contextId] = this;\n\n\t\t\t\tthis.getChildContext = () => ctx;\n\n\t\t\t\tthis.shouldComponentUpdate = function(_props) {\n\t\t\t\t\tif (this.props.value !== _props.value) {\n\t\t\t\t\t\t// I think the forced value propagation here was only needed when `options.debounceRendering` was being bypassed:\n\t\t\t\t\t\t// https://github.com/preactjs/preact/commit/4d339fb803bea09e9f198abf38ca1bf8ea4b7771#diff-54682ce380935a717e41b8bfc54737f6R358\n\t\t\t\t\t\t// In those cases though, even with the value corrected, we're double-rendering all nodes.\n\t\t\t\t\t\t// It might be better to just tell folks not to use force-sync mode.\n\t\t\t\t\t\t// Currently, using `useContext()` in a class component will overwrite its `this.context` value.\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\n\t\t\t\t\t\t// subs.some(c => {\n\t\t\t\t\t\t// \tc.context[contextId] = _props.value;\n\t\t\t\t\t\t// \tenqueueRender(c);\n\t\t\t\t\t\t// });\n\t\t\t\t\t\tsubs.some(enqueueRender);\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\tthis.sub = c => {\n\t\t\t\t\tsubs.push(c);\n\t\t\t\t\tlet old = c.componentWillUnmount;\n\t\t\t\t\tc.componentWillUnmount = () => {\n\t\t\t\t\t\tsubs.splice(subs.indexOf(c), 1);\n\t\t\t\t\t\tif (old) old.call(c);\n\t\t\t\t\t};\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn props.children;\n\t\t}\n\t};\n\n\t// Devtools needs access to the context object when it\n\t// encounters a Provider. This is necessary to support\n\t// setting `displayName` on the context object instead\n\t// of on the component itself. See:\n\t// https://reactjs.org/docs/context.html#contextdisplayname\n\n\treturn (context.Provider._contextRef = context.Consumer.contextType = context);\n}\n", "import { diff, unmount, applyRef } from './index';\nimport { createVNode, Fragment } from '../create-element';\nimport { EMPTY_OBJ, EMPTY_ARR } from '../constants';\nimport { getDomSibling } from '../component';\n\n/**\n * Diff the children of a virtual node\n * @param {import('../internal').PreactElement} parentDom The DOM element whose\n * children are being diffed\n * @param {import('../internal').ComponentChildren[]} renderResult\n * @param {import('../internal').VNode} newParentVNode The new virtual\n * node whose children should be diff'ed against oldParentVNode\n * @param {import('../internal').VNode} oldParentVNode The old virtual\n * node whose children should be diff'ed against newParentVNode\n * @param {object} globalContext The current context object - modified by getChildContext\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} isHydrating Whether or not we are in hydration\n */\nexport function diffChildren(\n\tparentDom,\n\trenderResult,\n\tnewParentVNode,\n\toldParentVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet i, j, oldVNode, childVNode, newDom, firstChildDom, refs;\n\n\t// This is a compression of oldParentVNode!=null && oldParentVNode != EMPTY_OBJ && oldParentVNode._children || EMPTY_ARR\n\t// as EMPTY_OBJ._children should be `undefined`.\n\tlet oldChildren = (oldParentVNode && oldParentVNode._children) || EMPTY_ARR;\n\n\tlet oldChildrenLength = oldChildren.length;\n\n\tnewParentVNode._children = [];\n\tfor (i = 0; i < renderResult.length; i++) {\n\t\tchildVNode = renderResult[i];\n\n\t\tif (childVNode == null || typeof childVNode == 'boolean') {\n\t\t\tchildVNode = newParentVNode._children[i] = null;\n\t\t}\n\t\t// If this newVNode is being reused (e.g. <div>{reuse}{reuse}</div>) in the same diff,\n\t\t// or we are rendering a component (e.g. setState) copy the oldVNodes so it can have\n\t\t// it's own DOM & etc. pointers\n\t\telse if (\n\t\t\ttypeof childVNode == 'string' ||\n\t\t\ttypeof childVNode == 'number' ||\n\t\t\t// eslint-disable-next-line valid-typeof\n\t\t\ttypeof childVNode == 'bigint'\n\t\t) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tnull,\n\t\t\t\tchildVNode,\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tchildVNode\n\t\t\t);\n\t\t} else if (Array.isArray(childVNode)) {\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tFragment,\n\t\t\t\t{ children: childVNode },\n\t\t\t\tnull,\n\t\t\t\tnull,\n\t\t\t\tnull\n\t\t\t);\n\t\t} else if (childVNode._depth > 0) {\n\t\t\t// VNode is already in use, clone it. This can happen in the following\n\t\t\t// scenario:\n\t\t\t//   const reuse = <div />\n\t\t\t//   <div>{reuse}<span />{reuse}</div>\n\t\t\tchildVNode = newParentVNode._children[i] = createVNode(\n\t\t\t\tchildVNode.type,\n\t\t\t\tchildVNode.props,\n\t\t\t\tchildVNode.key,\n\t\t\t\tnull,\n\t\t\t\tchildVNode._original\n\t\t\t);\n\t\t} else {\n\t\t\tchildVNode = newParentVNode._children[i] = childVNode;\n\t\t}\n\n\t\t// Terser removes the `continue` here and wraps the loop body\n\t\t// in a `if (childVNode) { ... } condition\n\t\tif (childVNode == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tchildVNode._parent = newParentVNode;\n\t\tchildVNode._depth = newParentVNode._depth + 1;\n\n\t\t// Check if we find a corresponding element in oldChildren.\n\t\t// If found, delete the array item by setting to `undefined`.\n\t\t// We use `undefined`, as `null` is reserved for empty placeholders\n\t\t// (holes).\n\t\toldVNode = oldChildren[i];\n\n\t\tif (\n\t\t\toldVNode === null ||\n\t\t\t(oldVNode &&\n\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\tchildVNode.type === oldVNode.type)\n\t\t) {\n\t\t\toldChildren[i] = undefined;\n\t\t} else {\n\t\t\t// Either oldVNode === undefined or oldChildrenLength > 0,\n\t\t\t// so after this loop oldVNode == null or oldVNode is a valid value.\n\t\t\tfor (j = 0; j < oldChildrenLength; j++) {\n\t\t\t\toldVNode = oldChildren[j];\n\t\t\t\t// If childVNode is unkeyed, we only match similarly unkeyed nodes, otherwise we match by key.\n\t\t\t\t// We always match by type (in either case).\n\t\t\t\tif (\n\t\t\t\t\toldVNode &&\n\t\t\t\t\tchildVNode.key == oldVNode.key &&\n\t\t\t\t\tchildVNode.type === oldVNode.type\n\t\t\t\t) {\n\t\t\t\t\toldChildren[j] = undefined;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\toldVNode = null;\n\t\t\t}\n\t\t}\n\n\t\toldVNode = oldVNode || EMPTY_OBJ;\n\n\t\t// Morph the old element into the new one, but don't append it to the dom yet\n\t\tdiff(\n\t\t\tparentDom,\n\t\t\tchildVNode,\n\t\t\toldVNode,\n\t\t\tglobalContext,\n\t\t\tisSvg,\n\t\t\texcessDomChildren,\n\t\t\tcommitQueue,\n\t\t\toldDom,\n\t\t\tisHydrating\n\t\t);\n\n\t\tnewDom = childVNode._dom;\n\n\t\tif ((j = childVNode.ref) && oldVNode.ref != j) {\n\t\t\tif (!refs) refs = [];\n\t\t\tif (oldVNode.ref) refs.push(oldVNode.ref, null, childVNode);\n\t\t\trefs.push(j, childVNode._component || newDom, childVNode);\n\t\t}\n\n\t\tif (newDom != null) {\n\t\t\tif (firstChildDom == null) {\n\t\t\t\tfirstChildDom = newDom;\n\t\t\t}\n\n\t\t\tif (\n\t\t\t\ttypeof childVNode.type == 'function' &&\n\t\t\t\tchildVNode._children === oldVNode._children\n\t\t\t) {\n\t\t\t\tchildVNode._nextDom = oldDom = reorderChildren(\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldDom,\n\t\t\t\t\tparentDom\n\t\t\t\t);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tchildVNode,\n\t\t\t\t\toldVNode,\n\t\t\t\t\toldChildren,\n\t\t\t\t\tnewDom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\n\t\t\tif (typeof newParentVNode.type == 'function') {\n\t\t\t\t// Because the newParentVNode is Fragment-like, we need to set it's\n\t\t\t\t// _nextDom property to the nextSibling of its last child DOM node.\n\t\t\t\t//\n\t\t\t\t// `oldDom` contains the correct value here because if the last child\n\t\t\t\t// is a Fragment-like, then oldDom has already been set to that child's _nextDom.\n\t\t\t\t// If the last child is a DOM VNode, then oldDom will be set to that DOM\n\t\t\t\t// node's nextSibling.\n\t\t\t\tnewParentVNode._nextDom = oldDom;\n\t\t\t}\n\t\t} else if (\n\t\t\toldDom &&\n\t\t\toldVNode._dom == oldDom &&\n\t\t\toldDom.parentNode != parentDom\n\t\t) {\n\t\t\t// The above condition is to handle null placeholders. See test in placeholder.test.js:\n\t\t\t// `efficiently replace null placeholders in parent rerenders`\n\t\t\toldDom = getDomSibling(oldVNode);\n\t\t}\n\t}\n\n\tnewParentVNode._dom = firstChildDom;\n\n\t// Remove remaining oldChildren if there are any.\n\tfor (i = oldChildrenLength; i--; ) {\n\t\tif (oldChildren[i] != null) {\n\t\t\tif (\n\t\t\t\ttypeof newParentVNode.type == 'function' &&\n\t\t\t\toldChildren[i]._dom != null &&\n\t\t\t\toldChildren[i]._dom == newParentVNode._nextDom\n\t\t\t) {\n\t\t\t\t// If the newParentVNode.__nextDom points to a dom node that is about to\n\t\t\t\t// be unmounted, then get the next sibling of that vnode and set\n\t\t\t\t// _nextDom to it\n\t\t\t\tnewParentVNode._nextDom = getDomSibling(oldParentVNode, i + 1);\n\t\t\t}\n\n\t\t\tunmount(oldChildren[i], oldChildren[i]);\n\t\t}\n\t}\n\n\t// Set refs only after unmount\n\tif (refs) {\n\t\tfor (i = 0; i < refs.length; i++) {\n\t\t\tapplyRef(refs[i], refs[++i], refs[++i]);\n\t\t}\n\t}\n}\n\nfunction reorderChildren(childVNode, oldDom, parentDom) {\n\t// Note: VNodes in nested suspended trees may be missing _children.\n\tlet c = childVNode._children;\n\tlet tmp = 0;\n\tfor (; c && tmp < c.length; tmp++) {\n\t\tlet vnode = c[tmp];\n\t\tif (vnode) {\n\t\t\t// We typically enter this code path on sCU bailout, where we copy\n\t\t\t// oldVNode._children to newVNode._children. If that is the case, we need\n\t\t\t// to update the old children's _parent pointer to point to the newVNode\n\t\t\t// (childVNode here).\n\t\t\tvnode._parent = childVNode;\n\n\t\t\tif (typeof vnode.type == 'function') {\n\t\t\t\toldDom = reorderChildren(vnode, oldDom, parentDom);\n\t\t\t} else {\n\t\t\t\toldDom = placeChild(\n\t\t\t\t\tparentDom,\n\t\t\t\t\tvnode,\n\t\t\t\t\tvnode,\n\t\t\t\t\tc,\n\t\t\t\t\tvnode._dom,\n\t\t\t\t\toldDom\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn oldDom;\n}\n\n/**\n * Flatten and loop through the children of a virtual node\n * @param {import('../index').ComponentChildren} children The unflattened\n * children of a virtual node\n * @returns {import('../internal').VNode[]}\n */\nexport function toChildArray(children, out) {\n\tout = out || [];\n\tif (children == null || typeof children == 'boolean') {\n\t} else if (Array.isArray(children)) {\n\t\tchildren.some(child => {\n\t\t\ttoChildArray(child, out);\n\t\t});\n\t} else {\n\t\tout.push(children);\n\t}\n\treturn out;\n}\n\nfunction placeChild(\n\tparentDom,\n\tchildVNode,\n\toldVNode,\n\toldChildren,\n\tnewDom,\n\toldDom\n) {\n\tlet nextDom;\n\tif (childVNode._nextDom !== undefined) {\n\t\t// Only Fragments or components that return Fragment like VNodes will\n\t\t// have a non-undefined _nextDom. Continue the diff from the sibling\n\t\t// of last DOM child of this child VNode\n\t\tnextDom = childVNode._nextDom;\n\n\t\t// Eagerly cleanup _nextDom. We don't need to persist the value because\n\t\t// it is only used by `diffChildren` to determine where to resume the diff after\n\t\t// diffing Components and Fragments. Once we store it the nextDOM local var, we\n\t\t// can clean up the property\n\t\tchildVNode._nextDom = undefined;\n\t} else if (\n\t\toldVNode == null ||\n\t\tnewDom != oldDom ||\n\t\tnewDom.parentNode == null\n\t) {\n\t\touter: if (oldDom == null || oldDom.parentNode !== parentDom) {\n\t\t\tparentDom.appendChild(newDom);\n\t\t\tnextDom = null;\n\t\t} else {\n\t\t\t// `j<oldChildrenLength; j+=2` is an alternative to `j++<oldChildrenLength/2`\n\t\t\tfor (\n\t\t\t\tlet sibDom = oldDom, j = 0;\n\t\t\t\t(sibDom = sibDom.nextSibling) && j < oldChildren.length;\n\t\t\t\tj += 2\n\t\t\t) {\n\t\t\t\tif (sibDom == newDom) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t}\n\t\t\tparentDom.insertBefore(newDom, oldDom);\n\t\t\tnextDom = oldDom;\n\t\t}\n\t}\n\n\t// If we have pre-calculated the nextDOM node, use it. Else calculate it now\n\t// Strictly check for `undefined` here cuz `null` is a valid value of `nextDom`.\n\t// See more detail in create-element.js:createVNode\n\tif (nextDom !== undefined) {\n\t\toldDom = nextDom;\n\t} else {\n\t\toldDom = newDom.nextSibling;\n\t}\n\n\treturn oldDom;\n}\n", "import { IS_NON_DIMENSIONAL } from '../constants';\nimport options from '../options';\n\n/**\n * Diff the old and new properties of a VNode and apply changes to the DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to apply\n * changes to\n * @param {object} newProps The new props\n * @param {object} oldProps The old props\n * @param {boolean} isSvg Whether or not this node is an SVG node\n * @param {boolean} hydrate Whether or not we are in hydration mode\n */\nexport function diffProps(dom, newProps, oldProps, isSvg, hydrate) {\n\tlet i;\n\n\tfor (i in oldProps) {\n\t\tif (i !== 'children' && i !== 'key' && !(i in newProps)) {\n\t\t\tsetProperty(dom, i, null, oldProps[i], isSvg);\n\t\t}\n\t}\n\n\tfor (i in newProps) {\n\t\tif (\n\t\t\t(!hydrate || typeof newProps[i] == 'function') &&\n\t\t\ti !== 'children' &&\n\t\t\ti !== 'key' &&\n\t\t\ti !== 'value' &&\n\t\t\ti !== 'checked' &&\n\t\t\toldProps[i] !== newProps[i]\n\t\t) {\n\t\t\tsetProperty(dom, i, newProps[i], oldProps[i], isSvg);\n\t\t}\n\t}\n}\n\nfunction setStyle(style, key, value) {\n\tif (key[0] === '-') {\n\t\tstyle.setProperty(key, value);\n\t} else if (value == null) {\n\t\tstyle[key] = '';\n\t} else if (typeof value != 'number' || IS_NON_DIMENSIONAL.test(key)) {\n\t\tstyle[key] = value;\n\t} else {\n\t\tstyle[key] = value + 'px';\n\t}\n}\n\n/**\n * Set a property value on a DOM node\n * @param {import('../internal').PreactElement} dom The DOM node to modify\n * @param {string} name The name of the property to set\n * @param {*} value The value to set the property to\n * @param {*} oldValue The old value the property had\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node or not\n */\nexport function setProperty(dom, name, value, oldValue, isSvg) {\n\tlet useCapture;\n\n\to: if (name === 'style') {\n\t\tif (typeof value == 'string') {\n\t\t\tdom.style.cssText = value;\n\t\t} else {\n\t\t\tif (typeof oldValue == 'string') {\n\t\t\t\tdom.style.cssText = oldValue = '';\n\t\t\t}\n\n\t\t\tif (oldValue) {\n\t\t\t\tfor (name in oldValue) {\n\t\t\t\t\tif (!(value && name in value)) {\n\t\t\t\t\t\tsetStyle(dom.style, name, '');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (value) {\n\t\t\t\tfor (name in value) {\n\t\t\t\t\tif (!oldValue || value[name] !== oldValue[name]) {\n\t\t\t\t\t\tsetStyle(dom.style, name, value[name]);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\t// Benchmark for comparison: https://esbench.com/bench/574c954bdb965b9a00965ac6\n\telse if (name[0] === 'o' && name[1] === 'n') {\n\t\tuseCapture = name !== (name = name.replace(/Capture$/, ''));\n\n\t\t// Infer correct casing for DOM built-in events:\n\t\tif (name.toLowerCase() in dom) name = name.toLowerCase().slice(2);\n\t\telse name = name.slice(2);\n\n\t\tif (!dom._listeners) dom._listeners = {};\n\t\tdom._listeners[name + useCapture] = value;\n\n\t\tif (value) {\n\t\t\tif (!oldValue) {\n\t\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\t\tdom.addEventListener(name, handler, useCapture);\n\t\t\t}\n\t\t} else {\n\t\t\tconst handler = useCapture ? eventProxyCapture : eventProxy;\n\t\t\tdom.removeEventListener(name, handler, useCapture);\n\t\t}\n\t} else if (name !== 'dangerouslySetInnerHTML') {\n\t\tif (isSvg) {\n\t\t\t// Normalize incorrect prop usage for SVG:\n\t\t\t// - xlink:href / xlinkHref --> href (xlink:href was removed from SVG and isn't needed)\n\t\t\t// - className --> class\n\t\t\tname = name.replace(/xlink(H|:h)/, 'h').replace(/sName$/, 's');\n\t\t} else if (\n\t\t\tname !== 'href' &&\n\t\t\tname !== 'list' &&\n\t\t\tname !== 'form' &&\n\t\t\t// Default value in browsers is `-1` and an empty string is\n\t\t\t// cast to `0` instead\n\t\t\tname !== 'tabIndex' &&\n\t\t\tname !== 'download' &&\n\t\t\tname in dom\n\t\t) {\n\t\t\ttry {\n\t\t\t\tdom[name] = value == null ? '' : value;\n\t\t\t\t// labelled break is 1b smaller here than a return statement (sorry)\n\t\t\t\tbreak o;\n\t\t\t} catch (e) {}\n\t\t}\n\n\t\t// ARIA-attributes have a different notion of boolean values.\n\t\t// The value `false` is different from the attribute not\n\t\t// existing on the DOM, so we can't remove it. For non-boolean\n\t\t// ARIA-attributes we could treat false as a removal, but the\n\t\t// amount of exceptions would cost us too many bytes. On top of\n\t\t// that other VDOM frameworks also always stringify `false`.\n\n\t\tif (typeof value === 'function') {\n\t\t\t// never serialize functions as attribute values\n\t\t} else if (\n\t\t\tvalue != null &&\n\t\t\t(value !== false || (name[0] === 'a' && name[1] === 'r'))\n\t\t) {\n\t\t\tdom.setAttribute(name, value);\n\t\t} else {\n\t\t\tdom.removeAttribute(name);\n\t\t}\n\t}\n}\n\n/**\n * Proxy an event to hooked event handlers\n * @param {Event} e The event object from the browser\n * @private\n */\nfunction eventProxy(e) {\n\tthis._listeners[e.type + false](options.event ? options.event(e) : e);\n}\n\nfunction eventProxyCapture(e) {\n\tthis._listeners[e.type + true](options.event ? options.event(e) : e);\n}\n", "import { EMPTY_OBJ } from '../constants';\nimport { Component, getDomSibling } from '../component';\nimport { Fragment } from '../create-element';\nimport { diffChildren } from './children';\nimport { diffProps, setProperty } from './props';\nimport { assign, removeNode, slice } from '../util';\nimport options from '../options';\n\n/**\n * Diff two virtual nodes and apply proper changes to the DOM\n * @param {import('../internal').PreactElement} parentDom The parent of the DOM element\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object. Modified by getChildContext\n * @param {boolean} isSvg Whether or not this element is an SVG node\n * @param {Array<import('../internal').PreactElement>} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').PreactElement} oldDom The current attached DOM\n * element any new dom elements should be placed around. Likely `null` on first\n * render (except when hydrating). Can be a sibling DOM element when diffing\n * Fragments that have siblings. In most cases, it starts out as `oldChildren[0]._dom`.\n * @param {boolean} [isHydrating] Whether or not we are in hydration\n */\nexport function diff(\n\tparentDom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\toldDom,\n\tisHydrating\n) {\n\tlet tmp,\n\t\tnewType = newVNode.type;\n\n\t// When passing through createElement it assigns the object\n\t// constructor as undefined. This to prevent JSON-injection.\n\tif (newVNode.constructor !== undefined) return null;\n\n\t// If the previous diff bailed out, resume creating/hydrating.\n\tif (oldVNode._hydrating != null) {\n\t\tisHydrating = oldVNode._hydrating;\n\t\toldDom = newVNode._dom = oldVNode._dom;\n\t\t// if we resume, we want the tree to be \"unlocked\"\n\t\tnewVNode._hydrating = null;\n\t\texcessDomChildren = [oldDom];\n\t}\n\n\tif ((tmp = options._diff)) tmp(newVNode);\n\n\ttry {\n\t\touter: if (typeof newType == 'function') {\n\t\t\tlet c, isNew, oldProps, oldState, snapshot, clearProcessingException;\n\t\t\tlet newProps = newVNode.props;\n\n\t\t\t// Necessary for createContext api. Setting this property will pass\n\t\t\t// the context value as `this.context` just for this component.\n\t\t\ttmp = newType.contextType;\n\t\t\tlet provider = tmp && globalContext[tmp._id];\n\t\t\tlet componentContext = tmp\n\t\t\t\t? provider\n\t\t\t\t\t? provider.props.value\n\t\t\t\t\t: tmp._defaultValue\n\t\t\t\t: globalContext;\n\n\t\t\t// Get component and set it to `c`\n\t\t\tif (oldVNode._component) {\n\t\t\t\tc = newVNode._component = oldVNode._component;\n\t\t\t\tclearProcessingException = c._processingException = c._pendingError;\n\t\t\t} else {\n\t\t\t\t// Instantiate the new component\n\t\t\t\tif ('prototype' in newType && newType.prototype.render) {\n\t\t\t\t\t// @ts-ignore The check above verifies that newType is suppose to be constructed\n\t\t\t\t\tnewVNode._component = c = new newType(newProps, componentContext); // eslint-disable-line new-cap\n\t\t\t\t} else {\n\t\t\t\t\t// @ts-ignore Trust me, Component implements the interface we want\n\t\t\t\t\tnewVNode._component = c = new Component(newProps, componentContext);\n\t\t\t\t\tc.constructor = newType;\n\t\t\t\t\tc.render = doRender;\n\t\t\t\t}\n\t\t\t\tif (provider) provider.sub(c);\n\n\t\t\t\tc.props = newProps;\n\t\t\t\tif (!c.state) c.state = {};\n\t\t\t\tc.context = componentContext;\n\t\t\t\tc._globalContext = globalContext;\n\t\t\t\tisNew = c._dirty = true;\n\t\t\t\tc._renderCallbacks = [];\n\t\t\t}\n\n\t\t\t// Invoke getDerivedStateFromProps\n\t\t\tif (c._nextState == null) {\n\t\t\t\tc._nextState = c.state;\n\t\t\t}\n\t\t\tif (newType.getDerivedStateFromProps != null) {\n\t\t\t\tif (c._nextState == c.state) {\n\t\t\t\t\tc._nextState = assign({}, c._nextState);\n\t\t\t\t}\n\n\t\t\t\tassign(\n\t\t\t\t\tc._nextState,\n\t\t\t\t\tnewType.getDerivedStateFromProps(newProps, c._nextState)\n\t\t\t\t);\n\t\t\t}\n\n\t\t\toldProps = c.props;\n\t\t\toldState = c.state;\n\n\t\t\t// Invoke pre-render lifecycle methods\n\t\t\tif (isNew) {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tc.componentWillMount != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillMount();\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidMount != null) {\n\t\t\t\t\tc._renderCallbacks.push(c.componentDidMount);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (\n\t\t\t\t\tnewType.getDerivedStateFromProps == null &&\n\t\t\t\t\tnewProps !== oldProps &&\n\t\t\t\t\tc.componentWillReceiveProps != null\n\t\t\t\t) {\n\t\t\t\t\tc.componentWillReceiveProps(newProps, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (\n\t\t\t\t\t(!c._force &&\n\t\t\t\t\t\tc.shouldComponentUpdate != null &&\n\t\t\t\t\t\tc.shouldComponentUpdate(\n\t\t\t\t\t\t\tnewProps,\n\t\t\t\t\t\t\tc._nextState,\n\t\t\t\t\t\t\tcomponentContext\n\t\t\t\t\t\t) === false) ||\n\t\t\t\t\tnewVNode._original === oldVNode._original\n\t\t\t\t) {\n\t\t\t\t\tc.props = newProps;\n\t\t\t\t\tc.state = c._nextState;\n\t\t\t\t\t// More info about this here: https://gist.github.com/JoviDeCroock/bec5f2ce93544d2e6070ef8e0036e4e8\n\t\t\t\t\tif (newVNode._original !== oldVNode._original) c._dirty = false;\n\t\t\t\t\tc._vnode = newVNode;\n\t\t\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t\t\t\tnewVNode._children = oldVNode._children;\n\t\t\t\t\tnewVNode._children.forEach(vnode => {\n\t\t\t\t\t\tif (vnode) vnode._parent = newVNode;\n\t\t\t\t\t});\n\t\t\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\t\t\tcommitQueue.push(c);\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\n\t\t\t\tif (c.componentWillUpdate != null) {\n\t\t\t\t\tc.componentWillUpdate(newProps, c._nextState, componentContext);\n\t\t\t\t}\n\n\t\t\t\tif (c.componentDidUpdate != null) {\n\t\t\t\t\tc._renderCallbacks.push(() => {\n\t\t\t\t\t\tc.componentDidUpdate(oldProps, oldState, snapshot);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tc.context = componentContext;\n\t\t\tc.props = newProps;\n\t\t\tc.state = c._nextState;\n\n\t\t\tif ((tmp = options._render)) tmp(newVNode);\n\n\t\t\tc._dirty = false;\n\t\t\tc._vnode = newVNode;\n\t\t\tc._parentDom = parentDom;\n\n\t\t\ttmp = c.render(c.props, c.state, c.context);\n\n\t\t\t// Handle setState called in render, see #2553\n\t\t\tc.state = c._nextState;\n\n\t\t\tif (c.getChildContext != null) {\n\t\t\t\tglobalContext = assign(assign({}, globalContext), c.getChildContext());\n\t\t\t}\n\n\t\t\tif (!isNew && c.getSnapshotBeforeUpdate != null) {\n\t\t\t\tsnapshot = c.getSnapshotBeforeUpdate(oldProps, oldState);\n\t\t\t}\n\n\t\t\tlet isTopLevelFragment =\n\t\t\t\ttmp != null && tmp.type === Fragment && tmp.key == null;\n\t\t\tlet renderResult = isTopLevelFragment ? tmp.props.children : tmp;\n\n\t\t\tdiffChildren(\n\t\t\t\tparentDom,\n\t\t\t\tArray.isArray(renderResult) ? renderResult : [renderResult],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\toldDom,\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\tc.base = newVNode._dom;\n\n\t\t\t// We successfully rendered this VNode, unset any stored hydration/bailout state:\n\t\t\tnewVNode._hydrating = null;\n\n\t\t\tif (c._renderCallbacks.length) {\n\t\t\t\tcommitQueue.push(c);\n\t\t\t}\n\n\t\t\tif (clearProcessingException) {\n\t\t\t\tc._pendingError = c._processingException = null;\n\t\t\t}\n\n\t\t\tc._force = false;\n\t\t} else if (\n\t\t\texcessDomChildren == null &&\n\t\t\tnewVNode._original === oldVNode._original\n\t\t) {\n\t\t\tnewVNode._children = oldVNode._children;\n\t\t\tnewVNode._dom = oldVNode._dom;\n\t\t} else {\n\t\t\tnewVNode._dom = diffElementNodes(\n\t\t\t\toldVNode._dom,\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg,\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\tisHydrating\n\t\t\t);\n\t\t}\n\n\t\tif ((tmp = options.diffed)) tmp(newVNode);\n\t} catch (e) {\n\t\tnewVNode._original = null;\n\t\t// if hydrating or creating initial tree, bailout preserves DOM:\n\t\tif (isHydrating || excessDomChildren != null) {\n\t\t\tnewVNode._dom = oldDom;\n\t\t\tnewVNode._hydrating = !!isHydrating;\n\t\t\texcessDomChildren[excessDomChildren.indexOf(oldDom)] = null;\n\t\t\t// ^ could possibly be simplified to:\n\t\t\t// excessDomChildren.length = 0;\n\t\t}\n\t\toptions._catchError(e, newVNode, oldVNode);\n\t}\n}\n\n/**\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {import('../internal').VNode} root\n */\nexport function commitRoot(commitQueue, root) {\n\tif (options._commit) options._commit(root, commitQueue);\n\n\tcommitQueue.some(c => {\n\t\ttry {\n\t\t\t// @ts-ignore Reuse the commitQueue variable here so the type changes\n\t\t\tcommitQueue = c._renderCallbacks;\n\t\t\tc._renderCallbacks = [];\n\t\t\tcommitQueue.some(cb => {\n\t\t\t\t// @ts-ignore See above ts-ignore on commitQueue\n\t\t\t\tcb.call(c);\n\t\t\t});\n\t\t} catch (e) {\n\t\t\toptions._catchError(e, c._vnode);\n\t\t}\n\t});\n}\n\n/**\n * Diff two virtual nodes representing DOM element\n * @param {import('../internal').PreactElement} dom The DOM element representing\n * the virtual nodes being diffed\n * @param {import('../internal').VNode} newVNode The new virtual node\n * @param {import('../internal').VNode} oldVNode The old virtual node\n * @param {object} globalContext The current context object\n * @param {boolean} isSvg Whether or not this DOM node is an SVG node\n * @param {*} excessDomChildren\n * @param {Array<import('../internal').Component>} commitQueue List of components\n * which have callbacks to invoke in commitRoot\n * @param {boolean} isHydrating Whether or not we are in hydration\n * @returns {import('../internal').PreactElement}\n */\nfunction diffElementNodes(\n\tdom,\n\tnewVNode,\n\toldVNode,\n\tglobalContext,\n\tisSvg,\n\texcessDomChildren,\n\tcommitQueue,\n\tisHydrating\n) {\n\tlet oldProps = oldVNode.props;\n\tlet newProps = newVNode.props;\n\tlet nodeType = newVNode.type;\n\tlet i = 0;\n\n\t// Tracks entering and exiting SVG namespace when descending through the tree.\n\tif (nodeType === 'svg') isSvg = true;\n\n\tif (excessDomChildren != null) {\n\t\tfor (; i < excessDomChildren.length; i++) {\n\t\t\tconst child = excessDomChildren[i];\n\n\t\t\t// if newVNode matches an element in excessDomChildren or the `dom`\n\t\t\t// argument matches an element in excessDomChildren, remove it from\n\t\t\t// excessDomChildren so it isn't later removed in diffChildren\n\t\t\tif (\n\t\t\t\tchild &&\n\t\t\t\t'setAttribute' in child === !!nodeType &&\n\t\t\t\t(nodeType ? child.localName === nodeType : child.nodeType === 3)\n\t\t\t) {\n\t\t\t\tdom = child;\n\t\t\t\texcessDomChildren[i] = null;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (dom == null) {\n\t\tif (nodeType === null) {\n\t\t\t// @ts-ignore createTextNode returns Text, we expect PreactElement\n\t\t\treturn document.createTextNode(newProps);\n\t\t}\n\n\t\tif (isSvg) {\n\t\t\tdom = document.createElementNS(\n\t\t\t\t'http://www.w3.org/2000/svg',\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType\n\t\t\t);\n\t\t} else {\n\t\t\tdom = document.createElement(\n\t\t\t\t// @ts-ignore We know `newVNode.type` is a string\n\t\t\t\tnodeType,\n\t\t\t\tnewProps.is && newProps\n\t\t\t);\n\t\t}\n\n\t\t// we created a new parent, so none of the previously attached children can be reused:\n\t\texcessDomChildren = null;\n\t\t// we are creating a new node, so we can assume this is a new subtree (in case we are hydrating), this deopts the hydrate\n\t\tisHydrating = false;\n\t}\n\n\tif (nodeType === null) {\n\t\t// During hydration, we still have to split merged text from SSR'd HTML.\n\t\tif (oldProps !== newProps && (!isHydrating || dom.data !== newProps)) {\n\t\t\tdom.data = newProps;\n\t\t}\n\t} else {\n\t\t// If excessDomChildren was not null, repopulate it with the current element's children:\n\t\texcessDomChildren = excessDomChildren && slice.call(dom.childNodes);\n\n\t\toldProps = oldVNode.props || EMPTY_OBJ;\n\n\t\tlet oldHtml = oldProps.dangerouslySetInnerHTML;\n\t\tlet newHtml = newProps.dangerouslySetInnerHTML;\n\n\t\t// During hydration, props are not diffed at all (including dangerouslySetInnerHTML)\n\t\t// @TODO we should warn in debug mode when props don't match here.\n\t\tif (!isHydrating) {\n\t\t\t// But, if we are in a situation where we are using existing DOM (e.g. replaceNode)\n\t\t\t// we should read the existing DOM attributes to diff them\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\toldProps = {};\n\t\t\t\tfor (i = 0; i < dom.attributes.length; i++) {\n\t\t\t\t\toldProps[dom.attributes[i].name] = dom.attributes[i].value;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (newHtml || oldHtml) {\n\t\t\t\t// Avoid re-applying the same '__html' if it did not changed between re-render\n\t\t\t\tif (\n\t\t\t\t\t!newHtml ||\n\t\t\t\t\t((!oldHtml || newHtml.__html != oldHtml.__html) &&\n\t\t\t\t\t\tnewHtml.__html !== dom.innerHTML)\n\t\t\t\t) {\n\t\t\t\t\tdom.innerHTML = (newHtml && newHtml.__html) || '';\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tdiffProps(dom, newProps, oldProps, isSvg, isHydrating);\n\n\t\t// If the new vnode didn't have dangerouslySetInnerHTML, diff its children\n\t\tif (newHtml) {\n\t\t\tnewVNode._children = [];\n\t\t} else {\n\t\t\ti = newVNode.props.children;\n\t\t\tdiffChildren(\n\t\t\t\tdom,\n\t\t\t\tArray.isArray(i) ? i : [i],\n\t\t\t\tnewVNode,\n\t\t\t\toldVNode,\n\t\t\t\tglobalContext,\n\t\t\t\tisSvg && nodeType !== 'foreignObject',\n\t\t\t\texcessDomChildren,\n\t\t\t\tcommitQueue,\n\t\t\t\texcessDomChildren\n\t\t\t\t\t? excessDomChildren[0]\n\t\t\t\t\t: oldVNode._children && getDomSibling(oldVNode, 0),\n\t\t\t\tisHydrating\n\t\t\t);\n\n\t\t\t// Remove children that are not part of any vnode.\n\t\t\tif (excessDomChildren != null) {\n\t\t\t\tfor (i = excessDomChildren.length; i--; ) {\n\t\t\t\t\tif (excessDomChildren[i] != null) removeNode(excessDomChildren[i]);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// (as above, don't diff props during hydration)\n\t\tif (!isHydrating) {\n\t\t\tif (\n\t\t\t\t'value' in newProps &&\n\t\t\t\t(i = newProps.value) !== undefined &&\n\t\t\t\t// #2756 For the <progress>-element the initial value is 0,\n\t\t\t\t// despite the attribute not being present. When the attribute\n\t\t\t\t// is missing the progress bar is treated as indeterminate.\n\t\t\t\t// To fix that we'll always update it when it is 0 for progress elements\n\t\t\t\t(i !== dom.value ||\n\t\t\t\t\t(nodeType === 'progress' && !i) ||\n\t\t\t\t\t// This is only for IE 11 to fix <select> value not being updated.\n\t\t\t\t\t// To avoid a stale select value we need to set the option.value\n\t\t\t\t\t// again, which triggers IE11 to re-evaluate the select value\n\t\t\t\t\t(nodeType === 'option' && i !== oldProps.value))\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'value', i, oldProps.value, false);\n\t\t\t}\n\t\t\tif (\n\t\t\t\t'checked' in newProps &&\n\t\t\t\t(i = newProps.checked) !== undefined &&\n\t\t\t\ti !== dom.checked\n\t\t\t) {\n\t\t\t\tsetProperty(dom, 'checked', i, oldProps.checked, false);\n\t\t\t}\n\t\t}\n\t}\n\n\treturn dom;\n}\n\n/**\n * Invoke or update a ref, depending on whether it is a function or object ref.\n * @param {object|function} ref\n * @param {any} value\n * @param {import('../internal').VNode} vnode\n */\nexport function applyRef(ref, value, vnode) {\n\ttry {\n\t\tif (typeof ref == 'function') ref(value);\n\t\telse ref.current = value;\n\t} catch (e) {\n\t\toptions._catchError(e, vnode);\n\t}\n}\n\n/**\n * Unmount a virtual node from the tree and apply DOM changes\n * @param {import('../internal').VNode} vnode The virtual node to unmount\n * @param {import('../internal').VNode} parentVNode The parent of the VNode that\n * initiated the unmount\n * @param {boolean} [skipRemove] Flag that indicates that a parent node of the\n * current element is already detached from the DOM.\n */\nexport function unmount(vnode, parentVNode, skipRemove) {\n\tlet r;\n\tif (options.unmount) options.unmount(vnode);\n\n\tif ((r = vnode.ref)) {\n\t\tif (!r.current || r.current === vnode._dom) applyRef(r, null, parentVNode);\n\t}\n\n\tif ((r = vnode._component) != null) {\n\t\tif (r.componentWillUnmount) {\n\t\t\ttry {\n\t\t\t\tr.componentWillUnmount();\n\t\t\t} catch (e) {\n\t\t\t\toptions._catchError(e, parentVNode);\n\t\t\t}\n\t\t}\n\n\t\tr.base = r._parentDom = null;\n\t}\n\n\tif ((r = vnode._children)) {\n\t\tfor (let i = 0; i < r.length; i++) {\n\t\t\tif (r[i]) {\n\t\t\t\tunmount(r[i], parentVNode, typeof vnode.type != 'function');\n\t\t\t}\n\t\t}\n\t}\n\n\tif (!skipRemove && vnode._dom != null) removeNode(vnode._dom);\n\n\t// Must be set to `undefined` to properly clean up `_nextDom`\n\t// for which `null` is a valid value. See comment in `create-element.js`\n\tvnode._dom = vnode._nextDom = undefined;\n}\n\n/** The `.render()` method for a PFC backing instance. */\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n", "import { EMPTY_OBJ } from './constants';\nimport { commitRoot, diff } from './diff/index';\nimport { createElement, Fragment } from './create-element';\nimport options from './options';\nimport { slice } from './util';\n\n/**\n * Render a Preact virtual node into a DOM element\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * render into\n * @param {import('./internal').PreactElement | object} [replaceNode] Optional: Attempt to re-use an\n * existing DOM tree rooted at `replaceNode`\n */\nexport function render(vnode, parentDom, replaceNode) {\n\tif (options._root) options._root(vnode, parentDom);\n\n\t// We abuse the `replaceNode` parameter in `hydrate()` to signal if we are in\n\t// hydration mode or not by passing the `hydrate` function instead of a DOM\n\t// element..\n\tlet isHydrating = typeof replaceNode === 'function';\n\n\t// To be able to support calling `render()` multiple times on the same\n\t// DOM node, we need to obtain a reference to the previous tree. We do\n\t// this by assigning a new `_children` property to DOM nodes which points\n\t// to the last rendered tree. By default this property is not present, which\n\t// means that we are mounting a new tree for the first time.\n\tlet oldVNode = isHydrating\n\t\t? null\n\t\t: (replaceNode && replaceNode._children) || parentDom._children;\n\n\tvnode = (\n\t\t(!isHydrating && replaceNode) ||\n\t\tparentDom\n\t)._children = createElement(Fragment, null, [vnode]);\n\n\t// List of effects that need to be called after diffing.\n\tlet commitQueue = [];\n\tdiff(\n\t\tparentDom,\n\t\t// Determine the new vnode tree and store it on the DOM element on\n\t\t// our custom `_children` property.\n\t\tvnode,\n\t\toldVNode || EMPTY_OBJ,\n\t\tEMPTY_OBJ,\n\t\tparentDom.ownerSVGElement !== undefined,\n\t\t!isHydrating && replaceNode\n\t\t\t? [replaceNode]\n\t\t\t: oldVNode\n\t\t\t? null\n\t\t\t: parentDom.firstChild\n\t\t\t? slice.call(parentDom.childNodes)\n\t\t\t: null,\n\t\tcommitQueue,\n\t\t!isHydrating && replaceNode\n\t\t\t? replaceNode\n\t\t\t: oldVNode\n\t\t\t? oldVNode._dom\n\t\t\t: parentDom.firstChild,\n\t\tisHydrating\n\t);\n\n\t// Flush all queued effects\n\tcommitRoot(commitQueue, vnode);\n}\n\n/**\n * Update an existing DOM element with data from a Preact virtual node\n * @param {import('./internal').ComponentChild} vnode The virtual node to render\n * @param {import('./internal').PreactElement} parentDom The DOM element to\n * update\n */\nexport function hydrate(vnode, parentDom) {\n\trender(vnode, parentDom, hydrate);\n}\n", "import { assign, slice } from './util';\nimport { createVNode } from './create-element';\n\n/**\n * Clones the given VNode, optionally adding attributes/props and replacing its children.\n * @param {import('./internal').VNode} vnode The virtual DOM element to clone\n * @param {object} props Attributes/props to add when cloning\n * @param {Array<import('./internal').ComponentChildren>} rest Any additional arguments will be used as replacement children.\n * @returns {import('./internal').VNode}\n */\nexport function cloneElement(vnode, props, children) {\n\tlet normalizedProps = assign({}, vnode.props),\n\t\tkey,\n\t\tref,\n\t\ti;\n\tfor (i in props) {\n\t\tif (i == 'key') key = props[i];\n\t\telse if (i == 'ref') ref = props[i];\n\t\telse normalizedProps[i] = props[i];\n\t}\n\n\tif (arguments.length > 2) {\n\t\tnormalizedProps.children =\n\t\t\targuments.length > 3 ? slice.call(arguments, 2) : children;\n\t}\n\n\treturn createVNode(\n\t\tvnode.type,\n\t\tnormalizedProps,\n\t\tkey || vnode.key,\n\t\tref || vnode.ref,\n\t\tnull\n\t);\n}\n", "/**\n * Find the closest error boundary to a thrown error and call it\n * @param {object} error The thrown value\n * @param {import('../internal').VNode} vnode The vnode that threw\n * the error that was caught (except for unmounting when this parameter\n * is the highest parent that was being unmounted)\n * @param {import('../internal').VNode} [oldVNode]\n * @param {import('../internal').ErrorInfo} [errorInfo]\n */\nexport function _catchError(error, vnode, oldVNode, errorInfo) {\n\t/** @type {import('../internal').Component} */\n\tlet component, ctor, handled;\n\n\tfor (; (vnode = vnode._parent); ) {\n\t\tif ((component = vnode._component) && !component._processingException) {\n\t\t\ttry {\n\t\t\t\tctor = component.constructor;\n\n\t\t\t\tif (ctor && ctor.getDerivedStateFromError != null) {\n\t\t\t\t\tcomponent.setState(ctor.getDerivedStateFromError(error));\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\tif (component.componentDidCatch != null) {\n\t\t\t\t\tcomponent.componentDidCatch(error, errorInfo || {});\n\t\t\t\t\thandled = component._dirty;\n\t\t\t\t}\n\n\t\t\t\t// This is an error boundary. Mark it as having bailed out, and whether it was mid-hydration.\n\t\t\t\tif (handled) {\n\t\t\t\t\treturn (component._pendingError = component);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\terror = e;\n\t\t\t}\n\t\t}\n\t}\n\n\tthrow error;\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { h, Component } from 'preact';\nimport { LogicFlowUtil } from '@logicflow/core';\nimport Rect from '../BasicShape/Rect';\nimport { getDiamondReizeEdgePoint, getEllipseReizeEdgePoint, getRectReizeEdgePoint, ModelType } from './Util';\nvar StepDrag = LogicFlowUtil.StepDrag;\nvar Control = /** @class */ (function (_super) {\n    __extends(Control, _super);\n    function Control(props) {\n        var _this = _super.call(this) || this;\n        // \u66F4\u65B0\u4E2D\u5FC3\u70B9\u4F4D\u7F6E\uFF0C\u66F4\u65B0\u6587\u6848\u4F4D\u7F6E\n        _this.updatePosition = function (_a) {\n            var deltaX = _a.deltaX, deltaY = _a.deltaY;\n            var _b = _this.nodeModel, x = _b.x, y = _b.y;\n            _this.nodeModel.x = x + deltaX / 2;\n            _this.nodeModel.y = y + deltaY / 2;\n            _this.nodeModel.moveText(deltaX / 2, deltaY / 2);\n        };\n        // \u8BA1\u7B97control\u62D6\u52A8\u540E\uFF0C\u8282\u70B9\u7684\u5BBD\u9AD8\n        _this.getResize = function (_a) {\n            var index = _a.index, deltaX = _a.deltaX, deltaY = _a.deltaY, width = _a.width, height = _a.height, _b = _a.pct, pct = _b === void 0 ? 1 : _b;\n            var resize = { width: width, height: height };\n            switch (index) {\n                case 0:\n                    resize.width = width - deltaX * pct;\n                    resize.height = height - deltaY * pct;\n                    break;\n                case 1:\n                    resize.width = width + deltaX * pct;\n                    resize.height = height - deltaY * pct;\n                    break;\n                case 2:\n                    resize.width = width + deltaX;\n                    resize.height = height + deltaY * pct;\n                    break;\n                case 3:\n                    resize.width = width - deltaX * pct;\n                    resize.height = height + deltaY * pct;\n                    break;\n                default:\n                    break;\n            }\n            return resize;\n        };\n        // \u77E9\u5F62\u66F4\u65B0\n        _this.updateRect = function (_a) {\n            var deltaX = _a.deltaX, deltaY = _a.deltaY;\n            var _b = _this.nodeModel, id = _b.id, x = _b.x, y = _b.y, width = _b.width, height = _b.height, radius = _b.radius;\n            // \u66F4\u65B0\u4E2D\u5FC3\u70B9\u4F4D\u7F6E\uFF0C\u66F4\u65B0\u6587\u6848\u4F4D\u7F6E\n            var index = _this.index;\n            var size = _this.getResize({\n                index: index,\n                deltaX: deltaX,\n                deltaY: deltaY,\n                width: width,\n                height: height,\n                pct: 1,\n            });\n            // \u9650\u5236\u653E\u5927\u7F29\u5C0F\u7684\u6700\u5927\u6700\u5C0F\u8303\u56F4\n            var _c = _this.nodeModel, minWidth = _c.minWidth, minHeight = _c.minHeight, maxWidth = _c.maxWidth, maxHeight = _c.maxHeight;\n            if (size.width < minWidth\n                || size.width > maxWidth\n                || size.height < minHeight\n                || size.height > maxHeight) {\n                // \u4E3A\u4E86\u907F\u514D\u653E\u5230\u548C\u7F29\u5C0F\u4F4D\u7F6E\u548C\u9F20\u6807\u4E0D\u4E00\u81F4\u7684\u95EE\u9898\n                _this.dragHandler.cancelDrag();\n                return;\n            }\n            _this.updatePosition({ deltaX: deltaX, deltaY: deltaY });\n            // \u66F4\u65B0\u5BBD\u9AD8\n            _this.nodeModel.width = size.width;\n            _this.nodeModel.height = size.height;\n            _this.nodeModel.setProperties({\n                nodeSize: {\n                    width: size.width,\n                    height: size.height,\n                },\n            });\n            var edges = _this.getNodeEdges(id);\n            var beforeNode = {\n                x: x,\n                y: y,\n                width: width,\n                height: height,\n                radius: radius,\n            };\n            var afterNode = {\n                x: _this.nodeModel.x,\n                y: _this.nodeModel.y,\n                width: _this.nodeModel.width,\n                height: _this.nodeModel.height,\n                radius: radius,\n            };\n            var params = {\n                point: '',\n                beforeNode: beforeNode,\n                afterNode: afterNode,\n            };\n            // \u66F4\u65B0\u8FB9\n            var afterPoint;\n            edges.sourceEdges.forEach(function (item) {\n                params.point = item.startPoint;\n                afterPoint = getRectReizeEdgePoint(params);\n                item.updateStartPoint(afterPoint);\n            });\n            edges.targetEdges.forEach(function (item) {\n                params.point = item.endPoint;\n                afterPoint = getRectReizeEdgePoint(params);\n                item.updateEndPoint(afterPoint);\n            });\n            _this.eventEmit({ beforeNode: beforeNode, afterNode: afterNode });\n        };\n        // \u692D\u5706\u66F4\u65B0\n        _this.updateEllipse = function (_a) {\n            var deltaX = _a.deltaX, deltaY = _a.deltaY;\n            var _b = _this.nodeModel, id = _b.id, rx = _b.rx, ry = _b.ry, x = _b.x, y = _b.y;\n            var index = _this.index;\n            var width = rx;\n            var height = ry;\n            var size = _this.getResize({\n                index: index,\n                deltaX: deltaX,\n                deltaY: deltaY,\n                width: width,\n                height: height,\n                pct: 1 / 2,\n            });\n            // \u9650\u5236\u653E\u5927\u7F29\u5C0F\u7684\u6700\u5927\u6700\u5C0F\u8303\u56F4\n            var _c = _this.nodeModel, minWidth = _c.minWidth, minHeight = _c.minHeight, maxWidth = _c.maxWidth, maxHeight = _c.maxHeight;\n            if (size.width < (minWidth / 2)\n                || size.width > (maxWidth / 2)\n                || size.height < (minHeight / 2)\n                || size.height > (maxHeight / 2)) {\n                _this.dragHandler.cancelDrag();\n                return;\n            }\n            // \u66F4\u65B0\u4E2D\u5FC3\u70B9\u4F4D\u7F6E\uFF0C\u66F4\u65B0\u6587\u6848\u4F4D\u7F6E\n            _this.updatePosition({ deltaX: deltaX, deltaY: deltaY });\n            // \u66F4\u65B0rx ry,\u5BBD\u9AD8\u4E3A\u8BA1\u7B97\u5C5E\u6027\u81EA\u52A8\u66F4\u65B0\n            // @ts-ignore\n            _this.nodeModel.rx = _this.nodeModel.rx + deltaX / 2;\n            // @ts-ignore\n            _this.nodeModel.ry = _this.nodeModel.ry + deltaY / 2;\n            _this.nodeModel.setProperties({\n                nodeSize: {\n                    rx: size.width,\n                    ry: size.height,\n                },\n            });\n            var edges = _this.getNodeEdges(id);\n            var beforeNode = { x: x, y: y };\n            var afterNode = {\n                rx: size.width,\n                ry: size.height,\n                x: _this.nodeModel.x,\n                y: _this.nodeModel.y,\n            };\n            var params = {\n                point: {},\n                beforeNode: beforeNode,\n                afterNode: afterNode,\n            };\n            // \u66F4\u65B0\u8FB9\n            var afterPoint;\n            edges.sourceEdges.forEach(function (item) {\n                params.point = item.startPoint;\n                afterPoint = getEllipseReizeEdgePoint(params);\n                item.updateStartPoint(afterPoint);\n            });\n            edges.targetEdges.forEach(function (item) {\n                params.point = item.endPoint;\n                afterPoint = getEllipseReizeEdgePoint(params);\n                item.updateEndPoint(afterPoint);\n            });\n            _this.eventEmit({ beforeNode: __assign(__assign({}, beforeNode), { rx: rx, ry: ry }), afterNode: afterNode });\n        };\n        // \u83F1\u5F62\u66F4\u65B0\n        _this.updateDiamond = function (_a) {\n            var deltaX = _a.deltaX, deltaY = _a.deltaY;\n            var _b = _this.nodeModel, id = _b.id, rx = _b.rx, ry = _b.ry, x = _b.x, y = _b.y;\n            var index = _this.index;\n            var width = rx;\n            var height = ry;\n            var size = _this.getResize({\n                index: index,\n                deltaX: deltaX,\n                deltaY: deltaY,\n                width: width,\n                height: height,\n                pct: 1 / 2,\n            });\n            // \u9650\u5236\u653E\u5927\u7F29\u5C0F\u7684\u6700\u5927\u6700\u5C0F\u8303\u56F4\n            var _c = _this.nodeModel, minWidth = _c.minWidth, minHeight = _c.minHeight, maxWidth = _c.maxWidth, maxHeight = _c.maxHeight;\n            if (size.width < (minWidth / 2)\n                || size.width > (maxWidth / 2)\n                || size.height < (minHeight / 2)\n                || size.height > (maxHeight / 2)) {\n                _this.dragHandler.cancelDrag();\n                return;\n            }\n            // \u66F4\u65B0\u4E2D\u5FC3\u70B9\u4F4D\u7F6E\uFF0C\u66F4\u65B0\u6587\u6848\u4F4D\u7F6E\n            _this.updatePosition({ deltaX: deltaX, deltaY: deltaY });\n            // \u66F4\u65B0rx ry,\u5BBD\u9AD8\u4E3A\u8BA1\u7B97\u5C5E\u6027\u81EA\u52A8\u66F4\u65B0\n            // @ts-ignore\n            _this.nodeModel.rx = _this.nodeModel.rx + deltaX / 2;\n            // @ts-ignore\n            _this.nodeModel.ry = _this.nodeModel.ry + deltaY / 2;\n            _this.nodeModel.setProperties({\n                nodeSize: {\n                    rx: size.width,\n                    ry: size.height,\n                },\n            });\n            var beforeNode = { x: x, y: y, rx: rx, ry: ry };\n            var afterNode = {\n                rx: size.width,\n                ry: size.height,\n                x: _this.nodeModel.x,\n                y: _this.nodeModel.y,\n            };\n            var params = {\n                point: {},\n                beforeNode: beforeNode,\n                afterNode: afterNode,\n            };\n            // \u66F4\u65B0\u8FB9\n            var afterPoint;\n            var edges = _this.getNodeEdges(id);\n            edges.sourceEdges.forEach(function (item) {\n                params.point = item.startPoint;\n                afterPoint = getDiamondReizeEdgePoint(params);\n                item.updateStartPoint(afterPoint);\n            });\n            edges.targetEdges.forEach(function (item) {\n                params.point = item.endPoint;\n                afterPoint = getDiamondReizeEdgePoint(params);\n                item.updateEndPoint(afterPoint);\n            });\n            _this.eventEmit({ beforeNode: beforeNode, afterNode: afterNode });\n        };\n        _this.eventEmit = function (_a) {\n            var beforeNode = _a.beforeNode, afterNode = _a.afterNode;\n            var _b = _this.nodeModel, id = _b.id, modelType = _b.modelType, type = _b.type;\n            var oldNodeSize = __assign({ id: id, modelType: modelType, type: type }, beforeNode);\n            var newNodeSize = __assign({ id: id, modelType: modelType, type: type }, afterNode);\n            _this.graphModel.eventCenter.emit('node:resize', { oldNodeSize: oldNodeSize, newNodeSize: newNodeSize });\n        };\n        _this.onDraging = function (_a) {\n            var deltaX = _a.deltaX, deltaY = _a.deltaY;\n            var modelType = _this.nodeModel.modelType;\n            // html\u548C\u77E9\u5F62\u7684\u8BA1\u7B97\u65B9\u5F0F\u662F\u4E00\u6837\u7684\uFF0C\u5171\u7528\u4E00\u4E2A\u65B9\u6CD5\n            if (modelType === ModelType.RECT_NODE || modelType === ModelType.HTML_NODE) {\n                _this.updateRect({ deltaX: deltaX, deltaY: deltaY });\n                // this.nodeModel.resize(deltaX, deltaY);\n            }\n            else if (modelType === ModelType.ELLIPSE_NODE) {\n                _this.updateEllipse({ deltaX: deltaX, deltaY: deltaY });\n            }\n            else if (modelType === ModelType.DIAMOND_NODE) {\n                _this.updateDiamond({ deltaX: deltaX, deltaY: deltaY });\n            }\n        };\n        _this.index = props.index;\n        _this.nodeModel = props.model;\n        _this.graphModel = props.graphModel;\n        var gridSize = _this.graphModel.gridSize;\n        // \u4E3A\u4FDD\u8BC1\u5BF9\u9F50\u7EBF\u529F\u80FD\u6B63\u5E38\u4F7F\u7528\uFF0Cstep\u9ED8\u8BA4\u662F\u7F51\u683Cgrid\u7684\u4E24\u500D\uFF0C\n        // \u6CA1\u6709\u7F51\u683C\u8BBE\u7F6E\uFF0C\u9ED8\u8BA4\u4E3A2\uFF0C\u4FDD\u8BC1\u5750\u6807\u662F\u6574\u6570\n        var step = 2;\n        if (gridSize > 1) {\n            step = 2 * gridSize;\n        }\n        if (_this.nodeModel.gridSize) {\n            step = 2 * _this.nodeModel.gridSize;\n        }\n        _this.state = {};\n        _this.dragHandler = new StepDrag({\n            onDraging: _this.onDraging,\n            step: step,\n        });\n        return _this;\n    }\n    Control.prototype.getNodeEdges = function (nodeId) {\n        var graphModel = this.graphModel;\n        var edges = graphModel.edges;\n        var sourceEdges = [];\n        var targetEdges = [];\n        for (var i = 0; i < edges.length; i++) {\n            var edgeModel = edges[i];\n            if (edgeModel.sourceNodeId === nodeId) {\n                sourceEdges.push(edgeModel);\n            }\n            else if (edges[i].targetNodeId === nodeId) {\n                targetEdges.push(edgeModel);\n            }\n        }\n        return { sourceEdges: sourceEdges, targetEdges: targetEdges };\n    };\n    Control.prototype.render = function () {\n        var _a = this.props, x = _a.x, y = _a.y, index = _a.index, model = _a.model;\n        var style = model.getControlPointStyle();\n        return (h(\"g\", { className: \"lf-resize-control-\" + index },\n            h(Rect, __assign({ className: \"lf-node-control\" }, { x: x, y: y }, style, { onMouseDown: this.dragHandler.handleMouseDown }))));\n    };\n    return Control;\n}(Component));\nexport default Control;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { h } from '@logicflow/core';\n// TODO: \u9ED8\u8BA4\u6837\u5F0F\u5F15\u5165\nexport default function Rect(props) {\n    var x = props.x, y = props.y, width = props.width, height = props.height, radius = props.radius, className = props.className;\n    var leftTopX = x - width / 2;\n    var leftTopY = y - height / 2;\n    var attrs = __assign(__assign({ \n        // default\n        width: 10, height: 10, cx: 0, cy: 0, rx: radius || 0, ry: radius || 0, fill: 'transparent', fillOpacity: 1, strokeWidth: '1px', stroke: '#000', strokeOpacity: 1, className: \"lf-basic-shape \" + className }, props), { x: leftTopX, y: leftTopY });\n    return (h(\"rect\", __assign({}, attrs)));\n}\nRect.defaultProps = {\n    radius: 0,\n    stroke: '',\n    strokeDasharray: '',\n    className: '',\n};\n", "export var ModelType;\n(function (ModelType) {\n    ModelType[\"NODE\"] = \"node\";\n    ModelType[\"CIRCLE_NODE\"] = \"circle-node\";\n    ModelType[\"POLYGON_NODE\"] = \"polygon-node\";\n    ModelType[\"RECT_NODE\"] = \"rect-node\";\n    ModelType[\"HTML_NODE\"] = \"html-node\";\n    ModelType[\"TEXT_NODE\"] = \"text-node\";\n    ModelType[\"ELLIPSE_NODE\"] = \"ellipse-node\";\n    ModelType[\"DIAMOND_NODE\"] = \"diamond-node\";\n    ModelType[\"EDGE\"] = \"edge\";\n    ModelType[\"LINE_EDGE\"] = \"line-edge\";\n    ModelType[\"POLYLINE_EDGE\"] = \"polyline-edge\";\n    ModelType[\"BEZIER_EDGE\"] = \"bezier-edge\";\n    ModelType[\"GRAPH\"] = \"graph\";\n})(ModelType || (ModelType = {}));\n// \u8BA1\u7B97\u8282\u70B9\u7684box\u56DB\u89D2\u6570\u636E\nfunction getNodeBox(node) {\n    var x = node.x, y = node.y, width = node.width, height = node.height;\n    return {\n        minX: x - width / 2,\n        minY: y - height / 2,\n        maxX: x + width / 2,\n        maxY: y + height / 2,\n    };\n}\n// \u8BA1\u7B97\u77E9\u5F62radius\u8BBE\u7F6E\u540E\uFF0C\u56DB\u4E2A\u5706\u89D2\u7684\u5706\u5FC3\nfunction getRidusCenter(node) {\n    var nodeBox = getNodeBox(node);\n    var radius = node.radius;\n    var minX = nodeBox.minX, minY = nodeBox.minY, maxX = nodeBox.maxX, maxY = nodeBox.maxY;\n    return [\n        {\n            x: minX + radius,\n            y: minY + radius,\n        },\n        {\n            x: maxX - radius,\n            y: minY + radius,\n        },\n        {\n            x: maxX - radius,\n            y: maxY - radius,\n        },\n        {\n            x: minX + radius,\n            y: maxY - radius,\n        },\n    ];\n}\n// \u83B7\u53D6\u77E9\u5F62resize\u4E4B\u540E\uFF0C\u4E0E\u77E9\u5F62\u8FDE\u63A5\u8FB9\u7684\u65B0\u7AEF\u70B9\nexport function getRectReizeEdgePoint(_a) {\n    var point = _a.point, beforeNode = _a.beforeNode, afterNode = _a.afterNode;\n    var x = point.x, y = point.y;\n    var afterPoint = {\n        x: x, y: y,\n    };\n    var radius = beforeNode.radius;\n    var beforeNodeBox = getNodeBox(beforeNode);\n    var afterNodeBox = getNodeBox(afterNode);\n    if (x === beforeNodeBox.minX) {\n        // \u5DE6\u8FB9\n        afterPoint.x = afterNodeBox.minX;\n        var pct = (y - beforeNode.y) / (beforeNode.height / 2 - radius);\n        if (pct) {\n            afterPoint.y = afterNode.y + (afterNode.height / 2 - radius) * pct;\n        }\n        else {\n            afterPoint.y = afterNode.y;\n        }\n    }\n    else if (x === beforeNodeBox.maxX) {\n        // \u53F3\u8FB9\n        afterPoint.x = afterNodeBox.maxX;\n        var pct = (y - beforeNode.y) / (beforeNode.height / 2 - radius);\n        if (pct) {\n            afterPoint.y = afterNode.y + (afterNode.height / 2 - radius) * pct;\n        }\n        else {\n            afterPoint.y = afterNode.y;\n        }\n    }\n    else if (y === beforeNodeBox.minY) {\n        // \u4E0A\u8FB9\n        afterPoint.y = afterNodeBox.minY;\n        var pct = (x - beforeNode.x) / (beforeNode.width / 2 - radius);\n        if (pct) {\n            afterPoint.x = afterNode.x + (afterNode.width / 2 - radius) * pct;\n        }\n        else {\n            afterPoint.x = afterNode.x;\n        }\n    }\n    else if (y === beforeNodeBox.maxY) {\n        // \u4E0B\u8FB9\n        afterPoint.y = afterNodeBox.maxY;\n        var pct = (x - beforeNode.x) / (beforeNode.width / 2 - radius);\n        if (pct) {\n            afterPoint.x = afterNode.x + (afterNode.width / 2 - radius) * pct;\n        }\n        else {\n            afterPoint.x = afterNode.x;\n        }\n    }\n    else {\n        // \u5728\u5706\u89D2\u90E8\u5206\n        var beeforCoc = getRidusCenter(beforeNode);\n        var afterCoc = getRidusCenter(afterNode);\n        var nodeBox = getNodeBox(beforeNode);\n        var minX = nodeBox.minX, minY = nodeBox.minY, maxX = nodeBox.maxX, maxY = nodeBox.maxY;\n        var index = -1;\n        if (x - minX < radius && y - minY < radius) {\n            // \u5DE6\u4E0A\u89D2\n            index = 0;\n        }\n        else if (maxX - x < radius && y - minY < radius) {\n            // \u53F3\u4E0A\u89D2\n            index = 1;\n        }\n        else if (maxX - x < radius && maxY - y < radius) {\n            // \u53F3\u4E0B\u89D2\n            index = 2;\n        }\n        else if (x - minX < radius && minY - y < radius) {\n            // \u5DE6\u4E0B\u89D2\n            index = 3;\n        }\n        if (index > -1) {\n            // \u6839\u636E\u5939\u89D2\u89D2\u5EA6\u8BA1\u7B97\u4F4D\u7F6E\n            var angle = Math.atan2((y - beeforCoc[index].y), (x - beeforCoc[index].x));\n            afterPoint.x = afterCoc[index].x + radius * Math.cos(angle);\n            afterPoint.y = afterCoc[index].y + radius * Math.sin(angle);\n        }\n    }\n    return afterPoint;\n}\n// \u83B7\u53D6\u692D\u5706resize\u4E4B\u540E\uFF0C\u4E0E\u692D\u5706\u8FDE\u63A5\u8FB9\u7684\u65B0\u7AEF\u70B9\nexport function getEllipseReizeEdgePoint(_a) {\n    var point = _a.point, beforeNode = _a.beforeNode, afterNode = _a.afterNode;\n    var rx = afterNode.rx, ry = afterNode.ry;\n    var afterPoint = point;\n    // \u5C06\u692D\u5706\u4E2D\u5FC3\u5F53\u505A\u4E2D\u5FC3\u70B9(0,0)\uFF0C\u653E\u5927\u7F29\u5C0F\u524D\u70B9\u4E0EX\u5468\u5939\u89D2\n    var tan = (point.y - beforeNode.y) / (point.x - beforeNode.x);\n    // \u65B9\u4FBF\u4E0E\u516C\u5F0F\u5BF9\u7167\uFF0C\u5C06rx\u547D\u540D\u4E3Aa,ry\u547D\u540D\u4E3Ab\n    var a = rx;\n    var b = ry;\n    var x;\n    var y;\n    // \u5C06\u692D\u5706\u4E2D\u5FC3\u5F53\u505A\u4E2D\u5FC3\u70B9(0,0),\u8BA1\u7B97\u653E\u5927\u7F29\u5C0F\u540E\uFF0C\u540C\u4E00\u5939\u89D2\u4E0B\uFF0C\u70B9\u76F8\u5BF9\u4F4D\u7F6E\n    if (tan >= Infinity) {\n        //  \u03B8 = PI / 2\n        x = 0;\n        y = b;\n    }\n    else if (tan <= -Infinity) {\n        //  \u03B8 = 3 * PI / 2\n        x = 0;\n        y = -b;\n    }\n    else if (point.x - beforeNode.x > 0) {\n        //  0 < \u03B8 = PI / 2   \u6216\u8005  3 * PI / 2 < \u03B8 = 2 * PI\n        //  \u4E00\u56DB\u8C61\u9650\n        x = (a * b) / (Math.sqrt((b * b) + a * a * tan * tan));\n        y = (a * b * tan) / (Math.sqrt((b * b) + a * a * tan * tan));\n    }\n    else {\n        //  PI / 2 < \u03B8  3 * PI / 2\n        //  \u4E8C\u4E09\u8C61\u9650\n        x = -(a * b) / (Math.sqrt((b * b) + a * a * tan * tan));\n        y = -(a * b * tan) / (Math.sqrt((b * b) + a * a * tan * tan));\n    }\n    afterPoint = { x: x + afterNode.x, y: y + afterNode.y };\n    return afterPoint;\n}\n// \u83B7\u53D6\u83F1\u5F62resize\u4E4B\u540E\uFF0C\u4E0E\u83F1\u5F62\u8FDE\u63A5\u8FB9\u7684\u65B0\u7AEF\u70B9\nexport function getDiamondReizeEdgePoint(_a) {\n    var point = _a.point, beforeNode = _a.beforeNode, afterNode = _a.afterNode;\n    var afterPoint = point;\n    var x;\n    var y;\n    var px = point.x - beforeNode.x;\n    var py = point.y - beforeNode.y;\n    var rxBefore = beforeNode.rx;\n    var ryBefore = beforeNode.ry;\n    // eslint-disable-next-line max-len\n    var pct = Math.sqrt((rxBefore - Math.abs(px)) * (rxBefore - Math.abs(px)) + py * py) / Math.sqrt(rxBefore * rxBefore + ryBefore * ryBefore);\n    var rxAfter = afterNode.rx;\n    var ryAfter = afterNode.ry;\n    // eslint-disable-next-line max-len\n    var a = Math.sqrt((rxAfter * rxAfter + ryAfter * ryAfter) * pct * pct * ((rxAfter * rxAfter) / (rxAfter * rxAfter + ryAfter * ryAfter)));\n    var b = a * (ryAfter / rxAfter);\n    if (px >= 0) {\n        // eslint-disable-next-line max-len\n        x = rxAfter - a;\n    }\n    else {\n        x = a - rxAfter;\n    }\n    if (py > 0) {\n        y = b;\n    }\n    else {\n        y = -b;\n    }\n    afterPoint = {\n        x: x + afterNode.x,\n        y: y + afterNode.y,\n    };\n    return afterPoint;\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { h, EllipseNode, EllipseNodeModel } from '@logicflow/core';\nimport ControlGroup from '../Control/ControlGroup';\nvar EllipseResizeModel = /** @class */ (function (_super) {\n    __extends(EllipseResizeModel, _super);\n    function EllipseResizeModel(data, graphModel) {\n        var _this = _super.call(this, data, graphModel) || this;\n        var nodeSize = _this.properties.nodeSize;\n        if (nodeSize) {\n            _this.rx = nodeSize.rx;\n            _this.ry = nodeSize.ry;\n        }\n        return _this;\n    }\n    EllipseResizeModel.prototype.initNodeData = function (data) {\n        _super.prototype.initNodeData.call(this, data);\n        this.minWidth = 30;\n        this.minHeight = 30;\n        this.maxWidth = 2000;\n        this.maxHeight = 2000;\n    };\n    EllipseResizeModel.prototype.getOutlineStyle = function () {\n        var style = _super.prototype.getOutlineStyle.call(this);\n        style.stroke = 'none';\n        if (style.hover) {\n            style.hover.stroke = 'none';\n        }\n        return style;\n    };\n    EllipseResizeModel.prototype.getResizeOutlineStyle = function () {\n        return {\n            stroke: '#000000',\n            strokeWidth: 1,\n            strokeDasharray: '3,3',\n        };\n    };\n    EllipseResizeModel.prototype.getControlPointStyle = function () {\n        return {\n            width: 7,\n            height: 7,\n            fill: '#FFFFFF',\n            stroke: '#000000',\n        };\n    };\n    return EllipseResizeModel;\n}(EllipseNodeModel));\nvar EllipseResizeView = /** @class */ (function (_super) {\n    __extends(EllipseResizeView, _super);\n    function EllipseResizeView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    EllipseResizeView.prototype.getControlGroup = function () {\n        var _a = this.props, model = _a.model, graphModel = _a.graphModel;\n        return (h(ControlGroup, { model: model, graphModel: graphModel }));\n    };\n    // getResizeShape\u7ED8\u5236\u56FE\u5F62\uFF0C\u529F\u80FD\u7B49\u540C\u4E8E\u57FA\u7840\u692D\u5706\u7684getShape\u529F\u80FD\uFF0C\u53EF\u4EE5\u901A\u8FC7\u590D\u5199\u6B64\u65B9\u6CD5\uFF0C\u8FDB\u884C\u8282\u70B9\u81EA\u5B9A\u4E49\n    EllipseResizeView.prototype.getResizeShape = function () {\n        return _super.prototype.getShape.call(this);\n    };\n    EllipseResizeView.prototype.getShape = function () {\n        var model = this.props.model;\n        return (h(\"g\", null,\n            this.getResizeShape(),\n            model.isSelected ? this.getControlGroup() : ''));\n    };\n    return EllipseResizeView;\n}(EllipseNode));\nvar EllipseResize = {\n    type: 'ellipse',\n    view: EllipseResizeView,\n    model: EllipseResizeModel,\n};\nexport default EllipseResize;\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { h, DiamondNode, DiamondNodeModel } from '@logicflow/core';\nimport ControlGroup from '../Control/ControlGroup';\nimport Polygon from '../BasicShape/Polygon';\nvar DiamondResizeModel = /** @class */ (function (_super) {\n    __extends(DiamondResizeModel, _super);\n    function DiamondResizeModel(data, graphModel) {\n        var _this = _super.call(this, data, graphModel) || this;\n        var nodeSize = _this.properties.nodeSize;\n        if (nodeSize) {\n            _this.rx = nodeSize.rx;\n            _this.ry = nodeSize.ry;\n        }\n        return _this;\n    }\n    DiamondResizeModel.prototype.initNodeData = function (data) {\n        _super.prototype.initNodeData.call(this, data);\n        this.minWidth = 30;\n        this.minHeight = 30;\n        this.maxWidth = 2000;\n        this.maxHeight = 2000;\n        this.gridSize = 1;\n    };\n    DiamondResizeModel.prototype.getOutlineStyle = function () {\n        var style = _super.prototype.getOutlineStyle.call(this);\n        style.stroke = 'none';\n        if (style.hover) {\n            style.hover.stroke = 'none';\n        }\n        return style;\n    };\n    DiamondResizeModel.prototype.getResizeOutlineStyle = function () {\n        return {\n            stroke: '#000000',\n            strokeWidth: 1,\n            strokeDasharray: '3,3',\n        };\n    };\n    DiamondResizeModel.prototype.getControlPointStyle = function () {\n        return {\n            width: 7,\n            height: 7,\n            fill: '#FFFFFF',\n            stroke: '#000000',\n        };\n    };\n    return DiamondResizeModel;\n}(DiamondNodeModel));\nvar DiamondResizeView = /** @class */ (function (_super) {\n    __extends(DiamondResizeView, _super);\n    function DiamondResizeView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    DiamondResizeView.prototype.getControlGroup = function () {\n        var _a = this.props, model = _a.model, graphModel = _a.graphModel;\n        return (h(ControlGroup, { model: model, graphModel: graphModel }));\n    };\n    // getResizeShape\u7ED8\u5236\u56FE\u5F62\uFF0C\u529F\u80FD\u7B49\u540C\u4E8E\u57FA\u7840\u83F1\u5F62\u7684getShape\u529F\u80FD\uFF0C\u53EF\u4EE5\u901A\u8FC7\u590D\u5199\u6B64\u65B9\u6CD5\uFF0C\u8FDB\u884C\u8282\u70B9\u81EA\u5B9A\u4E49\n    DiamondResizeView.prototype.getResizeShape = function () {\n        var model = this.props.model;\n        var points = model.points;\n        var style = model.getNodeStyle();\n        return (h(\"g\", null,\n            h(Polygon, __assign({}, style, { points: points }))));\n    };\n    DiamondResizeView.prototype.getShape = function () {\n        var isSelected = this.props.model.isSelected;\n        return (h(\"g\", null,\n            this.getResizeShape(),\n            isSelected ? this.getControlGroup() : ''));\n    };\n    return DiamondResizeView;\n}(DiamondNode));\nvar EllipseResize = {\n    type: 'diamond',\n    view: DiamondResizeView,\n    model: DiamondResizeModel,\n};\nexport default EllipseResize;\n", "var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport { h } from '@logicflow/core';\nexport default function Polygon(_a) {\n    var _b = _a.fillOpacity, fillOpacity = _b === void 0 ? 1 : _b, _c = _a.strokeWidth, strokeWidth = _c === void 0 ? 1 : _c, _d = _a.strokeOpacity, strokeOpacity = _d === void 0 ? 1 : _d, _e = _a.fill, fill = _e === void 0 ? 'transparent' : _e, _f = _a.stroke, stroke = _f === void 0 ? '#000' : _f, points = _a.points, _g = _a.className, className = _g === void 0 ? 'lf-basic-shape' : _g;\n    var attrs = {\n        fill: fill,\n        fillOpacity: fillOpacity,\n        strokeWidth: strokeWidth,\n        stroke: stroke,\n        strokeOpacity: strokeOpacity,\n        points: '',\n        className: className,\n    };\n    attrs.points = points.map(function (point) { return point.join(','); }).join(' ');\n    return (h(\"polygon\", __assign({}, attrs)));\n}\n", "var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { h, HtmlNode, HtmlNodeModel } from '@logicflow/core';\nimport ControlGroup from '../Control/ControlGroup';\nvar HtmlResizeModel = /** @class */ (function (_super) {\n    __extends(HtmlResizeModel, _super);\n    function HtmlResizeModel(data, graphModel) {\n        var _this = _super.call(this, data, graphModel) || this;\n        var nodeSize = _this.properties.nodeSize;\n        if (nodeSize) {\n            _this.width = nodeSize.width;\n            _this.height = nodeSize.height;\n        }\n        return _this;\n    }\n    HtmlResizeModel.prototype.initNodeData = function (data) {\n        _super.prototype.initNodeData.call(this, data);\n        this.minWidth = 30;\n        this.minHeight = 30;\n        this.maxWidth = 2000;\n        this.maxHeight = 2000;\n    };\n    HtmlResizeModel.prototype.getOutlineStyle = function () {\n        var style = _super.prototype.getOutlineStyle.call(this);\n        style.stroke = 'none';\n        if (style.hover) {\n            style.hover.stroke = 'none';\n        }\n        return style;\n    };\n    HtmlResizeModel.prototype.getResizeOutlineStyle = function () {\n        return {\n            stroke: '#000000',\n            strokeWidth: 1,\n            strokeDasharray: '3,3',\n        };\n    };\n    HtmlResizeModel.prototype.getControlPointStyle = function () {\n        return {\n            width: 7,\n            height: 7,\n            fill: '#FFFFFF',\n            stroke: '#000000',\n        };\n    };\n    return HtmlResizeModel;\n}(HtmlNodeModel));\nvar HtmlResizeView = /** @class */ (function (_super) {\n    __extends(HtmlResizeView, _super);\n    function HtmlResizeView() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    HtmlResizeView.prototype.getControlGroup = function () {\n        var _a = this.props, model = _a.model, graphModel = _a.graphModel;\n        return (h(ControlGroup, { model: model, graphModel: graphModel }));\n    };\n    // getResizeShape\u7ED8\u5236\u56FE\u5F62\uFF0C\u529F\u80FD\u7B49\u540C\u4E8E\u57FA\u7840\u77E9\u5F62\u7684getShape\u529F\u80FD\uFF0C\u53EF\u4EE5\u901A\u8FC7\u590D\u5199\u6B64\u65B9\u6CD5\uFF0C\u8FDB\u884C\u8282\u70B9\u81EA\u5B9A\u4E49\n    HtmlResizeView.prototype.getResizeShape = function () {\n        return _super.prototype.getShape.call(this);\n    };\n    HtmlResizeView.prototype.getShape = function () {\n        var isSelected = this.props.model.isSelected;\n        return (h(\"g\", null,\n            this.getResizeShape(),\n            isSelected ? this.getControlGroup() : ''));\n    };\n    return HtmlResizeView;\n}(HtmlNode));\nvar HtmlResize = {\n    type: 'html',\n    view: HtmlResizeView,\n    model: HtmlResizeModel,\n};\nexport default HtmlResize;\n", "/**\n * \u8DEF\u5F84\u63D2\u4EF6\uFF0C\u6B64\u63D2\u4EF6\u652F\u6301\u83B7\u53D6\u7ED8\u5236\u7684\u56FE\u4E2D\u6240\u6709\u7684\u8DEF\u5F84\u3002\n * \u9700\u8981\u6307\u5B9A\u5F00\u59CB\u8282\u70B9\u7C7B\u578B\u3002\n */\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nvar __spread = (this && this.__spread) || function () {\n    for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n    return ar;\n};\nimport { getBpmnId } from '../../bpmn/getBpmnId';\nvar FlowPath = /** @class */ (function () {\n    function FlowPath(_a) {\n        var _this = this;\n        var lf = _a.lf;\n        this.lf = lf;\n        this.pathes = [];\n        // \u7ED9lf\u6DFB\u52A0\u65B9\u6CD5\n        lf.getPathes = function () {\n            if (!_this.startNodeType) {\n                throw new Error('\u9700\u8981\u9884\u5148\u6307\u5B9A\u5F00\u59CB\u8282\u70B9\u7C7B\u578B');\n            }\n            return _this.getPathes();\n        };\n        lf.setRawPathes = function (pathes) {\n            _this.setPathes(pathes);\n        };\n        lf.getRawPathes = function () { return _this.pathes; };\n        lf.setStartNodeType = function (type) {\n            _this.startNodeType = type;\n        };\n    }\n    FlowPath.prototype.setPathes = function (pathes) {\n        this.pathes = pathes.map(function (_a) {\n            var routeId = _a.routeId, name = _a.name, elements = _a.elements, type = _a.type;\n            return ({\n                routeId: routeId,\n                name: name,\n                elements: elements,\n                type: type,\n                similarElement: null,\n                weight: 0,\n            });\n        });\n    };\n    FlowPath.prototype.getPathes = function () {\n        var _this = this;\n        var graphData = this.lf.getGraphRawData();\n        var nodesMap = new Map();\n        var startNodeIds = [];\n        graphData.nodes.forEach(function (node) {\n            nodesMap.set(node.id, {\n                id: node.id,\n                data: node,\n                nextNodes: [],\n            });\n            if (node.type === _this.startNodeType) {\n                startNodeIds.push(node.id);\n            }\n        });\n        graphData.edges.forEach(function (edge) {\n            var node = nodesMap.get(edge.sourceNodeId);\n            node.nextNodes.push(edge.targetNodeId);\n        });\n        var pathElements = [];\n        startNodeIds.forEach(function (id) {\n            pathElements = pathElements.concat(_this.findPathElements(nodesMap.get(id), nodesMap, []));\n        });\n        return this.getNewPathes(pathElements);\n    };\n    FlowPath.prototype.findPathElements = function (node, nodesMap, elements) {\n        if (elements === void 0) { elements = []; }\n        var newPathes = __spread(elements);\n        newPathes.push(node.id);\n        if (node.nextNodes.length === 0) {\n            return [newPathes];\n        }\n        var subPath = [];\n        for (var i = 0; i < node.nextNodes.length; i++) {\n            var n = nodesMap.get(node.nextNodes[i]);\n            var p = void 0;\n            // \u5FAA\u73AF\u8DEF\u5F84\n            var idx = newPathes.indexOf(n.id);\n            if (idx !== -1) {\n                p = [__spread(newPathes.slice(idx), [n.id])];\n            }\n            else {\n                p = this.findPathElements(n, nodesMap, __spread(newPathes));\n            }\n            subPath = subPath.concat(p);\n        }\n        return subPath;\n    };\n    /**\n     * \u8BBE\u7F6E\u8DEF\u5F84id\n     * \u5982\u679C\u5B58\u5728\u539F\u59CB\u8DEF\u5F84Id, \u5219\u9700\u8981\u6BD4\u8F83\u65B0\u8DEF\u5F84\u662F\u5426\u5728\u539F\u59CB\u8DEF\u5F84\u4E2D\u5B58\u5728\u76F8\u4F3C\u8DEF\u5F84\n     * \u5982\u679C\u6709\uFF0C\u5219\u5C3D\u91CF\u4F7F\u7528\u539F\u59CB\u8DEF\u5F84\u3002\n     * \u76F8\u4F3C\u8DEF\u5F84\n     * 1. \u5982\u679C\u6240\u6709\u7684\u8282\u70B9\u90FD\u76F8\u540C\uFF0C\u5219\u5FC5\u5B9A\u4E3A\u540C\u4E00\u8DEF\u5F84\u3002(\u5305\u62EC\u987A\u5E8F\u4E0D\u540C)\n     * 2. \u5982\u679C\u65B0\u8DEF\u5F84\u6BD4\u539F\u6765\u8DEF\u5F84\u5C11\u4E86\u6216\u8005\u591A\u4E86\u90E8\u5206\u8282\u70B9\uFF0C\u5219\u8BB0\u5F55\u4E3A\u76F8\u4F3C\u8DEF\u5F84\u3002\u57FA\u4E8E\u4E0D\u540C\u7684\u5DEE\u5F02\uFF0C\u6807\u8BB0\u4E0D\u540C\u7684\u6743\u91CD\u3002\n     * 3. \u57FA\u4E8E\u65B0\u8DEF\u5F84\u5728\u65E7\u8DEF\u5F84\u5360\u7528\u6743\u9650\uFF0C\u8BBE\u7F6E\u65B0\u8DEF\u5F84Id.\n     * 4. \u5982\u679C\u67D0\u4E00\u6761\u65E7\u8DEF\u5F84\u88AB\u591A\u6761\u65B0\u8DEF\u5F84\u6807\u8BB0\u4E3A\u76F8\u540C\u7684\u6743\u91CD\uFF0C\u5219\u8FD9\u4E24\u6761\u65B0\u8DEF\u5F84\u90FD\u4F7F\u7528\u65B0Id.\n     */\n    FlowPath.prototype.getNewPathes = function (pathElements) {\n        var _this = this;\n        var pathes = [];\n        // \u7531\u4E8E\u5FAA\u73AF\u8DEF\u5F84\u4E0D\u5305\u62EC\u5F00\u59CB\uFF0C\u6240\u4EE5\u5B58\u5728\u91CD\u590D\u7684\u60C5\u51B5\uFF0C\u6B64\u5904\u53BB\u91CD\u3002\n        var LoopSet = new Set();\n        pathElements.forEach(function (elements) {\n            var routeId = _this.getNewId('path');\n            var name = _this.getNewId('\u8DEF\u5F84');\n            var isLoop = _this.isLoopPath(elements);\n            var elementStr = elements.join(',');\n            if (!LoopSet.has(elementStr)) {\n                LoopSet.add(elementStr);\n                pathes.push({\n                    routeId: routeId,\n                    name: name,\n                    elements: elements,\n                    type: isLoop,\n                    weight: 0,\n                    similarElement: '',\n                });\n            }\n        });\n        var oldPathes = JSON.parse(JSON.stringify(this.pathes));\n        // 1) \u627E\u5230\u6240\u6709\u8DEF\u5F84\u6700\u76F8\u4F3C\u7684\u8DEF\u5F84, \u7ED9\u65E7\u8DEF\u5F84\u6807\u8BB0\u5176\u6700\u63A5\u8FD1\u7684\u8DEF\u5F84\n        pathes.forEach(function (newPath) {\n            for (var i = 0; i < oldPathes.length; i++) {\n                var oldPath = oldPathes[i];\n                var weight = _this.similar2Path(__spread(newPath.elements), __spread(oldPath.elements));\n                if (weight > newPath.weight && oldPath.weight <= weight) {\n                    newPath.weight = weight;\n                    newPath.similarElement = oldPath;\n                    if (weight === oldPath.weight && oldPath.similarElement) {\n                        // \u7279\u6B8A\u5904\u7406\uFF0C\u5982\u679C\u4E24\u4E2A\u8DEF\u5F84\u90FD\u4E0E\u540C\u4E00\u6761\u65E7\u8DEF\u5F84\u6709\u76F8\u4F3C\u7684\u6743\u91CD\uFF0C\u5219\u8FD9\u4E24\u4E2A\u8DEF\u5F84\u7684\u76F8\u4F3C\u8DEF\u5F84\u90FD\u7F6E\u7A7A\n                        oldPath.similarElement.similarElement = null;\n                        oldPath.similarElement.weight = 0;\n                        oldPath.similarElement = null;\n                        oldPath.weight = 0;\n                    }\n                    else {\n                        oldPath.similarElement = newPath;\n                        oldPath.weight = weight;\n                    }\n                }\n            }\n        });\n        // 2) \u518D\u6B21\u904D\u5386\u6240\u6709\u8DEF\u5F84\uFF0C\u5982\u679C\u8BE5\u8DEF\u5F84\u7684\u76F8\u4F3C\u8DEF\u5F84\u5BF9\u5E94\u7684\u76F8\u4F3C\u8DEF\u5F84\u662F\u81EA\u5DF1\uFF0C\u90A3\u4E48\u5C31\u8BBE\u7F6E\u8BE5\u8DEF\u5F84id\u548Cname\u4E3A\u5176\u76F8\u4F3C\u8DEF\u5F84\u3002\n        pathes.forEach(function (newPath) {\n            if (newPath.similarElement && newPath.similarElement.similarElement === newPath) {\n                newPath.routeId = newPath.similarElement.routeId;\n                newPath.name = newPath.similarElement.name;\n            }\n            delete newPath.similarElement;\n            delete newPath.weight;\n        });\n        this.setPathes(pathes);\n        return pathes;\n    };\n    FlowPath.prototype.similar2Path = function (x, y) {\n        var z = 0;\n        var s = x.length + y.length;\n        x.sort();\n        y.sort();\n        var a = x.shift();\n        var b = y.shift();\n        while (a !== undefined && b !== undefined) {\n            if (a === b) {\n                z++;\n                a = x.shift();\n                b = y.shift();\n            }\n            else if (a < b) {\n                a = x.shift();\n            }\n            else if (a > b) {\n                b = y.shift();\n            }\n        }\n        return (z / s) * 200;\n    };\n    FlowPath.prototype.getNewId = function (prefix) {\n        return prefix + \"_\" + getBpmnId();\n    };\n    /**\n     * \u5224\u65AD\u662F\u5426\u4E3A\u5FAA\u73AF\u8DEF\u5F84\n     * \u7531\u4E8E\u524D\u9762\u8FDB\u884C\u4E86\u7279\u6B8A\u5904\u7406\uFF0C\u5C06\u5FAA\u73AF\u90E8\u5206\u5355\u72EC\u63D0\u51FA\u6765\u4F5C\u4E3A\u8DEF\u5F84\n     * \u6240\u6709\u5FAA\u73AF\u8DEF\u5F84\u5FC5\u5B9A\u5F00\u59CB\u8282\u70B9\u7B49\u4E8E\u7ED3\u675F\u8282\u70B9\u3002\n     */\n    FlowPath.prototype.isLoopPath = function (elements) {\n        var length = elements.length;\n        return elements.indexOf(elements[length - 1]) !== length - 1 ? 1 : 0;\n    };\n    FlowPath.pluginName = 'flowPath';\n    return FlowPath;\n}());\nexport { FlowPath, };\n", "/**\n * \u81EA\u52A8\u5E03\u5C40\u63D2\u4EF6\n * \u4F9D\u8D56flowpath\u63D2\u4EF6\n * \u672A\u5B8C\u5584\n */\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar POSITION_TYPE = {\n    LEFT_TOP: -1,\n    LEFT: 0,\n    LEFT_BOTTOM: 1,\n};\nvar AutoLayout = /** @class */ (function () {\n    function AutoLayout(_a) {\n        var _this = this;\n        var lf = _a.lf;\n        this.lf = lf;\n        /**\n         * \u7528\u4E8E\u8BB0\u5F55\u4E0A\u4E00\u6B21\u8C03\u7528layout\u65F6\u8BA1\u7B97\u51FA\u7684trunk\n         * \u5F53\u65E7trunk\u548C\u65B0trunk\u957F\u5EA6\u4E00\u81F4\u65F6\uFF0C\u7528\u4E8E\u9009\u62E9\u65E7trunk,\n         * a->b->c->d\n         *    |->e\n         * e\u540E\u9762\u65B0\u589Ef\u8282\u70B9\u65F6\u5019\uFF0C\u65E7\u903B\u8F91\u4F1A\u8FD4\u56DE\u65B0trunk[a,b,e,f]\n         * \u754C\u9762\u5E03\u5C40\u53D8\u6210\n         * a->b->e->f\n         *    |->c->d\n         * \u5176\u5B9E\u53EA\u60F3\u8981\u8FD9\u6837 \u5C3D\u91CF\u5C11\u53D8\u5316\n         * a->b->c->d\n         *    |->e->f\n         * */\n        this.trunk = [];\n        // \u7ED9lf\u6DFB\u52A0\u65B9\u6CD5\n        lf.layout = function (startNodeType) {\n            var data = _this.lf.getGraphRawData();\n            _this.lf.setStartNodeType(startNodeType);\n            var path = _this.lf.getPathes();\n            _this.levelHeight = [];\n            _this.newNodeMap = new Map();\n            return _this.layout(data, path);\n        };\n    }\n    // 1) \u5C06\u6240\u6709\u8282\u70B9\u548C\u8FB9\u7684\u5750\u6807\u5220\u9664\u3002\u8282\u70B9\u4E0A\u7684\u6587\u672C\u6539\u6210\u504F\u79FB\u91CF\u3002\n    // 2) \u627E\u5230\u957F\u5EA6\u6700\u957F\u7684\u8DEF\u5F84\uFF0C\u4F5C\u4E3A\u57FA\u51C6\u8DEF\u5F84\u3002\n    // 3) \u4F9D\u6B21\u8BA1\u7B97\n    // \u62FF\u5230\u6700\u957F\u7684\u8DEF\u5F84\u3002\n    // nodes: [], edges: [],\n    AutoLayout.prototype.layout = function (data, path) {\n        var _this = this;\n        var trunk = [];\n        path.forEach(function (p) {\n            var elements = p.elements;\n            if (elements.length > trunk.length) {\n                trunk = elements;\n            }\n            else if (elements.length === trunk.length) {\n                // \u8003\u8651\u662F\u5426\u66FF\u6362\u4E3A\u65E7\u7684trunk\n                if (JSON.stringify(elements) === JSON.stringify(_this.trunk)) {\n                    trunk = _this.trunk;\n                }\n            }\n        });\n        // \u8BB0\u5F55\u4E0A\u4E00\u6B21trunk\n        this.trunk = trunk;\n        var nodeMap = this.formatData(data);\n        var newGraphData = {\n            nodes: [],\n            edges: [],\n        };\n        // \u4ECE\u540E\u5411\u524D\u5E03\u5C40\n        for (var i = trunk.length - 1; i >= 0; i--) {\n            this.setNodePosition(trunk[i], nodeMap, newGraphData, i, 1);\n        }\n        this.lf.graphModel.graphDataToModel(newGraphData);\n    };\n    // 1) \u9700\u8981\u77E5\u9053\u4E0B\u4E00\u5C42\u7EA7\u5DF2\u5360\u9AD8\u5EA6\u3002\n    // 2) \u57FA\u4E8E\u81EA\u5DF1\u7684\u9AD8\u5EA6\uFF0C\u5224\u65AD\u4E0B\u4E00\u4E2A\u5C42\u7EA7\u7684\u9AD8\u5EA6\n    AutoLayout.prototype.setNodePosition = function (nodeId, nodeMap, newGraphData, xLevel, yLevel) {\n        var _this = this;\n        var n = nodeMap[nodeId];\n        var text = n.text, type = n.type, next = n.next, properties = n.properties;\n        var x = xLevel * 160 + 40;\n        var y = yLevel * 120;\n        var nodeData = {\n            id: nodeId,\n            x: x,\n            text: text,\n            y: y,\n            type: type,\n            properties: properties,\n        };\n        if (text && typeof text === 'object') {\n            nodeData.text = __assign(__assign({}, text), { x: x + text.x, y: y + text.y });\n        }\n        this.newNodeMap.set(nodeData.id, {\n            x: nodeData.x,\n            y: nodeData.y,\n            type: type,\n        });\n        newGraphData.nodes.push(nodeData);\n        n.isFixed = true;\n        this.addLevelHeight(xLevel, 1);\n        if (next && next.length > 0) {\n            next.forEach(function (nextInfo) {\n                // \u5982\u679C\u4E0B\u4E00\u4E2A\u8282\u70B9\u8FD8\u6CA1\u6709\u88AB\u5B9A\u4F4D\uFF0C\u90A3\u4E48\u8BBE\u7F6E\u5176\u5B9A\u4F4D\n                var n1 = nodeMap[nextInfo.nodeId];\n                if (!n1.isFixed) {\n                    var nextYLevel = _this.getLevelHeight(xLevel + 1);\n                    _this.addLevelHeight(xLevel, 1);\n                    _this.setNodePosition(nextInfo.nodeId, nodeMap, newGraphData, xLevel + 1, nextYLevel + 1);\n                }\n                else {\n                    // todo: \u5982\u679C\u4E0B\u4E00\u4E2A\u8282\u70B9\u662F\u5DF2\u7ECF\u5B9A\u4F4D\u7684\uFF0C\u5219\u9700\u8981\u8003\u8651\u8FB9\u7684\u89C4\u907F\n                }\n                // \u8BBE\u7F6E\u8FDE\u63A5\u5230\u4E0B\u4E00\u4E2A\u8282\u70B9\u7684\u8FB9\n                // 1) \u8D77\u59CB\u4F4D\u7F6E\u4E3Asource\u8282\u70B9\u7684\u4E0B\u65B9\uFF0C\u7ED3\u675F\u4F4D\u7F6E\u4E3Atarget\u8282\u70B9\u5DE6\u8FB9\u3002\n                // 2) \u8BA1\u7B97\u6298\u7EBF\n                newGraphData.edges.push(__assign({ id: nextInfo.edgeId, type: nextInfo.edgeType, sourceNodeId: nodeId, targetNodeId: nextInfo.nodeId, properties: nextInfo.properties, text: nextInfo.text }, _this.getEdgeDataPoints(nodeId, nextInfo.nodeId)));\n            });\n        }\n        return nodeData;\n    };\n    /**\n     * 1. \u5904\u7406\u8FB9\u4E0A\u7684\u6587\u672C\n     * 2. \u4E3B\u5E72\u8282\u70B9\u4E4B\u95F4\u76F4\u63A5\u7684\u8FB9\n     * 3. \u4E00\u4E2A\u8282\u70B9\u88AB\u591A\u4E2A\u8FDE\u63A5\u4F5C\u4E3A\u76EE\u6807\u8282\u70B9\uFF0C\u5408\u7406\u5206\u914D\u951A\u70B9\u4F4D\u7F6E\u3002\n     */\n    AutoLayout.prototype.getEdgeDataPoints = function (sourceNodeId, targetNodeId) {\n        var source = this.newNodeMap.get(sourceNodeId);\n        var target = this.newNodeMap.get(targetNodeId);\n        var _a = this.getShape(sourceNodeId), width = _a.width, height = _a.height;\n        var _b = this.getShape(targetNodeId), targetWidth = _b.width, targetHeight = _b.height;\n        var postionType = this.getRelativePosition(source, target);\n        var startPoint = {\n            x: source.x,\n            y: source.y,\n        };\n        var endPoint = {\n            x: target.x,\n            y: target.y,\n        };\n        switch (postionType) {\n            case POSITION_TYPE.LEFT:\n                startPoint.x = source.x + width / 2;\n                endPoint.x = target.x - targetWidth / 2;\n                break;\n            case POSITION_TYPE.LEFT_TOP:\n                startPoint.y = source.y + height / 2;\n                endPoint.x = target.x - targetWidth / 2;\n                break;\n            case POSITION_TYPE.LEFT_BOTTOM:\n                startPoint.x = source.x + width / 2;\n                endPoint.y = target.y + targetHeight / 2;\n                break;\n            default:\n                break;\n        }\n        return {\n            startPoint: startPoint,\n            endPoint: endPoint,\n        };\n    };\n    /**\n     * \u83B7\u53D6\u8FB9\u7684\u8FDE\u63A5\u8282\u70B9\u76F8\u5BF9\u4F4D\u7F6E\u3002\n     * source\u4E00\u5B9A\u5728target\u5DE6\u8FB9\u3002\n     * 1. \u5982\u679Csource\u548Ctarget\u5728\u540C\u4E00x, y\u5750\u6807\u5185\u5BB9\u3002\n     * 2. \u5982\u679Csource\u5728target\u5DE6\u4E0A\u65B9\u3002\n     * 3. \u5982\u679Csouce\u5728target\u5DE6\u4E0B\u65B9\u3002\n     */\n    AutoLayout.prototype.getRelativePosition = function (source, target) {\n        var y = source.y;\n        var y1 = target.y;\n        var postionType;\n        if (y < y1) {\n            postionType = -1;\n        }\n        else if (y === y1) {\n            postionType = 0;\n        }\n        else {\n            postionType = 1;\n        }\n        return postionType;\n    };\n    /**\n     * \u83B7\u53D6\u8FB9\u8282\u70B9\u56FE\u5F62\u7684\u5BBD\u9AD8\u3002\n     */\n    AutoLayout.prototype.getShape = function (nodeId) {\n        var nodeModel = this.lf.getNodeModelById(nodeId);\n        return {\n            height: nodeModel.height,\n            width: nodeModel.width,\n        };\n    };\n    AutoLayout.prototype.formatData = function (data) {\n        var nodeMap = data.nodes.reduce(function (nMap, node) {\n            var type = node.type, properties = node.properties, text = node.text, x = node.x, y = node.y;\n            if (text && typeof text === 'object') {\n                // \u5750\u6807\u8F6C\u6362\u4E3A\u504F\u79FB\u91CF\n                text.x = text.x - x;\n                text.y = text.y - y;\n            }\n            nMap[node.id] = {\n                type: type,\n                properties: properties,\n                text: text,\n                prev: [],\n                next: [],\n            };\n            return nMap;\n        }, {});\n        data.edges.forEach(function (edge) {\n            var sourceNodeId = edge.sourceNodeId, targetNodeId = edge.targetNodeId, id = edge.id, properties = edge.properties, text = edge.text;\n            var newText = text;\n            if (typeof text === 'object') {\n                newText = text.value;\n            }\n            nodeMap[sourceNodeId].next.push({\n                edgeId: id,\n                nodeId: targetNodeId,\n                edgeType: edge.type,\n                properties: properties,\n                text: newText,\n            });\n            nodeMap[targetNodeId].prev.push({\n                edgeId: id,\n                nodeId: sourceNodeId,\n                properties: properties,\n                text: newText,\n            });\n        });\n        return nodeMap;\n    };\n    AutoLayout.prototype.addLevelHeight = function (level, height, isNegative) {\n        if (height === void 0) { height = 1; }\n        if (isNegative === void 0) { isNegative = false; }\n        var l = this.levelHeight[level];\n        if (!l) {\n            l = {\n                positiveHeight: 0,\n                negativeHeight: 0,\n            };\n            this.levelHeight[level] = l;\n        }\n        isNegative ? (l.negativeHeight -= height) : (l.positiveHeight += height);\n    };\n    AutoLayout.prototype.getLevelHeight = function (level, isNegative) {\n        if (isNegative === void 0) { isNegative = false; }\n        var val = this.levelHeight[level];\n        if (!val) {\n            return 0;\n        }\n        return isNegative ? val.negativeHeight : val.positiveHeight;\n    };\n    AutoLayout.pluginName = 'AutoLayout';\n    return AutoLayout;\n}());\nexport { AutoLayout };\n"],
  "mappings": "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",
  "names": []
}
