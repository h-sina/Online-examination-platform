{
  "version": 3,
  "sources": ["../../tinymce/plugins/autolink/plugin.js", "../../tinymce/plugins/autolink/index.js", "dep:tinymce_plugins_autolink"],
  "sourcesContent": ["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.3 (2022-02-09)\n */\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var checkRange = function (str, substr, start) {\n      return substr === '' || str.length >= substr.length && str.substr(start, start + substr.length) === substr;\n    };\n    var contains = function (str, substr) {\n      return str.indexOf(substr) !== -1;\n    };\n    var startsWith = function (str, prefix) {\n      return checkRange(str, prefix, 0);\n    };\n\n    var global = tinymce.util.Tools.resolve('tinymce.Env');\n\n    var link = function () {\n      return /(?:[A-Za-z][A-Za-z\\d.+-]{0,14}:\\/\\/(?:[-.~*+=!&;:'%@?^${}(),\\w]+@)?|www\\.|[-;:&=+$,.\\w]+@)[A-Za-z\\d-]+(?:\\.[A-Za-z\\d-]+)*(?::\\d+)?(?:\\/(?:[-+~=.,%()\\/\\w]*[-+~=%()\\/\\w])?)?(?:\\?(?:[-.~*+=!&;:'%@?^${}(),\\/\\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\\/\\w]+))?/g;\n    };\n\n    var defaultLinkPattern = new RegExp('^' + link().source + '$', 'i');\n    var getAutoLinkPattern = function (editor) {\n      return editor.getParam('autolink_pattern', defaultLinkPattern);\n    };\n    var getDefaultLinkTarget = function (editor) {\n      return editor.getParam('default_link_target', false);\n    };\n    var getDefaultLinkProtocol = function (editor) {\n      return editor.getParam('link_default_protocol', 'http', 'string');\n    };\n\n    var rangeEqualsBracketOrSpace = function (rangeString) {\n      return /^[(\\[{ \\u00a0]$/.test(rangeString);\n    };\n    var isTextNode = function (node) {\n      return node.nodeType === 3;\n    };\n    var isElement = function (node) {\n      return node.nodeType === 1;\n    };\n    var handleBracket = function (editor) {\n      return parseCurrentLine(editor, -1);\n    };\n    var handleSpacebar = function (editor) {\n      return parseCurrentLine(editor, 0);\n    };\n    var handleEnter = function (editor) {\n      return parseCurrentLine(editor, -1);\n    };\n    var scopeIndex = function (container, index) {\n      if (index < 0) {\n        index = 0;\n      }\n      if (isTextNode(container)) {\n        var len = container.data.length;\n        if (index > len) {\n          index = len;\n        }\n      }\n      return index;\n    };\n    var setStart = function (rng, container, offset) {\n      if (!isElement(container) || container.hasChildNodes()) {\n        rng.setStart(container, scopeIndex(container, offset));\n      } else {\n        rng.setStartBefore(container);\n      }\n    };\n    var setEnd = function (rng, container, offset) {\n      if (!isElement(container) || container.hasChildNodes()) {\n        rng.setEnd(container, scopeIndex(container, offset));\n      } else {\n        rng.setEndAfter(container);\n      }\n    };\n    var hasProtocol = function (url) {\n      return /^([A-Za-z][A-Za-z\\d.+-]*:\\/\\/)|mailto:/.test(url);\n    };\n    var isPunctuation = function (char) {\n      return /[?!,.;:]/.test(char);\n    };\n    var parseCurrentLine = function (editor, endOffset) {\n      var end, endContainer, bookmark, text, prev, len, rngText;\n      var autoLinkPattern = getAutoLinkPattern(editor);\n      var defaultLinkTarget = getDefaultLinkTarget(editor);\n      if (editor.dom.getParent(editor.selection.getNode(), 'a[href]') !== null) {\n        return;\n      }\n      var rng = editor.selection.getRng().cloneRange();\n      if (rng.startOffset < 5) {\n        prev = rng.endContainer.previousSibling;\n        if (!prev) {\n          if (!rng.endContainer.firstChild || !rng.endContainer.firstChild.nextSibling) {\n            return;\n          }\n          prev = rng.endContainer.firstChild.nextSibling;\n        }\n        len = prev.length;\n        setStart(rng, prev, len);\n        setEnd(rng, prev, len);\n        if (rng.endOffset < 5) {\n          return;\n        }\n        end = rng.endOffset;\n        endContainer = prev;\n      } else {\n        endContainer = rng.endContainer;\n        if (!isTextNode(endContainer) && endContainer.firstChild) {\n          while (!isTextNode(endContainer) && endContainer.firstChild) {\n            endContainer = endContainer.firstChild;\n          }\n          if (isTextNode(endContainer)) {\n            setStart(rng, endContainer, 0);\n            setEnd(rng, endContainer, endContainer.nodeValue.length);\n          }\n        }\n        if (rng.endOffset === 1) {\n          end = 2;\n        } else {\n          end = rng.endOffset - 1 - endOffset;\n        }\n      }\n      var start = end;\n      do {\n        setStart(rng, endContainer, end >= 2 ? end - 2 : 0);\n        setEnd(rng, endContainer, end >= 1 ? end - 1 : 0);\n        end -= 1;\n        rngText = rng.toString();\n      } while (!rangeEqualsBracketOrSpace(rngText) && end - 2 >= 0);\n      if (rangeEqualsBracketOrSpace(rng.toString())) {\n        setStart(rng, endContainer, end);\n        setEnd(rng, endContainer, start);\n        end += 1;\n      } else if (rng.startOffset === 0) {\n        setStart(rng, endContainer, 0);\n        setEnd(rng, endContainer, start);\n      } else {\n        setStart(rng, endContainer, end);\n        setEnd(rng, endContainer, start);\n      }\n      text = rng.toString();\n      if (isPunctuation(text.charAt(text.length - 1))) {\n        setEnd(rng, endContainer, start - 1);\n      }\n      text = rng.toString().trim();\n      var matches = text.match(autoLinkPattern);\n      var protocol = getDefaultLinkProtocol(editor);\n      if (matches) {\n        var url = matches[0];\n        if (startsWith(url, 'www.')) {\n          url = protocol + '://' + url;\n        } else if (contains(url, '@') && !hasProtocol(url)) {\n          url = 'mailto:' + url;\n        }\n        bookmark = editor.selection.getBookmark();\n        editor.selection.setRng(rng);\n        editor.execCommand('createlink', false, url);\n        if (defaultLinkTarget !== false) {\n          editor.dom.setAttrib(editor.selection.getNode(), 'target', defaultLinkTarget);\n        }\n        editor.selection.moveToBookmark(bookmark);\n        editor.nodeChanged();\n      }\n    };\n    var setup = function (editor) {\n      var autoUrlDetectState;\n      editor.on('keydown', function (e) {\n        if (e.keyCode === 13) {\n          return handleEnter(editor);\n        }\n      });\n      if (global.browser.isIE()) {\n        editor.on('focus', function () {\n          if (!autoUrlDetectState) {\n            autoUrlDetectState = true;\n            try {\n              editor.execCommand('AutoUrlDetect', false, true);\n            } catch (ex) {\n            }\n          }\n        });\n        return;\n      }\n      editor.on('keypress', function (e) {\n        if (e.keyCode === 41 || e.keyCode === 93 || e.keyCode === 125) {\n          return handleBracket(editor);\n        }\n      });\n      editor.on('keyup', function (e) {\n        if (e.keyCode === 32) {\n          return handleSpacebar(editor);\n        }\n      });\n    };\n\n    function Plugin () {\n      global$1.add('autolink', function (editor) {\n        setup(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n", "// Exports the \"autolink\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/autolink')\n//   ES2015:\n//     import 'tinymce/plugins/autolink'\nrequire('./plugin.js');", "export default require(\"./node_modules/tinymce/plugins/autolink/index.js\");"],
  "mappings": "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",
  "names": []
}
