{
  "version": 3,
  "sources": ["../../tinymce/plugins/noneditable/plugin.js", "../../tinymce/plugins/noneditable/index.js", "dep:tinymce_plugins_noneditable"],
  "sourcesContent": ["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.10.3 (2022-02-09)\n */\n(function () {\n    'use strict';\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var global = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getNonEditableClass = function (editor) {\n      return editor.getParam('noneditable_noneditable_class', 'mceNonEditable');\n    };\n    var getEditableClass = function (editor) {\n      return editor.getParam('noneditable_editable_class', 'mceEditable');\n    };\n    var getNonEditableRegExps = function (editor) {\n      var nonEditableRegExps = editor.getParam('noneditable_regexp', []);\n      if (nonEditableRegExps && nonEditableRegExps.constructor === RegExp) {\n        return [nonEditableRegExps];\n      } else {\n        return nonEditableRegExps;\n      }\n    };\n\n    var hasClass = function (checkClassName) {\n      return function (node) {\n        return (' ' + node.attr('class') + ' ').indexOf(checkClassName) !== -1;\n      };\n    };\n    var replaceMatchWithSpan = function (editor, content, cls) {\n      return function (match) {\n        var args = arguments, index = args[args.length - 2];\n        var prevChar = index > 0 ? content.charAt(index - 1) : '';\n        if (prevChar === '\"') {\n          return match;\n        }\n        if (prevChar === '>') {\n          var findStartTagIndex = content.lastIndexOf('<', index);\n          if (findStartTagIndex !== -1) {\n            var tagHtml = content.substring(findStartTagIndex, index);\n            if (tagHtml.indexOf('contenteditable=\"false\"') !== -1) {\n              return match;\n            }\n          }\n        }\n        return '<span class=\"' + cls + '\" data-mce-content=\"' + editor.dom.encode(args[0]) + '\">' + editor.dom.encode(typeof args[1] === 'string' ? args[1] : args[0]) + '</span>';\n      };\n    };\n    var convertRegExpsToNonEditable = function (editor, nonEditableRegExps, e) {\n      var i = nonEditableRegExps.length, content = e.content;\n      if (e.format === 'raw') {\n        return;\n      }\n      while (i--) {\n        content = content.replace(nonEditableRegExps[i], replaceMatchWithSpan(editor, content, getNonEditableClass(editor)));\n      }\n      e.content = content;\n    };\n    var setup = function (editor) {\n      var contentEditableAttrName = 'contenteditable';\n      var editClass = ' ' + global.trim(getEditableClass(editor)) + ' ';\n      var nonEditClass = ' ' + global.trim(getNonEditableClass(editor)) + ' ';\n      var hasEditClass = hasClass(editClass);\n      var hasNonEditClass = hasClass(nonEditClass);\n      var nonEditableRegExps = getNonEditableRegExps(editor);\n      editor.on('PreInit', function () {\n        if (nonEditableRegExps.length > 0) {\n          editor.on('BeforeSetContent', function (e) {\n            convertRegExpsToNonEditable(editor, nonEditableRegExps, e);\n          });\n        }\n        editor.parser.addAttributeFilter('class', function (nodes) {\n          var i = nodes.length, node;\n          while (i--) {\n            node = nodes[i];\n            if (hasEditClass(node)) {\n              node.attr(contentEditableAttrName, 'true');\n            } else if (hasNonEditClass(node)) {\n              node.attr(contentEditableAttrName, 'false');\n            }\n          }\n        });\n        editor.serializer.addAttributeFilter(contentEditableAttrName, function (nodes) {\n          var i = nodes.length, node;\n          while (i--) {\n            node = nodes[i];\n            if (!hasEditClass(node) && !hasNonEditClass(node)) {\n              continue;\n            }\n            if (nonEditableRegExps.length > 0 && node.attr('data-mce-content')) {\n              node.name = '#text';\n              node.type = 3;\n              node.raw = true;\n              node.value = node.attr('data-mce-content');\n            } else {\n              node.attr(contentEditableAttrName, null);\n            }\n          }\n        });\n      });\n    };\n\n    function Plugin () {\n      global$1.add('noneditable', function (editor) {\n        setup(editor);\n      });\n    }\n\n    Plugin();\n\n}());\n", "// Exports the \"noneditable\" plugin for usage with module loaders\n// Usage:\n//   CommonJS:\n//     require('tinymce/plugins/noneditable')\n//   ES2015:\n//     import 'tinymce/plugins/noneditable'\nrequire('./plugin.js');", "export default require(\"./node_modules/tinymce/plugins/noneditable/index.js\");"],
  "mappings": "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",
  "names": []
}
